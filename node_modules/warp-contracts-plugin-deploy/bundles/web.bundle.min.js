var Ene=Object.create;var Op=Object.defineProperty;var Sne=Object.getOwnPropertyDescriptor;var Ane=Object.getOwnPropertyNames;var Mne=Object.getPrototypeOf,Tne=Object.prototype.hasOwnProperty;var One=(t,e,r)=>e in t?Op(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var cR=(t,e)=>()=>(t&&(e=t(t=0)),e);var ee=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ip=(t,e)=>{for(var r in e)Op(t,r,{get:e[r],enumerable:!0})},lR=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ane(e))!Tne.call(t,i)&&i!==r&&Op(t,i,{get:()=>e[i],enumerable:!(n=Sne(e,i))||n.enumerable});return t};var xt=(t,e,r)=>(r=t!=null?Ene(Mne(t)):{},lR(e||!t||!t.__esModule?Op(r,"default",{value:t,enumerable:!0}):r,t)),hR=t=>lR(Op({},"__esModule",{value:!0}),t);var Hn=(t,e,r)=>(One(t,typeof e!="symbol"?e+"":e,r),r);var Rp=ee(Jy=>{"use strict";x();Jy.byteLength=Rne;Jy.toByteArray=Cne;Jy.fromByteArray=Nne;var Zo=[],ba=[],Ine=typeof Uint8Array<"u"?Uint8Array:Array,d3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Rc=0,dR=d3.length;Rc<dR;++Rc)Zo[Rc]=d3[Rc],ba[d3.charCodeAt(Rc)]=Rc;var Rc,dR;ba["-".charCodeAt(0)]=62;ba["_".charCodeAt(0)]=63;function pR(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Rne(t){var e=pR(t),r=e[0],n=e[1];return(r+n)*3/4-n}function kne(t,e,r){return(e+r)*3/4-r}function Cne(t){var e,r=pR(t),n=r[0],i=r[1],a=new Ine(kne(t,n,i)),s=0,f=i>0?n-4:n,l;for(l=0;l<f;l+=4)e=ba[t.charCodeAt(l)]<<18|ba[t.charCodeAt(l+1)]<<12|ba[t.charCodeAt(l+2)]<<6|ba[t.charCodeAt(l+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=ba[t.charCodeAt(l)]<<2|ba[t.charCodeAt(l+1)]>>4,a[s++]=e&255),i===1&&(e=ba[t.charCodeAt(l)]<<10|ba[t.charCodeAt(l+1)]<<4|ba[t.charCodeAt(l+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function Bne(t){return Zo[t>>18&63]+Zo[t>>12&63]+Zo[t>>6&63]+Zo[t&63]}function Pne(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(Bne(n));return i.join("")}function Nne(t){for(var e,r=t.length,n=r%3,i=[],a=16383,s=0,f=r-n;s<f;s+=a)i.push(Pne(t,s,s+a>f?f:s+a));return n===1?(e=t[r-1],i.push(Zo[e>>2]+Zo[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Zo[e>>10]+Zo[e>>4&63]+Zo[e<<2&63]+"=")),i.join("")}});var gR=ee(p3=>{x();p3.read=function(t,e,r,n,i){var a,s,f=i*8-n-1,l=(1<<f)-1,g=l>>1,m=-7,A=r?i-1:0,I=r?-1:1,T=t[e+A];for(A+=I,a=T&(1<<-m)-1,T>>=-m,m+=f;m>0;a=a*256+t[e+A],A+=I,m-=8);for(s=a&(1<<-m)-1,a>>=-m,m+=n;m>0;s=s*256+t[e+A],A+=I,m-=8);if(a===0)a=1-g;else{if(a===l)return s?NaN:(T?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-g}return(T?-1:1)*s*Math.pow(2,a-n)};p3.write=function(t,e,r,n,i,a){var s,f,l,g=a*8-i-1,m=(1<<g)-1,A=m>>1,I=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=n?0:a-1,O=n?1:-1,U=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,s=m):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+A>=1?e+=I/l:e+=I*Math.pow(2,1-A),e*l>=2&&(s++,l/=2),s+A>=m?(f=0,s=m):s+A>=1?(f=(e*l-1)*Math.pow(2,i),s=s+A):(f=e*Math.pow(2,A-1)*Math.pow(2,i),s=0));i>=8;t[r+T]=f&255,T+=O,f/=256,i-=8);for(s=s<<i|f,g+=i;g>0;t[r+T]=s&255,T+=O,s/=256,g-=8);t[r+T-O]|=U*128}});var Sr=ee(jh=>{"use strict";x();var g3=Rp(),Fh=gR(),vR=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;jh.Buffer=Ye;jh.SlowBuffer=jne;jh.INSPECT_MAX_BYTES=50;var Yy=2147483647;jh.kMaxLength=Yy;Ye.TYPED_ARRAY_SUPPORT=Lne();!Ye.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Lne(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(Ye.prototype,"parent",{enumerable:!0,get:function(){if(!!Ye.isBuffer(this))return this.buffer}});Object.defineProperty(Ye.prototype,"offset",{enumerable:!0,get:function(){if(!!Ye.isBuffer(this))return this.byteOffset}});function Gs(t){if(t>Yy)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,Ye.prototype),e}function Ye(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b3(t)}return bR(t,e,r)}Ye.poolSize=8192;function bR(t,e,r){if(typeof t=="string")return qne(t,e);if(ArrayBuffer.isView(t))return Une(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Jo(t,ArrayBuffer)||t&&Jo(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Jo(t,SharedArrayBuffer)||t&&Jo(t.buffer,SharedArrayBuffer)))return y3(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return Ye.from(n,e,r);var i=Fne(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return Ye.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}Ye.from=function(t,e,r){return bR(t,e,r)};Object.setPrototypeOf(Ye.prototype,Uint8Array.prototype);Object.setPrototypeOf(Ye,Uint8Array);function wR(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Dne(t,e,r){return wR(t),t<=0?Gs(t):e!==void 0?typeof r=="string"?Gs(t).fill(e,r):Gs(t).fill(e):Gs(t)}Ye.alloc=function(t,e,r){return Dne(t,e,r)};function b3(t){return wR(t),Gs(t<0?0:w3(t)|0)}Ye.allocUnsafe=function(t){return b3(t)};Ye.allocUnsafeSlow=function(t){return b3(t)};function qne(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Ye.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=xR(t,e)|0,n=Gs(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function v3(t){for(var e=t.length<0?0:w3(t.length)|0,r=Gs(e),n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Une(t){if(Jo(t,Uint8Array)){var e=new Uint8Array(t);return y3(e.buffer,e.byteOffset,e.byteLength)}return v3(t)}function y3(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,Ye.prototype),n}function Fne(t){if(Ye.isBuffer(t)){var e=w3(t.length)|0,r=Gs(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||x3(t.length)?Gs(0):v3(t);if(t.type==="Buffer"&&Array.isArray(t.data))return v3(t.data)}function w3(t){if(t>=Yy)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Yy.toString(16)+" bytes");return t|0}function jne(t){return+t!=t&&(t=0),Ye.alloc(+t)}Ye.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Ye.prototype};Ye.compare=function(e,r){if(Jo(e,Uint8Array)&&(e=Ye.from(e,e.offset,e.byteLength)),Jo(r,Uint8Array)&&(r=Ye.from(r,r.offset,r.byteLength)),!Ye.isBuffer(e)||!Ye.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,a=0,s=Math.min(n,i);a<s;++a)if(e[a]!==r[a]){n=e[a],i=r[a];break}return n<i?-1:i<n?1:0};Ye.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Ye.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Ye.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=Ye.allocUnsafe(r),a=0;for(n=0;n<e.length;++n){var s=e[n];if(Jo(s,Uint8Array))a+s.length>i.length?Ye.from(s).copy(i,a):Uint8Array.prototype.set.call(i,s,a);else if(Ye.isBuffer(s))s.copy(i,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=s.length}return i};function xR(t,e){if(Ye.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Jo(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return m3(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return TR(t).length;default:if(i)return n?-1:m3(t).length;e=(""+e).toLowerCase(),i=!0}}Ye.byteLength=xR;function zne(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Xne(this,e,r);case"utf8":case"utf-8":return ER(this,e,r);case"ascii":return Jne(this,e,r);case"latin1":case"binary":return Yne(this,e,r);case"base64":return Vne(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Qne(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}Ye.prototype._isBuffer=!0;function kc(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}Ye.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)kc(this,r,r+1);return this};Ye.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)kc(this,r,r+3),kc(this,r+1,r+2);return this};Ye.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)kc(this,r,r+7),kc(this,r+1,r+6),kc(this,r+2,r+5),kc(this,r+3,r+4);return this};Ye.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?ER(this,0,e):zne.apply(this,arguments)};Ye.prototype.toLocaleString=Ye.prototype.toString;Ye.prototype.equals=function(e){if(!Ye.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Ye.compare(this,e)===0};Ye.prototype.inspect=function(){var e="",r=jh.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};vR&&(Ye.prototype[vR]=Ye.prototype.inspect);Ye.prototype.compare=function(e,r,n,i,a){if(Jo(e,Uint8Array)&&(e=Ye.from(e,e.offset,e.byteLength)),!Ye.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),r<0||n>e.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&r>=n)return 0;if(i>=a)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,a>>>=0,this===e)return 0;for(var s=a-i,f=n-r,l=Math.min(s,f),g=this.slice(i,a),m=e.slice(r,n),A=0;A<l;++A)if(g[A]!==m[A]){s=g[A],f=m[A];break}return s<f?-1:f<s?1:0};function _R(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,x3(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=Ye.from(e,n)),Ye.isBuffer(e))return e.length===0?-1:yR(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):yR(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function yR(t,e,r,n,i){var a=1,s=t.length,f=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;a=2,s/=2,f/=2,r/=2}function l(T,O){return a===1?T[O]:T.readUInt16BE(O*a)}var g;if(i){var m=-1;for(g=r;g<s;g++)if(l(t,g)===l(e,m===-1?0:g-m)){if(m===-1&&(m=g),g-m+1===f)return m*a}else m!==-1&&(g-=g-m),m=-1}else for(r+f>s&&(r=s-f),g=r;g>=0;g--){for(var A=!0,I=0;I<f;I++)if(l(t,g+I)!==l(e,I)){A=!1;break}if(A)return g}return-1}Ye.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};Ye.prototype.indexOf=function(e,r,n){return _R(this,e,r,n,!0)};Ye.prototype.lastIndexOf=function(e,r,n){return _R(this,e,r,n,!1)};function Kne(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=e.length;n>a/2&&(n=a/2);for(var s=0;s<n;++s){var f=parseInt(e.substr(s*2,2),16);if(x3(f))return s;t[r+s]=f}return s}function Wne(t,e,r,n){return Xy(m3(e,t.length-r),t,r,n)}function Gne(t,e,r,n){return Xy(rie(e),t,r,n)}function Hne(t,e,r,n){return Xy(TR(e),t,r,n)}function $ne(t,e,r,n){return Xy(nie(e,t.length-r),t,r,n)}Ye.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a=this.length-r;if((n===void 0||n>a)&&(n=a),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return Kne(this,e,r,n);case"utf8":case"utf-8":return Wne(this,e,r,n);case"ascii":case"latin1":case"binary":return Gne(this,e,r,n);case"base64":return Hne(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $ne(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};Ye.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Vne(t,e,r){return e===0&&r===t.length?g3.fromByteArray(t):g3.fromByteArray(t.slice(e,r))}function ER(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a=t[i],s=null,f=a>239?4:a>223?3:a>191?2:1;if(i+f<=r){var l,g,m,A;switch(f){case 1:a<128&&(s=a);break;case 2:l=t[i+1],(l&192)===128&&(A=(a&31)<<6|l&63,A>127&&(s=A));break;case 3:l=t[i+1],g=t[i+2],(l&192)===128&&(g&192)===128&&(A=(a&15)<<12|(l&63)<<6|g&63,A>2047&&(A<55296||A>57343)&&(s=A));break;case 4:l=t[i+1],g=t[i+2],m=t[i+3],(l&192)===128&&(g&192)===128&&(m&192)===128&&(A=(a&15)<<18|(l&63)<<12|(g&63)<<6|m&63,A>65535&&A<1114112&&(s=A))}}s===null?(s=65533,f=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=f}return Zne(n)}var mR=4096;function Zne(t){var e=t.length;if(e<=mR)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=mR));return r}function Jne(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function Yne(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Xne(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=iie[t[a]];return i}function Qne(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+n[a+1]*256);return i}Ye.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i=this.subarray(e,r);return Object.setPrototypeOf(i,Ye.prototype),i};function Rn(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}Ye.prototype.readUintLE=Ye.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Rn(e,r,this.length);for(var i=this[e],a=1,s=0;++s<r&&(a*=256);)i+=this[e+s]*a;return i};Ye.prototype.readUintBE=Ye.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Rn(e,r,this.length);for(var i=this[e+--r],a=1;r>0&&(a*=256);)i+=this[e+--r]*a;return i};Ye.prototype.readUint8=Ye.prototype.readUInt8=function(e,r){return e=e>>>0,r||Rn(e,1,this.length),this[e]};Ye.prototype.readUint16LE=Ye.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Rn(e,2,this.length),this[e]|this[e+1]<<8};Ye.prototype.readUint16BE=Ye.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Rn(e,2,this.length),this[e]<<8|this[e+1]};Ye.prototype.readUint32LE=Ye.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Rn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Ye.prototype.readUint32BE=Ye.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Rn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Ye.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Rn(e,r,this.length);for(var i=this[e],a=1,s=0;++s<r&&(a*=256);)i+=this[e+s]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*r)),i};Ye.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Rn(e,r,this.length);for(var i=r,a=1,s=this[e+--i];i>0&&(a*=256);)s+=this[e+--i]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*r)),s};Ye.prototype.readInt8=function(e,r){return e=e>>>0,r||Rn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Ye.prototype.readInt16LE=function(e,r){e=e>>>0,r||Rn(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};Ye.prototype.readInt16BE=function(e,r){e=e>>>0,r||Rn(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};Ye.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Rn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Ye.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Rn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Ye.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Rn(e,4,this.length),Fh.read(this,e,!0,23,4)};Ye.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Rn(e,4,this.length),Fh.read(this,e,!1,23,4)};Ye.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Rn(e,8,this.length),Fh.read(this,e,!0,52,8)};Ye.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Rn(e,8,this.length),Fh.read(this,e,!1,52,8)};function ki(t,e,r,n,i,a){if(!Ye.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}Ye.prototype.writeUintLE=Ye.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var a=Math.pow(2,8*n)-1;ki(this,e,r,n,a,0)}var s=1,f=0;for(this[r]=e&255;++f<n&&(s*=256);)this[r+f]=e/s&255;return r+n};Ye.prototype.writeUintBE=Ye.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var a=Math.pow(2,8*n)-1;ki(this,e,r,n,a,0)}var s=n-1,f=1;for(this[r+s]=e&255;--s>=0&&(f*=256);)this[r+s]=e/f&255;return r+n};Ye.prototype.writeUint8=Ye.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||ki(this,e,r,1,255,0),this[r]=e&255,r+1};Ye.prototype.writeUint16LE=Ye.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||ki(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};Ye.prototype.writeUint16BE=Ye.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||ki(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};Ye.prototype.writeUint32LE=Ye.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||ki(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};Ye.prototype.writeUint32BE=Ye.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||ki(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};Ye.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var a=Math.pow(2,8*n-1);ki(this,e,r,n,a-1,-a)}var s=0,f=1,l=0;for(this[r]=e&255;++s<n&&(f*=256);)e<0&&l===0&&this[r+s-1]!==0&&(l=1),this[r+s]=(e/f>>0)-l&255;return r+n};Ye.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var a=Math.pow(2,8*n-1);ki(this,e,r,n,a-1,-a)}var s=n-1,f=1,l=0;for(this[r+s]=e&255;--s>=0&&(f*=256);)e<0&&l===0&&this[r+s+1]!==0&&(l=1),this[r+s]=(e/f>>0)-l&255;return r+n};Ye.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||ki(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};Ye.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||ki(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};Ye.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||ki(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};Ye.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||ki(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};Ye.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||ki(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function SR(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function AR(t,e,r,n,i){return e=+e,r=r>>>0,i||SR(t,e,r,4,34028234663852886e22,-34028234663852886e22),Fh.write(t,e,r,n,23,4),r+4}Ye.prototype.writeFloatLE=function(e,r,n){return AR(this,e,r,!0,n)};Ye.prototype.writeFloatBE=function(e,r,n){return AR(this,e,r,!1,n)};function MR(t,e,r,n,i){return e=+e,r=r>>>0,i||SR(t,e,r,8,17976931348623157e292,-17976931348623157e292),Fh.write(t,e,r,n,52,8),r+8}Ye.prototype.writeDoubleLE=function(e,r,n){return MR(this,e,r,!0,n)};Ye.prototype.writeDoubleBE=function(e,r,n){return MR(this,e,r,!1,n)};Ye.prototype.copy=function(e,r,n,i){if(!Ye.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var a=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),a};Ye.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!Ye.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){var a=e.charCodeAt(0);(i==="utf8"&&a<128||i==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{var f=Ye.isBuffer(e)?e:Ye.from(e,i),l=f.length;if(l===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=f[s%l]}return this};var eie=/[^+/0-9A-Za-z-_]/g;function tie(t){if(t=t.split("=")[0],t=t.trim().replace(eie,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function m3(t,e){e=e||1/0;for(var r,n=t.length,i=null,a=[],s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function rie(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function nie(t,e){for(var r,n,i,a=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function TR(t){return g3.toByteArray(tie(t))}function Xy(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Jo(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function x3(t){return t!==t}var iie=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=r*16,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()});var CR=ee((aTe,kR)=>{x();var dn=kR.exports={},Yo,Xo;function _3(){throw new Error("setTimeout has not been defined")}function E3(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Yo=setTimeout:Yo=_3}catch{Yo=_3}try{typeof clearTimeout=="function"?Xo=clearTimeout:Xo=E3}catch{Xo=E3}})();function OR(t){if(Yo===setTimeout)return setTimeout(t,0);if((Yo===_3||!Yo)&&setTimeout)return Yo=setTimeout,setTimeout(t,0);try{return Yo(t,0)}catch{try{return Yo.call(null,t,0)}catch{return Yo.call(this,t,0)}}}function aie(t){if(Xo===clearTimeout)return clearTimeout(t);if((Xo===E3||!Xo)&&clearTimeout)return Xo=clearTimeout,clearTimeout(t);try{return Xo(t)}catch{try{return Xo.call(null,t)}catch{return Xo.call(this,t)}}}var Hs=[],zh=!1,Cc,Qy=-1;function oie(){!zh||!Cc||(zh=!1,Cc.length?Hs=Cc.concat(Hs):Qy=-1,Hs.length&&IR())}function IR(){if(!zh){var t=OR(oie);zh=!0;for(var e=Hs.length;e;){for(Cc=Hs,Hs=[];++Qy<e;)Cc&&Cc[Qy].run();Qy=-1,e=Hs.length}Cc=null,zh=!1,aie(t)}}dn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Hs.push(new RR(t,e)),Hs.length===1&&!zh&&OR(IR)};function RR(t,e){this.fun=t,this.array=e}RR.prototype.run=function(){this.fun.apply(null,this.array)};dn.title="browser";dn.browser=!0;dn.env={};dn.argv=[];dn.version="";dn.versions={};function $s(){}dn.on=$s;dn.addListener=$s;dn.once=$s;dn.off=$s;dn.removeListener=$s;dn.removeAllListeners=$s;dn.emit=$s;dn.prependListener=$s;dn.prependOnceListener=$s;dn.listeners=function(t){return[]};dn.binding=function(t){throw new Error("process.binding is not supported")};dn.cwd=function(){return"/"};dn.chdir=function(t){throw new Error("process.chdir is not supported")};dn.umask=function(){return 0}});var N,P,sie,D,x=cR(()=>{N=xt(Sr()),P=xt(CR()),sie=function(t){function e(){var n=this||self;return delete t.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object),D=sie});var Vs=ee((fTe,S3)=>{x();typeof window<"u"?(window.global=window,D.fetch=window.fetch,S3.exports={Buffer:Sr().Buffer,Crypto:window.crypto}):S3.exports={Buffer:Sr().Buffer,Crypto:crypto}});var A3=ee(Bc=>{"use strict";x();Object.defineProperty(Bc,"__esModule",{value:!0});Bc.lvlToOrder=Bc.LogLevelOrder=void 0;Bc.LogLevelOrder={silly:0,trace:1,debug:2,info:3,warn:4,error:5,fatal:6,none:7};function fie(t){return Bc.LogLevelOrder[t]}Bc.lvlToOrder=fie});var T3=ee(em=>{"use strict";x();Object.defineProperty(em,"__esModule",{value:!0});em.ConsoleLogger=void 0;var BR=A3(),M3=class{constructor(e,r){this.moduleName=e,this.settings=r}trace(e,...r){this.shouldLog("trace")&&console.debug(this.message("trace",e),r)}error(e,...r){this.shouldLog("error")&&console.error(this.message("error",e),r)}info(e,...r){this.shouldLog("info")&&console.info(this.message("info",e),r)}silly(e,...r){this.shouldLog("silly")&&console.debug(this.message("silly",e),r)}debug(e,...r){this.shouldLog("debug")&&console.debug(this.message("debug",e),r)}warn(e,...r){this.shouldLog("warn")&&console.warn(this.message("warn",e),r)}log(e,...r){this.shouldLog("info")&&console.info(this.message("info",e),r)}fatal(e,...r){this.shouldLog("fatal")&&console.error(this.message("fatal",e),r)}shouldLog(e){return(0,BR.lvlToOrder)(e)>=(0,BR.lvlToOrder)(this.settings.minLevel)}setSettings(e){this.settings=e}message(e,r){return`${new Date().toISOString()} ${e.toUpperCase()} [${this.moduleName}] ${r}`}};em.ConsoleLogger=M3});var I3=ee(tm=>{"use strict";x();Object.defineProperty(tm,"__esModule",{value:!0});tm.ConsoleLoggerFactory=void 0;var uie=T3(),O3=class{constructor(){this.registeredLoggers={},this.registeredOptions={},this.defOptions={minLevel:"info"},this.setOptions=this.setOptions.bind(this),this.getOptions=this.getOptions.bind(this),this.create=this.create.bind(this),this.logLevel=this.logLevel.bind(this)}setOptions(e,r){r?this.registeredLoggers[r]?this.registeredLoggers[r].setSettings({...this.registeredLoggers[r].settings,...e}):this.registeredOptions[r]={...this.defOptions,...e}:(this.defOptions=e,Object.keys(this.registeredLoggers).forEach(n=>{this.registeredLoggers[n].setSettings({...this.registeredLoggers[n].settings,...e})}))}getOptions(e){return e?this.registeredLoggers[e]?this.registeredLoggers[e].settings:this.registeredOptions[e]?this.registeredOptions[e]:this.defOptions:this.defOptions}logLevel(e,r){this.setOptions({minLevel:e},r)}create(e="SWC"){return Object.prototype.hasOwnProperty.call(this.registeredLoggers,e)||(this.registeredLoggers[e]=new uie.ConsoleLogger(e,this.getOptions(e))),this.registeredLoggers[e]}};tm.ConsoleLoggerFactory=O3});var NR=ee(PR=>{"use strict";x();Object.defineProperty(PR,"__esModule",{value:!0})});var Zr=ee(rm=>{"use strict";x();Object.defineProperty(rm,"__esModule",{value:!0});rm.LoggerFactory=void 0;var cie=I3(),Qo=class{constructor(){}setOptions(e,r){Qo.INST.setOptions(e,r)}getOptions(e){return Qo.INST.getOptions(e)}logLevel(e,r){Qo.INST.logLevel(e,r)}create(e){return Qo.INST.create(e)}static use(e){Qo.INST=e}};rm.LoggerFactory=Qo;Qo.INST=new cie.ConsoleLoggerFactory});var wa=ee(nm=>{"use strict";x();Object.defineProperty(nm,"__esModule",{value:!0});nm.Benchmark=void 0;var kp=class{static measure(){return new kp}constructor(){this.start=Date.now(),this.end=null}reset(){this.start=Date.now(),this.end=null}stop(){this.end=Date.now()}elapsed(e=!1){this.end===null&&(this.end=Date.now());let r=this.end-this.start;return e?r:`${(this.end-this.start).toFixed(0)}ms`}};nm.Benchmark=kp});var DR=ee(LR=>{"use strict";x();Object.defineProperty(LR,"__esModule",{value:!0})});var Zs=ee(Kh=>{"use strict";x();Object.defineProperty(Kh,"__esModule",{value:!0});Kh.SortKeyCacheResult=Kh.CacheKey=void 0;var R3=class{constructor(e,r){this.key=e,this.sortKey=r}};Kh.CacheKey=R3;var k3=class{constructor(e,r){this.sortKey=e,this.cachedValue=r}};Kh.SortKeyCacheResult=k3});var UR=ee(qR=>{"use strict";x();Object.defineProperty(qR,"__esModule",{value:!0})});var jR=ee(FR=>{"use strict";x();FR.supports=function(...e){let r=e.reduce((n,i)=>Object.assign(n,i),{});return Object.assign(r,{snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,getMany:r.getMany||!1,keyIterator:r.keyIterator||!1,valueIterator:r.valueIterator||!1,iteratorNextv:r.iteratorNextv||!1,iteratorAll:r.iteratorAll||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:Object.assign({},r.encodings),events:Object.assign({},r.events),additionalMethods:Object.assign({},r.additionalMethods)})}});var xa=ee((kTe,zR)=>{"use strict";x();zR.exports=class extends Error{constructor(e,r){super(e||""),typeof r=="object"&&r!==null&&(r.code&&(this.code=String(r.code)),r.expected&&(this.expected=!0),r.transient&&(this.transient=!0),r.cause&&(this.cause=r.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}});var B3=ee((BTe,KR)=>{"use strict";x();var C3=null;KR.exports=function(){return C3===null&&(C3={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),C3}});var L3=ee(WR=>{"use strict";x();var P3=xa(),lie=new Set(["buffer","view","utf8"]),N3=class{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!lie.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new P3(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new P3(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new P3(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};WR.Encoding=N3});var F3=ee(im=>{"use strict";x();var{Buffer:q3}=Sr()||{},{Encoding:U3}=L3(),hie=B3(),Cp=class extends U3{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new Bp({encode:this.encode,decode:e=>this.decode(q3.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},Bp=class extends U3{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new Cp({encode:e=>{let r=this.encode(e);return q3.from(r.buffer,r.byteOffset,r.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},D3=class extends U3{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new Cp({encode:e=>q3.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:e,textDecoder:r}=hie();return new Bp({encode:n=>e.encode(this.encode(n)),decode:n=>this.decode(r.decode(n)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};im.BufferFormat=Cp;im.ViewFormat=Bp;im.UTF8Format=D3});var VR=ee(Pc=>{"use strict";x();var{Buffer:ii}=Sr()||{Buffer:{isBuffer:()=>!1}},{textEncoder:HR,textDecoder:GR}=B3()(),{BufferFormat:Pp,ViewFormat:j3,UTF8Format:$R}=F3(),am=t=>t;Pc.utf8=new $R({encode:function(t){return ii.isBuffer(t)?t.toString("utf8"):ArrayBuffer.isView(t)?GR.decode(t):String(t)},decode:am,name:"utf8",createViewTranscoder(){return new j3({encode:function(t){return ArrayBuffer.isView(t)?t:HR.encode(t)},decode:function(t){return GR.decode(t)},name:`${this.name}+view`})},createBufferTranscoder(){return new Pp({encode:function(t){return ii.isBuffer(t)?t:ArrayBuffer.isView(t)?ii.from(t.buffer,t.byteOffset,t.byteLength):ii.from(String(t),"utf8")},decode:function(t){return t.toString("utf8")},name:`${this.name}+buffer`})}});Pc.json=new $R({encode:JSON.stringify,decode:JSON.parse,name:"json"});Pc.buffer=new Pp({encode:function(t){return ii.isBuffer(t)?t:ArrayBuffer.isView(t)?ii.from(t.buffer,t.byteOffset,t.byteLength):ii.from(String(t),"utf8")},decode:am,name:"buffer",createViewTranscoder(){return new j3({encode:function(t){return ArrayBuffer.isView(t)?t:ii.from(String(t),"utf8")},decode:function(t){return ii.from(t.buffer,t.byteOffset,t.byteLength)},name:`${this.name}+view`})}});Pc.view=new j3({encode:function(t){return ArrayBuffer.isView(t)?t:HR.encode(t)},decode:am,name:"view",createBufferTranscoder(){return new Pp({encode:function(t){return ii.isBuffer(t)?t:ArrayBuffer.isView(t)?ii.from(t.buffer,t.byteOffset,t.byteLength):ii.from(String(t),"utf8")},decode:am,name:`${this.name}+buffer`})}});Pc.hex=new Pp({encode:function(t){return ii.isBuffer(t)?t:ii.from(String(t),"hex")},decode:function(t){return t.toString("hex")},name:"hex"});Pc.base64=new Pp({encode:function(t){return ii.isBuffer(t)?t:ii.from(String(t),"base64")},decode:function(t){return t.toString("base64")},name:"base64"})});var YR=ee(JR=>{"use strict";x();var ZR=xa(),sm=VR(),{Encoding:die}=L3(),{BufferFormat:pie,ViewFormat:gie,UTF8Format:vie}=F3(),Np=Symbol("formats"),om=Symbol("encodings"),yie=new Set(["buffer","view","utf8"]),z3=class{constructor(e){if(Array.isArray(e)){if(!e.every(r=>yie.has(r)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[om]=new Map,this[Np]=new Set(e);for(let r in sm)try{this.encoding(r)}catch(n){if(n.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw n}}encodings(){return Array.from(new Set(this[om].values()))}encoding(e){let r=this[om].get(e);if(r===void 0){if(typeof e=="string"&&e!==""){if(r=xie[e],!r)throw new ZR(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof e!="object"||e===null)throw new TypeError("First argument 'encoding' must be a string or object");r=mie(e)}let{name:n,format:i}=r;if(!this[Np].has(i))if(this[Np].has("view"))r=r.createViewTranscoder();else if(this[Np].has("buffer"))r=r.createBufferTranscoder();else if(this[Np].has("utf8"))r=r.createUTF8Transcoder();else throw new ZR(`Encoding '${n}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(let a of[e,n,r.name,r.commonName])this[om].set(a,r)}return r}};JR.Transcoder=z3;function mie(t){if(t instanceof die)return t;let e="type"in t&&typeof t.type=="string"?t.type:void 0,r=t.name||e||`anonymous-${_ie++}`;switch(bie(t)){case"view":return new gie({...t,name:r});case"utf8":return new vie({...t,name:r});case"buffer":return new pie({...t,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function bie(t){return"format"in t&&t.format!==void 0?t.format:"buffer"in t&&typeof t.buffer=="boolean"?t.buffer?"buffer":"utf8":"code"in t&&Number.isInteger(t.code)?"view":"buffer"}var wie={binary:sm.buffer,"utf-8":sm.utf8},xie={...sm,...wie},_ie=0});var co=ee((KTe,K3)=>{"use strict";x();var Wh=typeof Reflect=="object"?Reflect:null,XR=Wh&&typeof Wh.apply=="function"?Wh.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},fm;Wh&&typeof Wh.ownKeys=="function"?fm=Wh.ownKeys:Object.getOwnPropertySymbols?fm=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:fm=function(e){return Object.getOwnPropertyNames(e)};function Eie(t){console&&console.warn&&console.warn(t)}var ek=Number.isNaN||function(e){return e!==e};function Ar(){Ar.init.call(this)}K3.exports=Ar;K3.exports.once=Tie;Ar.EventEmitter=Ar;Ar.prototype._events=void 0;Ar.prototype._eventsCount=0;Ar.prototype._maxListeners=void 0;var QR=10;function um(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Ar,"defaultMaxListeners",{enumerable:!0,get:function(){return QR},set:function(t){if(typeof t!="number"||t<0||ek(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");QR=t}});Ar.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ar.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||ek(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function tk(t){return t._maxListeners===void 0?Ar.defaultMaxListeners:t._maxListeners}Ar.prototype.getMaxListeners=function(){return tk(this)};Ar.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var f=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw f.context=s,f}var l=a[e];if(l===void 0)return!1;if(typeof l=="function")XR(l,this,r);else for(var g=l.length,m=ok(l,g),n=0;n<g;++n)XR(m[n],this,r);return!0};function rk(t,e,r,n){var i,a,s;if(um(r),a=t._events,a===void 0?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),s=a[e]),s===void 0)s=a[e]=r,++t._eventsCount;else if(typeof s=="function"?s=a[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=tk(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=s.length,Eie(f)}return t}Ar.prototype.addListener=function(e,r){return rk(this,e,r,!1)};Ar.prototype.on=Ar.prototype.addListener;Ar.prototype.prependListener=function(e,r){return rk(this,e,r,!0)};function Sie(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function nk(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Sie.bind(n);return i.listener=r,n.wrapFn=i,i}Ar.prototype.once=function(e,r){return um(r),this.on(e,nk(this,e,r)),this};Ar.prototype.prependOnceListener=function(e,r){return um(r),this.prependListener(e,nk(this,e,r)),this};Ar.prototype.removeListener=function(e,r){var n,i,a,s,f;if(um(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(a=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){f=n[s].listener,a=s;break}if(a<0)return this;a===0?n.shift():Aie(n,a),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,f||r)}return this};Ar.prototype.off=Ar.prototype.removeListener;Ar.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),s;for(i=0;i<a.length;++i)s=a[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function ik(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Mie(i):ok(i,i.length)}Ar.prototype.listeners=function(e){return ik(this,e,!0)};Ar.prototype.rawListeners=function(e){return ik(this,e,!1)};Ar.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):ak.call(t,e)};Ar.prototype.listenerCount=ak;function ak(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ar.prototype.eventNames=function(){return this._eventsCount>0?fm(this._events):[]};function ok(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Aie(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Mie(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Tie(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,a),n(s)}function a(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}sk(t,e,a,{once:!0}),e!=="error"&&Oie(t,i,{once:!0})})}function Oie(t,e,r){typeof t.on=="function"&&sk(t,"error",e,r)}function sk(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(a){n.once&&t.removeEventListener(e,i),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var uk=ee((GTe,fk)=>{x();fk.exports=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t)});var Lp=ee(W3=>{"use strict";x();var ck=uk();W3.fromCallback=function(t,e){if(t===void 0){var r=new Promise(function(n,i){t=function(a,s){a?i(a):n(s)}});t[e!==void 0?e:"promise"]=r}else if(typeof t!="function")throw new TypeError("Callback must be a function");return t};W3.fromPromise=function(t,e){if(e===void 0)return t;t.then(function(r){ck(()=>e(null,r))}).catch(function(r){ck(()=>e(r))})}});var cm=ee(G3=>{"use strict";x();G3.getCallback=function(t,e){return typeof t=="function"?t:e};G3.getOptions=function(t,e){return typeof t=="object"&&t!==null?t:e!==void 0?e:{}}});var Qf=ee(pm=>{"use strict";x();var{fromCallback:H3}=Lp(),Wi=xa(),{getOptions:$3,getCallback:lk}=cm(),Nc=Symbol("promise"),Gh=Symbol("callback"),es=Symbol("working"),Lc=Symbol("handleOne"),Js=Symbol("handleMany"),V3=Symbol("autoClose"),Yf=Symbol("finishWork"),ts=Symbol("returnMany"),Vf=Symbol("closing"),Dp=Symbol("handleClose"),lm=Symbol("closed"),qp=Symbol("closeCallbacks"),Jf=Symbol("keyEncoding"),Dc=Symbol("valueEncoding"),Z3=Symbol("abortOnClose"),hm=Symbol("legacy"),J3=Symbol("keys"),Y3=Symbol("values"),Zf=Symbol("limit"),_a=Symbol("count"),dm=Object.freeze({}),Iie=()=>{},hk=!1,Up=class{constructor(e,r,n){if(typeof e!="object"||e===null){let i=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${i}`)}if(typeof r!="object"||r===null)throw new TypeError("The second argument must be an options object");this[lm]=!1,this[qp]=[],this[es]=!1,this[Vf]=!1,this[V3]=!1,this[Gh]=null,this[Lc]=this[Lc].bind(this),this[Js]=this[Js].bind(this),this[Dp]=this[Dp].bind(this),this[Jf]=r[Jf],this[Dc]=r[Dc],this[hm]=n,this[Zf]=Number.isInteger(r.limit)&&r.limit>=0?r.limit:1/0,this[_a]=0,this[Z3]=!!r.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[_a]}get limit(){return this[Zf]}next(e){let r;if(e===void 0)r=new Promise((n,i)=>{e=(a,s,f)=>{a?i(a):this[hm]?s===void 0&&f===void 0?n():n([s,f]):n(s)}});else if(typeof e!="function")throw new TypeError("Callback must be a function");return this[Vf]?this.nextTick(e,new Wi("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[es]?this.nextTick(e,new Wi("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[es]=!0,this[Gh]=e,this[_a]>=this[Zf]?this.nextTick(this[Lc],null):this._next(this[Lc])),r}_next(e){this.nextTick(e)}nextv(e,r,n){return n=lk(r,n),n=H3(n,Nc),r=$3(r,dm),Number.isInteger(e)?(this[Vf]?this.nextTick(n,new Wi("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[es]?this.nextTick(n,new Wi("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[Zf]<1/0&&(e=Math.min(e,this[Zf]-this[_a])),this[es]=!0,this[Gh]=n,e<=0?this.nextTick(this[Js],null,[]):this._nextv(e,r,this[Js])),n[Nc]):(this.nextTick(n,new TypeError("The first argument 'size' must be an integer")),n[Nc])}_nextv(e,r,n){let i=[],a=(s,f,l)=>{if(s)return n(s);if(this[hm]?f===void 0&&l===void 0:f===void 0)return n(null,i);i.push(this[hm]?[f,l]:f),i.length===e?n(null,i):this._next(a)};this._next(a)}all(e,r){return r=lk(e,r),r=H3(r,Nc),e=$3(e,dm),this[Vf]?this.nextTick(r,new Wi("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[es]?this.nextTick(r,new Wi("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[es]=!0,this[Gh]=r,this[V3]=!0,this[_a]>=this[Zf]?this.nextTick(this[Js],null,[]):this._all(e,this[Js])),r[Nc]}_all(e,r){let n=this[_a],i=[],a=()=>{let f=this[Zf]<1/0?Math.min(1e3,this[Zf]-n):1e3;f<=0?this.nextTick(r,null,i):this._nextv(f,dm,s)},s=(f,l)=>{f?r(f):l.length===0?r(null,i):(i.push.apply(i,l),n+=l.length,a())};a()}[Yf](){let e=this[Gh];return this[Z3]&&e===null?Iie:(this[es]=!1,this[Gh]=null,this[Vf]&&this._close(this[Dp]),e)}[ts](e,r,n){this[V3]?this.close(e.bind(null,r,n)):e(r,n)}seek(e,r){if(r=$3(r,dm),!this[Vf]){if(this[es])throw new Wi("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{let n=this.db.keyEncoding(r.keyEncoding||this[Jf]),i=n.format;r.keyEncoding!==i&&(r={...r,keyEncoding:i});let a=this.db.prefixKey(n.encode(e),i);this._seek(a,r)}}}_seek(e,r){throw new Wi("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){return e=H3(e,Nc),this[lm]?this.nextTick(e):this[Vf]?this[qp].push(e):(this[Vf]=!0,this[qp].push(e),this[es]?this[Z3]&&this[Yf]()(new Wi("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[Dp])),e[Nc]}_close(e){this.nextTick(e)}[Dp](){this[lm]=!0,this.db.detachResource(this);let e=this[qp];this[qp]=[];for(let r of e)r()}async*[Symbol.asyncIterator](){try{let e;for(;(e=await this.next())!==void 0;)yield e}finally{this[lm]||await this.close()}}},Hh=class extends Up{constructor(e,r){super(e,r,!0),this[J3]=r.keys!==!1,this[Y3]=r.values!==!1}[Lc](e,r,n){let i=this[Yf]();if(e)return i(e);try{r=this[J3]&&r!==void 0?this[Jf].decode(r):void 0,n=this[Y3]&&n!==void 0?this[Dc].decode(n):void 0}catch(a){return i(new Xf("entry",a))}r===void 0&&n===void 0||this[_a]++,i(null,r,n)}[Js](e,r){let n=this[Yf]();if(e)return this[ts](n,e);try{for(let i of r){let a=i[0],s=i[1];i[0]=this[J3]&&a!==void 0?this[Jf].decode(a):void 0,i[1]=this[Y3]&&s!==void 0?this[Dc].decode(s):void 0}}catch(i){return this[ts](n,new Xf("entries",i))}this[_a]+=r.length,this[ts](n,null,r)}end(e){return!hk&&typeof console<"u"&&(hk=!0,console.warn(new Wi("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}},X3=class extends Up{constructor(e,r){super(e,r,!1)}[Lc](e,r){let n=this[Yf]();if(e)return n(e);try{r=r!==void 0?this[Jf].decode(r):void 0}catch(i){return n(new Xf("key",i))}r!==void 0&&this[_a]++,n(null,r)}[Js](e,r){let n=this[Yf]();if(e)return this[ts](n,e);try{for(let i=0;i<r.length;i++){let a=r[i];r[i]=a!==void 0?this[Jf].decode(a):void 0}}catch(i){return this[ts](n,new Xf("keys",i))}this[_a]+=r.length,this[ts](n,null,r)}},Q3=class extends Up{constructor(e,r){super(e,r,!1)}[Lc](e,r){let n=this[Yf]();if(e)return n(e);try{r=r!==void 0?this[Dc].decode(r):void 0}catch(i){return n(new Xf("value",i))}r!==void 0&&this[_a]++,n(null,r)}[Js](e,r){let n=this[Yf]();if(e)return this[ts](n,e);try{for(let i=0;i<r.length;i++){let a=r[i];r[i]=a!==void 0?this[Dc].decode(a):void 0}}catch(i){return this[ts](n,new Xf("values",i))}this[_a]+=r.length,this[ts](n,null,r)}},Xf=class extends Wi{constructor(e,r){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:r})}};for(let t of["_ended property","_nexting property","_end method"])Object.defineProperty(Hh.prototype,t.split(" ")[0],{get(){throw new Wi(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new Wi(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})}});Hh.keyEncoding=Jf;Hh.valueEncoding=Dc;pm.AbstractIterator=Hh;pm.AbstractKeyIterator=X3;pm.AbstractValueIterator=Q3});var dk=ee(e4=>{"use strict";x();var{AbstractKeyIterator:Rie,AbstractValueIterator:kie}=Qf(),qc=Symbol("iterator"),Fp=Symbol("callback"),$h=Symbol("handleOne"),Uc=Symbol("handleMany"),jp=class extends Rie{constructor(e,r){super(e,r),this[qc]=e.iterator({...r,keys:!0,values:!1}),this[$h]=this[$h].bind(this),this[Uc]=this[Uc].bind(this)}},gm=class extends kie{constructor(e,r){super(e,r),this[qc]=e.iterator({...r,keys:!1,values:!0}),this[$h]=this[$h].bind(this),this[Uc]=this[Uc].bind(this)}};for(let t of[jp,gm]){let e=t===jp,r=e?n=>n[0]:n=>n[1];t.prototype._next=function(n){this[Fp]=n,this[qc].next(this[$h])},t.prototype[$h]=function(n,i,a){let s=this[Fp];n?s(n):s(null,e?i:a)},t.prototype._nextv=function(n,i,a){this[Fp]=a,this[qc].nextv(n,i,this[Uc])},t.prototype._all=function(n,i){this[Fp]=i,this[qc].all(n,this[Uc])},t.prototype[Uc]=function(n,i){let a=this[Fp];n?a(n):a(null,i.map(r))},t.prototype._seek=function(n,i){this[qc].seek(n,i)},t.prototype._close=function(n){this[qc].close(n)}}e4.DefaultKeyIterator=jp;e4.DefaultValueIterator=gm});var pk=ee(xm=>{"use strict";x();var{AbstractIterator:Cie,AbstractKeyIterator:Bie,AbstractValueIterator:Pie}=Qf(),t4=xa(),Ci=Symbol("nut"),bm=Symbol("undefer"),wm=Symbol("factory"),vm=class extends Cie{constructor(e,r){super(e,r),this[Ci]=null,this[wm]=()=>e.iterator(r),this.db.defer(()=>this[bm]())}},ym=class extends Bie{constructor(e,r){super(e,r),this[Ci]=null,this[wm]=()=>e.keys(r),this.db.defer(()=>this[bm]())}},mm=class extends Pie{constructor(e,r){super(e,r),this[Ci]=null,this[wm]=()=>e.values(r),this.db.defer(()=>this[bm]())}};for(let t of[vm,ym,mm])t.prototype[bm]=function(){this.db.status==="open"&&(this[Ci]=this[wm]())},t.prototype._next=function(e){this[Ci]!==null?this[Ci].next(e):this.db.status==="opening"?this.db.defer(()=>this._next(e)):this.nextTick(e,new t4("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._nextv=function(e,r,n){this[Ci]!==null?this[Ci].nextv(e,r,n):this.db.status==="opening"?this.db.defer(()=>this._nextv(e,r,n)):this.nextTick(n,new t4("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._all=function(e,r){this[Ci]!==null?this[Ci].all(r):this.db.status==="opening"?this.db.defer(()=>this._all(e,r)):this.nextTick(r,new t4("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._seek=function(e,r){this[Ci]!==null?this[Ci]._seek(e,r):this.db.status==="opening"&&this.db.defer(()=>this._seek(e,r))},t.prototype._close=function(e){this[Ci]!==null?this[Ci].close(e):this.db.status==="opening"?this.db.defer(()=>this._close(e)):this.nextTick(e)};xm.DeferredIterator=vm;xm.DeferredKeyIterator=ym;xm.DeferredValueIterator=mm});var n4=ee(vk=>{"use strict";x();var{fromCallback:gk}=Lp(),_m=xa(),{getCallback:Nie,getOptions:Lie}=cm(),Em=Symbol("promise"),Ea=Symbol("status"),Vh=Symbol("operations"),zp=Symbol("finishClose"),Zh=Symbol("closeCallbacks"),r4=class{constructor(e){if(typeof e!="object"||e===null){let r=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${r}`)}this[Vh]=[],this[Zh]=[],this[Ea]="open",this[zp]=this[zp].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[Vh].length}put(e,r,n){if(this[Ea]!=="open")throw new _m("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let i=this.db._checkKey(e)||this.db._checkValue(r);if(i)throw i;let a=n&&n.sublevel!=null?n.sublevel:this.db,s=n,f=a.keyEncoding(n&&n.keyEncoding),l=a.valueEncoding(n&&n.valueEncoding),g=f.format;n={...n,keyEncoding:g,valueEncoding:l.format},a!==this.db&&(n.sublevel=null);let m=a.prefixKey(f.encode(e),g),A=l.encode(r);return this._put(m,A,n),this[Vh].push({...s,type:"put",key:e,value:r}),this}_put(e,r,n){}del(e,r){if(this[Ea]!=="open")throw new _m("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let n=this.db._checkKey(e);if(n)throw n;let i=r&&r.sublevel!=null?r.sublevel:this.db,a=r,s=i.keyEncoding(r&&r.keyEncoding),f=s.format;return r={...r,keyEncoding:f},i!==this.db&&(r.sublevel=null),this._del(i.prefixKey(s.encode(e),f),r),this[Vh].push({...a,type:"del",key:e}),this}_del(e,r){}clear(){if(this[Ea]!=="open")throw new _m("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[Vh]=[],this}_clear(){}write(e,r){return r=Nie(e,r),r=gk(r,Em),e=Lie(e),this[Ea]!=="open"?this.nextTick(r,new _m("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(r):(this[Ea]="writing",this._write(e,n=>{this[Ea]="closing",this[Zh].push(()=>r(n)),n||this.db.emit("batch",this[Vh]),this._close(this[zp])})),r[Em]}_write(e,r){}close(e){return e=gk(e,Em),this[Ea]==="closing"?this[Zh].push(e):this[Ea]==="closed"?this.nextTick(e):(this[Zh].push(e),this[Ea]!=="writing"&&(this[Ea]="closing",this._close(this[zp]))),e[Em]}_close(e){this.nextTick(e)}[zp](){this[Ea]="closed",this.db.detachResource(this);let e=this[Zh];this[Zh]=[];for(let r of e)r()}};vk.AbstractChainedBatch=r4});var mk=ee(yk=>{"use strict";x();var{AbstractChainedBatch:Die}=n4(),qie=xa(),Jh=Symbol("encoded"),i4=class extends Die{constructor(e){super(e),this[Jh]=[]}_put(e,r,n){this[Jh].push({...n,type:"put",key:e,value:r})}_del(e,r){this[Jh].push({...r,type:"del",key:e})}_clear(){this[Jh]=[]}_write(e,r){this.db.status==="opening"?this.db.defer(()=>this._write(e,r)):this.db.status==="open"?this[Jh].length===0?this.nextTick(r):this.db._batch(this[Jh],e,r):this.nextTick(r,new qie("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};yk.DefaultChainedBatch=i4});var xk=ee((sOe,wk)=>{"use strict";x();var bk=xa(),Uie=Object.prototype.hasOwnProperty,Fie=new Set(["lt","lte","gt","gte"]);wk.exports=function(t,e){let r={};for(let n in t)if(!!Uie.call(t,n)&&!(n==="keyEncoding"||n==="valueEncoding")){if(n==="start"||n==="end")throw new bk(`The legacy range option '${n}' has been removed`,{code:"LEVEL_LEGACY"});if(n==="encoding")throw new bk("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});Fie.has(n)?r[n]=e.encode(t[n]):r[n]=t[n]}return r.reverse=!!r.reverse,r.limit=Number.isInteger(r.limit)&&r.limit>=0?r.limit:-1,r}});var a4=ee((uOe,Ek)=>{x();var _k;Ek.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:D):t=>(_k||(_k=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var Mk=ee((lOe,Ak)=>{"use strict";x();var Sk=a4();Ak.exports=function(t,...e){e.length===0?Sk(t):Sk(()=>t(...e))}});var Tk=ee(Sm=>{"use strict";x();var{AbstractIterator:jie,AbstractKeyIterator:zie,AbstractValueIterator:Kie}=Qf(),Yh=Symbol("unfix"),lo=Symbol("iterator"),Fc=Symbol("handleOne"),eu=Symbol("handleMany"),Ys=Symbol("callback"),Kp=class extends jie{constructor(e,r,n,i){super(e,r),this[lo]=n,this[Yh]=i,this[Fc]=this[Fc].bind(this),this[eu]=this[eu].bind(this),this[Ys]=null}[Fc](e,r,n){let i=this[Ys];if(e)return i(e);r!==void 0&&(r=this[Yh](r)),i(e,r,n)}[eu](e,r){let n=this[Ys];if(e)return n(e);for(let i of r){let a=i[0];a!==void 0&&(i[0]=this[Yh](a))}n(e,r)}},Wp=class extends zie{constructor(e,r,n,i){super(e,r),this[lo]=n,this[Yh]=i,this[Fc]=this[Fc].bind(this),this[eu]=this[eu].bind(this),this[Ys]=null}[Fc](e,r){let n=this[Ys];if(e)return n(e);r!==void 0&&(r=this[Yh](r)),n(e,r)}[eu](e,r){let n=this[Ys];if(e)return n(e);for(let i=0;i<r.length;i++){let a=r[i];a!==void 0&&(r[i]=this[Yh](a))}n(e,r)}},Gp=class extends Kie{constructor(e,r,n){super(e,r),this[lo]=n}};for(let t of[Kp,Wp])t.prototype._next=function(e){this[Ys]=e,this[lo].next(this[Fc])},t.prototype._nextv=function(e,r,n){this[Ys]=n,this[lo].nextv(e,r,this[eu])},t.prototype._all=function(e,r){this[Ys]=r,this[lo].all(e,this[eu])};for(let t of[Gp])t.prototype._next=function(e){this[lo].next(e)},t.prototype._nextv=function(e,r,n){this[lo].nextv(e,r,n)},t.prototype._all=function(e,r){this[lo].all(e,r)};for(let t of[Kp,Wp,Gp])t.prototype._seek=function(e,r){this[lo].seek(e,r)},t.prototype._close=function(e){this[lo].close(e)};Sm.AbstractSublevelIterator=Kp;Sm.AbstractSublevelKeyIterator=Wp;Sm.AbstractSublevelValueIterator=Gp});var kk=ee((gOe,Rk)=>{"use strict";x();var o4=xa(),{Buffer:u4}=Sr()||{},{AbstractSublevelIterator:Wie,AbstractSublevelKeyIterator:Gie,AbstractSublevelValueIterator:Hie}=Tk(),Xs=Symbol("prefix"),Ok=Symbol("upperBound"),Hp=Symbol("prefixRange"),Gi=Symbol("parent"),s4=Symbol("unfix"),Ik=new TextEncoder,$ie={separator:"!"};Rk.exports=function({AbstractLevel:t}){class e extends t{static defaults(n){if(typeof n=="string")throw new o4("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(n&&n.open)throw new o4("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return n==null?$ie:n.separator?n:{...n,separator:"!"}}constructor(n,i,a){let{separator:s,manifest:f,...l}=e.defaults(a);i=Zie(i,s);let g=s.charCodeAt(0)+1,m=n[Gi]||n;if(!Ik.encode(i).every(T=>T>g&&T<127))throw new o4(`Prefix must use bytes > ${g} < ${127}`,{code:"LEVEL_INVALID_PREFIX"});super(Vie(m,f),l);let A=(n.prefix||"")+s+i+s,I=A.slice(0,-1)+String.fromCharCode(g);this[Gi]=m,this[Xs]=new Am(A),this[Ok]=new Am(I),this[s4]=new c4,this.nextTick=m.nextTick}prefixKey(n,i){if(i==="utf8")return this[Xs].utf8+n;if(n.byteLength===0)return this[Xs][i];if(i==="view"){let a=this[Xs].view,s=new Uint8Array(a.byteLength+n.byteLength);return s.set(a,0),s.set(n,a.byteLength),s}else{let a=this[Xs].buffer;return u4.concat([a,n],a.byteLength+n.byteLength)}}[Hp](n,i){n.gte!==void 0?n.gte=this.prefixKey(n.gte,i):n.gt!==void 0?n.gt=this.prefixKey(n.gt,i):n.gte=this[Xs][i],n.lte!==void 0?n.lte=this.prefixKey(n.lte,i):n.lt!==void 0?n.lt=this.prefixKey(n.lt,i):n.lte=this[Ok][i]}get prefix(){return this[Xs].utf8}get db(){return this[Gi]}_open(n,i){this[Gi].open({passive:!0},i)}_put(n,i,a,s){this[Gi].put(n,i,a,s)}_get(n,i,a){this[Gi].get(n,i,a)}_getMany(n,i,a){this[Gi].getMany(n,i,a)}_del(n,i,a){this[Gi].del(n,i,a)}_batch(n,i,a){this[Gi].batch(n,i,a)}_clear(n,i){this[Hp](n,n.keyEncoding),this[Gi].clear(n,i)}_iterator(n){this[Hp](n,n.keyEncoding);let i=this[Gi].iterator(n),a=this[s4].get(this[Xs].utf8.length,n.keyEncoding);return new Wie(this,n,i,a)}_keys(n){this[Hp](n,n.keyEncoding);let i=this[Gi].keys(n),a=this[s4].get(this[Xs].utf8.length,n.keyEncoding);return new Gie(this,n,i,a)}_values(n){this[Hp](n,n.keyEncoding);let i=this[Gi].values(n);return new Hie(this,n,i)}}return{AbstractSublevel:e}};var Vie=function(t,e){return{...t.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...e,encodings:{utf8:f4(t,"utf8"),buffer:f4(t,"buffer"),view:f4(t,"view")}}},f4=function(t,e){return t.supports.encodings[e]?t.keyEncoding(e).name===e:!1},Am=class{constructor(e){this.utf8=e,this.view=Ik.encode(e),this.buffer=u4?u4.from(this.view.buffer,0,this.view.byteLength):{}}},c4=class{constructor(){this.cache=new Map}get(e,r){let n=this.cache.get(r);return n===void 0&&(r==="view"?n=function(i,a){return a.subarray(i)}.bind(null,e):n=function(i,a){return a.slice(i)}.bind(null,e),this.cache.set(r,n)),n}},Zie=function(t,e){let r=0,n=t.length;for(;r<n&&t[r]===e;)r++;for(;n>r&&t[n-1]===e;)n--;return t.slice(r,n)}});var g4=ee(p4=>{"use strict";x();var{supports:Jie}=jR(),{Transcoder:Yie}=YR(),{EventEmitter:Xie}=co(),{fromCallback:tu}=Lp(),ho=xa(),{AbstractIterator:jc}=Qf(),{DefaultKeyIterator:Qie,DefaultValueIterator:eae}=dk(),{DeferredIterator:tae,DeferredKeyIterator:rae,DeferredValueIterator:nae}=pk(),{DefaultChainedBatch:Ck}=mk(),{getCallback:zc,getOptions:ru}=cm(),Mm=xk(),It=Symbol("promise"),Qs=Symbol("landed"),Kc=Symbol("resources"),l4=Symbol("closeResources"),$p=Symbol("operations"),Vp=Symbol("undefer"),Tm=Symbol("deferOpen"),Bk=Symbol("options"),Ft=Symbol("status"),Wc=Symbol("defaultOptions"),Xh=Symbol("transcoder"),Om=Symbol("keyEncoding"),h4=Symbol("valueEncoding"),iae=()=>{},Zp=class extends Xie{constructor(e,r){if(super(),typeof e!="object"||e===null)throw new TypeError("The first argument 'manifest' must be an object");r=ru(r);let{keyEncoding:n,valueEncoding:i,passive:a,...s}=r;this[Kc]=new Set,this[$p]=[],this[Tm]=!0,this[Bk]=s,this[Ft]="opening",this.supports=Jie(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:e.snapshots!==!1,permanence:e.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Xh]=new Yie(aae(this)),this[Om]=this[Xh].encoding(n||"utf8"),this[h4]=this[Xh].encoding(i||"utf8");for(let f of this[Xh].encodings())this.supports.encodings[f.commonName]||(this.supports.encodings[f.commonName]=!0);this[Wc]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[Om].commonName,valueEncoding:this[h4].commonName}),key:Object.freeze({keyEncoding:this[Om].commonName})},this.nextTick(()=>{this[Tm]&&this.open({passive:!1},iae)})}get status(){return this[Ft]}keyEncoding(e){return this[Xh].encoding(e??this[Om])}valueEncoding(e){return this[Xh].encoding(e??this[h4])}open(e,r){r=zc(e,r),r=tu(r,It),e={...this[Bk],...ru(e)},e.createIfMissing=e.createIfMissing!==!1,e.errorIfExists=!!e.errorIfExists;let n=i=>{this[Ft]==="closing"||this[Ft]==="opening"?this.once(Qs,i?()=>n(i):n):this[Ft]!=="open"?r(new ho("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:i})):r()};return e.passive?this[Ft]==="opening"?this.once(Qs,n):this.nextTick(n):this[Ft]==="closed"||this[Tm]?(this[Tm]=!1,this[Ft]="opening",this.emit("opening"),this._open(e,i=>{if(i){this[Ft]="closed",this[l4](()=>{this.emit(Qs),n(i)}),this[Vp]();return}this[Ft]="open",this[Vp](),this.emit(Qs),this[Ft]==="open"&&this.emit("open"),this[Ft]==="open"&&this.emit("ready"),n()})):this[Ft]==="open"?this.nextTick(n):this.once(Qs,()=>this.open(e,r)),r[It]}_open(e,r){this.nextTick(r)}close(e){e=tu(e,It);let r=n=>{this[Ft]==="opening"||this[Ft]==="closing"?this.once(Qs,n?r(n):r):this[Ft]!=="closed"?e(new ho("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:n})):e()};if(this[Ft]==="open"){this[Ft]="closing",this.emit("closing");let n=i=>{this[Ft]="open",this[Vp](),this.emit(Qs),r(i)};this[l4](()=>{this._close(i=>{if(i)return n(i);this[Ft]="closed",this[Vp](),this.emit(Qs),this[Ft]==="closed"&&this.emit("closed"),r()})})}else this[Ft]==="closed"?this.nextTick(r):this.once(Qs,()=>this.close(e));return e[It]}[l4](e){if(this[Kc].size===0)return this.nextTick(e);let r=this[Kc].size,n=!0,i=()=>{--r===0&&(n?this.nextTick(e):e())};for(let a of this[Kc])a.close(i);n=!1,this[Kc].clear()}_close(e){this.nextTick(e)}get(e,r,n){if(n=zc(r,n),n=tu(n,It),r=ru(r,this[Wc].entry),this[Ft]==="opening")return this.defer(()=>this.get(e,r,n)),n[It];if(Qh(this,n))return n[It];let i=this._checkKey(e);if(i)return this.nextTick(n,i),n[It];let a=this.keyEncoding(r.keyEncoding),s=this.valueEncoding(r.valueEncoding),f=a.format,l=s.format;return(r.keyEncoding!==f||r.valueEncoding!==l)&&(r=Object.assign({},r,{keyEncoding:f,valueEncoding:l})),this._get(this.prefixKey(a.encode(e),f),r,(g,m)=>{if(g)return(g.code==="LEVEL_NOT_FOUND"||g.notFound||/NotFound/i.test(g))&&(g.code||(g.code="LEVEL_NOT_FOUND"),g.notFound||(g.notFound=!0),g.status||(g.status=404)),n(g);try{m=s.decode(m)}catch(A){return n(new ho("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:A}))}n(null,m)}),n[It]}_get(e,r,n){this.nextTick(n,new Error("NotFound"))}getMany(e,r,n){if(n=zc(r,n),n=tu(n,It),r=ru(r,this[Wc].entry),this[Ft]==="opening")return this.defer(()=>this.getMany(e,r,n)),n[It];if(Qh(this,n))return n[It];if(!Array.isArray(e))return this.nextTick(n,new TypeError("The first argument 'keys' must be an array")),n[It];if(e.length===0)return this.nextTick(n,null,[]),n[It];let i=this.keyEncoding(r.keyEncoding),a=this.valueEncoding(r.valueEncoding),s=i.format,f=a.format;(r.keyEncoding!==s||r.valueEncoding!==f)&&(r=Object.assign({},r,{keyEncoding:s,valueEncoding:f}));let l=new Array(e.length);for(let g=0;g<e.length;g++){let m=e[g],A=this._checkKey(m);if(A)return this.nextTick(n,A),n[It];l[g]=this.prefixKey(i.encode(m),s)}return this._getMany(l,r,(g,m)=>{if(g)return n(g);try{for(let A=0;A<m.length;A++)m[A]!==void 0&&(m[A]=a.decode(m[A]))}catch(A){return n(new ho(`Could not decode one or more of ${m.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:A}))}n(null,m)}),n[It]}_getMany(e,r,n){this.nextTick(n,null,new Array(e.length).fill(void 0))}put(e,r,n,i){if(i=zc(n,i),i=tu(i,It),n=ru(n,this[Wc].entry),this[Ft]==="opening")return this.defer(()=>this.put(e,r,n,i)),i[It];if(Qh(this,i))return i[It];let a=this._checkKey(e)||this._checkValue(r);if(a)return this.nextTick(i,a),i[It];let s=this.keyEncoding(n.keyEncoding),f=this.valueEncoding(n.valueEncoding),l=s.format,g=f.format;(n.keyEncoding!==l||n.valueEncoding!==g)&&(n=Object.assign({},n,{keyEncoding:l,valueEncoding:g}));let m=this.prefixKey(s.encode(e),l),A=f.encode(r);return this._put(m,A,n,I=>{if(I)return i(I);this.emit("put",e,r),i()}),i[It]}_put(e,r,n,i){this.nextTick(i)}del(e,r,n){if(n=zc(r,n),n=tu(n,It),r=ru(r,this[Wc].key),this[Ft]==="opening")return this.defer(()=>this.del(e,r,n)),n[It];if(Qh(this,n))return n[It];let i=this._checkKey(e);if(i)return this.nextTick(n,i),n[It];let a=this.keyEncoding(r.keyEncoding),s=a.format;return r.keyEncoding!==s&&(r=Object.assign({},r,{keyEncoding:s})),this._del(this.prefixKey(a.encode(e),s),r,f=>{if(f)return n(f);this.emit("del",e),n()}),n[It]}_del(e,r,n){this.nextTick(n)}batch(e,r,n){if(!arguments.length){if(this[Ft]==="opening")return new Ck(this);if(this[Ft]!=="open")throw new ho("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof e=="function"?n=e:n=zc(r,n),n=tu(n,It),r=ru(r,this[Wc].empty),this[Ft]==="opening")return this.defer(()=>this.batch(e,r,n)),n[It];if(Qh(this,n))return n[It];if(!Array.isArray(e))return this.nextTick(n,new TypeError("The first argument 'operations' must be an array")),n[It];if(e.length===0)return this.nextTick(n),n[It];let i=new Array(e.length),{keyEncoding:a,valueEncoding:s,...f}=r;for(let l=0;l<e.length;l++){if(typeof e[l]!="object"||e[l]===null)return this.nextTick(n,new TypeError("A batch operation must be an object")),n[It];let g=Object.assign({},e[l]);if(g.type!=="put"&&g.type!=="del")return this.nextTick(n,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),n[It];let m=this._checkKey(g.key);if(m)return this.nextTick(n,m),n[It];let A=g.sublevel!=null?g.sublevel:this,I=A.keyEncoding(g.keyEncoding||a),T=I.format;if(g.key=A.prefixKey(I.encode(g.key),T),g.keyEncoding=T,g.type==="put"){let O=this._checkValue(g.value);if(O)return this.nextTick(n,O),n[It];let U=A.valueEncoding(g.valueEncoding||s);g.value=U.encode(g.value),g.valueEncoding=U.format}A!==this&&(g.sublevel=null),i[l]=g}return this._batch(i,f,l=>{if(l)return n(l);this.emit("batch",e),n()}),n[It]}_batch(e,r,n){this.nextTick(n)}sublevel(e,r){return this._sublevel(e,d4.defaults(r))}_sublevel(e,r){return new d4(this,e,r)}prefixKey(e,r){return e}clear(e,r){if(r=zc(e,r),r=tu(r,It),e=ru(e,this[Wc].empty),this[Ft]==="opening")return this.defer(()=>this.clear(e,r)),r[It];if(Qh(this,r))return r[It];let n=e,i=this.keyEncoding(e.keyEncoding);return e=Mm(e,i),e.keyEncoding=i.format,e.limit===0?this.nextTick(r):this._clear(e,a=>{if(a)return r(a);this.emit("clear",n),r()}),r[It]}_clear(e,r){this.nextTick(r)}iterator(e){let r=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if(e=Mm(e,r),e.keys=e.keys!==!1,e.values=e.values!==!1,e[jc.keyEncoding]=r,e[jc.valueEncoding]=n,e.keyEncoding=r.format,e.valueEncoding=n.format,this[Ft]==="opening")return new tae(this,e);if(this[Ft]!=="open")throw new ho("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new jc(this,e)}keys(e){let r=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if(e=Mm(e,r),e[jc.keyEncoding]=r,e[jc.valueEncoding]=n,e.keyEncoding=r.format,e.valueEncoding=n.format,this[Ft]==="opening")return new rae(this,e);if(this[Ft]!=="open")throw new ho("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new Qie(this,e)}values(e){let r=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if(e=Mm(e,r),e[jc.keyEncoding]=r,e[jc.valueEncoding]=n,e.keyEncoding=r.format,e.valueEncoding=n.format,this[Ft]==="opening")return new nae(this,e);if(this[Ft]!=="open")throw new ho("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new eae(this,e)}defer(e){if(typeof e!="function")throw new TypeError("The first argument must be a function");this[$p].push(e)}[Vp](){if(this[$p].length===0)return;let e=this[$p];this[$p]=[];for(let r of e)r()}attachResource(e){if(typeof e!="object"||e===null||typeof e.close!="function")throw new TypeError("The first argument must be a resource object");this[Kc].add(e)}detachResource(e){this[Kc].delete(e)}_chainedBatch(){return new Ck(this)}_checkKey(e){if(e==null)return new ho("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(e==null)return new ho("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};Zp.prototype.nextTick=Mk();var{AbstractSublevel:d4}=kk()({AbstractLevel:Zp});p4.AbstractLevel=Zp;p4.AbstractSublevel=d4;var Qh=function(t,e){return t[Ft]!=="open"?(t.nextTick(e,new ho("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},aae=function(t){return Object.keys(t.supports.encodings).filter(e=>!!t.supports.encodings[e])}});var Im=ee(Gc=>{"use strict";x();Gc.AbstractLevel=g4().AbstractLevel;Gc.AbstractSublevel=g4().AbstractSublevel;Gc.AbstractIterator=Qf().AbstractIterator;Gc.AbstractKeyIterator=Qf().AbstractKeyIterator;Gc.AbstractValueIterator=Qf().AbstractValueIterator;Gc.AbstractChainedBatch=n4().AbstractChainedBatch});var Nk=ee((xOe,Pk)=>{x();Pk.exports=sae;var oae=a4();function sae(t,e,r){if(typeof e!="number")throw new Error("second argument must be a Number");let n,i,a,s,f,l=!0,g;Array.isArray(t)?(n=[],a=i=t.length):(s=Object.keys(t),n={},a=i=s.length);function m(I){function T(){r&&r(I,n),r=null}l?oae(T):T()}function A(I,T,O){if(n[I]=O,T&&(f=!0),--a===0||T)m(T);else if(!f&&g<i){let U;s?(U=s[g],g+=1,t[U](function(Z,Y){A(U,Z,Y)})):(U=g,g+=1,t[U](function(Z,Y){A(U,Z,Y)}))}}g=e,a?s?s.some(function(I,T){return t[I](function(O,U){A(I,O,U)}),T===e-1}):t.some(function(I,T){return I(function(O,U){A(T,O,U)}),T===e-1}):m(null),l=!1}});var v4=ee((EOe,Lk)=>{"use strict";x();Lk.exports=function(e){let r=e.gte!==void 0?e.gte:e.gt!==void 0?e.gt:void 0,n=e.lte!==void 0?e.lte:e.lt!==void 0?e.lt:void 0,i=e.gte===void 0,a=e.lte===void 0;return r!==void 0&&n!==void 0?IDBKeyRange.bound(r,n,i,a):r!==void 0?IDBKeyRange.lowerBound(r,i):n!==void 0?IDBKeyRange.upperBound(n,a):null}});var y4=ee((AOe,Dk)=>{"use strict";x();var fae=new TextEncoder;Dk.exports=function(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):fae.encode(t)}});var zk=ee(jk=>{"use strict";x();var{AbstractIterator:uae}=Im(),qk=v4(),Rm=y4(),rs=Symbol("cache"),ef=Symbol("finished"),Hi=Symbol("options"),tf=Symbol("currentOptions"),Hc=Symbol("position"),m4=Symbol("location"),e0=Symbol("first"),Uk={},b4=class extends uae{constructor(e,r,n){super(e,n),this[rs]=[],this[ef]=this.limit===0,this[Hi]=n,this[tf]={...n},this[Hc]=void 0,this[m4]=r,this[e0]=!0}_nextv(e,r,n){if(this[e0]=!1,this[ef])return this.nextTick(n,null,[]);if(this[rs].length>0)return e=Math.min(e,this[rs].length),this.nextTick(n,null,this[rs].splice(0,e));this[Hc]!==void 0&&(this[Hi].reverse?(this[tf].lt=this[Hc],this[tf].lte=void 0):(this[tf].gt=this[Hc],this[tf].gte=void 0));let i;try{i=qk(this[tf])}catch{return this[ef]=!0,this.nextTick(n,null,[])}let a=this.db.db.transaction([this[m4]],"readonly"),s=a.objectStore(this[m4]),f=[];if(this[Hi].reverse){let l=!this[Hi].values&&s.openKeyCursor?"openKeyCursor":"openCursor";s[l](i,"prev").onsuccess=g=>{let m=g.target.result;if(m){let{key:A,value:I}=m;this[Hc]=A,f.push([this[Hi].keys&&A!==void 0?Rm(A):void 0,this[Hi].values&&I!==void 0?Rm(I):void 0]),f.length<e?m.continue():Fk(a)}else this[ef]=!0}}else{let l,g,m=()=>{if(l===void 0||g===void 0)return;let A=Math.max(l.length,g.length);A===0||e===1/0?this[ef]=!0:this[Hc]=l[A-1],f.length=A;for(let I=0;I<A;I++){let T=l[I],O=g[I];f[I]=[this[Hi].keys&&T!==void 0?Rm(T):void 0,this[Hi].values&&O!==void 0?Rm(O):void 0]}Fk(a)};this[Hi].keys||e<1/0?s.getAllKeys(i,e<1/0?e:void 0).onsuccess=A=>{l=A.target.result,m()}:(l=[],this.nextTick(m)),this[Hi].values?s.getAll(i,e<1/0?e:void 0).onsuccess=A=>{g=A.target.result,m()}:(g=[],this.nextTick(m))}a.onabort=()=>{n(a.error||new Error("aborted by user")),n=null},a.oncomplete=()=>{n(null,f),n=null}}_next(e){if(this[rs].length>0){let[r,n]=this[rs].shift();this.nextTick(e,null,r,n)}else if(this[ef])this.nextTick(e);else{let r=Math.min(100,this.limit-this.count);this[e0]&&(this[e0]=!1,r=1),this._nextv(r,Uk,(n,i)=>{if(n)return e(n);this[rs]=i,this._next(e)})}}_all(e,r){this[e0]=!1;let n=this[rs].splice(0,this[rs].length),i=this.limit-this.count-n.length;if(i<=0)return this.nextTick(r,null,n);this._nextv(i,Uk,(a,s)=>{if(a)return r(a);n.length>0&&(s=n.concat(s)),r(null,s)})}_seek(e,r){this[e0]=!0,this[rs]=[],this[ef]=!1,this[Hc]=void 0,this[tf]={...this[Hi]};let n;try{n=qk(this[Hi])}catch{this[ef]=!0;return}n!==null&&!n.includes(e)?this[ef]=!0:this[Hi].reverse?this[tf].lte=e:this[tf].gte=e}};jk.Iterator=b4;function Fk(t){typeof t.commit=="function"&&t.commit()}});var Wk=ee((IOe,Kk)=>{"use strict";x();Kk.exports=function(e,r,n,i,a){if(i.limit===0)return e.nextTick(a);let s=e.db.transaction([r],"readwrite"),f=s.objectStore(r),l=0;s.oncomplete=function(){a()},s.onabort=function(){a(s.error||new Error("aborted by user"))};let g=f.openKeyCursor?"openKeyCursor":"openCursor",m=i.reverse?"prev":"next";f[g](n,m).onsuccess=function(A){let I=A.target.result;I&&(f.delete(I.key).onsuccess=function(){(i.limit<=0||++l<i.limit)&&I.continue()})}}});var Jk=ee(Zk=>{"use strict";x();var{AbstractLevel:cae}=Im(),Gk=xa(),lae=Nk(),{fromCallback:hae}=Lp(),{Iterator:dae}=zk(),Hk=y4(),pae=Wk(),gae=v4(),Vk="level-js-",Jp=Symbol("idb"),w4=Symbol("namePrefix"),rf=Symbol("location"),x4=Symbol("version"),$c=Symbol("store"),Yp=Symbol("onComplete"),$k=Symbol("promise"),km=class extends cae{constructor(e,r,n){if(typeof r=="function"||typeof n=="function")throw new Gk("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:i,version:a,...s}=r||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},s),typeof e!="string")throw new Error("constructor requires a location string argument");this[rf]=e,this[w4]=i??Vk,this[x4]=parseInt(a||1,10),this[Jp]=null}get location(){return this[rf]}get namePrefix(){return this[w4]}get version(){return this[x4]}get db(){return this[Jp]}get type(){return"browser-level"}_open(e,r){let n=indexedDB.open(this[w4]+this[rf],this[x4]);n.onerror=function(){r(n.error||new Error("unknown error"))},n.onsuccess=()=>{this[Jp]=n.result,r()},n.onupgradeneeded=i=>{let a=i.target.result;a.objectStoreNames.contains(this[rf])||a.createObjectStore(this[rf])}}[$c](e){return this[Jp].transaction([this[rf]],e).objectStore(this[rf])}[Yp](e,r){let n=e.transaction;n.onabort=function(){r(n.error||new Error("aborted by user"))},n.oncomplete=function(){r(null,e.result)}}_get(e,r,n){let i=this[$c]("readonly"),a;try{a=i.get(e)}catch(s){return this.nextTick(n,s)}this[Yp](a,function(s,f){if(s)return n(s);if(f===void 0)return n(new Gk("Entry not found",{code:"LEVEL_NOT_FOUND"}));n(null,Hk(f))})}_getMany(e,r,n){let i=this[$c]("readonly"),a=e.map(s=>f=>{let l;try{l=i.get(s)}catch(g){return f(g)}l.onsuccess=()=>{let g=l.result;f(null,g===void 0?g:Hk(g))},l.onerror=g=>{g.stopPropagation(),f(l.error)}});lae(a,16,n)}_del(e,r,n){let i=this[$c]("readwrite"),a;try{a=i.delete(e)}catch(s){return this.nextTick(n,s)}this[Yp](a,n)}_put(e,r,n,i){let a=this[$c]("readwrite"),s;try{s=a.put(r,e)}catch(f){return this.nextTick(i,f)}this[Yp](s,i)}_iterator(e){return new dae(this,this[rf],e)}_batch(e,r,n){let i=this[$c]("readwrite"),a=i.transaction,s=0,f;a.onabort=function(){n(f||a.error||new Error("aborted by user"))},a.oncomplete=function(){n()};function l(){let g=e[s++],m=g.key,A;try{A=g.type==="del"?i.delete(m):i.put(g.value,m)}catch(I){f=I,a.abort();return}s<e.length?A.onsuccess=l:typeof a.commit=="function"&&a.commit()}l()}_clear(e,r){let n,i;try{n=gae(e)}catch{return this.nextTick(r)}if(e.limit>=0)return pae(this,this[rf],n,e,r);try{let a=this[$c]("readwrite");i=n?a.delete(n):a.clear()}catch(a){return this.nextTick(r,a)}this[Yp](i,r)}_close(e){this[Jp].close(),this.nextTick(e)}};km.destroy=function(t,e,r){typeof e=="function"&&(r=e,e=Vk),r=hae(r,$k);let n=indexedDB.deleteDatabase(e+t);return n.onsuccess=function(){r()},n.onerror=function(i){r(i)},r[$k]};Zk.BrowserLevel=km});var Xk=ee(Yk=>{x();Yk.Level=Jk().BrowserLevel});var tC=ee((NOe,eC)=>{"use strict";x();eC.exports=mae;var Cr=0,ar=1;function $i(t,e,r,n,i,a){this._color=t,this.key=e,this.value=r,this.left=n,this.right=i,this._count=a}function ns(t){return new $i(t._color,t.key,t.value,t.left,t.right,t._count)}function nu(t,e){return new $i(t,e.key,e.value,e.left,e.right,e._count)}function Hr(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function iu(t,e){this._compare=t,this.root=e}var wi=iu.prototype;Object.defineProperty(wi,"keys",{get:function(){var t=[];return this.forEach(function(e,r){t.push(e)}),t}});Object.defineProperty(wi,"values",{get:function(){var t=[];return this.forEach(function(e,r){t.push(r)}),t}});Object.defineProperty(wi,"length",{get:function(){return this.root?this.root._count:0}});wi.insert=function(t,e){for(var r=this._compare,n=this.root,i=[],a=[];n;){var s=r(t,n.key);i.push(n),a.push(s),s<=0?n=n.left:n=n.right}i.push(new $i(Cr,t,e,null,null,1));for(var f=i.length-2;f>=0;--f){var n=i[f];a[f]<=0?i[f]=new $i(n._color,n.key,n.value,i[f+1],n.right,n._count+1):i[f]=new $i(n._color,n.key,n.value,n.left,i[f+1],n._count+1)}for(var f=i.length-1;f>1;--f){var l=i[f-1],n=i[f];if(l._color===ar||n._color===ar)break;var g=i[f-2];if(g.left===l)if(l.left===n){var m=g.right;if(m&&m._color===Cr)l._color=ar,g.right=nu(ar,m),g._color=Cr,f-=1;else{if(g._color=Cr,g.left=l.right,l._color=ar,l.right=g,i[f-2]=l,i[f-1]=n,Hr(g),Hr(l),f>=3){var A=i[f-3];A.left===g?A.left=l:A.right=l}break}}else{var m=g.right;if(m&&m._color===Cr)l._color=ar,g.right=nu(ar,m),g._color=Cr,f-=1;else{if(l.right=n.left,g._color=Cr,g.left=n.right,n._color=ar,n.left=l,n.right=g,i[f-2]=n,i[f-1]=l,Hr(g),Hr(l),Hr(n),f>=3){var A=i[f-3];A.left===g?A.left=n:A.right=n}break}}else if(l.right===n){var m=g.left;if(m&&m._color===Cr)l._color=ar,g.left=nu(ar,m),g._color=Cr,f-=1;else{if(g._color=Cr,g.right=l.left,l._color=ar,l.left=g,i[f-2]=l,i[f-1]=n,Hr(g),Hr(l),f>=3){var A=i[f-3];A.right===g?A.right=l:A.left=l}break}}else{var m=g.left;if(m&&m._color===Cr)l._color=ar,g.left=nu(ar,m),g._color=Cr,f-=1;else{if(l.left=n.right,g._color=Cr,g.right=n.left,n._color=ar,n.right=l,n.left=g,i[f-2]=n,i[f-1]=l,Hr(g),Hr(l),Hr(n),f>=3){var A=i[f-3];A.right===g?A.right=n:A.left=n}break}}}return i[0]._color=ar,new iu(r,i[0])};function _4(t,e){if(e.left){var r=_4(t,e.left);if(r)return r}var r=t(e.key,e.value);if(r)return r;if(e.right)return _4(t,e.right)}function E4(t,e,r,n){var i=e(t,n.key);if(i<=0){if(n.left){var a=E4(t,e,r,n.left);if(a)return a}var a=r(n.key,n.value);if(a)return a}if(n.right)return E4(t,e,r,n.right)}function S4(t,e,r,n,i){var a=r(t,i.key),s=r(e,i.key),f;if(a<=0&&(i.left&&(f=S4(t,e,r,n,i.left),f)||s>0&&(f=n(i.key,i.value),f)))return f;if(s>0&&i.right)return S4(t,e,r,n,i.right)}wi.forEach=function(e,r,n){if(!!this.root)switch(arguments.length){case 1:return _4(e,this.root);case 2:return E4(r,this._compare,e,this.root);case 3:return this._compare(r,n)>=0?void 0:S4(r,n,this._compare,e,this.root)}};Object.defineProperty(wi,"begin",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new Vi(this,t)}});Object.defineProperty(wi,"end",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new Vi(this,t)}});wi.at=function(t){if(t<0)return new Vi(this,[]);for(var e=this.root,r=[];;){if(r.push(e),e.left){if(t<e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new Vi(this,r);if(t-=1,e.right){if(t>=e.right._count)break;e=e.right}else break}return new Vi(this,[])};wi.ge=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var a=e(t,r.key);n.push(r),a<=0&&(i=n.length),a<=0?r=r.left:r=r.right}return n.length=i,new Vi(this,n)};wi.gt=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var a=e(t,r.key);n.push(r),a<0&&(i=n.length),a<0?r=r.left:r=r.right}return n.length=i,new Vi(this,n)};wi.lt=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var a=e(t,r.key);n.push(r),a>0&&(i=n.length),a<=0?r=r.left:r=r.right}return n.length=i,new Vi(this,n)};wi.le=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var a=e(t,r.key);n.push(r),a>=0&&(i=n.length),a<0?r=r.left:r=r.right}return n.length=i,new Vi(this,n)};wi.find=function(t){for(var e=this._compare,r=this.root,n=[];r;){var i=e(t,r.key);if(n.push(r),i===0)return new Vi(this,n);i<=0?r=r.left:r=r.right}return new Vi(this,[])};wi.remove=function(t){var e=this.find(t);return e?e.remove():this};wi.get=function(t){for(var e=this._compare,r=this.root;r;){var n=e(t,r.key);if(n===0)return r.value;n<=0?r=r.left:r=r.right}};function Vi(t,e){this.tree=t,this._stack=e}var Sa=Vi.prototype;Object.defineProperty(Sa,"valid",{get:function(){return this._stack.length>0}});Object.defineProperty(Sa,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0});Sa.clone=function(){return new Vi(this.tree,this._stack.slice())};function Qk(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function vae(t){for(var e,r,n,i,a=t.length-1;a>=0;--a){if(e=t[a],a===0){e._color=ar;return}if(r=t[a-1],r.left===e){if(n=r.right,n.right&&n.right._color===Cr){if(n=r.right=ns(n),i=n.right=ns(n.right),r.right=n.left,n.left=r,n.right=i,n._color=r._color,e._color=ar,r._color=ar,i._color=ar,Hr(r),Hr(n),a>1){var s=t[a-2];s.left===r?s.left=n:s.right=n}t[a-1]=n;return}else if(n.left&&n.left._color===Cr){if(n=r.right=ns(n),i=n.left=ns(n.left),r.right=i.left,n.left=i.right,i.left=r,i.right=n,i._color=r._color,r._color=ar,n._color=ar,e._color=ar,Hr(r),Hr(n),Hr(i),a>1){var s=t[a-2];s.left===r?s.left=i:s.right=i}t[a-1]=i;return}if(n._color===ar)if(r._color===Cr){r._color=ar,r.right=nu(Cr,n);return}else{r.right=nu(Cr,n);continue}else{if(n=ns(n),r.right=n.left,n.left=r,n._color=r._color,r._color=Cr,Hr(r),Hr(n),a>1){var s=t[a-2];s.left===r?s.left=n:s.right=n}t[a-1]=n,t[a]=r,a+1<t.length?t[a+1]=e:t.push(e),a=a+2}}else{if(n=r.left,n.left&&n.left._color===Cr){if(n=r.left=ns(n),i=n.left=ns(n.left),r.left=n.right,n.right=r,n.left=i,n._color=r._color,e._color=ar,r._color=ar,i._color=ar,Hr(r),Hr(n),a>1){var s=t[a-2];s.right===r?s.right=n:s.left=n}t[a-1]=n;return}else if(n.right&&n.right._color===Cr){if(n=r.left=ns(n),i=n.right=ns(n.right),r.left=i.right,n.right=i.left,i.right=r,i.left=n,i._color=r._color,r._color=ar,n._color=ar,e._color=ar,Hr(r),Hr(n),Hr(i),a>1){var s=t[a-2];s.right===r?s.right=i:s.left=i}t[a-1]=i;return}if(n._color===ar)if(r._color===Cr){r._color=ar,r.left=nu(Cr,n);return}else{r.left=nu(Cr,n);continue}else{if(n=ns(n),r.left=n.right,n.right=r,n._color=r._color,r._color=Cr,Hr(r),Hr(n),a>1){var s=t[a-2];s.right===r?s.right=n:s.left=n}t[a-1]=n,t[a]=r,a+1<t.length?t[a+1]=e:t.push(e),a=a+2}}}}Sa.remove=function(){var t=this._stack;if(t.length===0)return this.tree;var e=new Array(t.length),r=t[t.length-1];e[e.length-1]=new $i(r._color,r.key,r.value,r.left,r.right,r._count);for(var n=t.length-2;n>=0;--n){var r=t[n];r.left===t[n+1]?e[n]=new $i(r._color,r.key,r.value,e[n+1],r.right,r._count):e[n]=new $i(r._color,r.key,r.value,r.left,e[n+1],r._count)}if(r=e[e.length-1],r.left&&r.right){var i=e.length;for(r=r.left;r.right;)e.push(r),r=r.right;var a=e[i-1];e.push(new $i(r._color,a.key,a.value,r.left,r.right,r._count)),e[i-1].key=r.key,e[i-1].value=r.value;for(var n=e.length-2;n>=i;--n)r=e[n],e[n]=new $i(r._color,r.key,r.value,r.left,e[n+1],r._count);e[i-1].left=e[i]}if(r=e[e.length-1],r._color===Cr){var s=e[e.length-2];s.left===r?s.left=null:s.right===r&&(s.right=null),e.pop();for(var n=0;n<e.length;++n)e[n]._count--;return new iu(this.tree._compare,e[0])}else if(r.left||r.right){r.left?Qk(r,r.left):r.right&&Qk(r,r.right),r._color=ar;for(var n=0;n<e.length-1;++n)e[n]._count--;return new iu(this.tree._compare,e[0])}else{if(e.length===1)return new iu(this.tree._compare,null);for(var n=0;n<e.length;++n)e[n]._count--;var f=e[e.length-2];vae(e),f.left===r?f.left=null:f.right=null}return new iu(this.tree._compare,e[0])};Object.defineProperty(Sa,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0});Object.defineProperty(Sa,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0});Object.defineProperty(Sa,"index",{get:function(){var t=0,e=this._stack;if(e.length===0){var r=this.tree.root;return r?r._count:0}else e[e.length-1].left&&(t=e[e.length-1].left._count);for(var n=e.length-2;n>=0;--n)e[n+1]===e[n].right&&(++t,e[n].left&&(t+=e[n].left._count));return t},enumerable:!0});Sa.next=function(){var t=this._stack;if(t.length!==0){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();t.length>0&&t[t.length-1].right===e;)e=t[t.length-1],t.pop()}};Object.defineProperty(Sa,"hasNext",{get:function(){var t=this._stack;if(t.length===0)return!1;if(t[t.length-1].right)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].left===t[e])return!0;return!1}});Sa.update=function(t){var e=this._stack;if(e.length===0)throw new Error("Can't update empty node!");var r=new Array(e.length),n=e[e.length-1];r[r.length-1]=new $i(n._color,n.key,t,n.left,n.right,n._count);for(var i=e.length-2;i>=0;--i)n=e[i],n.left===e[i+1]?r[i]=new $i(n._color,n.key,n.value,r[i+1],n.right,n._count):r[i]=new $i(n._color,n.key,n.value,n.left,r[i+1],n._count);return new iu(this.tree._compare,r[0])};Sa.prev=function(){var t=this._stack;if(t.length!==0){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();t.length>0&&t[t.length-1].left===e;)e=t[t.length-1],t.pop()}};Object.defineProperty(Sa,"hasPrev",{get:function(){var t=this._stack;if(t.length===0)return!1;if(t[t.length-1].left)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].right===t[e])return!0;return!1}});function yae(t,e){return t<e?-1:t>e?1:0}function mae(t){return new iu(t||yae,null)}});var oC=ee(aC=>{"use strict";x();var{AbstractLevel:bae,AbstractIterator:wae,AbstractKeyIterator:xae,AbstractValueIterator:_ae}=Im(),rC=xa(),nC=tC(),Eae=new Set(["gt","gte","lt","lte"]),nf=Symbol("none"),$n=Symbol("tree"),Qt=Symbol("iterator"),Zi=Symbol("lowerBound"),au=Symbol("upperBound"),iC=Symbol("outOfRange"),Cm=Symbol("reverse"),A4=Symbol("options"),Bi=Symbol("test"),Aa=Symbol("advance"),Dm=Symbol("init");function is(t,e){if(typeof t=="string")return t<e?-1:t>e?1:0;let r=Math.min(t.byteLength,e.byteLength);for(let n=0;n<r;n++){let i=t[n]-e[n];if(i!==0)return i}return t.byteLength-e.byteLength}function Sae(t){return is(t,this[au])>0}function Aae(t){return is(t,this[au])>=0}function Mae(t){return is(t,this[au])<0}function Tae(t){return is(t,this[au])<=0}var Bm=class extends wae{constructor(e,r){super(e,r),this[Dm](e[$n],r)}_next(e){if(!this[Qt].valid)return this.nextTick(e);let r=this[Qt].key,n=this[Qt].value;if(!this[Bi](r))return this.nextTick(e);this[Qt][this[Aa]](),this.nextTick(e,null,r,n)}_nextv(e,r,n){let i=this[Qt],a=[];for(;i.valid&&a.length<e&&this[Bi](i.key);)a.push([i.key,i.value]),i[this[Aa]]();this.nextTick(n,null,a)}_all(e,r){let n=this.limit-this.count,i=this[Qt],a=[];for(;i.valid&&a.length<n&&this[Bi](i.key);)a.push([i.key,i.value]),i[this[Aa]]();this.nextTick(r,null,a)}},Pm=class extends xae{constructor(e,r){super(e,r),this[Dm](e[$n],r)}_next(e){if(!this[Qt].valid)return this.nextTick(e);let r=this[Qt].key;if(!this[Bi](r))return this.nextTick(e);this[Qt][this[Aa]](),this.nextTick(e,null,r)}_nextv(e,r,n){let i=this[Qt],a=[];for(;i.valid&&a.length<e&&this[Bi](i.key);)a.push(i.key),i[this[Aa]]();this.nextTick(n,null,a)}_all(e,r){let n=this.limit-this.count,i=this[Qt],a=[];for(;i.valid&&a.length<n&&this[Bi](i.key);)a.push(i.key),i[this[Aa]]();this.nextTick(r,null,a)}},Nm=class extends _ae{constructor(e,r){super(e,r),this[Dm](e[$n],r)}_next(e){if(!this[Qt].valid)return this.nextTick(e);let r=this[Qt].key,n=this[Qt].value;if(!this[Bi](r))return this.nextTick(e);this[Qt][this[Aa]](),this.nextTick(e,null,n)}_nextv(e,r,n){let i=this[Qt],a=[];for(;i.valid&&a.length<e&&this[Bi](i.key);)a.push(i.value),i[this[Aa]]();this.nextTick(n,null,a)}_all(e,r){let n=this.limit-this.count,i=this[Qt],a=[];for(;i.valid&&a.length<n&&this[Bi](i.key);)a.push(i.value),i[this[Aa]]();this.nextTick(r,null,a)}};for(let t of[Bm,Pm,Nm])t.prototype[Dm]=function(e,r){this[Cm]=r.reverse,this[A4]=r,this[Cm]?(this[Aa]="prev",this[Zi]="lte"in r?r.lte:"lt"in r?r.lt:nf,this[au]="gte"in r?r.gte:"gt"in r?r.gt:nf,this[Zi]===nf?this[Qt]=e.end:"lte"in r?this[Qt]=e.le(this[Zi]):this[Qt]=e.lt(this[Zi]),this[au]!==nf&&(this[Bi]="gte"in r?Aae:Sae)):(this[Aa]="next",this[Zi]="gte"in r?r.gte:"gt"in r?r.gt:nf,this[au]="lte"in r?r.lte:"lt"in r?r.lt:nf,this[Zi]===nf?this[Qt]=e.begin:"gte"in r?this[Qt]=e.ge(this[Zi]):this[Qt]=e.gt(this[Zi]),this[au]!==nf&&(this[Bi]="lte"in r?Tae:Mae))},t.prototype[Bi]=function(){return!0},t.prototype[iC]=function(e){return this[Bi](e)?this[Zi]===nf?!1:this[Cm]?"lte"in this[A4]?is(e,this[Zi])>0:is(e,this[Zi])>=0:"gte"in this[A4]?is(e,this[Zi])<0:is(e,this[Zi])<=0:!0},t.prototype._seek=function(e,r){this[iC](e)?(this[Qt]=this[Qt].tree.end,this[Qt].next()):this[Cm]?this[Qt]=this[Qt].tree.le(e):this[Qt]=this[Qt].tree.ge(e)};var Lm=class extends bae{constructor(e,r,n){if(typeof e=="object"&&e!==null&&(r=e),typeof e=="function"||typeof r=="function"||typeof n=="function")throw new rC("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{storeEncoding:i,...a}=r||{};if(i=i||"buffer",!["buffer","view","utf8"].includes(i))throw new rC("The storeEncoding option must be 'buffer', 'view' or 'utf8'",{code:"LEVEL_ENCODING_NOT_SUPPORTED"});super({seek:!0,permanence:!1,createIfMissing:!1,errorIfExists:!1,encodings:{[i]:!0}},a),this[$n]=nC(is)}_put(e,r,n,i){let a=this[$n].find(e);a.valid?this[$n]=a.update(r):this[$n]=this[$n].insert(e,r),this.nextTick(i)}_get(e,r,n){let i=this[$n].get(e);if(typeof i>"u")return this.nextTick(n,new Error("NotFound"));this.nextTick(n,null,i)}_getMany(e,r,n){this.nextTick(n,null,e.map(i=>this[$n].get(i)))}_del(e,r,n){this[$n]=this[$n].remove(e),this.nextTick(n)}_batch(e,r,n){let i=this[$n];for(let a of e){let s=a.key,f=i.find(s);a.type==="put"?i=f.valid?f.update(a.value):i.insert(s,a.value):i=f.remove()}this[$n]=i,this.nextTick(n)}_clear(e,r){if(e.limit===-1&&!Object.keys(e).some(Oae))return this[$n]=nC(is),this.nextTick(r);let n=this._keys({...e}),i=n.limit,a=0,s=()=>{for(let f=0;f<500;f++){if(++a>i||!n[Qt].valid||!n[Bi](n[Qt].key))return r();this[$n]=this[$n].remove(n[Qt].key),n[Qt][n[Aa]]()}this.nextTick(s)};this.nextTick(s)}_iterator(e){return new Bm(this,e)}_keys(e){return new Pm(this,e)}_values(e){return new Nm(this,e)}};aC.MemoryLevel=Lm;if(typeof P.default<"u"&&!P.default.browser&&typeof D<"u"&&typeof D.setImmediate=="function"){let t=D.setImmediate;Lm.prototype.nextTick=function(e,...r){r.length===0?t(e):t(()=>e(...r))}}function Oae(t){return Eae.has(t)}});var Xp=ee(Um=>{"use strict";x();Object.defineProperty(Um,"__esModule",{value:!0});Um.LevelDbCache=void 0;var M4=Zs(),Iae=Xk(),Rae=oC(),kae=Zr(),qm=class{constructor(e,r=!1){this.value=e,this.tomb=r}},T4=class{get db(){if(!this._db)if(this.cacheOptions.inMemory)this._db=new Rae.MemoryLevel(this.subLevelOptions);else{if(!this.cacheOptions.dbLocation)throw new Error("LevelDb cache configuration error - no db location specified");let e=this.cacheOptions.dbLocation;this.logger.info(`Using location ${e}`),this._db=new Iae.Level(e,this.subLevelOptions)}return this._db}constructor(e){this.cacheOptions=e,this.ongoingTransactionMark="$$warp-internal-transaction$$",this.logger=kae.LoggerFactory.INST.create("LevelDbCache"),this.subLevelSeparator=e.subLevelSeparator||"!",this.subLevelOptions={valueEncoding:"json",separator:this.subLevelSeparator}}async get(e,r){this.validateKey(e.key);let n=this.db.sublevel(e.key,this.subLevelOptions);await n.open();let i=await this.getValueFromLevel(e.sortKey,n);return i?new M4.SortKeyCacheResult(e.sortKey,i):null}async getLast(e){let r=this.db.sublevel(e,this.subLevelOptions);await r.open();let n=await r.keys({reverse:!0,limit:1}).all();if(n.length){let i=await this.getValueFromLevel(n[0],r);if(i)return new M4.SortKeyCacheResult(n[0],i)}return null}async getLessOrEqual(e,r){let n=this.db.sublevel(e,this.subLevelOptions);await n.open();let i=await n.keys({reverse:!0,lte:r,limit:1}).all();if(i.length){let a=await this.getValueFromLevel(i[0],n);if(a!=null)return new M4.SortKeyCacheResult(i[0],a)}return null}async getValueFromLevel(e,r){try{let n=await r.get(e);if(n&&n.tomb===void 0&&n.value===void 0)return n;if(n&&n.tomb===!1&&n.value!=null)return n.value}catch(n){if(n.code!="LEVEL_NOT_FOUND")throw n}return null}async put(e,r){await this.setClientValue(e,new qm(r))}async del(e){await this.setClientValue(e,new qm(null,!0))}async setClientValue(e,r){this.validateKey(e.key);let n=this.db.sublevel(e.key,this.subLevelOptions);await n.open(),await n.put(e.sortKey,r),this._rollbackBatch&&this._rollbackBatch.del(e.sortKey,{sublevel:n})}async delete(e){let r=this.db.sublevel(e,this.subLevelOptions);await r.open(),await r.clear()}async batch(e){for(let r of e)r.type==="put"?await this.put(r.key,r.value):r.type==="del"&&await this.delete(r.key)}async open(){await this.db.open()}async close(){this._db&&await this._db.close()}async begin(){await this.initRollbackBatch()}async rollback(){this._rollbackBatch&&(this._rollbackBatch.del(this.ongoingTransactionMark),await this._rollbackBatch.write(),await this._rollbackBatch.close()),this._rollbackBatch=null}async initRollbackBatch(){return this._rollbackBatch==null&&(await this.checkPreviousTransactionFinished(),await this.db.put(this.ongoingTransactionMark,"ongoing"),this._rollbackBatch=this.db.batch()),this._rollbackBatch}async checkPreviousTransactionFinished(){let e;try{e=await this.db.get(this.ongoingTransactionMark)}catch(r){if(r.code!="LEVEL_NOT_FOUND")throw r}if(e=="ongoing")throw new Error("Database seems to be in inconsistent state. The previous transaction has not finished.")}async commit(){this._rollbackBatch&&(await this._rollbackBatch.clear(),await this.db.del(this.ongoingTransactionMark),await this._rollbackBatch.close()),this._rollbackBatch=null}async dump(){return await this.db.iterator().all()}async getLastSortKey(){let e="";await this.db.open();let r=await this.db.keys().all();for(let n of r){let i=n.split(this.subLevelSeparator)[1];i.localeCompare(e)>0&&(e=i)}return e==""?null:e}async keys(e,r){return Array.from((await this.kvMap(e,r)).keys())}validateKey(e){if(e.includes(this.ongoingTransactionMark))throw new Error(`Validation error: Key ${e} for internal use only`);if(e.includes(this.subLevelSeparator))throw new Error(`Validation error: key ${e} contains db separator ${this.subLevelSeparator}`)}extractOriginalKey(e){return e.split(this.subLevelSeparator)[1]}extractSortKey(e){return e.split(this.subLevelSeparator)[2]}async kvMap(e,r){let n=new Map,i=(await this.db.keys(this.levelRangeOptions(r)).all()).filter(a=>a!=this.ongoingTransactionMark).filter(a=>!e||this.extractSortKey(a).localeCompare(e)<=0).map(a=>this.extractOriginalKey(a));for(let a of i){let s=await this.getLessOrEqual(a,e);s&&n.set(a,s.cachedValue)}if(r?.limit){let a=new Map;for(let s of Array.from(n.entries()).slice(0,r.limit))a.set(s[0],s[1]);return a}return n}levelRangeOptions(e){let r={reverse:e?.reverse};return e?.gte&&(r.gte=this.subLevelSeparator+e.gte),e?.lt&&(r.lt=this.subLevelSeparator+e.lt),r}storage(){return this.db}async getNumEntries(){return(await this.db.keys().all()).length}async prune(e=5){(!e||e<=0)&&(e=1);let r=await this.allKeys();for(let n=0;n<r.length;n++){let i=this.db.sublevel(r[n],this.subLevelOptions);await i.open();let a=await i.keys({reverse:!0,limit:e}).all();!a||a.length<e||(await i.clear({lt:a[a.length-1]}),await i.close())}return null}async allKeys(){return(await this.db.keys().all()).filter(e=>e!=this.ongoingTransactionMark).map(e=>this.extractOriginalKey(e))}};Um.LevelDbCache=T4});var sC=ee(Fm=>{"use strict";x();Object.defineProperty(Fm,"__esModule",{value:!0});Fm.MemCache=void 0;var O4=class{constructor(){this.storage={}}clearAll(){Object.keys(this.storage).forEach(e=>{delete this.storage[e]})}contains(e){return Object.prototype.hasOwnProperty.call(this.storage,e)}get(e){return this.storage[e]}put(e,r){this.storage[e]=r}remove(e){delete this.storage[e]}};Fm.MemCache=O4});var uC=ee(fC=>{"use strict";x();Object.defineProperty(fC,"__esModule",{value:!0})});var lC=ee(cC=>{"use strict";x();Object.defineProperty(cC,"__esModule",{value:!0})});var dC=ee(hC=>{"use strict";x();Object.defineProperty(hC,"__esModule",{value:!0})});var gC=ee(pC=>{"use strict";x();Object.defineProperty(pC,"__esModule",{value:!0})});var MC=ee(t0=>{"use strict";x();Object.defineProperty(t0,"__esModule",{value:!0});var Cae=Function.prototype.toString,I4=Object.create,Bae=Object.prototype.toString,Pae=function(){function t(){this._keys=[],this._values=[]}return t.prototype.has=function(e){return!!~this._keys.indexOf(e)},t.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},t.prototype.set=function(e,r){this._keys.push(e),this._values.push(r)},t}();function Nae(){return new Pae}function Lae(){return new WeakMap}var Dae=typeof WeakMap<"u"?Lae:Nae;function k4(t){if(!t)return I4(null);var e=t.constructor;if(e===Object)return t===Object.prototype?{}:I4(t);if(~Cae.call(e).indexOf("[native code]"))try{return new e}catch{}return I4(t)}function qae(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}function Uae(t){return t.flags}var Fae=/test/g.flags==="g"?Uae:qae;function vC(t){var e=Bae.call(t);return e.substring(8,e.length-1)}function jae(t){return t[Symbol.toStringTag]||vC(t)}var zae=typeof Symbol<"u"?jae:vC,Kae=Object.defineProperty,Wae=Object.getOwnPropertyDescriptor,yC=Object.getOwnPropertyNames,C4=Object.getOwnPropertySymbols,mC=Object.prototype,bC=mC.hasOwnProperty,Gae=mC.propertyIsEnumerable,wC=typeof C4=="function";function Hae(t){return yC(t).concat(C4(t))}var $ae=wC?Hae:yC;function zm(t,e,r){for(var n=$ae(t),i=0,a=n.length,s=void 0,f=void 0;i<a;++i)if(s=n[i],!(s==="callee"||s==="caller")){if(f=Wae(t,s),!f){e[s]=r.copier(t[s],r);continue}!f.get&&!f.set&&(f.value=r.copier(f.value,r));try{Kae(e,s,f)}catch{e[s]=f.value}}return e}function Vae(t,e){var r=new e.Constructor;e.cache.set(t,r);for(var n=0,i=t.length;n<i;++n)r[n]=e.copier(t[n],e);return r}function Zae(t,e){var r=new e.Constructor;return e.cache.set(t,r),zm(t,r,e)}function xC(t,e){return t.slice(0)}function Jae(t,e){return t.slice(0,t.size,t.type)}function Yae(t,e){return new e.Constructor(xC(t.buffer))}function Xae(t,e){return new e.Constructor(t.getTime())}function _C(t,e){var r=new e.Constructor;return e.cache.set(t,r),t.forEach(function(n,i){r.set(i,e.copier(n,e))}),r}function Qae(t,e){return zm(t,_C(t,e),e)}function eoe(t,e){var r=k4(e.prototype);e.cache.set(t,r);for(var n in t)bC.call(t,n)&&(r[n]=e.copier(t[n],e));return r}function toe(t,e){var r=k4(e.prototype);e.cache.set(t,r);for(var n in t)bC.call(t,n)&&(r[n]=e.copier(t[n],e));for(var i=C4(t),a=0,s=i.length,f=void 0;a<s;++a)f=i[a],Gae.call(t,f)&&(r[f]=e.copier(t[f],e));return r}var roe=wC?toe:eoe;function noe(t,e){var r=k4(e.prototype);return e.cache.set(t,r),zm(t,r,e)}function R4(t,e){return new e.Constructor(t.valueOf())}function ioe(t,e){var r=new e.Constructor(t.source,Fae(t));return r.lastIndex=t.lastIndex,r}function jm(t,e){return t}function EC(t,e){var r=new e.Constructor;return e.cache.set(t,r),t.forEach(function(n){r.add(e.copier(n,e))}),r}function aoe(t,e){return zm(t,EC(t,e),e)}var ooe=Array.isArray,B4=Object.assign,soe=Object.getPrototypeOf||function(t){return t.__proto__},SC={array:Vae,arrayBuffer:xC,blob:Jae,dataView:Yae,date:Xae,error:jm,map:_C,object:roe,regExp:ioe,set:EC},foe=B4({},SC,{array:Zae,map:Qae,object:noe,set:aoe});function uoe(t){return{Arguments:t.object,Array:t.array,ArrayBuffer:t.arrayBuffer,Blob:t.blob,Boolean:R4,DataView:t.dataView,Date:t.date,Error:t.error,Float32Array:t.arrayBuffer,Float64Array:t.arrayBuffer,Int8Array:t.arrayBuffer,Int16Array:t.arrayBuffer,Int32Array:t.arrayBuffer,Map:t.map,Number:R4,Object:t.object,Promise:jm,RegExp:t.regExp,Set:t.set,String:R4,WeakMap:jm,WeakSet:jm,Uint8Array:t.arrayBuffer,Uint8ClampedArray:t.arrayBuffer,Uint16Array:t.arrayBuffer,Uint32Array:t.arrayBuffer,Uint64Array:t.arrayBuffer}}function P4(t){var e=B4({},SC,t),r=uoe(e),n=r.Array,i=r.Object;function a(s,f){if(f.prototype=f.Constructor=void 0,!s||typeof s!="object")return s;if(f.cache.has(s))return f.cache.get(s);if(f.prototype=soe(s),f.Constructor=f.prototype&&f.prototype.constructor,!f.Constructor||f.Constructor===Object)return i(s,f);if(ooe(s))return n(s,f);var l=r[zae(s)];return l?l(s,f):typeof s.then=="function"?s:i(s,f)}return function(f){return a(f,{Constructor:void 0,cache:Dae(),copier:a,prototype:void 0})}}function AC(t){return P4(B4({},foe,t))}var coe=AC({}),loe=P4({});t0.copyStrict=coe;t0.createCopier=P4;t0.createStrictCopier=AC;t0.default=loe});var Vm=ee(Ma=>{"use strict";x();Object.defineProperty(Ma,"__esModule",{value:!0});Ma.KV=Ma.SWVrf=Ma.SWBlock=Ma.SWTransaction=Ma.SmartWeaveGlobal=void 0;var Km=Zs(),hoe=Vn(),N4=class{constructor(e,r,n,i,a){this.gasUsed=0,this.gasLimit=Number.MAX_SAFE_INTEGER,this.unsafeClient=e,this.arweave={ar:e.ar,utils:e.utils,wallets:e.wallets,crypto:e.crypto},this.baseArweaveUrl=`${e.api.config.protocol}://${e.api.config.host}:${e.api.config.port}`,this.safeArweaveGet=async function(s){return(0,hoe.safeGet)(`${this.baseArweaveUrl}${s}`)},this.evaluationOptions=n,this.contract=r,this.transaction=new Wm(this),this.block=new Gm(this),this.contracts={readContractState:(s,f,l)=>{throw new Error("Not implemented - should be set by HandlerApi implementor")},viewContractState:(s,f)=>{throw new Error("Not implemented - should be set by HandlerApi implementor")},write:(s,f,l)=>{throw new Error("Not implemented - should be set by HandlerApi implementor")},refreshState:()=>{throw new Error("Not implemented - should be set by HandlerApi implementor")}},this.vrf=new Hm(this),this.useGas=this.useGas.bind(this),this.getBalance=this.getBalance.bind(this),this.extensions={},this.kv=new $m(a,i,this.transaction,this.contract.id)}useGas(e){if(e<0)throw new Error("[RE:GNE] Gas number exception - gas < 0.");if(this.gasUsed+=e,this.gasUsed>this.gasLimit)throw new Error(`[RE:OOG] Out of gas! Used: ${this.gasUsed}, limit: ${this.gasLimit}`)}async getBalance(e,r){if(!this._activeTx)throw new Error("Cannot read balance - active tx is not set.");if(!this.block.height)throw new Error("Cannot read balance - block height not set.");let n=r||this.block.height;return await fetch(`${this.evaluationOptions.walletBalanceUrl}block/height/${n}/wallet/${e}/balance`).then(i=>i.ok?i.text():Promise.reject(i)).catch(i=>{var a;throw new Error(`Unable to read wallet balance. ${i.status}. ${(a=i.body)===null||a===void 0?void 0:a.message}`)})}};Ma.SmartWeaveGlobal=N4;var Wm=class{constructor(e){this.smartWeaveGlobal=e}get id(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.id}get owner(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.owner.address}get target(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.recipient}get tags(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.tags}get sortKey(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.sortKey}get dryRun(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.dry===!0}get quantity(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.quantity.winston}get reward(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.fee.winston}get origin(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.source==="redstone-sequencer"?"L2":"L1"}};Ma.SWTransaction=Wm;var Gm=class{constructor(e){this.smartWeaveGlobal=e}get height(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.block.height}get indep_hash(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.block.id}get timestamp(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current tx");return this.smartWeaveGlobal._activeTx.block.timestamp}};Ma.SWBlock=Gm;var Hm=class{constructor(e){this.smartWeaveGlobal=e}get data(){return this.smartWeaveGlobal._activeTx.vrf}get value(){return this.smartWeaveGlobal._activeTx.vrf.bigint}randomInt(e){if(!Number.isInteger(e))throw new Error("Integer max value required for random integer generation");let r=BigInt(this.smartWeaveGlobal._activeTx.vrf.bigint)%BigInt(e)+BigInt(1);if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)throw new Error("Random int cannot be cast to number");return Number(r)}};Ma.SWVrf=Hm;var $m=class{constructor(e,r,n,i){this._storage=e,this._interactionState=r,this._transaction=n,this._contractTxId=i}async put(e,r){this.checkStorageAvailable(),await this._storage.put(new Km.CacheKey(e,this._transaction.sortKey),r)}async get(e){var r;this.checkStorageAvailable();let n=this._transaction.sortKey,i=await this._interactionState.getKV(this._contractTxId,new Km.CacheKey(e,this._transaction.sortKey));if(i!=null)return i;let a=await this._storage.getLessOrEqual(e,this._transaction.sortKey);return(r=a?.cachedValue)!==null&&r!==void 0?r:null}async del(e){this.checkStorageAvailable();let r=this._transaction.sortKey,n=await this._interactionState.delKV(this._contractTxId,new Km.CacheKey(e,this._transaction.sortKey));if(n!=null)return n;await this._storage.del(new Km.CacheKey(e,this._transaction.sortKey))}async keys(e){let r=this._transaction.sortKey;return await this._storage.keys(r,e)}async kvMap(e){let r=this._transaction.sortKey;return this._storage.kvMap(r,e)}async begin(){if(this._storage)return this._storage.begin()}async commit(){this._storage&&(this._transaction.dryRun?await this._storage.rollback():await this._storage.commit())}async rollback(){this._storage&&await this._storage.rollback()}open(){if(this._storage)return this._storage.open()}close(){if(this._storage)return this._storage.close()}checkStorageAvailable(){if(!this._storage)throw new Error("KV Storage not available")}};Ma.KV=$m});var L4=ee(Zm=>{"use strict";x();Object.defineProperty(Zm,"__esModule",{value:!0});Zm.rustWasmImports=void 0;var doe=Zr(),poe=(t,e,r,n,i)=>{let a=doe.LoggerFactory.INST.create("WASM:Rust"),s={metering:{usegas:t.useGas},console:{log:function($){a.debug(`${t.contract.id}: ${$}`)}},Block:{height:function(){return t.block.height},indep_hash:function(){return t.block.indep_hash},timestamp:function(){return t.block.timestamp}},Transaction:{id:function(){return t.transaction.id},owner:function(){return t.transaction.owner},target:function(){return t.transaction.target}},Contract:{id:function(){return t.contract.id},owner:function(){return t.contract.owner}},KV:{get:async function($){return await t.kv.get($)},put:async function($,oe){await t.kv.put($,oe)}},SmartWeave:{caller:function(){return t.caller},readContractState:async function($){return await t.contracts.readContractState($)},viewContractState:async function($,oe){return await t.contracts.viewContractState($,oe)},write:async function($,oe){return await t.contracts.write($,oe,!1)}},Vrf:{value:function(){return t.vrf.value},randomInt:function($){return t.vrf.randomInt($)}}},f=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});f.decode();let l=null;function g(){return(l===null||l.byteLength===0)&&(l=new Uint8Array(r.exports.memory.buffer)),l}function m($,oe){return f.decode(g().subarray($,$+oe))}let A=new Array(128).fill(void 0);A.push(void 0,null,!0,!1);let I=A.length;function T($){I===A.length&&A.push(A.length+1);let oe=I;if(I=A[oe],typeof I!="number")throw new Error("corrupt heap");return A[oe]=$,oe}function O($){return A[$]}function U($){if(typeof $!="boolean")throw new Error("expected a boolean argument")}function Z($){return $==null}function Y($){if(typeof $!="number")throw new Error("expected a number argument")}let re=null;function pe(){return(re===null||re.byteLength===0)&&(re=new Float64Array(r.exports.memory.buffer)),re}let he=null;function se(){return(he===null||he.byteLength===0)&&(he=new Int32Array(r.exports.memory.buffer)),he}let fe=0,de=new TextEncoder("utf-8"),G=typeof de.encodeInto=="function"?function($,oe){return de.encodeInto($,oe)}:function($,oe){let le=de.encode($);return oe.set(le),{read:$.length,written:le.length}};function L($,oe,le){if(typeof $!="string")throw new Error("expected a string argument");if(le===void 0){let V=de.encode($),Q=oe(V.length);return g().subarray(Q,Q+V.length).set(V),fe=V.length,Q}let Ee=$.length,Be=oe(Ee),Ae=g(),R=0;for(;R<Ee;R++){let V=$.charCodeAt(R);if(V>127)break;Ae[Be+R]=V}if(R!==Ee){R!==0&&($=$.slice(R)),Be=le(Be,Ee,Ee=R+$.length*3);let V=g().subarray(Be+R,Be+Ee),Q=G($,V);if(Q.read!==$.length)throw new Error("failed to pass whole string");R+=Q.written}return fe=R,Be}function q($){$<132||(A[$]=I,I=$)}function S($){let oe=O($);return q($),oe}function B($){let oe=typeof $;if(oe=="number"||oe=="boolean"||$==null)return`${$}`;if(oe=="string")return`"${$}"`;if(oe=="symbol"){let Be=$.description;return Be==null?"Symbol":`Symbol(${Be})`}if(oe=="function"){let Be=$.name;return typeof Be=="string"&&Be.length>0?`Function(${Be})`:"Function"}if(Array.isArray($)){let Be=$.length,Ae="[";Be>0&&(Ae+=B($[0]));for(let R=1;R<Be;R++)Ae+=", "+B($[R]);return Ae+="]",Ae}let le=/\[object ([^\]]+)\]/.exec(toString.call($)),Ee;if(le.length>1)Ee=le[1];else return toString.call($);if(Ee=="Object")try{return"Object("+JSON.stringify($)+")"}catch{return"Object"}return $ instanceof Error?`${$.name}: ${$.message}
${$.stack}`:Ee}function y($){if(typeof $!="bigint")throw new Error("expected a bigint argument")}let o=null;function u(){return(o===null||o.byteLength===0)&&(o=new BigInt64Array(r.exports.memory.buffer)),o}function h($,oe,le,Ee){let Be={a:$,b:oe,cnt:1,dtor:le},Ae=(...R)=>{Be.cnt++;let V=Be.a;Be.a=0;try{return Ee(V,Be.b,...R)}finally{--Be.cnt===0?r.exports.__wbindgen_export_2.get(Be.dtor)(V,Be.b):Be.a=V}};return Ae.original=Be,Ae}function p($,oe){try{return $.apply(this,oe)}catch(le){let Ee=function(){try{return le instanceof Error?`${le.message}

Stack:
${le.stack}`:le.toString()}catch{return"<failed to stringify thrown value>"}}();throw console.error("wasm-bindgen: imported JS function that was not marked as `catch` threw an error:",Ee),le}}function v($,oe,le){Y($),Y(oe),r.modifiedExports._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__($,oe,T(le))}function d($){let oe=r.exports.warpContractWrite(T($));return S(oe)}function E($){var oe=r.exports.handle(T($));return S(oe)}let w=128;function c($){if(w==1)throw new Error("out of js stack");return A[--w]=$,w}function b($){try{let Ee=r.exports.__wbindgen_add_to_stack_pointer(-16);r.exports.initState(Ee,c($));var oe=se()[Ee/4+0],le=se()[Ee/4+1];let Be;return oe!==0&&(Be=m(oe,le).slice(),r.exports.__wbindgen_free(oe,le*1)),Be}finally{r.exports.__wbindgen_add_to_stack_pointer(16),A[w++]=void 0}}function ue($){try{r.exports.initState(c($))}finally{A[w++]=void 0}}function F(){let $=r.exports.currentState();return S($)}function ne(){return r.exports.version()}function ce(){return r.exports.lang()}function xe($){let oe=r.exports.warpContractView(T($));return S(oe)}function M($,oe){try{return $.apply(this,oe)}catch(le){r.exports.__wbindgen_exn_store(T(le))}}function k($,oe,le,Ee){Y($),Y(oe),r.modifiedExports.wasm_bindgen__convert__closures__invoke2_mut__($,oe,T(le),T(Ee))}function C($){return()=>{throw new Error(`${$} is not defined`)}}let z={__wbindgen_json_parse:function($,oe){let le=JSON.parse(m($,oe));return T(le)},__wbindgen_json_serialize:function($,oe){let le=O(oe),Ee=JSON.stringify(le===void 0?null:le),Be=L(Ee,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Ae=fe;se()[$/4+1]=Ae,se()[$/4+0]=Be},__wbindgen_error_new:function($,oe){let le=new Error(m($,oe));return T(le)},__wbindgen_is_undefined:function($){let oe=O($)===void 0;return U(oe),oe},__wbindgen_in:function($,oe){let le=O($)in O(oe);return U(le),le},__wbindgen_number_get:function($,oe){let le=O(oe),Ee=typeof le=="number"?le:void 0;Z(Ee)||Y(Ee),pe()[$/8+1]=Z(Ee)?0:Ee,se()[$/4+0]=!Z(Ee)},__wbindgen_boolean_get:function($){let oe=O($),le=typeof oe=="boolean"?oe?1:0:2;return Y(le),le},__wbindgen_is_null:function($){let oe=O($)===null;return U(oe),oe},__wbindgen_string_new:function($,oe){let le=m($,oe);return T(le)},__wbindgen_string_get:function($,oe){let le=O(oe),Ee=typeof le=="string"?le:void 0;var Be=Z(Ee)?0:L(Ee,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Ae=fe;se()[$/4+1]=Ae,se()[$/4+0]=Be},__wbindgen_is_bigint:function($){let oe=typeof O($)=="bigint";return U(oe),oe},__wbindgen_is_object:function($){let oe=O($),le=typeof oe=="object"&&oe!==null;return U(le),le},__wbindgen_object_clone_ref:function($){let oe=O($);return T(oe)},__wbindgen_jsval_eq:function($,oe){let le=O($)===O(oe);return U(le),le},__wbindgen_bigint_from_i64:function($){return T($)},__wbindgen_bigint_from_u64:function($){let oe=BigInt.asUintN(64,$);return T(oe)},__wbg_readContractState:function(){return M(function($,oe){let le=s.SmartWeave.readContractState(m($,oe));return T(le)},arguments)},__wbg_viewContractState:function(){return M(function($,oe,le){let Ee=s.SmartWeave.viewContractState(m($,oe),S(le));return T(Ee)},arguments)},__wbg_write:function(){return M(function($,oe,le){let Ee=s.SmartWeave.write(m($,oe),S(le));return T(Ee)},arguments)},__wbg_refreshState:function($,oe){},__wbg_kvGet:function(){return M(function($,oe){let le=s.KV.get(m($,oe));return T(le)},arguments)},__wbg_kvPut:function(){return M(function($,oe,le){let Ee=s.KV.put(m($,oe),S(le));return T(Ee)},arguments)},__wbindgen_object_drop_ref:function($){S($)},__wbg_error:function(){return p(function($,oe){try{s.console.log(m($,oe))}finally{r.exports.__wbindgen_free($,oe)}},arguments)},__wbg_new_abda76e883ba8a5f:function(){return p(function(){let $=new Error;return T($)},arguments)},__wbg_stack:function(){return p(function($,oe){let le=Error.stackTraceLimit;Error.stackTraceLimit=25;let Ee=O(oe).stack,Be=L(Ee,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Ae=fe;se()[$/4+1]=Ae,se()[$/4+0]=Be,Error.stackTraceLimit=le},arguments)},__wbg_indephash:function(){return p(function($){let oe=s.Block.indep_hash(),le=L(oe,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Ee=fe;se()[$/4+1]=Ee,se()[$/4+0]=le},arguments)},__wbg_height:function(){return p(function(){let $=s.Block.height();return Y($),$},arguments)},__wbg_timestamp:function(){return p(function(){let $=s.Block.timestamp();return Y($),$},arguments)},__wbg_contractId:function(){return p(function($){let oe=s.Contract.id(),le=L(oe,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Ee=fe;se()[$/4+1]=Ee,se()[$/4+0]=le},arguments)},__wbg_contractOwner:function(){return p(function($){let oe=s.Contract.owner(),le=L(oe,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Ee=fe;se()[$/4+1]=Ee,se()[$/4+0]=le},arguments)},__wbg_id:function(){return p(function($){let oe=s.Transaction.id(),le=L(oe,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Ee=fe;se()[$/4+1]=Ee,se()[$/4+0]=le},arguments)},__wbg_owner:function(){return p(function($){let oe=s.Transaction.owner(),le=L(oe,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Ee=fe;se()[$/4+1]=Ee,se()[$/4+0]=le},arguments)},__wbg_target:function(){return p(function($){let oe=s.Transaction.target(),le=L(oe,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Ee=fe;se()[$/4+1]=Ee,se()[$/4+0]=le},arguments)},__wbg_caller:function(){return p(function($){let oe=s.SmartWeave.caller(),le=L(oe,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Ee=fe;se()[$/4+1]=Ee,se()[$/4+0]=le},arguments)},__wbg_value_b245bf3240b21a48:function(){return p(function($){let oe=s.Vrf.value(),le=L(oe,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Ee=fe;se()[$/4+1]=Ee,se()[$/4+0]=le},arguments)},__wbg_value_7d69ddc3f1ad7876:function(){return p(function($){let oe=s.Vrf.value(),le=L(oe,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Ee=fe;se()[$/4+1]=Ee,se()[$/4+0]=le},arguments)},__wbg_vrfValue:function(){return p(function($){let oe=s.Vrf.value(),le=L(oe,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Ee=fe;se()[$/4+1]=Ee,se()[$/4+0]=le},arguments)},__wbg_randomInt:function(){return p(function($){let oe=s.Vrf.randomInt($);return Y(oe),oe},arguments)},__wbg_log:function(){return p(function($,oe){s.console.log(m($,oe))},arguments)},__wbindgen_cb_drop:function($){let oe=S($).original;if(oe.cnt--==1)return oe.a=0,!0;let le=!1;return U(le),le},__wbg_debug:function(){return p(function($){console.log(O($))},arguments)},__wbg_String:function(){return p(function($,oe){let le=String(O(oe)),Ee=L(le,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Be=fe;se()[$/4+1]=Be,se()[$/4+0]=Ee},arguments)},__wbg_getwithrefkey:function(){return p(function($,oe){let le=O($)[O(oe)];return T(le)},arguments)},__wbg_set_841ac57cff3d672b:function(){return p(function($,oe,le){O($)[S(oe)]=S(le)},arguments)},__wbindgen_number_new:function($){return T($)},__wbindgen_jsval_loose_eq:function($,oe){let le=O($)==O(oe);return U(le),le},__wbg_get_27fe3dac1c4d0224:function(){return p(function($,oe){let le=O($)[oe>>>0];return T(le)},arguments)},__wbg_set_17224bc548dd1d7b:function(){return p(function($,oe,le){O($)[oe>>>0]=S(le)},arguments)},__wbg_isArray:function(){return p(function($){let oe=Array.isArray(O($));return U(oe),oe},arguments)},__wbg_length_e498fbc24f9c1d4f:function(){return p(function($){let oe=O($).length;return Y(oe),oe},arguments)},__wbg_new_b525de17f44a8943:function(){return p(function(){let $=new Array;return T($)},arguments)},__wbg_instanceof_ArrayBuffer:function(){return p(function($){let oe;try{oe=O($)instanceof ArrayBuffer}catch{oe=!1}let le=oe;return U(le),le},arguments)},__wbg_call_95d1ea488d03e4e8:function(){return M(function($,oe){let le=O($).call(O(oe));return T(le)},arguments)},__wbg_call_9495de66fdbe016b:function(){return M(function($,oe,le){let Ee=O($).call(O(oe),O(le));return T(Ee)},arguments)},__wbg_call_94697a95cb7e239c:function(){return M(function($,oe,le){let Ee=O($).call(O(oe),O(le));return T(Ee)},arguments)},__wbg_new_f841cc6f2098f4b5:function(){return p(function(){return T(new Map)},arguments)},__wbg_set_388c4c6422704173:function(){return p(function($,oe,le){let Ee=O($).set(O(oe),O(le));return T(Ee)},arguments)},__wbg_next_88560ec06a094dea:function(){return M(function($){let oe=O($).next();return T(oe)},arguments)},__wbg_next_b7d530c04fd8b217:function(){return p(function($){let oe=O($).next;return T(oe)},arguments)},__wbg_done:function(){return p(function($){let oe=O($).done;return U(oe),oe},arguments)},__wbg_value_6ac8da5cc5b3efda:function(){return p(function($){let oe=O($).value;return T(oe)},arguments)},__wbg_isSafeInteger:function(){return p(function($){let oe=Number.isSafeInteger(O($));return U(oe),oe},arguments)},__wbg_entries:function(){return p(function($){let oe=Object.entries(O($));return T(oe)},arguments)},__wbg_new_f9876326328f45ed:function(){return p(function(){let $=new Object;return T($)},arguments)},__wbg_iterator:function(){return p(function(){return T(Symbol.iterator)},arguments)},__wbg_new_9d3a9ce4282a18a8:function(){return p(function($,oe){try{var le={a:$,b:oe},Ee=(Ae,R)=>{let V=le.a;le.a=0;try{return k(V,le.b,Ae,R)}finally{le.a=V}};let Be=new Promise(Ee);return T(Be)}finally{le.a=le.b=0}},arguments)},__wbg_new_4beacc9c71572250:function(){return p(function($,oe){try{var le={a:$,b:oe},Ee=(Ae,R)=>{let V=le.a;le.a=0;try{return k(V,le.b,Ae,R)}finally{le.a=V}};let Be=new Promise(Ee);return T(Be)}finally{le.a=le.b=0}},arguments)},__wbg_resolve:function(){return p(function($){let oe=Promise.resolve(O($));return T(oe)},arguments)},__wbg_then_ec5db6d509eb475f:function(){return p(function($,oe){let le=O($).then(O(oe));return T(le)},arguments)},__wbg_then_a6860c82b90816ca:function(){return p(function($,oe){let le=O($).then(O(oe));return T(le)},arguments)},__wbg_then_f753623316e2873a:function(){return p(function($,oe,le){let Ee=O($).then(O(oe),O(le));return T(Ee)},arguments)},__wbg_then_58a04e42527f52c6:function(){return p(function($,oe,le){let Ee=O($).then(O(oe),O(le));return T(Ee)},arguments)},__wbg_instanceof_Uint8Array:function(){return p(function($){let oe;try{oe=O($)instanceof Uint8Array}catch{oe=!1}let le=oe;return U(le),le},arguments)},__wbg_new_537b7341ce90bb31:function(){return p(function($){let oe=new Uint8Array(O($));return T(oe)},arguments)},__wbg_length_27a2afe8ab42b09f:function(){return p(function($){let oe=O($).length;return Y(oe),oe},arguments)},__wbg_set_17499e8aa4003ebd:function(){return p(function($,oe,le){O($).set(O(oe),le>>>0)},arguments)},__wbindgen_is_function:function($){let oe=typeof O($)=="function";return U(oe),oe},__wbindgen_is_string:function($){let oe=typeof O($)=="string";return U(oe),oe},__wbg_buffer:function(){return p(function($){let oe=O($).buffer;return T(oe)},arguments)},__wbg_get_baf4855f9a986186:function(){return M(function($,oe){let le=Reflect.get(O($),O(oe));return T(le)},arguments)},__wbindgen_debug_string:function($,oe){let le=B(O(oe)),Ee=L(le,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Be=fe;se()[$/4+1]=Be,se()[$/4+0]=Ee},__wbindgen_bigint_get_as_i64:function($,oe){let le=O(oe),Ee=typeof le=="bigint"?le:void 0;Z(Ee)||y(Ee),u()[$/8+1]=Z(Ee)?BigInt(0):Ee,se()[$/4+0]=!Z(Ee)},__wbindgen_throw:function($,oe){throw new Error(m($,oe))},__wbindgen_memory:function(){let $=r.exports.memory;return T($)},__wbindgen_closure_wrapper:function(){return p(function($,oe,le){let Ee=h($,oe,n,v);return T(Ee)},arguments)}},H={_assertBoolean:U,_assertNum:Y,addBorrowedObject:c,addHeapObject:T,getInt32Memory0:se,getObject:O,getStringFromWasm0:m,handleError:M,heap:()=>A,logError:p,notDefined:C,passStringToWasm0:L,takeObject:S,wasm:()=>r.exports,WASM_VECTOR_LEN:()=>fe,__wbg_adapter_4:k,__wbg_adapter_3:v};function j($){return function(){return p(function(oe){let le=$(S(oe));return T(le)},arguments)}}function J($,oe){var le,Ee;let Be={};for(let[Ae,R]of Object.entries($.extensions)){let V=(Ee=(le=R.rustImports)===null||le===void 0?void 0:le.call(R,oe))!==null&&Ee!==void 0?Ee:{};for(let[Q,ve]of Object.entries(V))Q.startsWith("__wbg_")?Be[Q]=ve:Be["__wbg_"+Q]=j(ve)}return Be}let W={...z,...J(t,H)},K=Object.keys(W),X=e.reduce(($,oe)=>{let le=K.find(Ee=>oe.startsWith(Ee));if(le===void 0)throw new Error(`Cannot find import mapping for ${oe}. Please file a bug.`);if(K.filter(Ee=>oe.startsWith(Ee)).length!=1)throw new Error(`Multiple import mappings for ${oe}. Please file a bug.`);if($.usedKeys.has(le))throw new Error(`Multiple methods maps to ${le}. Please file a bug.`);return $.res[oe]=W[le],$.usedKeys.add(le),$},{res:{},usedKeys:new Set}).res;i==="__WARP_CONTRACTS_VERSION_LEGACY"?(X.initStateLegacy=ue,X.handle=E):(X.initState=b,X.warpContractWrite=d,X.warpContractView=xe),X.currentState=F,X.version=ne,X.lang=ce;let te={};te.__wbindgen_placeholder__=X;class ae{__destroy_into_raw(){let oe=this.ptr;return this.ptr=0,oe}free(){let oe=this.__destroy_into_raw();r.exports.__wbg_statewrapper_free(oe)}}return X.StateWrapper=ae,te.metering=s.metering,{imports:te,exports:X}};Zm.rustWasmImports=poe});var Ym=ee(Jm=>{"use strict";x();Object.defineProperty(Jm,"__esModule",{value:!0});Jm.AbstractContractHandler=void 0;var goe=Zr(),TC=Vn(),OC=r0(),D4=class{constructor(e,r){this.swGlobal=e,this.contractDefinition=r,this.logger=goe.LoggerFactory.INST.create("ContractHandler"),this.assignReadContractState=this.assignReadContractState.bind(this),this.assignViewContractState=this.assignViewContractState.bind(this),this.assignWrite=this.assignWrite.bind(this),this.assignRefreshState=this.assignRefreshState.bind(this)}async dispose(){}assignWrite(e){this.swGlobal.contracts.write=async(r,n,i)=>{if(!e.evaluationOptions.internalWrites)throw new Error("Internal writes feature switched off. Change EvaluationOptions.internalWrites flag to 'true'");let a=i??e.evaluationOptions.throwOnInternalWriteError,s={from:this.contractDefinition.txId,to:r,input:n};this.logger.debug("swGlobal.write call:",s);let f=e.warp.contract(r,e.contract,{callingInteraction:this.swGlobal._activeTx,callType:"write"}),l=await f.applyInput(n,this.swGlobal._activeTx);this.logger.debug("Cache result?:",!this.swGlobal._activeTx.dry);let g=l.type!=="ok"&&a&&(!this.swGlobal._activeTx.dry||this.swGlobal._activeTx.dry&&this.swGlobal._activeTx.strict),m=g?`Internal write auto error for call [${JSON.stringify(s)}]: ${l.errorMessage}`:l.errorMessage,A=m?{...l.originalErrorMessages,[this.swGlobal._activeTx.id]:m}:l.originalErrorMessages;if(f.interactionState().update(f.txId(),{state:l.state,validity:{...l.originalValidity,[this.swGlobal._activeTx.id]:l.type=="ok"},errorMessages:A},this.swGlobal._activeTx.sortKey),g)throw new OC.ContractError(l.type==="error"&&l.error?l.error:m);return l}}assignViewContractState(e){this.swGlobal.contracts.viewContractState=async(r,n)=>(this.logger.debug("swGlobal.viewContractState call:",{from:this.contractDefinition.txId,to:r,input:n}),await e.warp.contract(r,e.contract,{callingInteraction:this.swGlobal._activeTx,callType:"view"}).viewStateForTx(n,this.swGlobal._activeTx))}assignReadContractState(e,r){this.swGlobal.contracts.readContractState=async(n,i)=>{var a,s,f;this.logger.debug("swGlobal.readContractState call:",{from:this.contractDefinition.txId,to:n,sortKey:r.sortKey,transaction:this.swGlobal.transaction.id});let{contract:l,warp:g}=e,A=await g.contract(n,l,{callingInteraction:r,callType:"read"}).readState(r.sortKey);if(!((a=A?.cachedValue)===null||a===void 0)&&a.errorMessages){let T=Reflect.ownKeys((s=A?.cachedValue)===null||s===void 0?void 0:s.errorMessages);if(T.length){let O=T[T.length-1],U=(f=A?.cachedValue)===null||f===void 0?void 0:f.errorMessages[O];if(U&&U.startsWith&&(U.startsWith("[SkipUnsafeError]")||U.startsWith("[NonWhitelistedSourceError]")))throw new OC.ContractError(U)}}return i?{state:(0,TC.deepCopy)(A.cachedValue.state),validity:A.cachedValue.validity,errorMessages:A.cachedValue.errorMessages}:(0,TC.deepCopy)(A.cachedValue.state)}}assignRefreshState(e){this.swGlobal.contracts.refreshState=async()=>{var r;return(r=e.contract.interactionState().get(this.swGlobal.contract.id,this.swGlobal._activeTx.sortKey))===null||r===void 0?void 0:r.state}}};Jm.AbstractContractHandler=D4});var U4=ee(Qm=>{"use strict";x();Object.defineProperty(Qm,"__esModule",{value:!0});Qm.WasmHandlerApi=void 0;var Xm=r0(),voe=Ym(),yoe=Vn(),q4=class extends voe.AbstractContractHandler{constructor(e,r,n){super(e,r),this.wasmExports=n}async handle(e,r,n){try{let{interaction:i,interactionTx:a}=n;this.swGlobal._activeTx=a,this.swGlobal.caller=i.caller,this.swGlobal.gasLimit=e.evaluationOptions.gasLimit,this.swGlobal.gasUsed=0,this.assignReadContractState(e,a),this.assignViewContractState(e),this.assignWrite(e),await this.swGlobal.kv.open(),await this.swGlobal.kv.begin();let s=await this.doHandle(i);return n.interaction.interactionType==="view"?await this.swGlobal.kv.rollback():await this.swGlobal.kv.commit(),{type:"ok",result:s,state:this.doGetCurrentState(),gasUsed:this.swGlobal.gasUsed,event:null}}catch(i){await this.swGlobal.kv.rollback();let a={errorMessage:i.message,state:r.state,result:null};if(i instanceof Xm.ContractError||i instanceof Xm.NonWhitelistedSourceError)return{...a,error:i.error,type:"error",event:null};if(i instanceof yoe.NetworkCommunicationError)throw i;return{...a,type:"exception",event:null}}finally{await this.swGlobal.kv.close()}}initState(e){switch(this.contractDefinition.srcWasmLang){case"rust":{if("initStateLegacy"in this.wasmExports){this.wasmExports.initStateLegacy(e);return}let r=this.wasmExports.initState(e);if(r)throw new Error(r);return}default:throw new Error(`Support for ${this.contractDefinition.srcWasmLang} not implemented yet.`)}}async doHandleLegacy(e){let r=await this.wasmExports.handle(e.input);if(!r)return;if(Object.prototype.hasOwnProperty.call(r,"Ok"))return r.Ok;let n,i="";throw typeof r.Err=="string"||r.Err instanceof String?n=r.Err:"kind"in r.Err?(n=r.Err.kind,i="data"in r.Err?" "+r.Err.data:""):(n=Object.keys(r.Err)[0],i=" "+r.Err[n]),n=="RuntimeError"?new Error(`[RE:RE]${i}`):new Xm.ContractError(`[CE:${n}${i}]`)}async doHandle(e){switch(this.contractDefinition.srcWasmLang){case"rust":{if("handle"in this.wasmExports)return await this.doHandleLegacy(e);let r=e.interactionType==="write"?await this.wasmExports.warpContractWrite(e.input):await this.wasmExports.warpContractView(e.input);if(!r)return;if(r.type==="ok")return r.result;throw this.logger.error("Error from rust",r),r.type==="error"?new Xm.ContractError(r.error):new Error(r.errorMessage)}default:throw new Error(`Support for ${this.contractDefinition.srcWasmLang} not implemented yet.`)}}async maybeCallStateConstructor(e,r){var n,i;if(!((i=(n=this.contractDefinition.manifest)===null||n===void 0?void 0:n.evaluationOptions)===null||i===void 0)&&i.useConstructor)throw Error("Constructor is not implemented for wasm");return e}doGetCurrentState(){switch(this.contractDefinition.srcWasmLang){case"rust":return this.wasmExports.currentState();default:throw new Error(`Support for ${this.contractDefinition.srcWasmLang} not implemented yet.`)}}};Qm.WasmHandlerApi=q4});var F4=ee(n0=>{"use strict";x();Object.defineProperty(n0,"__esModule",{value:!0});n0.checkJsSrc=n0.normalizeContractSource=void 0;var moe=Vn();function IC(t,e){let r=t.trim().split(`
`),n=r[0],i=r[r.length-1];return(/\(\s*\(\)\s*=>\s*{/g.test(n)||/\s*\(\s*function\s*\(\)\s*{/g.test(n))&&/}\s*\)\s*\(\)\s*;/g.test(i)&&(r.shift(),r.pop(),t=r.join(`
`)),t=t.replace(/export\s+async\s+function\s+handle/gmu,"async function handle").replace(/export\s+function\s+handle/gmu,"function handle"),e?`
    ${t}
    module.exports = handle;`:`
    const window=void 0,document=void 0,Function=void 0,eval=void 0,globalThis=void 0;
    const [SmartWeave, BigNumber, logger${(0,moe.isBrowser)()?", Buffer, atob, btoa":""}] = arguments;
    class ContractError extends Error { constructor(message) { super(message); this.name = 'ContractError' } };
    function ContractAssert(cond, message) { if (!cond) throw new ContractError(message) };
    ${t};
    return handle;
  `}n0.normalizeContractSource=IC;function boe(t,e){try{let r=IC(t,!1);return new Function(r)(),!0}catch(r){return e?.error(r),!1}}n0.checkJsSrc=boe});var kC=ee((RC,eb)=>{x();(function(t){"use strict";var e,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,i=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",f=1e14,l=14,g=9007199254740991,m=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],A=1e7,I=1e9;function T(se){var fe,de,G,L=b.prototype={constructor:b,toString:null,valueOf:null},q=new b(1),S=20,B=4,y=-7,o=21,u=-1e7,h=1e7,p=!1,v=1,d=0,E={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},w="0123456789abcdefghijklmnopqrstuvwxyz",c=!0;function b(M,k){var C,z,H,j,J,W,K,X,te=this;if(!(te instanceof b))return new b(M,k);if(k==null){if(M&&M._isBigNumber===!0){te.s=M.s,!M.c||M.e>h?te.c=te.e=null:M.e<u?te.c=[te.e=0]:(te.e=M.e,te.c=M.c.slice());return}if((W=typeof M=="number")&&M*0==0){if(te.s=1/M<0?(M=-M,-1):1,M===~~M){for(j=0,J=M;J>=10;J/=10,j++);j>h?te.c=te.e=null:(te.e=j,te.c=[M]);return}X=String(M)}else{if(!r.test(X=String(M)))return G(te,X,W);te.s=X.charCodeAt(0)==45?(X=X.slice(1),-1):1}(j=X.indexOf("."))>-1&&(X=X.replace(".","")),(J=X.search(/e/i))>0?(j<0&&(j=J),j+=+X.slice(J+1),X=X.substring(0,J)):j<0&&(j=X.length)}else{if(Y(k,2,w.length,"Base"),k==10&&c)return te=new b(M),ce(te,S+te.e+1,B);if(X=String(M),W=typeof M=="number"){if(M*0!=0)return G(te,X,W,k);if(te.s=1/M<0?(X=X.slice(1),-1):1,b.DEBUG&&X.replace(/^0\.0*|\./,"").length>15)throw Error(s+M)}else te.s=X.charCodeAt(0)===45?(X=X.slice(1),-1):1;for(C=w.slice(0,k),j=J=0,K=X.length;J<K;J++)if(C.indexOf(z=X.charAt(J))<0){if(z=="."){if(J>j){j=K;continue}}else if(!H&&(X==X.toUpperCase()&&(X=X.toLowerCase())||X==X.toLowerCase()&&(X=X.toUpperCase()))){H=!0,J=-1,j=0;continue}return G(te,String(M),W,k)}W=!1,X=de(X,k,10,te.s),(j=X.indexOf("."))>-1?X=X.replace(".",""):j=X.length}for(J=0;X.charCodeAt(J)===48;J++);for(K=X.length;X.charCodeAt(--K)===48;);if(X=X.slice(J,++K)){if(K-=J,W&&b.DEBUG&&K>15&&(M>g||M!==i(M)))throw Error(s+te.s*M);if((j=j-J-1)>h)te.c=te.e=null;else if(j<u)te.c=[te.e=0];else{if(te.e=j,te.c=[],J=(j+1)%l,j<0&&(J+=l),J<K){for(J&&te.c.push(+X.slice(0,J)),K-=l;J<K;)te.c.push(+X.slice(J,J+=l));J=l-(X=X.slice(J)).length}else J-=K;for(;J--;X+="0");te.c.push(+X)}}else te.c=[te.e=0]}b.clone=T,b.ROUND_UP=0,b.ROUND_DOWN=1,b.ROUND_CEIL=2,b.ROUND_FLOOR=3,b.ROUND_HALF_UP=4,b.ROUND_HALF_DOWN=5,b.ROUND_HALF_EVEN=6,b.ROUND_HALF_CEIL=7,b.ROUND_HALF_FLOOR=8,b.EUCLID=9,b.config=b.set=function(M){var k,C;if(M!=null)if(typeof M=="object"){if(M.hasOwnProperty(k="DECIMAL_PLACES")&&(C=M[k],Y(C,0,I,k),S=C),M.hasOwnProperty(k="ROUNDING_MODE")&&(C=M[k],Y(C,0,8,k),B=C),M.hasOwnProperty(k="EXPONENTIAL_AT")&&(C=M[k],C&&C.pop?(Y(C[0],-I,0,k),Y(C[1],0,I,k),y=C[0],o=C[1]):(Y(C,-I,I,k),y=-(o=C<0?-C:C))),M.hasOwnProperty(k="RANGE"))if(C=M[k],C&&C.pop)Y(C[0],-I,-1,k),Y(C[1],1,I,k),u=C[0],h=C[1];else if(Y(C,-I,I,k),C)u=-(h=C<0?-C:C);else throw Error(a+k+" cannot be zero: "+C);if(M.hasOwnProperty(k="CRYPTO"))if(C=M[k],C===!!C)if(C)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))p=C;else throw p=!C,Error(a+"crypto unavailable");else p=C;else throw Error(a+k+" not true or false: "+C);if(M.hasOwnProperty(k="MODULO_MODE")&&(C=M[k],Y(C,0,9,k),v=C),M.hasOwnProperty(k="POW_PRECISION")&&(C=M[k],Y(C,0,I,k),d=C),M.hasOwnProperty(k="FORMAT"))if(C=M[k],typeof C=="object")E=C;else throw Error(a+k+" not an object: "+C);if(M.hasOwnProperty(k="ALPHABET"))if(C=M[k],typeof C=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(C))c=C.slice(0,10)=="0123456789",w=C;else throw Error(a+k+" invalid: "+C)}else throw Error(a+"Object expected: "+M);return{DECIMAL_PLACES:S,ROUNDING_MODE:B,EXPONENTIAL_AT:[y,o],RANGE:[u,h],CRYPTO:p,MODULO_MODE:v,POW_PRECISION:d,FORMAT:E,ALPHABET:w}},b.isBigNumber=function(M){if(!M||M._isBigNumber!==!0)return!1;if(!b.DEBUG)return!0;var k,C,z=M.c,H=M.e,j=M.s;e:if({}.toString.call(z)=="[object Array]"){if((j===1||j===-1)&&H>=-I&&H<=I&&H===i(H)){if(z[0]===0){if(H===0&&z.length===1)return!0;break e}if(k=(H+1)%l,k<1&&(k+=l),String(z[0]).length==k){for(k=0;k<z.length;k++)if(C=z[k],C<0||C>=f||C!==i(C))break e;if(C!==0)return!0}}}else if(z===null&&H===null&&(j===null||j===1||j===-1))return!0;throw Error(a+"Invalid BigNumber: "+M)},b.maximum=b.max=function(){return F(arguments,L.lt)},b.minimum=b.min=function(){return F(arguments,L.gt)},b.random=function(){var M=9007199254740992,k=Math.random()*M&2097151?function(){return i(Math.random()*M)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(C){var z,H,j,J,W,K=0,X=[],te=new b(q);if(C==null?C=S:Y(C,0,I),J=n(C/l),p)if(crypto.getRandomValues){for(z=crypto.getRandomValues(new Uint32Array(J*=2));K<J;)W=z[K]*131072+(z[K+1]>>>11),W>=9e15?(H=crypto.getRandomValues(new Uint32Array(2)),z[K]=H[0],z[K+1]=H[1]):(X.push(W%1e14),K+=2);K=J/2}else if(crypto.randomBytes){for(z=crypto.randomBytes(J*=7);K<J;)W=(z[K]&31)*281474976710656+z[K+1]*1099511627776+z[K+2]*4294967296+z[K+3]*16777216+(z[K+4]<<16)+(z[K+5]<<8)+z[K+6],W>=9e15?crypto.randomBytes(7).copy(z,K):(X.push(W%1e14),K+=7);K=J/7}else throw p=!1,Error(a+"crypto unavailable");if(!p)for(;K<J;)W=k(),W<9e15&&(X[K++]=W%1e14);for(J=X[--K],C%=l,J&&C&&(W=m[l-C],X[K]=i(J/W)*W);X[K]===0;X.pop(),K--);if(K<0)X=[j=0];else{for(j=-1;X[0]===0;X.splice(0,1),j-=l);for(K=1,W=X[0];W>=10;W/=10,K++);K<l&&(j-=l-K)}return te.e=j,te.c=X,te}}(),b.sum=function(){for(var M=1,k=arguments,C=new b(k[0]);M<k.length;)C=C.plus(k[M++]);return C},de=function(){var M="0123456789";function k(C,z,H,j){for(var J,W=[0],K,X=0,te=C.length;X<te;){for(K=W.length;K--;W[K]*=z);for(W[0]+=j.indexOf(C.charAt(X++)),J=0;J<W.length;J++)W[J]>H-1&&(W[J+1]==null&&(W[J+1]=0),W[J+1]+=W[J]/H|0,W[J]%=H)}return W.reverse()}return function(C,z,H,j,J){var W,K,X,te,ae,$,oe,le,Ee=C.indexOf("."),Be=S,Ae=B;for(Ee>=0&&(te=d,d=0,C=C.replace(".",""),le=new b(z),$=le.pow(C.length-Ee),d=te,le.c=k(he(U($.c),$.e,"0"),10,H,M),le.e=le.c.length),oe=k(C,z,H,J?(W=w,M):(W=M,w)),X=te=oe.length;oe[--te]==0;oe.pop());if(!oe[0])return W.charAt(0);if(Ee<0?--X:($.c=oe,$.e=X,$.s=j,$=fe($,le,Be,Ae,H),oe=$.c,ae=$.r,X=$.e),K=X+Be+1,Ee=oe[K],te=H/2,ae=ae||K<0||oe[K+1]!=null,ae=Ae<4?(Ee!=null||ae)&&(Ae==0||Ae==($.s<0?3:2)):Ee>te||Ee==te&&(Ae==4||ae||Ae==6&&oe[K-1]&1||Ae==($.s<0?8:7)),K<1||!oe[0])C=ae?he(W.charAt(1),-Be,W.charAt(0)):W.charAt(0);else{if(oe.length=K,ae)for(--H;++oe[--K]>H;)oe[K]=0,K||(++X,oe=[1].concat(oe));for(te=oe.length;!oe[--te];);for(Ee=0,C="";Ee<=te;C+=W.charAt(oe[Ee++]));C=he(C,X,W.charAt(0))}return C}}(),fe=function(){function M(z,H,j){var J,W,K,X,te=0,ae=z.length,$=H%A,oe=H/A|0;for(z=z.slice();ae--;)K=z[ae]%A,X=z[ae]/A|0,J=oe*K+X*$,W=$*K+J%A*A+te,te=(W/j|0)+(J/A|0)+oe*X,z[ae]=W%j;return te&&(z=[te].concat(z)),z}function k(z,H,j,J){var W,K;if(j!=J)K=j>J?1:-1;else for(W=K=0;W<j;W++)if(z[W]!=H[W]){K=z[W]>H[W]?1:-1;break}return K}function C(z,H,j,J){for(var W=0;j--;)z[j]-=W,W=z[j]<H[j]?1:0,z[j]=W*J+z[j]-H[j];for(;!z[0]&&z.length>1;z.splice(0,1));}return function(z,H,j,J,W){var K,X,te,ae,$,oe,le,Ee,Be,Ae,R,V,Q,ve,Te,Se,ie,be=z.s==H.s?1:-1,ye=z.c,me=H.c;if(!ye||!ye[0]||!me||!me[0])return new b(!z.s||!H.s||(ye?me&&ye[0]==me[0]:!me)?NaN:ye&&ye[0]==0||!me?be*0:be/0);for(Ee=new b(be),Be=Ee.c=[],X=z.e-H.e,be=j+X+1,W||(W=f,X=O(z.e/l)-O(H.e/l),be=be/l|0),te=0;me[te]==(ye[te]||0);te++);if(me[te]>(ye[te]||0)&&X--,be<0)Be.push(1),ae=!0;else{for(ve=ye.length,Se=me.length,te=0,be+=2,$=i(W/(me[0]+1)),$>1&&(me=M(me,$,W),ye=M(ye,$,W),Se=me.length,ve=ye.length),Q=Se,Ae=ye.slice(0,Se),R=Ae.length;R<Se;Ae[R++]=0);ie=me.slice(),ie=[0].concat(ie),Te=me[0],me[1]>=W/2&&Te++;do{if($=0,K=k(me,Ae,Se,R),K<0){if(V=Ae[0],Se!=R&&(V=V*W+(Ae[1]||0)),$=i(V/Te),$>1)for($>=W&&($=W-1),oe=M(me,$,W),le=oe.length,R=Ae.length;k(oe,Ae,le,R)==1;)$--,C(oe,Se<le?ie:me,le,W),le=oe.length,K=1;else $==0&&(K=$=1),oe=me.slice(),le=oe.length;if(le<R&&(oe=[0].concat(oe)),C(Ae,oe,R,W),R=Ae.length,K==-1)for(;k(me,Ae,Se,R)<1;)$++,C(Ae,Se<R?ie:me,R,W),R=Ae.length}else K===0&&($++,Ae=[0]);Be[te++]=$,Ae[0]?Ae[R++]=ye[Q]||0:(Ae=[ye[Q]],R=1)}while((Q++<ve||Ae[0]!=null)&&be--);ae=Ae[0]!=null,Be[0]||Be.splice(0,1)}if(W==f){for(te=1,be=Be[0];be>=10;be/=10,te++);ce(Ee,j+(Ee.e=te+X*l-1)+1,J,ae)}else Ee.e=X,Ee.r=+ae;return Ee}}();function ue(M,k,C,z){var H,j,J,W,K;if(C==null?C=B:Y(C,0,8),!M.c)return M.toString();if(H=M.c[0],J=M.e,k==null)K=U(M.c),K=z==1||z==2&&(J<=y||J>=o)?pe(K,J):he(K,J,"0");else if(M=ce(new b(M),k,C),j=M.e,K=U(M.c),W=K.length,z==1||z==2&&(k<=j||j<=y)){for(;W<k;K+="0",W++);K=pe(K,j)}else if(k-=J,K=he(K,j,"0"),j+1>W){if(--k>0)for(K+=".";k--;K+="0");}else if(k+=j-W,k>0)for(j+1==W&&(K+=".");k--;K+="0");return M.s<0&&H?"-"+K:K}function F(M,k){for(var C,z=1,H=new b(M[0]);z<M.length;z++)if(C=new b(M[z]),C.s)k.call(H,C)&&(H=C);else{H=C;break}return H}function ne(M,k,C){for(var z=1,H=k.length;!k[--H];k.pop());for(H=k[0];H>=10;H/=10,z++);return(C=z+C*l-1)>h?M.c=M.e=null:C<u?M.c=[M.e=0]:(M.e=C,M.c=k),M}G=function(){var M=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,C=/^\.([^.]+)$/,z=/^-?(Infinity|NaN)$/,H=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(j,J,W,K){var X,te=W?J:J.replace(H,"");if(z.test(te))j.s=isNaN(te)?null:te<0?-1:1;else{if(!W&&(te=te.replace(M,function(ae,$,oe){return X=(oe=oe.toLowerCase())=="x"?16:oe=="b"?2:8,!K||K==X?$:ae}),K&&(X=K,te=te.replace(k,"$1").replace(C,"0.$1")),J!=te))return new b(te,X);if(b.DEBUG)throw Error(a+"Not a"+(K?" base "+K:"")+" number: "+J);j.s=null}j.c=j.e=null}}();function ce(M,k,C,z){var H,j,J,W,K,X,te,ae=M.c,$=m;if(ae){e:{for(H=1,W=ae[0];W>=10;W/=10,H++);if(j=k-H,j<0)j+=l,J=k,K=ae[X=0],te=K/$[H-J-1]%10|0;else if(X=n((j+1)/l),X>=ae.length)if(z){for(;ae.length<=X;ae.push(0));K=te=0,H=1,j%=l,J=j-l+1}else break e;else{for(K=W=ae[X],H=1;W>=10;W/=10,H++);j%=l,J=j-l+H,te=J<0?0:K/$[H-J-1]%10|0}if(z=z||k<0||ae[X+1]!=null||(J<0?K:K%$[H-J-1]),z=C<4?(te||z)&&(C==0||C==(M.s<0?3:2)):te>5||te==5&&(C==4||z||C==6&&(j>0?J>0?K/$[H-J]:0:ae[X-1])%10&1||C==(M.s<0?8:7)),k<1||!ae[0])return ae.length=0,z?(k-=M.e+1,ae[0]=$[(l-k%l)%l],M.e=-k||0):ae[0]=M.e=0,M;if(j==0?(ae.length=X,W=1,X--):(ae.length=X+1,W=$[l-j],ae[X]=J>0?i(K/$[H-J]%$[J])*W:0),z)for(;;)if(X==0){for(j=1,J=ae[0];J>=10;J/=10,j++);for(J=ae[0]+=W,W=1;J>=10;J/=10,W++);j!=W&&(M.e++,ae[0]==f&&(ae[0]=1));break}else{if(ae[X]+=W,ae[X]!=f)break;ae[X--]=0,W=1}for(j=ae.length;ae[--j]===0;ae.pop());}M.e>h?M.c=M.e=null:M.e<u&&(M.c=[M.e=0])}return M}function xe(M){var k,C=M.e;return C===null?M.toString():(k=U(M.c),k=C<=y||C>=o?pe(k,C):he(k,C,"0"),M.s<0?"-"+k:k)}return L.absoluteValue=L.abs=function(){var M=new b(this);return M.s<0&&(M.s=1),M},L.comparedTo=function(M,k){return Z(this,new b(M,k))},L.decimalPlaces=L.dp=function(M,k){var C,z,H,j=this;if(M!=null)return Y(M,0,I),k==null?k=B:Y(k,0,8),ce(new b(j),M+j.e+1,k);if(!(C=j.c))return null;if(z=((H=C.length-1)-O(this.e/l))*l,H=C[H])for(;H%10==0;H/=10,z--);return z<0&&(z=0),z},L.dividedBy=L.div=function(M,k){return fe(this,new b(M,k),S,B)},L.dividedToIntegerBy=L.idiv=function(M,k){return fe(this,new b(M,k),0,1)},L.exponentiatedBy=L.pow=function(M,k){var C,z,H,j,J,W,K,X,te,ae=this;if(M=new b(M),M.c&&!M.isInteger())throw Error(a+"Exponent not an integer: "+xe(M));if(k!=null&&(k=new b(k)),W=M.e>14,!ae.c||!ae.c[0]||ae.c[0]==1&&!ae.e&&ae.c.length==1||!M.c||!M.c[0])return te=new b(Math.pow(+xe(ae),W?M.s*(2-re(M)):+xe(M))),k?te.mod(k):te;if(K=M.s<0,k){if(k.c?!k.c[0]:!k.s)return new b(NaN);z=!K&&ae.isInteger()&&k.isInteger(),z&&(ae=ae.mod(k))}else{if(M.e>9&&(ae.e>0||ae.e<-1||(ae.e==0?ae.c[0]>1||W&&ae.c[1]>=24e7:ae.c[0]<8e13||W&&ae.c[0]<=9999975e7)))return j=ae.s<0&&re(M)?-0:0,ae.e>-1&&(j=1/j),new b(K?1/j:j);d&&(j=n(d/l+2))}for(W?(C=new b(.5),K&&(M.s=1),X=re(M)):(H=Math.abs(+xe(M)),X=H%2),te=new b(q);;){if(X){if(te=te.times(ae),!te.c)break;j?te.c.length>j&&(te.c.length=j):z&&(te=te.mod(k))}if(H){if(H=i(H/2),H===0)break;X=H%2}else if(M=M.times(C),ce(M,M.e+1,1),M.e>14)X=re(M);else{if(H=+xe(M),H===0)break;X=H%2}ae=ae.times(ae),j?ae.c&&ae.c.length>j&&(ae.c.length=j):z&&(ae=ae.mod(k))}return z?te:(K&&(te=q.div(te)),k?te.mod(k):j?ce(te,d,B,J):te)},L.integerValue=function(M){var k=new b(this);return M==null?M=B:Y(M,0,8),ce(k,k.e+1,M)},L.isEqualTo=L.eq=function(M,k){return Z(this,new b(M,k))===0},L.isFinite=function(){return!!this.c},L.isGreaterThan=L.gt=function(M,k){return Z(this,new b(M,k))>0},L.isGreaterThanOrEqualTo=L.gte=function(M,k){return(k=Z(this,new b(M,k)))===1||k===0},L.isInteger=function(){return!!this.c&&O(this.e/l)>this.c.length-2},L.isLessThan=L.lt=function(M,k){return Z(this,new b(M,k))<0},L.isLessThanOrEqualTo=L.lte=function(M,k){return(k=Z(this,new b(M,k)))===-1||k===0},L.isNaN=function(){return!this.s},L.isNegative=function(){return this.s<0},L.isPositive=function(){return this.s>0},L.isZero=function(){return!!this.c&&this.c[0]==0},L.minus=function(M,k){var C,z,H,j,J=this,W=J.s;if(M=new b(M,k),k=M.s,!W||!k)return new b(NaN);if(W!=k)return M.s=-k,J.plus(M);var K=J.e/l,X=M.e/l,te=J.c,ae=M.c;if(!K||!X){if(!te||!ae)return te?(M.s=-k,M):new b(ae?J:NaN);if(!te[0]||!ae[0])return ae[0]?(M.s=-k,M):new b(te[0]?J:B==3?-0:0)}if(K=O(K),X=O(X),te=te.slice(),W=K-X){for((j=W<0)?(W=-W,H=te):(X=K,H=ae),H.reverse(),k=W;k--;H.push(0));H.reverse()}else for(z=(j=(W=te.length)<(k=ae.length))?W:k,W=k=0;k<z;k++)if(te[k]!=ae[k]){j=te[k]<ae[k];break}if(j&&(H=te,te=ae,ae=H,M.s=-M.s),k=(z=ae.length)-(C=te.length),k>0)for(;k--;te[C++]=0);for(k=f-1;z>W;){if(te[--z]<ae[z]){for(C=z;C&&!te[--C];te[C]=k);--te[C],te[z]+=f}te[z]-=ae[z]}for(;te[0]==0;te.splice(0,1),--X);return te[0]?ne(M,te,X):(M.s=B==3?-1:1,M.c=[M.e=0],M)},L.modulo=L.mod=function(M,k){var C,z,H=this;return M=new b(M,k),!H.c||!M.s||M.c&&!M.c[0]?new b(NaN):!M.c||H.c&&!H.c[0]?new b(H):(v==9?(z=M.s,M.s=1,C=fe(H,M,0,3),M.s=z,C.s*=z):C=fe(H,M,0,v),M=H.minus(C.times(M)),!M.c[0]&&v==1&&(M.s=H.s),M)},L.multipliedBy=L.times=function(M,k){var C,z,H,j,J,W,K,X,te,ae,$,oe,le,Ee,Be,Ae=this,R=Ae.c,V=(M=new b(M,k)).c;if(!R||!V||!R[0]||!V[0])return!Ae.s||!M.s||R&&!R[0]&&!V||V&&!V[0]&&!R?M.c=M.e=M.s=null:(M.s*=Ae.s,!R||!V?M.c=M.e=null:(M.c=[0],M.e=0)),M;for(z=O(Ae.e/l)+O(M.e/l),M.s*=Ae.s,K=R.length,ae=V.length,K<ae&&(le=R,R=V,V=le,H=K,K=ae,ae=H),H=K+ae,le=[];H--;le.push(0));for(Ee=f,Be=A,H=ae;--H>=0;){for(C=0,$=V[H]%Be,oe=V[H]/Be|0,J=K,j=H+J;j>H;)X=R[--J]%Be,te=R[J]/Be|0,W=oe*X+te*$,X=$*X+W%Be*Be+le[j]+C,C=(X/Ee|0)+(W/Be|0)+oe*te,le[j--]=X%Ee;le[j]=C}return C?++z:le.splice(0,1),ne(M,le,z)},L.negated=function(){var M=new b(this);return M.s=-M.s||null,M},L.plus=function(M,k){var C,z=this,H=z.s;if(M=new b(M,k),k=M.s,!H||!k)return new b(NaN);if(H!=k)return M.s=-k,z.minus(M);var j=z.e/l,J=M.e/l,W=z.c,K=M.c;if(!j||!J){if(!W||!K)return new b(H/0);if(!W[0]||!K[0])return K[0]?M:new b(W[0]?z:H*0)}if(j=O(j),J=O(J),W=W.slice(),H=j-J){for(H>0?(J=j,C=K):(H=-H,C=W),C.reverse();H--;C.push(0));C.reverse()}for(H=W.length,k=K.length,H-k<0&&(C=K,K=W,W=C,k=H),H=0;k;)H=(W[--k]=W[k]+K[k]+H)/f|0,W[k]=f===W[k]?0:W[k]%f;return H&&(W=[H].concat(W),++J),ne(M,W,J)},L.precision=L.sd=function(M,k){var C,z,H,j=this;if(M!=null&&M!==!!M)return Y(M,1,I),k==null?k=B:Y(k,0,8),ce(new b(j),M,k);if(!(C=j.c))return null;if(H=C.length-1,z=H*l+1,H=C[H]){for(;H%10==0;H/=10,z--);for(H=C[0];H>=10;H/=10,z++);}return M&&j.e+1>z&&(z=j.e+1),z},L.shiftedBy=function(M){return Y(M,-g,g),this.times("1e"+M)},L.squareRoot=L.sqrt=function(){var M,k,C,z,H,j=this,J=j.c,W=j.s,K=j.e,X=S+4,te=new b("0.5");if(W!==1||!J||!J[0])return new b(!W||W<0&&(!J||J[0])?NaN:J?j:1/0);if(W=Math.sqrt(+xe(j)),W==0||W==1/0?(k=U(J),(k.length+K)%2==0&&(k+="0"),W=Math.sqrt(+k),K=O((K+1)/2)-(K<0||K%2),W==1/0?k="5e"+K:(k=W.toExponential(),k=k.slice(0,k.indexOf("e")+1)+K),C=new b(k)):C=new b(W+""),C.c[0]){for(K=C.e,W=K+X,W<3&&(W=0);;)if(H=C,C=te.times(H.plus(fe(j,H,X,1))),U(H.c).slice(0,W)===(k=U(C.c)).slice(0,W))if(C.e<K&&--W,k=k.slice(W-3,W+1),k=="9999"||!z&&k=="4999"){if(!z&&(ce(H,H.e+S+2,0),H.times(H).eq(j))){C=H;break}X+=4,W+=4,z=1}else{(!+k||!+k.slice(1)&&k.charAt(0)=="5")&&(ce(C,C.e+S+2,1),M=!C.times(C).eq(j));break}}return ce(C,C.e+S+1,B,M)},L.toExponential=function(M,k){return M!=null&&(Y(M,0,I),M++),ue(this,M,k,1)},L.toFixed=function(M,k){return M!=null&&(Y(M,0,I),M=M+this.e+1),ue(this,M,k)},L.toFormat=function(M,k,C){var z,H=this;if(C==null)M!=null&&k&&typeof k=="object"?(C=k,k=null):M&&typeof M=="object"?(C=M,M=k=null):C=E;else if(typeof C!="object")throw Error(a+"Argument not an object: "+C);if(z=H.toFixed(M,k),H.c){var j,J=z.split("."),W=+C.groupSize,K=+C.secondaryGroupSize,X=C.groupSeparator||"",te=J[0],ae=J[1],$=H.s<0,oe=$?te.slice(1):te,le=oe.length;if(K&&(j=W,W=K,K=j,le-=j),W>0&&le>0){for(j=le%W||W,te=oe.substr(0,j);j<le;j+=W)te+=X+oe.substr(j,W);K>0&&(te+=X+oe.slice(j)),$&&(te="-"+te)}z=ae?te+(C.decimalSeparator||"")+((K=+C.fractionGroupSize)?ae.replace(new RegExp("\\d{"+K+"}\\B","g"),"$&"+(C.fractionGroupSeparator||"")):ae):te}return(C.prefix||"")+z+(C.suffix||"")},L.toFraction=function(M){var k,C,z,H,j,J,W,K,X,te,ae,$,oe=this,le=oe.c;if(M!=null&&(W=new b(M),!W.isInteger()&&(W.c||W.s!==1)||W.lt(q)))throw Error(a+"Argument "+(W.isInteger()?"out of range: ":"not an integer: ")+xe(W));if(!le)return new b(oe);for(k=new b(q),X=C=new b(q),z=K=new b(q),$=U(le),j=k.e=$.length-oe.e-1,k.c[0]=m[(J=j%l)<0?l+J:J],M=!M||W.comparedTo(k)>0?j>0?k:X:W,J=h,h=1/0,W=new b($),K.c[0]=0;te=fe(W,k,0,1),H=C.plus(te.times(z)),H.comparedTo(M)!=1;)C=z,z=H,X=K.plus(te.times(H=X)),K=H,k=W.minus(te.times(H=k)),W=H;return H=fe(M.minus(C),z,0,1),K=K.plus(H.times(X)),C=C.plus(H.times(z)),K.s=X.s=oe.s,j=j*2,ae=fe(X,z,j,B).minus(oe).abs().comparedTo(fe(K,C,j,B).minus(oe).abs())<1?[X,z]:[K,C],h=J,ae},L.toNumber=function(){return+xe(this)},L.toPrecision=function(M,k){return M!=null&&Y(M,1,I),ue(this,M,k,2)},L.toString=function(M){var k,C=this,z=C.s,H=C.e;return H===null?z?(k="Infinity",z<0&&(k="-"+k)):k="NaN":(M==null?k=H<=y||H>=o?pe(U(C.c),H):he(U(C.c),H,"0"):M===10&&c?(C=ce(new b(C),S+H+1,B),k=he(U(C.c),C.e,"0")):(Y(M,2,w.length,"Base"),k=de(he(U(C.c),H,"0"),10,M,z,!0)),z<0&&C.c[0]&&(k="-"+k)),k},L.valueOf=L.toJSON=function(){return xe(this)},L._isBigNumber=!0,se!=null&&b.set(se),b}function O(se){var fe=se|0;return se>0||se===fe?fe:fe-1}function U(se){for(var fe,de,G=1,L=se.length,q=se[0]+"";G<L;){for(fe=se[G++]+"",de=l-fe.length;de--;fe="0"+fe);q+=fe}for(L=q.length;q.charCodeAt(--L)===48;);return q.slice(0,L+1||1)}function Z(se,fe){var de,G,L=se.c,q=fe.c,S=se.s,B=fe.s,y=se.e,o=fe.e;if(!S||!B)return null;if(de=L&&!L[0],G=q&&!q[0],de||G)return de?G?0:-B:S;if(S!=B)return S;if(de=S<0,G=y==o,!L||!q)return G?0:!L^de?1:-1;if(!G)return y>o^de?1:-1;for(B=(y=L.length)<(o=q.length)?y:o,S=0;S<B;S++)if(L[S]!=q[S])return L[S]>q[S]^de?1:-1;return y==o?0:y>o^de?1:-1}function Y(se,fe,de,G){if(se<fe||se>de||se!==i(se))throw Error(a+(G||"Argument")+(typeof se=="number"?se<fe||se>de?" out of range: ":" not an integer: ":" not a primitive number: ")+String(se))}function re(se){var fe=se.c.length-1;return O(se.e/l)==fe&&se.c[fe]%2!=0}function pe(se,fe){return(se.length>1?se.charAt(0)+"."+se.slice(1):se)+(fe<0?"e":"e+")+fe}function he(se,fe,de){var G,L;if(fe<0){for(L=de+".";++fe;L+=de);se=L+se}else if(G=se.length,++fe>G){for(L=de,fe-=G;--fe;L+=de);se+=L}else fe<G&&(se=se.slice(0,fe)+"."+se.slice(fe));return se}e=T(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof eb<"u"&&eb.exports?eb.exports=e:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=e)})(RC)});var r0=ee(ou=>{"use strict";x();Object.defineProperty(ou,"__esModule",{value:!0});ou.HandlerExecutorFactory=ou.NonWhitelistedSourceError=ou.ContractError=void 0;var woe=L4(),xoe=Vm(),_oe=wa(),j4=Zr(),K4=i0(),Eoe=U4(),Soe=F4(),Aoe=Vn(),Moe=Vs(),CC=kC(),Qp=class extends Error{constructor(e,r){super(e.toString()),this.error=e,this.subtype=r,this.name=K4.KnownErrors.ContractError}};ou.ContractError=Qp;var tb=class extends Error{constructor(e){super(e.toString()),this.error=e,this.name=K4.KnownErrors.NonWhitelistedSourceError}};ou.NonWhitelistedSourceError=tb;var z4=class{constructor(e){this.arweave=e,this.logger=j4.LoggerFactory.INST.create("HandlerExecutorFactory")}async create(e,r,n,i){if(n.hasPlugin("contract-blacklist")&&await this.blacklistContracts(n,e),r.whitelistSources.length>0&&!r.whitelistSources.includes(e.srcTxId))throw new tb(`[NonWhitelistedSourceError] Contract source not part of whitelisted sources list: ${e.srcTxId}.`);let a=null;r.useKVStorage&&(a=n.kvStorageFactory(e.txId));let s=new xoe.SmartWeaveGlobal(this.arweave,{id:e.txId,owner:e.owner},r,i,a);if(n.matchPlugins("^smartweave-extension-").forEach(l=>{n.loadPlugin(l).process(s.extensions)}),e.contractType=="wasm"){this.logger.info("Creating handler for wasm contract",e.txId);let l=_oe.Benchmark.measure(),g,m=null,A=Toe(e.srcBinary);switch(e.srcWasmLang){case"rust":{let I={exports:null,modifiedExports:{wasm_bindgen__convert__closures__invoke2_mut__:null,_dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__:null}},T=await Ooe(A,e.srcBinary),O=WebAssembly.Module.exports(T).filter(pe=>pe.kind==="global"&&pe.name.startsWith("__WARP_CONTRACTS_VERSION_")).map(pe=>pe.name).shift()||"__WARP_CONTRACTS_VERSION_LEGACY",U=WebAssembly.Module.imports(T).filter(pe=>pe.module==="__wbindgen_placeholder__").map(pe=>pe.name),{imports:Z,exports:Y}=(0,woe.rustWasmImports)(s,U,I,e.metadata.dtor,O);m=Y,g=await WebAssembly.instantiate(T,Z),I.exports=g.exports,Object.keys(g.exports).forEach(pe=>{pe.startsWith("wasm_bindgen__convert__closures__invoke2_mut__")&&(I.modifiedExports.wasm_bindgen__convert__closures__invoke2_mut__=g.exports[pe]),pe.startsWith("_dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__")&&(I.modifiedExports._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__=g.exports[pe])});break}default:throw new Error(`Support for ${e.srcWasmLang} not implemented yet.`)}return this.logger.info(`WASM ${e.srcWasmLang} handler created in ${l.elapsed()}`),new Eoe.WasmHandlerApi(s,e,m||g.exports)}else{let l=(0,Soe.normalizeContractSource)(e.src,n.hasPlugin("vm2"));if(l.includes("unsafeClient"))switch(r.unsafeClient){case"allow":{this.logger.warn(`Reading unsafe contract ${e.txId}, evaluation is non-deterministic!`);break}case"throw":throw new Error(`[SkipUnsafeError] Using unsafeClient is not allowed by default. Use EvaluationOptions.unsafeClient flag to evaluate ${e.txId}.`);case"skip":throw new Qp(`[SkipUnsafeError] Skipping evaluation of the unsafe contract ${e.txId}.`,"unsafeClientSkip");default:throw new Error(`Unknown unsafeClient setting ${r.unsafeClient}`)}if(!r.allowBigInt&&l.includes("BigInt"))throw new Error("Using BigInt is not allowed by default. Use EvaluationOptions.allowBigInt flag.");if(n.hasPlugin("vm2"))return n.loadPlugin("vm2").process({normalizedSource:l,swGlobal:s,logger:this.logger,contractDefinition:e});if(n.hasPlugin("ivm-handler-api"))return n.loadPlugin("ivm-handler-api").process({contractSource:e.src,evaluationOptions:r,arweave:this.arweave,swGlobal:s,contractDefinition:e});{let g=new Function(l),m=(0,Aoe.isBrowser)()?g(s,CC,j4.LoggerFactory.INST.create(s.contract.id),Moe.Buffer,atob,btoa):g(s,CC,j4.LoggerFactory.INST.create(s.contract.id));return new K4.JsHandlerApi(s,e,m)}}}async blacklistContracts(e,r){let n=e.loadPlugin("contract-blacklist"),i=!1;try{i=await n.process(r.txId)}catch(a){this.logger.error(a)}if(i==!0)throw new Qp(`[SkipUnsafeError] Skipping evaluation of the blacklisted contract ${r.txId}.`,"blacklistedSkip")}};ou.HandlerExecutorFactory=z4;function Toe(t){let e={status:200,statusText:"OK",headers:{"Content-Type":"application/wasm"}};return new Response(t,e)}async function Ooe(t,e){return WebAssembly.compileStreaming?await WebAssembly.compileStreaming(t):await WebAssembly.compile(e)}});var W4=ee(rb=>{"use strict";x();Object.defineProperty(rb,"__esModule",{value:!0});rb.arrayToHex=void 0;function Ioe(t){let e="";for(let r of t)e+=("0"+r.toString(16)).slice(-2);return e}rb.arrayToHex=Ioe});var Vc=ee(kn=>{"use strict";x();Object.defineProperty(kn,"__esModule",{value:!0});kn.LexicographicalInteractionsSorter=kn.lastPossibleSortKey=kn.genesisSortKey=kn.sortingLast=kn.sortingFirst=kn.defaultArweaveMs=void 0;var Roe=W4(),koe=Zr(),Coe="".padEnd(13,"0"),G4="".padEnd(13,"9");kn.defaultArweaveMs="".padEnd(13,"0");kn.sortingFirst="".padEnd(64,"0");kn.sortingLast="".padEnd(64,"z");kn.genesisSortKey=`${"".padStart(12,"0")},${Coe},${kn.sortingFirst}`;kn.lastPossibleSortKey=`${"".padStart(12,"9")},${G4},${kn.sortingLast}`;var H4=class{constructor(e){this.arweave=e,this.logger=koe.LoggerFactory.INST.create("LexicographicalInteractionsSorter")}async sort(e){let r=[...e],n=r.map(i=>this.addSortKey(i));return await Promise.all(n),r.sort((i,a)=>i.node.sortKey.localeCompare(a.node.sortKey))}async createSortKey(e,r,n,i=!1){let a=this.arweave.utils.b64UrlToBuffer(e),s=this.arweave.utils.b64UrlToBuffer(r),f=this.arweave.utils.concatBuffers([a,s]),l=(0,Roe.arrayToHex)(await this.arweave.crypto.hash(f)),g=`${n}`.padStart(12,"0"),m=i?G4:kn.defaultArweaveMs;return`${g},${m},${l}`}extractBlockHeight(e){return e?parseInt(e.split(",")[0]):null}async addSortKey(e){let{node:r}=e,n=e.node.sortKey;n?(e.node.sortKey=n,this.logger.debug("Using sortKey from sequencer",e.node.sortKey)):e.node.sortKey=await this.createSortKey(r.block.id,r.id,r.block.height)}generateLastSortKey(e){return`${`${e}`.padStart(12,"0")},${G4},${kn.sortingLast}`}};kn.LexicographicalInteractionsSorter=H4});var i0=ee(Zc=>{"use strict";x();Object.defineProperty(Zc,"__esModule",{value:!0});Zc.JsHandlerApi=Zc.KnownErrors=void 0;var $4=Vm(),BC=Vn(),PC=r0(),Boe=Vc(),Poe=Ym(),V4="__init",eg=(t,e)=>{let r=new Error(e);throw r.name=t,r},tg;(function(t){t.ContractError="ContractError",t.ConstructorError="ConstructorError",t.NetworkCommunicationError="NetworkCommunicationError",t.NonWhitelistedSourceError="NonWhitelistedSourceError"})(tg=Zc.KnownErrors||(Zc.KnownErrors={}));var Z4=class extends Poe.AbstractContractHandler{constructor(e,r,n){super(e,r),this.contractFunction=n}async handle(e,r,n){let{interaction:i,interactionTx:a}=n;return this.setupSwGlobal(n),this.enableInternalWrites(e,a),this.assertNotConstructorCall(i),await this.runContractFunction(e,i,r.state)}initState(e){}async maybeCallStateConstructor(e,r){var n,i;if(!((i=(n=this.contractDefinition.manifest)===null||n===void 0?void 0:n.evaluationOptions)===null||i===void 0)&&i.useConstructor){let a={input:{function:V4,args:e},caller:this.contractDefinition.owner,interactionType:"write"},s={owner:{address:r.caller,key:null},sortKey:Boe.genesisSortKey},f={interaction:a,interactionTx:s};this.setupSwGlobal(f);let l=this.configureSwGlobalForConstructor(),g=await this.runContractFunction(r,a,{});if(l(),g.type!=="ok")throw r.contract.isRoot()?new Error(`ConstructorError: ${g.errorMessage}`):new PC.ContractError(`ConstructorError [${r.contract.txId()}]: ${g.errorMessage}`,"constructor");return g.state}else return e}assertNotConstructorCall(e){var r,n;if(((n=(r=this.contractDefinition.manifest)===null||r===void 0?void 0:r.evaluationOptions)===null||n===void 0?void 0:n.useConstructor)&&e.input.function===V4)throw new Error(`You have enabled {useConstructor: true} option, so you can't call function ${V4}`)}configureSwGlobalForConstructor(){let e=a=>({get:(s,f)=>eg("ConstructorError",`SmartWeave.${a}.${String(f)} is not accessible in constructor context`)});this.swGlobal.contracts.readContractState=()=>eg("ConstructorError","Internal writes feature is not available in constructor"),this.swGlobal.contracts.viewContractState=()=>eg("ConstructorError","Internal writes feature is not available in constructor"),this.swGlobal.contracts.refreshState=()=>eg("ConstructorError","Internal writes feature is not available in constructor"),this.swGlobal.contracts.write=()=>eg("ConstructorError","Internal writes feature is not available in constructor");let r=new $4.SWBlock(this.swGlobal);this.swGlobal.block=new Proxy(this.swGlobal.block,e("block"));let n=new $4.SWVrf(this.swGlobal);this.swGlobal.vrf=new Proxy(this.swGlobal.vrf,e("vrf"));let i=new $4.SWTransaction(this.swGlobal);return this.swGlobal.transaction=new Proxy(this.swGlobal.vrf,e("transaction")),()=>{this.swGlobal.block=r,this.swGlobal.vrf=n,this.swGlobal.transaction=i}}async runContractFunction(e,r,n){let i=(0,BC.deepCopy)(n),{timeoutId:a,timeoutPromise:s}=(0,BC.timeout)(e.evaluationOptions.maxInteractionEvaluationTimeSeconds);try{await this.swGlobal.kv.open(),await this.swGlobal.kv.begin();let f=await Promise.race([s,this.contractFunction(i,r)]);if(f&&(f.state!==void 0||f.result!==void 0)){await this.swGlobal.kv.commit();let l=null;return f.event&&(l={contractTxId:this.swGlobal.contract.id,sortKey:this.swGlobal.transaction.sortKey,transactionId:this.swGlobal.transaction.id,caller:r.caller,input:r.input,blockTimestamp:this.swGlobal.block.timestamp,blockHeight:this.swGlobal.block.height,data:f.event}),{type:"ok",result:f.result,state:f.state||i,event:l}}throw new Error(`Unexpected result from contract: ${JSON.stringify(f)}`)}catch(f){switch(await this.swGlobal.kv.rollback(),f.name){case tg.ContractError:return{type:"error",errorMessage:f.message,state:n,result:null,event:null};case tg.ConstructorError:throw e.contract.isRoot()?Error(`ConstructorError: ${f.message}`):new PC.ContractError(`ConstructorError [${e.contract.txId()}]: ${f.message}`,"constructor");case tg.NetworkCommunicationError:throw f;case tg.NonWhitelistedSourceError:return{type:"error",errorMessage:f.message,state:n,result:null,event:null};default:return{type:"exception",errorMessage:`${f&&f.stack||f&&f.message||f}`,state:n,result:null,event:null}}}finally{a&&clearTimeout(a),await this.swGlobal.kv.close()}}setupSwGlobal({interaction:e,interactionTx:r}){this.swGlobal._activeTx=r,this.swGlobal.caller=e.caller}enableInternalWrites(e,r){this.assignReadContractState(e,r),this.assignViewContractState(e),this.assignWrite(e),this.assignRefreshState(e)}};Zc.JsHandlerApi=Z4});var Vn=ee(Pt=>{"use strict";x();var Noe=Pt&&Pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.safeGet=Pt.getJsonResponse=Pt.NetworkCommunicationError=Pt.isBrowser=Pt.bufToBn=Pt.indent=Pt.stripTrailingSlash=Pt.timeout=Pt.descS=Pt.desc=Pt.ascS=Pt.asc=Pt.mapReviver=Pt.mapReplacer=Pt.deepCopy=Pt.safeParseInt=Pt.sleep=void 0;var Loe=Noe(MC()),Doe=i0(),qoe=t=>new Promise(e=>setTimeout(e,t));Pt.sleep=qoe;var Uoe=t=>{let e=Number.parseInt(t);if(Number.isNaN(e)&&!Number.isSafeInteger(e))throw Error(`Failed to cast ${t} to integer`);return e};Pt.safeParseInt=Uoe;var Foe=t=>(0,Loe.default)(t);Pt.deepCopy=Foe;var joe=(t,e)=>e instanceof Map?{dataType:"Map",value:Array.from(e.entries())}:e;Pt.mapReplacer=joe;var zoe=(t,e)=>typeof e=="object"&&e!==null&&e.dataType==="Map"?new Map(e.value):e;Pt.mapReviver=zoe;var Koe=(t,e)=>t-e;Pt.asc=Koe;var Woe=(t,e)=>+t-+e;Pt.ascS=Woe;var Goe=(t,e)=>e-t;Pt.desc=Goe;var Hoe=(t,e)=>+e-+t;Pt.descS=Hoe;function $oe(t){let e=null,r=new Promise((n,i)=>{e=setTimeout(()=>{clearTimeout(e),i("timeout")},t*1e3)});return{timeoutId:e,timeoutPromise:r}}Pt.timeout=$oe;function Voe(t){return t.endsWith("/")?t.slice(0,-1):t}Pt.stripTrailingSlash=Voe;function Zoe(t){return`[d:${t}]`.padEnd(t*2,"-").concat("> ")}Pt.indent=Zoe;function Joe(t){let e=[];return Uint8Array.from(t).forEach(function(n){let i=n.toString(16);i.length%2&&(i="0"+i),e.push(i)}),BigInt("0x"+e.join(""))}Pt.bufToBn=Joe;Pt.isBrowser=new Function("try {return this===window;}catch(e){ return false;}");var a0=class extends Error{constructor(e){super(e.toString()),this.error=e,this.name=Doe.KnownErrors.NetworkCommunicationError}};Pt.NetworkCommunicationError=a0;async function NC(t){let e;try{e=await t}catch(r){throw new a0(`Error during network communication: ${JSON.stringify(r)}`)}if(!e?.ok){let r=await e.text();throw new a0(`Wrong response code: ${e.status}. ${r}`)}try{return await e.json()}catch(r){throw new a0(`Error while parsing json response: ${JSON.stringify(r)}`)}}Pt.getJsonResponse=NC;async function Yoe(t,e){return NC(fetch(t,e))}Pt.safeGet=Yoe});var rg=ee(Jc=>{"use strict";x();Object.defineProperty(Jc,"__esModule",{value:!0});Jc.WarpGatewayInteractionsLoader=Jc.SourceType=void 0;var LC=wa(),Xoe=Zr();Vs();var DC=Vn(),J4;(function(t){t.ARWEAVE="arweave",t.WARP_SEQUENCER="redstone-sequencer",t.BOTH="both"})(J4=Jc.SourceType||(Jc.SourceType={}));var Y4=class{constructor(e=null,r=J4.BOTH){this.confirmationStatus=e,this.source=r,this.logger=Xoe.LoggerFactory.INST.create("WarpGatewayInteractionsLoader"),Object.assign(this,e),this.source=r}async load(e,r,n,i){this.logger.debug("Loading interactions: for ",{contractId:e,fromSortKey:r,toSortKey:n});let a=[],s=0,f=0,l=0,g=i?i.sourceType:this.source,m=LC.Benchmark.measure(),A=(0,DC.stripTrailingSlash)(this._warp.gwUrl());do{let I=LC.Benchmark.measure(),T=`${A}/gateway/v2/interactions-sort-key`,O=await(0,DC.getJsonResponse)(fetch(`${T}?${new URLSearchParams({contractId:e,...this._warp.whoAmI?{client:this._warp.whoAmI}:"",...r?{from:r}:"",...n?{to:n}:"",page:(++s).toString(),fromSdk:"true",...this.confirmationStatus&&this.confirmationStatus.confirmed?{confirmationStatus:"confirmed"}:"",...this.confirmationStatus&&this.confirmationStatus.notCorrupted?{confirmationStatus:"not_corrupted"}:"",...g==J4.BOTH?"":{source:g}})}`));this.logger.debug(`Loading interactions: page ${s} loaded in ${I.elapsed()}`),a.push(...O.interactions),f=O.paging.limit,l=O.paging.items,this.logger.debug(`Loaded interactions length: ${a.length}, from: ${r}, to: ${n}`)}while(l==f);return this.logger.debug("All loaded interactions:",{from:r,to:n,loaded:a.length,time:m.elapsed()}),a}type(){return"warp"}clearCache(){}set warp(e){this._warp=e}};Jc.WarpGatewayInteractionsLoader=Y4});var ng=ee(as=>{"use strict";x();Object.defineProperty(as,"__esModule",{value:!0});as.InteractionCompleteEvent=as.CustomEvent=as.DefaultEvaluationOptions=as.EvalStateResult=void 0;var Qoe=rg(),X4=class{constructor(e,r,n){this.state=e,this.validity=r,this.errorMessages=n}};as.EvalStateResult=X4;var Q4=class{constructor(){this.ignoreExceptions=!0,this.waitForConfirmation=!1,this.updateCacheForEachInteraction=!1,this.internalWrites=!1,this.maxCallDepth=7,this.maxInteractionEvaluationTimeSeconds=60,this.stackTrace={saveState:!1},this.sequencerUrl="https://d1o5nlqr4okus2.cloudfront.net/",this.gasLimit=Number.MAX_SAFE_INTEGER,this.sourceType=Qoe.SourceType.BOTH,this.unsafeClient="throw",this.allowBigInt=!1,this.walletBalanceUrl="http://nyc-1.dev.arweave.net:1984/",this.mineArLocalBlocks=!0,this.throwOnInternalWriteError=!0,this.cacheEveryNInteractions=-1,this.useKVStorage=!1,this.remoteStateSyncEnabled=!1,this.remoteStateSyncSource="https://dre-1.warp.cc/contract",this.useConstructor=!1,this.whitelistSources=[]}};as.DefaultEvaluationOptions=Q4;var e8=class extends Event{constructor(e,r){super(e,r),this.detail=r.detail}};as.CustomEvent=e8;var t8=class{constructor(e,r,n,i,a,s,f,l){this.contractTxId=e,this.sortKey=r,this.transactionId=n,this.caller=i,this.input=a,this.blockTimestamp=s,this.blockHeight=f,this.data=l}};as.InteractionCompleteEvent=t8});var ig=ee(os=>{"use strict";x();Object.defineProperty(os,"__esModule",{value:!0});os.ContractCache=os.SrcCache=os.ContractMetadata=os.SUPPORTED_SRC_CONTENT_TYPES=void 0;os.SUPPORTED_SRC_CONTENT_TYPES=["application/javascript","application/wasm"];var r8=class{};os.ContractMetadata=r8;var n8=class{constructor(e){this.src=e.src,this.srcBinary=e.srcBinary,this.srcWasmLang=e.srcWasmLang}};os.SrcCache=n8;var i8=class{constructor(e){this.txId=e.txId,this.srcTxId=e.srcTxId,this.initState=e.initState,this.manifest=e.manifest,this.minFee=e.minFee,this.owner=e.owner,this.contractType=e.contractType,this.metadata=e.metadata,this.contractTx=e.contractTx,this.srcTx=e.srcTx,this.testnet=e.testnet}};os.ContractCache=i8});var po=ee(o0=>{"use strict";x();Object.defineProperty(o0,"__esModule",{value:!0});o0.WARP_TAGS=o0.SMART_WEAVE_TAGS=void 0;o0.SMART_WEAVE_TAGS={APP_NAME:"App-Name",APP_VERSION:"App-Version",CONTRACT_TX_ID:"Contract",INPUT:"Input",CONTENT_TYPE:"Content-Type",CONTRACT_SRC_TX_ID:"Contract-Src",SDK:"SDK",MIN_FEE:"Min-Fee"};o0.WARP_TAGS={SEQUENCER:"Sequencer",SEQUENCER_OWNER:"Sequencer-Owner",SEQUENCER_MILLIS:"Sequencer-Mills",SEQUENCER_SORT_KEY:"Sequencer-Sort-Key",SEQUENCER_PREV_SORT_KEY:"Sequencer-Prev-Sort-Key",SEQUENCER_LAST_SORT_KEY:"Sequencer-Last-Sort-Key",SEQUENCER_TX_ID:"Sequencer-Tx-Id",SEQUENCER_BLOCK_HEIGHT:"Sequencer-Block-Height",SEQUENCER_BLOCK_ID:"Sequencer-Block-Id",SEQUENCER_BLOCK_TIMESTAMP:"Sequencer-Block-Timestamp",INIT_STATE:"Init-State",INIT_STATE_TX:"Init-State-TX",INTERACT_WRITE:"Interact-Write",WASM_LANG:"Wasm-Lang",WASM_LANG_VERSION:"Wasm-Lang-Version",WASM_META:"Wasm-Meta",REQUEST_VRF:"Request-Vrf",SIGNATURE_TYPE:"Signature-Type",UPLOADER_TX_ID:"Uploader-Tx-Id",WARP_TESTNET:"Warp-Testnet",MANIFEST:"Contract-Manifest",NONCE:"Nonce"}});var UC=ee((qC,nb)=>{x();(function(t){"use strict";var e,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,i=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",f=1e14,l=14,g=9007199254740991,m=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],A=1e7,I=1e9;function T(se){var fe,de,G,L=b.prototype={constructor:b,toString:null,valueOf:null},q=new b(1),S=20,B=4,y=-7,o=21,u=-1e7,h=1e7,p=!1,v=1,d=0,E={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},w="0123456789abcdefghijklmnopqrstuvwxyz",c=!0;function b(M,k){var C,z,H,j,J,W,K,X,te=this;if(!(te instanceof b))return new b(M,k);if(k==null){if(M&&M._isBigNumber===!0){te.s=M.s,!M.c||M.e>h?te.c=te.e=null:M.e<u?te.c=[te.e=0]:(te.e=M.e,te.c=M.c.slice());return}if((W=typeof M=="number")&&M*0==0){if(te.s=1/M<0?(M=-M,-1):1,M===~~M){for(j=0,J=M;J>=10;J/=10,j++);j>h?te.c=te.e=null:(te.e=j,te.c=[M]);return}X=String(M)}else{if(!r.test(X=String(M)))return G(te,X,W);te.s=X.charCodeAt(0)==45?(X=X.slice(1),-1):1}(j=X.indexOf("."))>-1&&(X=X.replace(".","")),(J=X.search(/e/i))>0?(j<0&&(j=J),j+=+X.slice(J+1),X=X.substring(0,J)):j<0&&(j=X.length)}else{if(Y(k,2,w.length,"Base"),k==10&&c)return te=new b(M),ce(te,S+te.e+1,B);if(X=String(M),W=typeof M=="number"){if(M*0!=0)return G(te,X,W,k);if(te.s=1/M<0?(X=X.slice(1),-1):1,b.DEBUG&&X.replace(/^0\.0*|\./,"").length>15)throw Error(s+M)}else te.s=X.charCodeAt(0)===45?(X=X.slice(1),-1):1;for(C=w.slice(0,k),j=J=0,K=X.length;J<K;J++)if(C.indexOf(z=X.charAt(J))<0){if(z=="."){if(J>j){j=K;continue}}else if(!H&&(X==X.toUpperCase()&&(X=X.toLowerCase())||X==X.toLowerCase()&&(X=X.toUpperCase()))){H=!0,J=-1,j=0;continue}return G(te,String(M),W,k)}W=!1,X=de(X,k,10,te.s),(j=X.indexOf("."))>-1?X=X.replace(".",""):j=X.length}for(J=0;X.charCodeAt(J)===48;J++);for(K=X.length;X.charCodeAt(--K)===48;);if(X=X.slice(J,++K)){if(K-=J,W&&b.DEBUG&&K>15&&(M>g||M!==i(M)))throw Error(s+te.s*M);if((j=j-J-1)>h)te.c=te.e=null;else if(j<u)te.c=[te.e=0];else{if(te.e=j,te.c=[],J=(j+1)%l,j<0&&(J+=l),J<K){for(J&&te.c.push(+X.slice(0,J)),K-=l;J<K;)te.c.push(+X.slice(J,J+=l));J=l-(X=X.slice(J)).length}else J-=K;for(;J--;X+="0");te.c.push(+X)}}else te.c=[te.e=0]}b.clone=T,b.ROUND_UP=0,b.ROUND_DOWN=1,b.ROUND_CEIL=2,b.ROUND_FLOOR=3,b.ROUND_HALF_UP=4,b.ROUND_HALF_DOWN=5,b.ROUND_HALF_EVEN=6,b.ROUND_HALF_CEIL=7,b.ROUND_HALF_FLOOR=8,b.EUCLID=9,b.config=b.set=function(M){var k,C;if(M!=null)if(typeof M=="object"){if(M.hasOwnProperty(k="DECIMAL_PLACES")&&(C=M[k],Y(C,0,I,k),S=C),M.hasOwnProperty(k="ROUNDING_MODE")&&(C=M[k],Y(C,0,8,k),B=C),M.hasOwnProperty(k="EXPONENTIAL_AT")&&(C=M[k],C&&C.pop?(Y(C[0],-I,0,k),Y(C[1],0,I,k),y=C[0],o=C[1]):(Y(C,-I,I,k),y=-(o=C<0?-C:C))),M.hasOwnProperty(k="RANGE"))if(C=M[k],C&&C.pop)Y(C[0],-I,-1,k),Y(C[1],1,I,k),u=C[0],h=C[1];else if(Y(C,-I,I,k),C)u=-(h=C<0?-C:C);else throw Error(a+k+" cannot be zero: "+C);if(M.hasOwnProperty(k="CRYPTO"))if(C=M[k],C===!!C)if(C)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))p=C;else throw p=!C,Error(a+"crypto unavailable");else p=C;else throw Error(a+k+" not true or false: "+C);if(M.hasOwnProperty(k="MODULO_MODE")&&(C=M[k],Y(C,0,9,k),v=C),M.hasOwnProperty(k="POW_PRECISION")&&(C=M[k],Y(C,0,I,k),d=C),M.hasOwnProperty(k="FORMAT"))if(C=M[k],typeof C=="object")E=C;else throw Error(a+k+" not an object: "+C);if(M.hasOwnProperty(k="ALPHABET"))if(C=M[k],typeof C=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(C))c=C.slice(0,10)=="0123456789",w=C;else throw Error(a+k+" invalid: "+C)}else throw Error(a+"Object expected: "+M);return{DECIMAL_PLACES:S,ROUNDING_MODE:B,EXPONENTIAL_AT:[y,o],RANGE:[u,h],CRYPTO:p,MODULO_MODE:v,POW_PRECISION:d,FORMAT:E,ALPHABET:w}},b.isBigNumber=function(M){if(!M||M._isBigNumber!==!0)return!1;if(!b.DEBUG)return!0;var k,C,z=M.c,H=M.e,j=M.s;e:if({}.toString.call(z)=="[object Array]"){if((j===1||j===-1)&&H>=-I&&H<=I&&H===i(H)){if(z[0]===0){if(H===0&&z.length===1)return!0;break e}if(k=(H+1)%l,k<1&&(k+=l),String(z[0]).length==k){for(k=0;k<z.length;k++)if(C=z[k],C<0||C>=f||C!==i(C))break e;if(C!==0)return!0}}}else if(z===null&&H===null&&(j===null||j===1||j===-1))return!0;throw Error(a+"Invalid BigNumber: "+M)},b.maximum=b.max=function(){return F(arguments,-1)},b.minimum=b.min=function(){return F(arguments,1)},b.random=function(){var M=9007199254740992,k=Math.random()*M&2097151?function(){return i(Math.random()*M)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(C){var z,H,j,J,W,K=0,X=[],te=new b(q);if(C==null?C=S:Y(C,0,I),J=n(C/l),p)if(crypto.getRandomValues){for(z=crypto.getRandomValues(new Uint32Array(J*=2));K<J;)W=z[K]*131072+(z[K+1]>>>11),W>=9e15?(H=crypto.getRandomValues(new Uint32Array(2)),z[K]=H[0],z[K+1]=H[1]):(X.push(W%1e14),K+=2);K=J/2}else if(crypto.randomBytes){for(z=crypto.randomBytes(J*=7);K<J;)W=(z[K]&31)*281474976710656+z[K+1]*1099511627776+z[K+2]*4294967296+z[K+3]*16777216+(z[K+4]<<16)+(z[K+5]<<8)+z[K+6],W>=9e15?crypto.randomBytes(7).copy(z,K):(X.push(W%1e14),K+=7);K=J/7}else throw p=!1,Error(a+"crypto unavailable");if(!p)for(;K<J;)W=k(),W<9e15&&(X[K++]=W%1e14);for(J=X[--K],C%=l,J&&C&&(W=m[l-C],X[K]=i(J/W)*W);X[K]===0;X.pop(),K--);if(K<0)X=[j=0];else{for(j=-1;X[0]===0;X.splice(0,1),j-=l);for(K=1,W=X[0];W>=10;W/=10,K++);K<l&&(j-=l-K)}return te.e=j,te.c=X,te}}(),b.sum=function(){for(var M=1,k=arguments,C=new b(k[0]);M<k.length;)C=C.plus(k[M++]);return C},de=function(){var M="0123456789";function k(C,z,H,j){for(var J,W=[0],K,X=0,te=C.length;X<te;){for(K=W.length;K--;W[K]*=z);for(W[0]+=j.indexOf(C.charAt(X++)),J=0;J<W.length;J++)W[J]>H-1&&(W[J+1]==null&&(W[J+1]=0),W[J+1]+=W[J]/H|0,W[J]%=H)}return W.reverse()}return function(C,z,H,j,J){var W,K,X,te,ae,$,oe,le,Ee=C.indexOf("."),Be=S,Ae=B;for(Ee>=0&&(te=d,d=0,C=C.replace(".",""),le=new b(z),$=le.pow(C.length-Ee),d=te,le.c=k(he(U($.c),$.e,"0"),10,H,M),le.e=le.c.length),oe=k(C,z,H,J?(W=w,M):(W=M,w)),X=te=oe.length;oe[--te]==0;oe.pop());if(!oe[0])return W.charAt(0);if(Ee<0?--X:($.c=oe,$.e=X,$.s=j,$=fe($,le,Be,Ae,H),oe=$.c,ae=$.r,X=$.e),K=X+Be+1,Ee=oe[K],te=H/2,ae=ae||K<0||oe[K+1]!=null,ae=Ae<4?(Ee!=null||ae)&&(Ae==0||Ae==($.s<0?3:2)):Ee>te||Ee==te&&(Ae==4||ae||Ae==6&&oe[K-1]&1||Ae==($.s<0?8:7)),K<1||!oe[0])C=ae?he(W.charAt(1),-Be,W.charAt(0)):W.charAt(0);else{if(oe.length=K,ae)for(--H;++oe[--K]>H;)oe[K]=0,K||(++X,oe=[1].concat(oe));for(te=oe.length;!oe[--te];);for(Ee=0,C="";Ee<=te;C+=W.charAt(oe[Ee++]));C=he(C,X,W.charAt(0))}return C}}(),fe=function(){function M(z,H,j){var J,W,K,X,te=0,ae=z.length,$=H%A,oe=H/A|0;for(z=z.slice();ae--;)K=z[ae]%A,X=z[ae]/A|0,J=oe*K+X*$,W=$*K+J%A*A+te,te=(W/j|0)+(J/A|0)+oe*X,z[ae]=W%j;return te&&(z=[te].concat(z)),z}function k(z,H,j,J){var W,K;if(j!=J)K=j>J?1:-1;else for(W=K=0;W<j;W++)if(z[W]!=H[W]){K=z[W]>H[W]?1:-1;break}return K}function C(z,H,j,J){for(var W=0;j--;)z[j]-=W,W=z[j]<H[j]?1:0,z[j]=W*J+z[j]-H[j];for(;!z[0]&&z.length>1;z.splice(0,1));}return function(z,H,j,J,W){var K,X,te,ae,$,oe,le,Ee,Be,Ae,R,V,Q,ve,Te,Se,ie,be=z.s==H.s?1:-1,ye=z.c,me=H.c;if(!ye||!ye[0]||!me||!me[0])return new b(!z.s||!H.s||(ye?me&&ye[0]==me[0]:!me)?NaN:ye&&ye[0]==0||!me?be*0:be/0);for(Ee=new b(be),Be=Ee.c=[],X=z.e-H.e,be=j+X+1,W||(W=f,X=O(z.e/l)-O(H.e/l),be=be/l|0),te=0;me[te]==(ye[te]||0);te++);if(me[te]>(ye[te]||0)&&X--,be<0)Be.push(1),ae=!0;else{for(ve=ye.length,Se=me.length,te=0,be+=2,$=i(W/(me[0]+1)),$>1&&(me=M(me,$,W),ye=M(ye,$,W),Se=me.length,ve=ye.length),Q=Se,Ae=ye.slice(0,Se),R=Ae.length;R<Se;Ae[R++]=0);ie=me.slice(),ie=[0].concat(ie),Te=me[0],me[1]>=W/2&&Te++;do{if($=0,K=k(me,Ae,Se,R),K<0){if(V=Ae[0],Se!=R&&(V=V*W+(Ae[1]||0)),$=i(V/Te),$>1)for($>=W&&($=W-1),oe=M(me,$,W),le=oe.length,R=Ae.length;k(oe,Ae,le,R)==1;)$--,C(oe,Se<le?ie:me,le,W),le=oe.length,K=1;else $==0&&(K=$=1),oe=me.slice(),le=oe.length;if(le<R&&(oe=[0].concat(oe)),C(Ae,oe,R,W),R=Ae.length,K==-1)for(;k(me,Ae,Se,R)<1;)$++,C(Ae,Se<R?ie:me,R,W),R=Ae.length}else K===0&&($++,Ae=[0]);Be[te++]=$,Ae[0]?Ae[R++]=ye[Q]||0:(Ae=[ye[Q]],R=1)}while((Q++<ve||Ae[0]!=null)&&be--);ae=Ae[0]!=null,Be[0]||Be.splice(0,1)}if(W==f){for(te=1,be=Be[0];be>=10;be/=10,te++);ce(Ee,j+(Ee.e=te+X*l-1)+1,J,ae)}else Ee.e=X,Ee.r=+ae;return Ee}}();function ue(M,k,C,z){var H,j,J,W,K;if(C==null?C=B:Y(C,0,8),!M.c)return M.toString();if(H=M.c[0],J=M.e,k==null)K=U(M.c),K=z==1||z==2&&(J<=y||J>=o)?pe(K,J):he(K,J,"0");else if(M=ce(new b(M),k,C),j=M.e,K=U(M.c),W=K.length,z==1||z==2&&(k<=j||j<=y)){for(;W<k;K+="0",W++);K=pe(K,j)}else if(k-=J,K=he(K,j,"0"),j+1>W){if(--k>0)for(K+=".";k--;K+="0");}else if(k+=j-W,k>0)for(j+1==W&&(K+=".");k--;K+="0");return M.s<0&&H?"-"+K:K}function F(M,k){for(var C,z,H=1,j=new b(M[0]);H<M.length;H++)z=new b(M[H]),(!z.s||(C=Z(j,z))===k||C===0&&j.s===k)&&(j=z);return j}function ne(M,k,C){for(var z=1,H=k.length;!k[--H];k.pop());for(H=k[0];H>=10;H/=10,z++);return(C=z+C*l-1)>h?M.c=M.e=null:C<u?M.c=[M.e=0]:(M.e=C,M.c=k),M}G=function(){var M=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,C=/^\.([^.]+)$/,z=/^-?(Infinity|NaN)$/,H=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(j,J,W,K){var X,te=W?J:J.replace(H,"");if(z.test(te))j.s=isNaN(te)?null:te<0?-1:1;else{if(!W&&(te=te.replace(M,function(ae,$,oe){return X=(oe=oe.toLowerCase())=="x"?16:oe=="b"?2:8,!K||K==X?$:ae}),K&&(X=K,te=te.replace(k,"$1").replace(C,"0.$1")),J!=te))return new b(te,X);if(b.DEBUG)throw Error(a+"Not a"+(K?" base "+K:"")+" number: "+J);j.s=null}j.c=j.e=null}}();function ce(M,k,C,z){var H,j,J,W,K,X,te,ae=M.c,$=m;if(ae){e:{for(H=1,W=ae[0];W>=10;W/=10,H++);if(j=k-H,j<0)j+=l,J=k,K=ae[X=0],te=i(K/$[H-J-1]%10);else if(X=n((j+1)/l),X>=ae.length)if(z){for(;ae.length<=X;ae.push(0));K=te=0,H=1,j%=l,J=j-l+1}else break e;else{for(K=W=ae[X],H=1;W>=10;W/=10,H++);j%=l,J=j-l+H,te=J<0?0:i(K/$[H-J-1]%10)}if(z=z||k<0||ae[X+1]!=null||(J<0?K:K%$[H-J-1]),z=C<4?(te||z)&&(C==0||C==(M.s<0?3:2)):te>5||te==5&&(C==4||z||C==6&&(j>0?J>0?K/$[H-J]:0:ae[X-1])%10&1||C==(M.s<0?8:7)),k<1||!ae[0])return ae.length=0,z?(k-=M.e+1,ae[0]=$[(l-k%l)%l],M.e=-k||0):ae[0]=M.e=0,M;if(j==0?(ae.length=X,W=1,X--):(ae.length=X+1,W=$[l-j],ae[X]=J>0?i(K/$[H-J]%$[J])*W:0),z)for(;;)if(X==0){for(j=1,J=ae[0];J>=10;J/=10,j++);for(J=ae[0]+=W,W=1;J>=10;J/=10,W++);j!=W&&(M.e++,ae[0]==f&&(ae[0]=1));break}else{if(ae[X]+=W,ae[X]!=f)break;ae[X--]=0,W=1}for(j=ae.length;ae[--j]===0;ae.pop());}M.e>h?M.c=M.e=null:M.e<u&&(M.c=[M.e=0])}return M}function xe(M){var k,C=M.e;return C===null?M.toString():(k=U(M.c),k=C<=y||C>=o?pe(k,C):he(k,C,"0"),M.s<0?"-"+k:k)}return L.absoluteValue=L.abs=function(){var M=new b(this);return M.s<0&&(M.s=1),M},L.comparedTo=function(M,k){return Z(this,new b(M,k))},L.decimalPlaces=L.dp=function(M,k){var C,z,H,j=this;if(M!=null)return Y(M,0,I),k==null?k=B:Y(k,0,8),ce(new b(j),M+j.e+1,k);if(!(C=j.c))return null;if(z=((H=C.length-1)-O(this.e/l))*l,H=C[H])for(;H%10==0;H/=10,z--);return z<0&&(z=0),z},L.dividedBy=L.div=function(M,k){return fe(this,new b(M,k),S,B)},L.dividedToIntegerBy=L.idiv=function(M,k){return fe(this,new b(M,k),0,1)},L.exponentiatedBy=L.pow=function(M,k){var C,z,H,j,J,W,K,X,te,ae=this;if(M=new b(M),M.c&&!M.isInteger())throw Error(a+"Exponent not an integer: "+xe(M));if(k!=null&&(k=new b(k)),W=M.e>14,!ae.c||!ae.c[0]||ae.c[0]==1&&!ae.e&&ae.c.length==1||!M.c||!M.c[0])return te=new b(Math.pow(+xe(ae),W?M.s*(2-re(M)):+xe(M))),k?te.mod(k):te;if(K=M.s<0,k){if(k.c?!k.c[0]:!k.s)return new b(NaN);z=!K&&ae.isInteger()&&k.isInteger(),z&&(ae=ae.mod(k))}else{if(M.e>9&&(ae.e>0||ae.e<-1||(ae.e==0?ae.c[0]>1||W&&ae.c[1]>=24e7:ae.c[0]<8e13||W&&ae.c[0]<=9999975e7)))return j=ae.s<0&&re(M)?-0:0,ae.e>-1&&(j=1/j),new b(K?1/j:j);d&&(j=n(d/l+2))}for(W?(C=new b(.5),K&&(M.s=1),X=re(M)):(H=Math.abs(+xe(M)),X=H%2),te=new b(q);;){if(X){if(te=te.times(ae),!te.c)break;j?te.c.length>j&&(te.c.length=j):z&&(te=te.mod(k))}if(H){if(H=i(H/2),H===0)break;X=H%2}else if(M=M.times(C),ce(M,M.e+1,1),M.e>14)X=re(M);else{if(H=+xe(M),H===0)break;X=H%2}ae=ae.times(ae),j?ae.c&&ae.c.length>j&&(ae.c.length=j):z&&(ae=ae.mod(k))}return z?te:(K&&(te=q.div(te)),k?te.mod(k):j?ce(te,d,B,J):te)},L.integerValue=function(M){var k=new b(this);return M==null?M=B:Y(M,0,8),ce(k,k.e+1,M)},L.isEqualTo=L.eq=function(M,k){return Z(this,new b(M,k))===0},L.isFinite=function(){return!!this.c},L.isGreaterThan=L.gt=function(M,k){return Z(this,new b(M,k))>0},L.isGreaterThanOrEqualTo=L.gte=function(M,k){return(k=Z(this,new b(M,k)))===1||k===0},L.isInteger=function(){return!!this.c&&O(this.e/l)>this.c.length-2},L.isLessThan=L.lt=function(M,k){return Z(this,new b(M,k))<0},L.isLessThanOrEqualTo=L.lte=function(M,k){return(k=Z(this,new b(M,k)))===-1||k===0},L.isNaN=function(){return!this.s},L.isNegative=function(){return this.s<0},L.isPositive=function(){return this.s>0},L.isZero=function(){return!!this.c&&this.c[0]==0},L.minus=function(M,k){var C,z,H,j,J=this,W=J.s;if(M=new b(M,k),k=M.s,!W||!k)return new b(NaN);if(W!=k)return M.s=-k,J.plus(M);var K=J.e/l,X=M.e/l,te=J.c,ae=M.c;if(!K||!X){if(!te||!ae)return te?(M.s=-k,M):new b(ae?J:NaN);if(!te[0]||!ae[0])return ae[0]?(M.s=-k,M):new b(te[0]?J:B==3?-0:0)}if(K=O(K),X=O(X),te=te.slice(),W=K-X){for((j=W<0)?(W=-W,H=te):(X=K,H=ae),H.reverse(),k=W;k--;H.push(0));H.reverse()}else for(z=(j=(W=te.length)<(k=ae.length))?W:k,W=k=0;k<z;k++)if(te[k]!=ae[k]){j=te[k]<ae[k];break}if(j&&(H=te,te=ae,ae=H,M.s=-M.s),k=(z=ae.length)-(C=te.length),k>0)for(;k--;te[C++]=0);for(k=f-1;z>W;){if(te[--z]<ae[z]){for(C=z;C&&!te[--C];te[C]=k);--te[C],te[z]+=f}te[z]-=ae[z]}for(;te[0]==0;te.splice(0,1),--X);return te[0]?ne(M,te,X):(M.s=B==3?-1:1,M.c=[M.e=0],M)},L.modulo=L.mod=function(M,k){var C,z,H=this;return M=new b(M,k),!H.c||!M.s||M.c&&!M.c[0]?new b(NaN):!M.c||H.c&&!H.c[0]?new b(H):(v==9?(z=M.s,M.s=1,C=fe(H,M,0,3),M.s=z,C.s*=z):C=fe(H,M,0,v),M=H.minus(C.times(M)),!M.c[0]&&v==1&&(M.s=H.s),M)},L.multipliedBy=L.times=function(M,k){var C,z,H,j,J,W,K,X,te,ae,$,oe,le,Ee,Be,Ae=this,R=Ae.c,V=(M=new b(M,k)).c;if(!R||!V||!R[0]||!V[0])return!Ae.s||!M.s||R&&!R[0]&&!V||V&&!V[0]&&!R?M.c=M.e=M.s=null:(M.s*=Ae.s,!R||!V?M.c=M.e=null:(M.c=[0],M.e=0)),M;for(z=O(Ae.e/l)+O(M.e/l),M.s*=Ae.s,K=R.length,ae=V.length,K<ae&&(le=R,R=V,V=le,H=K,K=ae,ae=H),H=K+ae,le=[];H--;le.push(0));for(Ee=f,Be=A,H=ae;--H>=0;){for(C=0,$=V[H]%Be,oe=V[H]/Be|0,J=K,j=H+J;j>H;)X=R[--J]%Be,te=R[J]/Be|0,W=oe*X+te*$,X=$*X+W%Be*Be+le[j]+C,C=(X/Ee|0)+(W/Be|0)+oe*te,le[j--]=X%Ee;le[j]=C}return C?++z:le.splice(0,1),ne(M,le,z)},L.negated=function(){var M=new b(this);return M.s=-M.s||null,M},L.plus=function(M,k){var C,z=this,H=z.s;if(M=new b(M,k),k=M.s,!H||!k)return new b(NaN);if(H!=k)return M.s=-k,z.minus(M);var j=z.e/l,J=M.e/l,W=z.c,K=M.c;if(!j||!J){if(!W||!K)return new b(H/0);if(!W[0]||!K[0])return K[0]?M:new b(W[0]?z:H*0)}if(j=O(j),J=O(J),W=W.slice(),H=j-J){for(H>0?(J=j,C=K):(H=-H,C=W),C.reverse();H--;C.push(0));C.reverse()}for(H=W.length,k=K.length,H-k<0&&(C=K,K=W,W=C,k=H),H=0;k;)H=(W[--k]=W[k]+K[k]+H)/f|0,W[k]=f===W[k]?0:W[k]%f;return H&&(W=[H].concat(W),++J),ne(M,W,J)},L.precision=L.sd=function(M,k){var C,z,H,j=this;if(M!=null&&M!==!!M)return Y(M,1,I),k==null?k=B:Y(k,0,8),ce(new b(j),M,k);if(!(C=j.c))return null;if(H=C.length-1,z=H*l+1,H=C[H]){for(;H%10==0;H/=10,z--);for(H=C[0];H>=10;H/=10,z++);}return M&&j.e+1>z&&(z=j.e+1),z},L.shiftedBy=function(M){return Y(M,-g,g),this.times("1e"+M)},L.squareRoot=L.sqrt=function(){var M,k,C,z,H,j=this,J=j.c,W=j.s,K=j.e,X=S+4,te=new b("0.5");if(W!==1||!J||!J[0])return new b(!W||W<0&&(!J||J[0])?NaN:J?j:1/0);if(W=Math.sqrt(+xe(j)),W==0||W==1/0?(k=U(J),(k.length+K)%2==0&&(k+="0"),W=Math.sqrt(+k),K=O((K+1)/2)-(K<0||K%2),W==1/0?k="5e"+K:(k=W.toExponential(),k=k.slice(0,k.indexOf("e")+1)+K),C=new b(k)):C=new b(W+""),C.c[0]){for(K=C.e,W=K+X,W<3&&(W=0);;)if(H=C,C=te.times(H.plus(fe(j,H,X,1))),U(H.c).slice(0,W)===(k=U(C.c)).slice(0,W))if(C.e<K&&--W,k=k.slice(W-3,W+1),k=="9999"||!z&&k=="4999"){if(!z&&(ce(H,H.e+S+2,0),H.times(H).eq(j))){C=H;break}X+=4,W+=4,z=1}else{(!+k||!+k.slice(1)&&k.charAt(0)=="5")&&(ce(C,C.e+S+2,1),M=!C.times(C).eq(j));break}}return ce(C,C.e+S+1,B,M)},L.toExponential=function(M,k){return M!=null&&(Y(M,0,I),M++),ue(this,M,k,1)},L.toFixed=function(M,k){return M!=null&&(Y(M,0,I),M=M+this.e+1),ue(this,M,k)},L.toFormat=function(M,k,C){var z,H=this;if(C==null)M!=null&&k&&typeof k=="object"?(C=k,k=null):M&&typeof M=="object"?(C=M,M=k=null):C=E;else if(typeof C!="object")throw Error(a+"Argument not an object: "+C);if(z=H.toFixed(M,k),H.c){var j,J=z.split("."),W=+C.groupSize,K=+C.secondaryGroupSize,X=C.groupSeparator||"",te=J[0],ae=J[1],$=H.s<0,oe=$?te.slice(1):te,le=oe.length;if(K&&(j=W,W=K,K=j,le-=j),W>0&&le>0){for(j=le%W||W,te=oe.substr(0,j);j<le;j+=W)te+=X+oe.substr(j,W);K>0&&(te+=X+oe.slice(j)),$&&(te="-"+te)}z=ae?te+(C.decimalSeparator||"")+((K=+C.fractionGroupSize)?ae.replace(new RegExp("\\d{"+K+"}\\B","g"),"$&"+(C.fractionGroupSeparator||"")):ae):te}return(C.prefix||"")+z+(C.suffix||"")},L.toFraction=function(M){var k,C,z,H,j,J,W,K,X,te,ae,$,oe=this,le=oe.c;if(M!=null&&(W=new b(M),!W.isInteger()&&(W.c||W.s!==1)||W.lt(q)))throw Error(a+"Argument "+(W.isInteger()?"out of range: ":"not an integer: ")+xe(W));if(!le)return new b(oe);for(k=new b(q),X=C=new b(q),z=K=new b(q),$=U(le),j=k.e=$.length-oe.e-1,k.c[0]=m[(J=j%l)<0?l+J:J],M=!M||W.comparedTo(k)>0?j>0?k:X:W,J=h,h=1/0,W=new b($),K.c[0]=0;te=fe(W,k,0,1),H=C.plus(te.times(z)),H.comparedTo(M)!=1;)C=z,z=H,X=K.plus(te.times(H=X)),K=H,k=W.minus(te.times(H=k)),W=H;return H=fe(M.minus(C),z,0,1),K=K.plus(H.times(X)),C=C.plus(H.times(z)),K.s=X.s=oe.s,j=j*2,ae=fe(X,z,j,B).minus(oe).abs().comparedTo(fe(K,C,j,B).minus(oe).abs())<1?[X,z]:[K,C],h=J,ae},L.toNumber=function(){return+xe(this)},L.toPrecision=function(M,k){return M!=null&&Y(M,1,I),ue(this,M,k,2)},L.toString=function(M){var k,C=this,z=C.s,H=C.e;return H===null?z?(k="Infinity",z<0&&(k="-"+k)):k="NaN":(M==null?k=H<=y||H>=o?pe(U(C.c),H):he(U(C.c),H,"0"):M===10&&c?(C=ce(new b(C),S+H+1,B),k=he(U(C.c),C.e,"0")):(Y(M,2,w.length,"Base"),k=de(he(U(C.c),H,"0"),10,M,z,!0)),z<0&&C.c[0]&&(k="-"+k)),k},L.valueOf=L.toJSON=function(){return xe(this)},L._isBigNumber=!0,se!=null&&b.set(se),b}function O(se){var fe=se|0;return se>0||se===fe?fe:fe-1}function U(se){for(var fe,de,G=1,L=se.length,q=se[0]+"";G<L;){for(fe=se[G++]+"",de=l-fe.length;de--;fe="0"+fe);q+=fe}for(L=q.length;q.charCodeAt(--L)===48;);return q.slice(0,L+1||1)}function Z(se,fe){var de,G,L=se.c,q=fe.c,S=se.s,B=fe.s,y=se.e,o=fe.e;if(!S||!B)return null;if(de=L&&!L[0],G=q&&!q[0],de||G)return de?G?0:-B:S;if(S!=B)return S;if(de=S<0,G=y==o,!L||!q)return G?0:!L^de?1:-1;if(!G)return y>o^de?1:-1;for(B=(y=L.length)<(o=q.length)?y:o,S=0;S<B;S++)if(L[S]!=q[S])return L[S]>q[S]^de?1:-1;return y==o?0:y>o^de?1:-1}function Y(se,fe,de,G){if(se<fe||se>de||se!==i(se))throw Error(a+(G||"Argument")+(typeof se=="number"?se<fe||se>de?" out of range: ":" not an integer: ":" not a primitive number: ")+String(se))}function re(se){var fe=se.c.length-1;return O(se.e/l)==fe&&se.c[fe]%2!=0}function pe(se,fe){return(se.length>1?se.charAt(0)+"."+se.slice(1):se)+(fe<0?"e":"e+")+fe}function he(se,fe,de){var G,L;if(fe<0){for(L=de+".";++fe;L+=de);se=L+se}else if(G=se.length,++fe>G){for(L=de,fe-=G;--fe;L+=de);se+=L}else fe<G&&(se=se.slice(0,fe)+"."+se.slice(fe));return se}e=T(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof nb<"u"&&nb.exports?nb.exports=e:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=e)})(qC)});var FC=ee(o8=>{"use strict";x();Object.defineProperty(o8,"__esModule",{value:!0});var ese=UC(),a8=class{BigNum;constructor(){this.BigNum=(e,r)=>{let n=ese.BigNumber.clone({DECIMAL_PLACES:r});return new n(e)}}winstonToAr(e,{formatted:r=!1,decimals:n=12,trim:i=!0}={}){let a=this.stringToBigNum(e,n).shiftedBy(-12);return r?a.toFormat(n):a.toFixed(n)}arToWinston(e,{formatted:r=!1}={}){let n=this.stringToBigNum(e).shiftedBy(12);return r?n.toFormat():n.toFixed(0)}compare(e,r){let n=this.stringToBigNum(e),i=this.stringToBigNum(r);return n.comparedTo(i)}isEqual(e,r){return this.compare(e,r)===0}isLessThan(e,r){let n=this.stringToBigNum(e),i=this.stringToBigNum(r);return n.isLessThan(i)}isGreaterThan(e,r){let n=this.stringToBigNum(e),i=this.stringToBigNum(r);return n.isGreaterThan(i)}add(e,r){let n=this.stringToBigNum(e),i=this.stringToBigNum(r);return n.plus(r).toFixed(0)}sub(e,r){let n=this.stringToBigNum(e),i=this.stringToBigNum(r);return n.minus(r).toFixed(0)}stringToBigNum(e,r=12){return this.BigNum(e,r)}};o8.default=a8});var jC=ee(f8=>{"use strict";x();Object.defineProperty(f8,"__esModule",{value:!0});var s8=class{METHOD_GET="GET";METHOD_POST="POST";config;constructor(e){this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e)}getConfig(){return this.config}mergeDefaults(e){let r=e.protocol||"http",n=e.port||(r==="https"?443:80);return{host:e.host||"127.0.0.1",protocol:r,port:n,timeout:e.timeout||2e4,logging:e.logging||!1,logger:e.logger||console.log,network:e.network}}async get(e,r){return await this.request(e,{...r,method:this.METHOD_GET})}async post(e,r,n){let i=new Headers(n?.headers||{});return i.get("content-type")?.includes("application/json")||i.append("content-type","application/json"),i.append("accept","application/json, text/plain, */*"),await this.request(e,{...n,method:this.METHOD_POST,body:typeof r!="string"?JSON.stringify(r):r,headers:i})}async request(e,r){let n=new Headers(r?.headers||{}),i=`${this.config.protocol}://${this.config.host}:${this.config.port}`,a=r?.responseType;delete r?.responseType,e.startsWith("/")&&(e=e.slice(1)),this.config.network&&n.append("x-network",this.config.network),this.config.logging&&this.config.logger(`Requesting: ${i}/${e}`);let s=await fetch(`${i}/${e}`,{...r||{},headers:n});this.config.logging&&this.config.logger(`Response:   ${s.url} - ${s.status}`);let l=s.headers.get("content-type")?.match(/charset=([^()<>@,;:\"/[\]?.=\s]*)/i)?.[1],g=s,m=async()=>{if(l)try{g.data=new TextDecoder(l).decode(await s.arrayBuffer())}catch{g.data=await s.text()}else g.data=await s.text()};if(a==="arraybuffer")g.data=await s.arrayBuffer();else if(a==="text")await m();else if(a==="webstream")g.data=tse(s.body);else try{let A=await s.clone().json();typeof A!="object"?await m():g.data=await s.json(),A=null}catch{await m()}return g}};f8.default=s8;var tse=t=>{let e=t;return typeof e[Symbol.asyncIterator]>"u"?(e[Symbol.asyncIterator]=rse(t),e):t},rse=function(t){return async function*(){let r=t.getReader();try{for(;;){let{done:n,value:i}=await r.read();if(n)return;yield i}}finally{r.releaseLock()}}}});var go=ee(on=>{"use strict";x();Object.defineProperty(on,"__esModule",{value:!0});on.b64UrlDecode=on.b64UrlEncode=on.bufferTob64Url=on.bufferTob64=on.b64UrlToBuffer=on.stringToB64Url=on.stringToBuffer=on.bufferToString=on.b64UrlToString=on.concatBuffers=void 0;var zC=Rp();function nse(t){let e=0;for(let i=0;i<t.length;i++)e+=t[i].byteLength;let r=new Uint8Array(e),n=0;r.set(new Uint8Array(t[0]),n),n+=t[0].byteLength;for(let i=1;i<t.length;i++)r.set(new Uint8Array(t[i]),n),n+=t[i].byteLength;return r}on.concatBuffers=nse;function ise(t){let e=GC(t);return KC(e)}on.b64UrlToString=ise;function KC(t){return new TextDecoder("utf-8",{fatal:!0}).decode(t)}on.bufferToString=KC;function WC(t){return new TextEncoder().encode(t)}on.stringToBuffer=WC;function ase(t){return $C(WC(t))}on.stringToB64Url=ase;function GC(t){return new Uint8Array(zC.toByteArray(ZC(t)))}on.b64UrlToBuffer=GC;function HC(t){return zC.fromByteArray(new Uint8Array(t))}on.bufferTob64=HC;function $C(t){return VC(HC(t))}on.bufferTob64Url=$C;function VC(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}on.b64UrlEncode=VC;function ZC(t){t=t.replace(/\-/g,"+").replace(/\_/g,"/");let e;return t.length%4==0?e=0:e=4-t.length%4,t.concat("=".repeat(e))}on.b64UrlDecode=ZC});var JC=ee(c8=>{"use strict";x();Object.defineProperty(c8,"__esModule",{value:!0});var su=go(),u8=class{keyLength=4096;publicExponent=65537;hashAlgorithm="sha256";driver;constructor(){if(!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let e=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),r=await this.driver.exportKey("jwk",e.privateKey);return{kty:r.kty,e:r.e,n:r.n,d:r.d,p:r.p,q:r.q,dp:r.dp,dq:r.dq,qi:r.qi}}async sign(e,r,{saltLength:n}={}){let i=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(e),r);return new Uint8Array(i)}async hash(e,r="SHA-256"){let n=await this.driver.digest(r,e);return new Uint8Array(n)}async verify(e,r,n){let i={kty:"RSA",e:"AQAB",n:e},a=await this.jwkToPublicCryptoKey(i),s=await this.driver.digest("SHA-256",r),f=await this.driver.verify({name:"RSA-PSS",saltLength:0},a,n,r),l=await this.driver.verify({name:"RSA-PSS",saltLength:32},a,n,r),g=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((a.algorithm.modulusLength-1)/8)-s.byteLength-2},a,n,r);return f||l||g}async jwkToCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;let e=crypto?.subtle;return e===void 0?!1:["generateKey","importKey","exportKey","digest","sign"].every(n=>typeof e[n]=="function")}async encrypt(e,r,n){let i=await this.driver.importKey("raw",typeof r=="string"?su.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),a=await this.driver.deriveKey({name:"PBKDF2",salt:n?su.stringToBuffer(n):su.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=new Uint8Array(16);crypto.getRandomValues(s);let f=await this.driver.encrypt({name:"AES-CBC",iv:s},a,e);return su.concatBuffers([s,f])}async decrypt(e,r,n){let i=await this.driver.importKey("raw",typeof r=="string"?su.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),a=await this.driver.deriveKey({name:"PBKDF2",salt:n?su.stringToBuffer(n):su.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=e.slice(0,16),f=await this.driver.decrypt({name:"AES-CBC",iv:s},a,e.slice(16));return su.concatBuffers([f])}};c8.default=u8});var YC=ee(h8=>{"use strict";x();Object.defineProperty(h8,"__esModule",{value:!0});var l8=class{api;constructor(e){this.api=e}getInfo(){return this.api.get("info").then(e=>e.data)}getPeers(){return this.api.get("peers").then(e=>e.data)}};h8.default=l8});var og=ee(ag=>{"use strict";x();Object.defineProperty(ag,"__esModule",{value:!0});ag.getError=void 0;var d8=class extends Error{type;response;constructor(e,r={}){r.message?super(r.message):super(),this.type=e,this.response=r.response}getType(){return this.type}};ag.default=d8;function ose(t){let e=t.data;if(typeof t.data=="string")try{e=JSON.parse(t.data)}catch{}if(t.data instanceof ArrayBuffer||t.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch{}return e?e.error||e:t.statusText||"unknown"}ag.getError=ose});var eB=ee(p8=>{"use strict";x();Object.defineProperty(p8,"__esModule",{value:!0});var Ji=sg();async function XC(t){if(Array.isArray(t)){let n=Ji.default.utils.concatBuffers([Ji.default.utils.stringToBuffer("list"),Ji.default.utils.stringToBuffer(t.length.toString())]);return await QC(t,await Ji.default.crypto.hash(n,"SHA-384"))}let e=Ji.default.utils.concatBuffers([Ji.default.utils.stringToBuffer("blob"),Ji.default.utils.stringToBuffer(t.byteLength.toString())]),r=Ji.default.utils.concatBuffers([await Ji.default.crypto.hash(e,"SHA-384"),await Ji.default.crypto.hash(t,"SHA-384")]);return await Ji.default.crypto.hash(r,"SHA-384")}p8.default=XC;async function QC(t,e){if(t.length<1)return e;let r=Ji.default.utils.concatBuffers([e,await XC(t[0])]),n=await Ji.default.crypto.hash(r,"SHA-384");return await QC(t.slice(1),n)}});var w8=ee(Nt=>{"use strict";x();Object.defineProperty(Nt,"__esModule",{value:!0});Nt.debug=Nt.validatePath=Nt.arrayCompare=Nt.bufferToInt=Nt.intToBuffer=Nt.arrayFlatten=Nt.generateProofs=Nt.buildLayers=Nt.generateTransactionChunks=Nt.generateTree=Nt.computeRootHash=Nt.generateLeaves=Nt.chunkData=Nt.MIN_CHUNK_SIZE=Nt.MAX_CHUNK_SIZE=void 0;var ib=sg(),tB=go();Nt.MAX_CHUNK_SIZE=256*1024;Nt.MIN_CHUNK_SIZE=32*1024;var ug=32,s0=32;async function v8(t){let e=[],r=t,n=0;for(;r.byteLength>=Nt.MAX_CHUNK_SIZE;){let i=Nt.MAX_CHUNK_SIZE,a=r.byteLength-Nt.MAX_CHUNK_SIZE;a>0&&a<Nt.MIN_CHUNK_SIZE&&(i=Math.ceil(r.byteLength/2));let s=r.slice(0,i),f=await ib.default.crypto.hash(s);n+=s.byteLength,e.push({dataHash:f,minByteRange:n-s.byteLength,maxByteRange:n}),r=r.slice(i)}return e.push({dataHash:await ib.default.crypto.hash(r),minByteRange:n,maxByteRange:n+r.byteLength}),e}Nt.chunkData=v8;async function y8(t){return Promise.all(t.map(async({dataHash:e,minByteRange:r,maxByteRange:n})=>({type:"leaf",id:await Cn(await Promise.all([Cn(e),Cn(cg(n))])),dataHash:e,minByteRange:r,maxByteRange:n})))}Nt.generateLeaves=y8;async function sse(t){return(await rB(t)).id}Nt.computeRootHash=sse;async function rB(t){return await ab(await y8(await v8(t)))}Nt.generateTree=rB;async function fse(t){let e=await v8(t),r=await y8(e),n=await ab(r),i=await nB(n),a=e.slice(-1)[0];return a.maxByteRange-a.minByteRange===0&&(e.splice(e.length-1,1),i.splice(i.length-1,1)),{data_root:n.id,chunks:e,proofs:i}}Nt.generateTransactionChunks=fse;async function ab(t,e=0){if(t.length<2)return t[0];let r=[];for(let n=0;n<t.length;n+=2)r.push(await use(t[n],t[n+1]));return ab(r,e+1)}Nt.buildLayers=ab;function nB(t){let e=g8(t);return Array.isArray(e)?m8(e):[e]}Nt.generateProofs=nB;function g8(t,e=new Uint8Array,r=0){if(t.type=="leaf")return{offset:t.maxByteRange-1,proof:(0,tB.concatBuffers)([e,t.dataHash,cg(t.maxByteRange)])};if(t.type=="branch"){let n=(0,tB.concatBuffers)([e,t.leftChild.id,t.rightChild.id,cg(t.byteRange)]);return[g8(t.leftChild,n,r+1),g8(t.rightChild,n,r+1)]}throw new Error("Unexpected node type")}function m8(t){let e=[];return t.forEach(r=>{Array.isArray(r)?e.push(...m8(r)):e.push(r)}),e}Nt.arrayFlatten=m8;async function use(t,e){return e?{type:"branch",id:await Cn([await Cn(t.id),await Cn(e.id),await Cn(cg(t.maxByteRange))]),byteRange:t.maxByteRange,maxByteRange:e.maxByteRange,leftChild:t,rightChild:e}:t}async function Cn(t){return Array.isArray(t)&&(t=ib.default.utils.concatBuffers(t)),new Uint8Array(await ib.default.crypto.hash(t))}function cg(t){let e=new Uint8Array(ug);for(var r=e.length-1;r>=0;r--){var n=t%256;e[r]=n,t=(t-n)/256}return e}Nt.intToBuffer=cg;function b8(t){let e=0;for(var r=0;r<t.length;r++)e*=256,e+=t[r];return e}Nt.bufferToInt=b8;var cse=(t,e)=>t.every((r,n)=>e[n]===r);Nt.arrayCompare=cse;async function fg(t,e,r,n,i){if(n<=0)return!1;if(e>=n)return fg(t,0,n-1,n,i);if(e<0)return fg(t,0,0,n,i);if(i.length==s0+ug){let A=i.slice(0,s0),I=i.slice(A.length,A.length+ug),T=await Cn([await Cn(A),await Cn(I)]);return(0,Nt.arrayCompare)(t,T)?{offset:n-1,leftBound:r,rightBound:n,chunkSize:n-r}:!1}let a=i.slice(0,s0),s=i.slice(a.length,a.length+s0),f=i.slice(a.length+s.length,a.length+s.length+ug),l=b8(f),g=i.slice(a.length+s.length+f.length),m=await Cn([await Cn(a),await Cn(s),await Cn(f)]);return(0,Nt.arrayCompare)(t,m)?e<l?await fg(a,e,r,Math.min(n,l),g):await fg(s,e,Math.max(r,l),n,g):!1}Nt.validatePath=fg;async function iB(t,e=""){if(t.byteLength<1)return e;let r=t.slice(0,s0),n=t.slice(r.length,r.length+s0),i=t.slice(r.length+n.length,r.length+n.length+ug),a=b8(i),s=t.slice(r.length+n.length+i.length),f=await Cn([await Cn(r),await Cn(n),await Cn(i)]),l=`${e}
${JSON.stringify(N.Buffer.from(r))},${JSON.stringify(N.Buffer.from(n))},${a} => ${JSON.stringify(f)}`;return iB(s,l)}Nt.debug=iB});var sb=ee(hg=>{"use strict";x();Object.defineProperty(hg,"__esModule",{value:!0});hg.Tag=void 0;var _n=go(),lse=eB(),hse=w8(),ob=class{get(e,r){if(!Object.getOwnPropertyNames(this).includes(e))throw new Error(`Field "${e}" is not a property of the Arweave Transaction class.`);if(this[e]instanceof Uint8Array)return r&&r.decode&&r.string?_n.bufferToString(this[e]):r&&r.decode&&!r.string?this[e]:_n.bufferTob64Url(this[e]);if(this[e]instanceof Array){if(r?.decode!==void 0||r?.string!==void 0)throw e==="tags"&&console.warn(`Did you mean to use 'transaction["tags"]' ?`),new Error("Cannot decode or stringify an array.");return this[e]}return r&&r.decode==!0?r&&r.string?_n.b64UrlToString(this[e]):_n.b64UrlToBuffer(this[e]):this[e]}},lg=class extends ob{name;value;constructor(e,r,n=!1){super(),this.name=e,this.value=r}};hg.Tag=lg;var x8=class extends ob{format=2;id="";last_tx="";owner="";tags=[];target="";quantity="0";data_size="0";data=new Uint8Array;data_root="";reward="0";signature="";chunks;constructor(e={}){super(),Object.assign(this,e),typeof this.data=="string"&&(this.data=_n.b64UrlToBuffer(this.data)),e.tags&&(this.tags=e.tags.map(r=>new lg(r.name,r.value)))}addTag(e,r){this.tags.push(new lg(_n.stringToB64Url(e),_n.stringToB64Url(r)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:_n.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(e){this.owner=e}setSignature({id:e,owner:r,reward:n,tags:i,signature:a}){this.id=e,this.owner=r,n&&(this.reward=n),i&&(this.tags=i),this.signature=a}async prepareChunks(e){!this.chunks&&e.byteLength>0&&(this.chunks=await(0,hse.generateTransactionChunks)(e),this.data_root=_n.bufferTob64Url(this.chunks.data_root)),!this.chunks&&e.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(e,r){if(!this.chunks)throw new Error("Chunks have not been prepared");let n=this.chunks.proofs[e],i=this.chunks.chunks[e];return{data_root:this.data_root,data_size:this.data_size,data_path:_n.bufferTob64Url(n.proof),offset:n.offset.toString(),chunk:_n.bufferTob64Url(r.slice(i.minByteRange,i.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let e=this.tags.reduce((n,i)=>_n.concatBuffers([n,i.get("name",{decode:!0,string:!1}),i.get("value",{decode:!0,string:!1})]),new Uint8Array);return _n.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),_n.stringToBuffer(this.quantity),_n.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),e]);case 2:this.data_root||await this.prepareChunks(this.data);let r=this.tags.map(n=>[n.get("name",{decode:!0,string:!1}),n.get("value",{decode:!0,string:!1})]);return await(0,lse.default)([_n.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),_n.stringToBuffer(this.quantity),_n.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),r,_n.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}};hg.default=x8});var fB=ee(fb=>{"use strict";x();Object.defineProperty(fb,"__esModule",{value:!0});fb.TransactionUploader=void 0;var aB=sb(),dse=go(),_8=og(),pse=w8(),oB=1,gse=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],sB=1e3*40,dg=class{api;chunkIndex=0;txPosted=!1;transaction;lastRequestTimeEnd=0;totalErrors=0;data;lastResponseStatus=0;lastResponseError="";get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}constructor(e,r){if(this.api=e,!r.id)throw new Error("Transaction is not signed");if(!r.chunks)throw new Error("Transaction chunks not prepared");this.data=r.data,this.transaction=new aB.default(Object.assign({},r,{data:new Uint8Array(0)}))}async uploadChunk(e){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let r=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+sB-Date.now(),sB);if(r>0&&(r=r-r*Math.random()*.3,await new Promise(s=>setTimeout(s,r))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}e&&(this.chunkIndex=e);let n=this.transaction.getChunk(e||this.chunkIndex,this.data);if(!await(0,pse.validatePath)(this.transaction.chunks.data_root,parseInt(n.offset),0,parseInt(n.data_size),dse.b64UrlToBuffer(n.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);let a=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(s=>(console.error(s.message),{status:-1,data:{error:s.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=a.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=(0,_8.getError)(a),gse.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(e,r,n){if(!r||typeof r.chunkIndex!="number"||typeof r.transaction!="object")throw new Error("Serialized object does not match expected format.");var i=new aB.default(r.transaction);i.chunks||await i.prepareChunks(n);let a=new dg(e,i);if(a.chunkIndex=r.chunkIndex,a.lastRequestTimeEnd=r.lastRequestTimeEnd,a.lastResponseError=r.lastResponseError,a.lastResponseStatus=r.lastResponseStatus,a.txPosted=r.txPosted,a.data=n,a.transaction.data_root!==r.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return a}static async fromTransactionId(e,r){let n=await e.get(`tx/${r}`);if(n.status!==200)throw new Error(`Tx ${r} not found: ${n.status}`);let i=n.data;return i.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:i}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=oB){this.transaction.data=this.data;let n=await this.api.post("tx",this.transaction).catch(i=>(console.error(i),{status:-1,data:{error:i.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=n.status,this.transaction.data=new Uint8Array(0),n.status>=200&&n.status<300){this.txPosted=!0,this.chunkIndex=oB;return}throw this.lastResponseError=(0,_8.getError)(n),new Error(`Unable to upload transaction: ${n.status}, ${this.lastResponseError}`)}let r=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=r.status,!(r.status>=200&&r.status<300))throw this.lastResponseError=(0,_8.getError)(r),new Error(`Unable to upload transaction: ${r.status}, ${this.lastResponseError}`);this.txPosted=!0}};fb.TransactionUploader=dg});var Yc=ee((ZIe,uB)=>{x();uB.exports={}});var cB=ee(M8=>{"use strict";x();Object.defineProperty(M8,"__esModule",{value:!0});var E8=og(),af=sb(),pg=go(),S8=fB();Yc();var A8=class{api;crypto;chunks;constructor(e,r,n){this.api=e,this.crypto=r,this.chunks=n}async getTransactionAnchor(){let e=await this.api.get("tx_anchor");if(!e.data.match(/^[a-z0-9_-]{43,}/i)||!e.ok)throw new Error(`Could not getTransactionAnchor. Received: ${e.data}. Status: ${e.status}, ${e.statusText}`);return e.data}async getPrice(e,r){let n=r?`price/${e}/${r}`:`price/${e}`,i=await this.api.get(n);if(!/^\d+$/.test(i.data)||!i.ok)throw new Error(`Could not getPrice. Received: ${i.data}. Status: ${i.status}, ${i.statusText}`);return i.data}async get(e){let r=await this.api.get(`tx/${e}`);if(r.status==200){let n=parseInt(r.data.data_size);if(r.data.format>=2&&n>0&&n<=1024*1024*12){let i=await this.getData(e);return new af.default({...r.data,data:i})}return new af.default({...r.data,format:r.data.format||1})}throw r.status==404?new E8.default("TX_NOT_FOUND"):r.status==410?new E8.default("TX_FAILED"):new E8.default("TX_INVALID")}fromRaw(e){return new af.default(e)}async search(e,r){return this.api.post("arql",{op:"equals",expr1:e,expr2:r}).then(n=>n.data?n.data:[])}getStatus(e){return this.api.get(`tx/${e}/status`).then(r=>r.status==200?{status:200,confirmed:r.data}:{status:r.status,confirmed:null})}async getData(e,r){let n;try{n=await this.chunks.downloadChunkedData(e)}catch(i){console.error(`Error while trying to download chunked data for ${e}`),console.error(i)}if(!n){console.warn(`Falling back to gateway cache for ${e}`);try{let{data:i,ok:a,status:s,statusText:f}=await this.api.get(`/${e}`,{responseType:"arraybuffer"});if(!a)throw new Error("Bad http status code",{cause:{status:s,statusText:f}});n=i}catch(i){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(i)}}if(!n)throw new Error(`${e} data was not found!`);return r&&r.decode&&!r.string?n:r&&r.decode&&r.string?pg.bufferToString(n):pg.bufferTob64Url(n)}async sign(e,r,n){let a=typeof r=="object"&&(f=>{let l=!0;return["n","e","d","p","q","dp","dq","qi"].map(g=>!(g in f)&&(l=!1)),l})(r),s=typeof arweaveWallet=="object";if(!a&&!s)throw new Error("No valid JWK or external wallet found to sign transaction.");if(s){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}let f=await arweaveWallet.sign(e,n);e.setSignature({id:f.id,owner:f.owner,reward:f.reward,tags:f.tags,signature:f.signature})}else if(a){e.setOwner(r.n);let f=await e.getSignatureData(),l=await this.crypto.sign(r,f,n),g=await this.crypto.hash(l);e.setSignature({id:pg.bufferTob64Url(g),owner:r.n,signature:pg.bufferTob64Url(l)})}else throw new Error("An error occurred while signing. Check wallet is valid")}async verify(e){let r=await e.getSignatureData(),n=e.get("signature",{decode:!0,string:!1}),i=pg.bufferTob64Url(await this.crypto.hash(n));if(e.id!==i)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(e.owner,r,n)}async post(e){if(typeof e=="string"?e=new af.default(JSON.parse(e)):typeof e.readInt32BE=="function"?e=new af.default(JSON.parse(e.toString())):typeof e=="object"&&!(e instanceof af.default)&&(e=new af.default(e)),!(e instanceof af.default))throw new Error("Must be Transaction object");e.chunks||await e.prepareChunks(e.data);let r=await this.getUploader(e,e.data);try{for(;!r.isComplete;)await r.uploadChunk()}catch(n){if(r.lastResponseStatus>0)return{status:r.lastResponseStatus,statusText:r.lastResponseError,data:{error:r.lastResponseError}};throw n}return{status:200,statusText:"OK",data:{}}}async getUploader(e,r){let n;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),e instanceof af.default){if(r||(r=e.data),!(r instanceof Uint8Array))throw new Error("Data format is invalid");e.chunks||await e.prepareChunks(r),n=new S8.TransactionUploader(this.api,e),(!n.data||n.data.length===0)&&(n.data=r)}else{if(typeof e=="string"&&(e=await S8.TransactionUploader.fromTransactionId(this.api,e)),!r||!(r instanceof Uint8Array))throw new Error("Must provide data when resuming upload");n=await S8.TransactionUploader.fromSerialized(this.api,e,r)}return n}async*upload(e,r){let n=await this.getUploader(e,r);for(;!n.isComplete;)await n.uploadChunk(),yield n;return n}};M8.default=A8});var hB=ee(O8=>{"use strict";x();Object.defineProperty(O8,"__esModule",{value:!0});var lB=go();Yc();var T8=class{api;crypto;constructor(e,r){this.api=e,this.crypto=r}getBalance(e){return this.api.get(`wallet/${e}/balance`).then(r=>r.data)}getLastTransactionID(e){return this.api.get(`wallet/${e}/last_tx`).then(r=>r.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(e){return!e||e==="use_wallet"?this.getAddress():this.getAddress(e)}async getAddress(e){if(!e||e==="use_wallet"){try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}else return this.ownerToAddress(e.n)}async ownerToAddress(e){return lB.bufferTob64Url(await this.crypto.hash(lB.b64UrlToBuffer(e)))}};O8.default=T8});var pB=ee(gg=>{"use strict";x();Object.defineProperty(gg,"__esModule",{value:!0});gg.SiloResource=void 0;var dB=go(),I8=class{api;crypto;transactions;constructor(e,r,n){this.api=e,this.crypto=r,this.transactions=n}async get(e){if(!e)throw new Error("No Silo URI specified");let r=await this.parseUri(e),n=await this.transactions.search("Silo-Name",r.getAccessKey());if(n.length==0)throw new Error(`No data could be found for the Silo URI: ${e}`);let i=await this.transactions.get(n[0]);if(!i)throw new Error(`No data could be found for the Silo URI: ${e}`);let a=i.get("data",{decode:!0,string:!1});return this.crypto.decrypt(a,r.getEncryptionKey())}async readTransactionData(e,r){if(!r)throw new Error("No Silo URI specified");let n=await this.parseUri(r),i=e.get("data",{decode:!0,string:!1});return this.crypto.decrypt(i,n.getEncryptionKey())}async parseUri(e){let r=e.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!r)throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");let n=r[1],i=Math.pow(2,parseInt(r[2])),a=await this.hash(dB.stringToBuffer(n),i),s=dB.bufferTob64(a.slice(0,15)),f=await this.hash(a.slice(16,31),1);return new ub(e,s,f)}async hash(e,r){let n=await this.crypto.hash(e);for(let i=0;i<r-1;i++)n=await this.crypto.hash(n);return n}};gg.default=I8;var ub=class{uri;accessKey;encryptionKey;constructor(e,r,n){this.uri=e,this.accessKey=r,this.encryptionKey=n}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}};gg.SiloResource=ub});var vB=ee(k8=>{"use strict";x();Object.defineProperty(k8,"__esModule",{value:!0});var gB=og(),vse=go(),R8=class{api;constructor(e){this.api=e}async getTransactionOffset(e){let r=await this.api.get(`tx/${e}/offset`);if(r.status===200)return r.data;throw new Error(`Unable to get transaction offset: ${(0,gB.getError)(r)}`)}async getChunk(e){let r=await this.api.get(`chunk/${e}`);if(r.status===200)return r.data;throw new Error(`Unable to get chunk: ${(0,gB.getError)(r)}`)}async getChunkData(e){let r=await this.getChunk(e);return vse.b64UrlToBuffer(r.chunk)}firstChunkOffset(e){return parseInt(e.offset)-parseInt(e.size)+1}async downloadChunkedData(e){let r=await this.getTransactionOffset(e),n=parseInt(r.size),a=parseInt(r.offset)-n+1,s=new Uint8Array(n),f=0;for(;f<n;){this.api.config.logging&&console.log(`[chunk] ${f}/${n}`);let l;try{l=await this.getChunkData(a+f)}catch{console.error(`[chunk] Failed to fetch chunk at offset ${a+f}`),console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gateway/node")}if(l)s.set(l,f),f+=l.length;else throw new Error(`Couldn't complete data download at ${f}/${n}`)}return s}};k8.default=R8});var yB=ee(C8=>{"use strict";x();Object.defineProperty(C8,"__esModule",{value:!0});var yse=og();Yc();var B8=class{api;network;constructor(e,r){this.api=e,this.network=r}async get(e){let r=await this.api.get(`${B8.ENDPOINT}${e}`);if(r.status===200)return r.data;throw r.status===404?new yse.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getCurrent(){let{current:e}=await this.network.getInfo();return await this.get(e)}},cb=B8;Hn(cb,"ENDPOINT","block/hash/");C8.default=cb});var sg=ee(P8=>{"use strict";x();Object.defineProperty(P8,"__esModule",{value:!0});var mse=FC(),bse=jC(),wse=JC(),xse=YC(),_se=cB(),Ese=hB(),mB=sb(),vg=go(),Sse=pB(),Ase=vB(),Mse=yB(),u0=class{api;wallets;transactions;network;blocks;ar;silo;chunks;constructor(e){this.api=new bse.default(e),this.wallets=new Ese.default(this.api,u0.crypto),this.chunks=new Ase.default(this.api),this.transactions=new _se.default(this.api,u0.crypto,this.chunks),this.silo=new Sse.default(this.api,this.crypto,this.transactions),this.network=new xse.default(this.api),this.blocks=new Mse.default(this.api,this.network),this.ar=new mse.default}get crypto(){return u0.crypto}get utils(){return u0.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(e,r){let n={};if(Object.assign(n,e),!e.data&&!(e.target&&e.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(e.owner==null&&r&&r!=="use_wallet"&&(n.owner=r.n),e.last_tx==null&&(n.last_tx=await this.transactions.getTransactionAnchor()),typeof e.data=="string"&&(e.data=vg.stringToBuffer(e.data)),e.data instanceof ArrayBuffer&&(e.data=new Uint8Array(e.data)),e.data&&!(e.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(e.reward==null){let a=e.data?e.data.byteLength:0;n.reward=await this.transactions.getPrice(a,n.target)}n.data_root="",n.data_size=e.data?e.data.byteLength.toString():"0",n.data=e.data||new Uint8Array(0);let i=new mB.default(n);return await i.getSignatureData(),i}async createSiloTransaction(e,r,n){let i={};if(Object.assign(i,e),!e.data)throw new Error("Silo transactions must have a 'data' value");if(!n)throw new Error("No Silo URI specified.");if(e.target||e.quantity)throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");if(e.owner==null){if(!r||!r.n)throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");i.owner=r.n}e.last_tx==null&&(i.last_tx=await this.transactions.getTransactionAnchor());let a=await this.silo.parseUri(n);if(typeof e.data=="string"){let f=await this.crypto.encrypt(vg.stringToBuffer(e.data),a.getEncryptionKey());i.reward=await this.transactions.getPrice(f.byteLength),i.data=vg.bufferTob64Url(f)}if(e.data instanceof Uint8Array){let f=await this.crypto.encrypt(e.data,a.getEncryptionKey());i.reward=await this.transactions.getPrice(f.byteLength),i.data=vg.bufferTob64Url(f)}let s=new mB.default(i);return s.addTag("Silo-Name",a.getAccessKey()),s.addTag("Silo-Version","0.1.0"),s}arql(e){return this.api.post("/arql",e).then(r=>r.data||[])}},f0=u0;Hn(f0,"init"),Hn(f0,"crypto",new wse.default),Hn(f0,"utils",vg);P8.default=f0});var bB=ee(lb=>{"use strict";x();Object.defineProperty(lb,"__esModule",{value:!0});lb.getDefaultConfig=void 0;var Tse=(t,e)=>{let r=/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,n=e.split("."),i=n[n.length-1],a=["localhost","[::1]"];return a.includes(e)||t=="file"||a.includes(i)||!!e.match(r)||!!i.match(r)},Ose=t=>{let e=t.charAt(0)==="[",r=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;return!!t.match(r)||e},Ise=(t,e)=>{if(Tse(t,e))return{protocol:"https",host:"arweave.net",port:443};if(!Ose(e)){let r=e.split(".");if(r.length>=3){r.shift();let n=r.join(".");return{protocol:t,host:n}}}return{protocol:t,host:e}};lb.getDefaultConfig=Ise});var hb=ee(fu=>{"use strict";x();var Rse=fu&&fu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kse=fu&&fu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Rse(e,t,r)};Object.defineProperty(fu,"__esModule",{value:!0});var c0=sg(),Cse=bB();c0.default.init=function(t={}){let e={host:"arweave.net",port:443,protocol:"https"};if(typeof location!="object"||!location.protocol||!location.hostname)return new c0.default({...t,...e});let r=location.protocol.replace(":",""),n=location.hostname,i=location.port?parseInt(location.port):r=="https"?443:80,a=(0,Cse.getDefaultConfig)(r,n),s=t.protocol||a.protocol,f=t.host||a.host,l=t.port||a.port||i;return new c0.default({...t,host:f,protocol:s,port:l})};typeof globalThis=="object"?globalThis.Arweave=c0.default:typeof self=="object"&&(self.Arweave=c0.default);kse(sg(),fu);fu.default=c0.default});var l0=ee(Ta=>{"use strict";x();var Bse=Ta&&Ta.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Pse=Ta&&Ta.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Nse=Ta&&Ta.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Bse(e,t,r);return Pse(e,t),e};Object.defineProperty(Ta,"__esModule",{value:!0});Ta.Tag=Ta.Transaction=void 0;var ss=Nse(go()),db=class{get(e,r){if(!Object.getOwnPropertyNames(this).includes(e))throw new Error(`Field "${e}" is not a property of the Arweave Transaction class.`);return this[e]instanceof Uint8Array?r&&r.decode&&r.string?ss.bufferToString(this[e]):r&&r.decode&&!r.string?this[e]:ss.bufferTob64Url(this[e]):r&&r.decode==!0?r&&r.string?ss.b64UrlToString(this[e]):ss.b64UrlToBuffer(this[e]):this[e]}},N8=class extends db{constructor(e={}){super(),this.format=2,this.id="",this.last_tx="",this.owner="",this.tags=[],this.target="",this.quantity="0",this.data_size="0",this.data=new Uint8Array,this.data_root="",this.reward="0",this.signature="",Object.assign(this,e),typeof this.data=="string"&&(this.data=ss.b64UrlToBuffer(this.data)),e.tags&&(this.tags=e.tags.map(r=>new yg(r.name,r.value)))}addTag(e,r){this.tags.push(new yg(ss.stringToB64Url(e),ss.stringToB64Url(r)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:ss.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(e){this.owner=e}setSignature({id:e,owner:r,reward:n,tags:i,signature:a}){this.id=e,this.owner=r,n&&(this.reward=n),i&&(this.tags=i),this.signature=a}async prepareChunks(e){throw new Error("Should not be called, use arweave-js version.")}getChunk(e,r){if(!this.chunks)throw new Error("Chunks have not been prepared");let n=this.chunks.proofs[e],i=this.chunks.chunks[e];return{data_root:this.data_root,data_size:this.data_size,data_path:ss.bufferTob64Url(n.proof),offset:n.offset.toString(),chunk:ss.bufferTob64Url(r.slice(i.minByteRange,i.maxByteRange))}}async getSignatureData(){throw new Error("Should not be called, use arweave-js version.")}};Ta.Transaction=N8;var yg=class extends db{constructor(e,r,n=!1){super(),this.name=e,this.value=r}};Ta.Tag=yg});var uu=ee(h0=>{"use strict";x();var Lse=h0&&h0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(h0,"__esModule",{value:!0});h0.ArweaveWrapper=void 0;var Dse=Lse(hb()),wB=Vs(),qse=Zr(),Use=l0(),mg=Vn(),L8=class{constructor(e){this.warp=e,this.logger=qse.LoggerFactory.INST.create("ArweaveWrapper");let{arweave:r}=e;this.baseUrl=`${r.api.config.protocol}://${r.api.config.host}:${r.api.config.port}`,this.logger.debug("baseurl",this.baseUrl)}async warpGwInfo(){return await this.doFetchInfo(`${(0,mg.stripTrailingSlash)(this.warp.gwUrl())}/gateway/arweave/info`)}async warpGwBlock(){return this.logger.debug("Calling warp gw block info"),await this.doFetchInfo(`${(0,mg.stripTrailingSlash)(this.warp.gwUrl())}/gateway/arweave/block`)}async info(){return await this.doFetchInfo(`${this.baseUrl}/info`)}async gql(e,r){try{let n=JSON.stringify({query:e,variables:r});return{data:await(0,mg.getJsonResponse)(fetch(`${this.baseUrl}/graphql`,{method:"POST",body:n,headers:{"Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json",Accept:"application/json"}})),status:200}}catch(n){throw this.logger.error("Error while loading gql",n),n}}async tx(e){let r=await fetch(`${this.baseUrl}/tx/${e}`).then(n=>n.ok?n.json():Promise.reject(n)).catch(n=>{var i,a;throw!((i=n.body)===null||i===void 0)&&i.message&&this.logger.error(n.body.message),new mg.NetworkCommunicationError(`Unable to retrieve tx ${e}. ${n.status}. ${(a=n.body)===null||a===void 0?void 0:a.message}`)});return new Use.Transaction({...r})}async txData(e){let r=await fetch(`${this.baseUrl}/${e}`);if(r.ok){let n=await r.arrayBuffer();return wB.Buffer.from(n)}else{this.logger.warn(`Unable to load data from arweave.net/${e} endpoint, falling back to arweave.js`);let n=await this.warp.arweave.transactions.getData(e,{decode:!0});return wB.Buffer.from(n)}}async txDataString(e){let r=await this.txData(e);return Dse.default.utils.bufferToString(r)}async doFetchInfo(e){return await(0,mg.getJsonResponse)(fetch(e))}};h0.ArweaveWrapper=L8});var cu=ee(pb=>{"use strict";x();Object.defineProperty(pb,"__esModule",{value:!0});pb.TagsParser=void 0;var fs=po(),Fse=Zr(),bg=class{constructor(){this.logger=Fse.LoggerFactory.INST.create("TagsParser")}getInputTag(e,r){if(bg.hasMultipleInteractions(e)){this.logger.debug("Interaction transaction is using multiple input tx tag format.");let n=e.tags.findIndex(a=>a.name===fs.SMART_WEAVE_TAGS.CONTRACT_TX_ID&&a.value===r);if(e.tags.length-1===n){this.logger.warn("Wrong tags format: 'Contract' is the last tag");return}let i=e.tags[n+1];if(i.name!==fs.SMART_WEAVE_TAGS.INPUT){this.logger.warn(`No 'Input' tag found after 'Contract' tag. Instead ${i.name} was found`);return}return i}else return e.tags.find(n=>n.name===fs.SMART_WEAVE_TAGS.INPUT)}isInteractWrite(e,r){return e.tags.some(n=>n.name===fs.WARP_TAGS.INTERACT_WRITE&&n.value===r)}getInteractWritesContracts(e){return e.tags.filter(r=>r.name===fs.WARP_TAGS.INTERACT_WRITE).map(r=>r.value)}getContractTag(e){var r;return(r=e.tags.find(n=>n.name===fs.SMART_WEAVE_TAGS.CONTRACT_TX_ID))===null||r===void 0?void 0:r.value}getContractsWithInputs(e){let r=new Map;return e.tags.filter(i=>i.name===fs.SMART_WEAVE_TAGS.CONTRACT_TX_ID).forEach(i=>{r.set(i.value,this.getInputTag(e,i.value))}),r}isEvmSigned(e){return e.tags.some(r=>r.name===fs.WARP_TAGS.SIGNATURE_TYPE&&r.value==="ethereum")}static hasMultipleInteractions(e){return e.tags.filter(r=>r.name===fs.SMART_WEAVE_TAGS.CONTRACT_TX_ID).length>1}decodeTags(e){let r=e.get("tags"),n=[];for(let i of r)try{let a=i.get("name",{decode:!0,string:!0}),s=i.get("value",{decode:!0,string:!0});n.push({name:a,value:s})}catch{}return n}getTag(e,r){let n=e.get("tags");for(let i of n)try{if(i.get("name",{decode:!0,string:!0})===r)return i.get("value",{decode:!0,string:!0})}catch{}return!1}hasVrfTag(e){return e.tags.some(r=>r.name==fs.WARP_TAGS.REQUEST_VRF&&r.value==="true")}};pb.TagsParser=bg});var xB=ee((gb,D8)=>{x();(function(t,e){typeof gb=="object"&&typeof D8<"u"?e(gb):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.unzipit={}))})(gb,function(t){"use strict";function e(ie){return ie.arrayBuffer?ie.arrayBuffer():new Promise((be,ye)=>{let me=new FileReader;me.addEventListener("loadend",()=>{be(me.result)}),me.addEventListener("error",ye),me.readAsArrayBuffer(ie)})}async function r(ie){let be=await e(ie);return new Uint8Array(be)}function n(ie){return typeof Blob<"u"&&ie instanceof Blob}function i(ie){return typeof SharedArrayBuffer<"u"&&ie instanceof SharedArrayBuffer}let a=typeof P.default<"u"&&P.default.versions&&typeof P.default.versions.node<"u"&&typeof P.default.versions.electron>"u";function s(ie){return ie.byteOffset===0&&ie.byteLength===ie.buffer.byteLength}class f{constructor(be){this.typedArray=be instanceof ArrayBuffer||i(be)?new Uint8Array(be):new Uint8Array(be.buffer,be.byteOffset,be.byteLength)}async getLength(){return this.typedArray.byteLength}async read(be,ye){return new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+be,ye)}}class l{constructor(be){this.blob=be}async getLength(){return this.blob.size}async read(be,ye){let me=this.blob.slice(be,be+ye),qe=await e(me);return new Uint8Array(qe)}async sliceAsBlob(be,ye,me=""){return this.blob.slice(be,be+ye,me)}}class g{constructor(be){this.url=be}async getLength(){if(this.length===void 0){let be=await fetch(this.url,{method:"HEAD"});if(!be.ok)throw new Error(`failed http request ${this.url}, status: ${be.status}: ${be.statusText}`);if(this.length=parseInt(be.headers.get("content-length")),Number.isNaN(this.length))throw Error("could not get length")}return this.length}async read(be,ye){if(ye===0)return new Uint8Array(0);let me=await fetch(this.url,{headers:{Range:`bytes=${be}-${be+ye-1}`}});if(!me.ok)throw new Error(`failed http request ${this.url}, status: ${me.status} offset: ${be} size: ${ye}: ${me.statusText}`);let qe=await me.arrayBuffer();return new Uint8Array(qe)}}function m(ie,be){var ye=Uint8Array;if(ie[0]==3&&ie[1]==0)return be||new ye(0);var me=re,qe=Y,Oe=I,Ie=pe,ot=be==null;ot&&(be=new ye(ie.length>>>2<<3));for(var ke=0,Le=0,gt=0,Ce=0,Ue=0,at=0,Ke=0,Ne=0,lt=0,We,He;ke==0;){if(ke=me(ie,lt,1),Le=me(ie,lt+1,2),lt+=3,Le==0){(lt&7)!=0&&(lt+=8-(lt&7));var wt=(lt>>>3)+4,ze=ie[wt-4]|ie[wt-3]<<8;ot&&(be=A(be,Ne+ze)),be.set(new ye(ie.buffer,ie.byteOffset+wt,ze),Ne),lt=wt+ze<<3,Ne+=ze;continue}if(ot&&(be=A(be,Ne+(1<<17))),Le==1&&(We=he.flmap,He=he.fdmap,at=(1<<9)-1,Ke=(1<<5)-1),Le==2){gt=qe(ie,lt,5)+257,Ce=qe(ie,lt+5,5)+1,Ue=qe(ie,lt+10,4)+4,lt+=14;for(var De=0;De<38;De+=2)he.itree[De]=0,he.itree[De+1]=0;for(var Ut=1,De=0;De<Ue;De++){var $e=qe(ie,lt+De*3,3);he.itree[(he.ordr[De]<<1)+1]=$e,$e>Ut&&(Ut=$e)}lt+=3*Ue,O(he.itree,Ut),U(he.itree,Ut,he.imap),We=he.lmap,He=he.dmap,lt=Oe(he.imap,(1<<Ut)-1,gt+Ce,ie,lt,he.ttree);var Ze=T(he.ttree,0,gt,he.ltree);at=(1<<Ze)-1;var wr=T(he.ttree,gt,Ce,he.dtree);Ke=(1<<wr)-1,O(he.ltree,Ze),U(he.ltree,Ze,We),O(he.dtree,wr),U(he.dtree,wr,He)}for(;;){var Je=We[Ie(ie,lt)&at];lt+=Je&15;var Ve=Je>>>4;if(Ve>>>8==0)be[Ne++]=Ve;else{if(Ve==256)break;var nr=Ne+Ve-254;if(Ve>264){var et=he.ldef[Ve-257];nr=Ne+(et>>>3)+qe(ie,lt,et&7),lt+=et&7}var Xe=He[Ie(ie,lt)&Ke];lt+=Xe&15;var sr=Xe>>>4,Jt=he.ddef[sr],Bt=(Jt>>>4)+me(ie,lt,Jt&15);for(lt+=Jt&15,ot&&(be=A(be,Ne+(1<<17)));Ne<nr;)be[Ne]=be[Ne++-Bt],be[Ne]=be[Ne++-Bt],be[Ne]=be[Ne++-Bt],be[Ne]=be[Ne++-Bt];Ne=nr}}}return be.length==Ne?be:be.slice(0,Ne)}function A(ie,be){var ye=ie.length;if(be<=ye)return ie;var me=new Uint8Array(Math.max(ye<<1,be));return me.set(ie,0),me}function I(ie,be,ye,me,qe,Oe){for(var Ie=Y,ot=pe,ke=0;ke<ye;){var Le=ie[ot(me,qe)&be];qe+=Le&15;var gt=Le>>>4;if(gt<=15)Oe[ke]=gt,ke++;else{var Ce=0,Ue=0;gt==16?(Ue=3+Ie(me,qe,2),qe+=2,Ce=Oe[ke-1]):gt==17?(Ue=3+Ie(me,qe,3),qe+=3):gt==18&&(Ue=11+Ie(me,qe,7),qe+=7);for(var at=ke+Ue;ke<at;)Oe[ke]=Ce,ke++}}return qe}function T(ie,be,ye,me){for(var qe=0,Oe=0,Ie=me.length>>>1;Oe<ye;){var ot=ie[Oe+be];me[Oe<<1]=0,me[(Oe<<1)+1]=ot,ot>qe&&(qe=ot),Oe++}for(;Oe<Ie;)me[Oe<<1]=0,me[(Oe<<1)+1]=0,Oe++;return qe}function O(ie,be){for(var ye=ie.length,me,qe,Oe,Ie,ot,ke=he.bl_count,Ie=0;Ie<=be;Ie++)ke[Ie]=0;for(Ie=1;Ie<ye;Ie+=2)ke[ie[Ie]]++;var Le=he.next_code;for(me=0,ke[0]=0,qe=1;qe<=be;qe++)me=me+ke[qe-1]<<1,Le[qe]=me;for(Oe=0;Oe<ye;Oe+=2)ot=ie[Oe+1],ot!=0&&(ie[Oe]=Le[ot],Le[ot]++)}function U(ie,be,ye){for(var me=ie.length,qe=he.rev15,Oe=0;Oe<me;Oe+=2)if(ie[Oe+1]!=0)for(var Ie=Oe>>1,ot=ie[Oe+1],ke=Ie<<4|ot,Le=be-ot,gt=ie[Oe]<<Le,Ce=gt+(1<<Le);gt!=Ce;){var Ue=qe[gt]>>>15-be;ye[Ue]=ke,gt++}}function Z(ie,be){for(var ye=he.rev15,me=15-be,qe=0;qe<ie.length;qe+=2){var Oe=ie[qe]<<be-ie[qe+1];ie[qe]=ye[Oe]>>>me}}function Y(ie,be,ye){return(ie[be>>>3]|ie[(be>>>3)+1]<<8)>>>(be&7)&(1<<ye)-1}function re(ie,be,ye){return(ie[be>>>3]|ie[(be>>>3)+1]<<8|ie[(be>>>3)+2]<<16)>>>(be&7)&(1<<ye)-1}function pe(ie,be){return(ie[be>>>3]|ie[(be>>>3)+1]<<8|ie[(be>>>3)+2]<<16)>>>(be&7)}let he=function(){var ie=Uint16Array,be=Uint32Array;return{next_code:new ie(16),bl_count:new ie(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new ie(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new be(32),flmap:new ie(512),fltree:[],fdmap:new ie(32),fdtree:[],lmap:new ie(32768),ltree:[],ttree:[],dmap:new ie(32768),dtree:[],imap:new ie(512),itree:[],rev15:new ie(1<<15),lhst:new be(286),dhst:new be(30),ihst:new be(19),lits:new be(15e3),strt:new ie(1<<16),prev:new ie(1<<15)}}();(function(){for(var ie=32768,be=0;be<ie;be++){var ye=be;ye=(ye&2863311530)>>>1|(ye&1431655765)<<1,ye=(ye&3435973836)>>>2|(ye&858993459)<<2,ye=(ye&4042322160)>>>4|(ye&252645135)<<4,ye=(ye&4278255360)>>>8|(ye&16711935)<<8,he.rev15[be]=(ye>>>16|ye<<16)>>>17}function me(qe,Oe,Ie){for(;Oe--!=0;)qe.push(0,Ie)}for(var be=0;be<32;be++)he.ldef[be]=he.of0[be]<<3|he.exb[be],he.ddef[be]=he.df0[be]<<4|he.dxb[be];me(he.fltree,144,8),me(he.fltree,255-143,9),me(he.fltree,279-255,7),me(he.fltree,287-279,8),O(he.fltree,9),U(he.fltree,9,he.flmap),Z(he.fltree,9),me(he.fdtree,32,5),O(he.fdtree,5),U(he.fdtree,5,he.fdmap),Z(he.fdtree,5),me(he.itree,19,0),me(he.ltree,286,0),me(he.dtree,30,0),me(he.ttree,320,0)})();let se={table:function(){for(var ie=new Uint32Array(256),be=0;be<256;be++){for(var ye=be,me=0;me<8;me++)ye&1?ye=3988292384^ye>>>1:ye=ye>>>1;ie[be]=ye}return ie}(),update:function(ie,be,ye,me){for(var qe=0;qe<me;qe++)ie=se.table[(ie^be[ye+qe])&255]^ie>>>8;return ie},crc:function(ie,be,ye){return se.update(4294967295,ie,be,ye)^4294967295}};function fe(ie,be){return m(ie,be)}let de={numWorkers:1,workerURL:"",useWorkers:!1},G=0,L=0,q=!0,S=[],B=[],y=[],o=new Map;function u(ie){d(ie.target);let{id:be,error:ye,data:me}=ie.data,qe=o.get(be);o.delete(be),ye?qe.reject(ye):qe.resolve(me)}function h(ie){return new Promise((be,ye)=>{let me=new Worker(ie);me.onmessage=qe=>{qe.data==="start"?(me.onerror=void 0,me.onmessage=void 0,be(me)):ye(new Error(`unexpected message: ${qe.data}`))},me.onerror=ye})}function p(ie,be){return ie.require?ie.require(be):{}}let v=function(){if(a){let{Worker:ie}=p(D8,"worker_threads");return{async createWorker(be){return new ie(be)},addEventListener(be,ye){be.on("message",me=>{ye({target:be,data:me})})},async terminate(be){await be.terminate()}}}else return{async createWorker(ie){try{return await h(ie)}catch{console.warn("could not load worker:",ie)}let be;try{let ye=await fetch(ie,{mode:"cors"});if(!ye.ok)throw new Error(`could not load: ${ie}`);be=await ye.text(),ie=URL.createObjectURL(new Blob([be],{type:"application/javascript"}));let me=await h(ie);return de.workerURL=ie,me}catch{console.warn("could not load worker via fetch:",ie)}if(be!==void 0)try{ie=`data:application/javascript;base64,${btoa(be)}`;let ye=await h(ie);return de.workerURL=ie,ye}catch{console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),new Error("can not start workers")},addEventListener(ie,be){ie.addEventListener("message",be)},async terminate(ie){ie.terminate()}}}();function d(ie){B.push(ie),c()}async function E(){if(B.length===0&&L<de.numWorkers){++L;try{let ie=await v.createWorker(de.workerURL);S.push(ie),B.push(ie),v.addEventListener(ie,u)}catch{q=!1}}return B.pop()}function w(ie,be,ye,me){let qe=new Uint8Array(be);fe(ie,qe),me(ye?new Blob([qe],{type:ye}):qe.buffer)}async function c(){if(y.length!==0){if(de.useWorkers&&q){let ie=await E();if(q){if(ie){if(y.length===0){d(ie);return}let{id:be,src:ye,uncompressedSize:me,type:qe,resolve:Oe,reject:Ie}=y.shift();o.set(be,{id:be,resolve:Oe,reject:Ie});let ot=[];ie.postMessage({type:"inflate",data:{id:be,type:qe,src:ye,uncompressedSize:me}},ot)}return}}for(;y.length;){let{src:ie,uncompressedSize:be,type:ye,resolve:me}=y.shift(),qe=ie;n(ie)&&(qe=await r(ie)),w(qe,be,ye,me)}}}function b(ie){de.workerURL=ie.workerURL||de.workerURL,ie.workerURL&&(de.useWorkers=!0),de.useWorkers=ie.useWorkers!==void 0?ie.useWorkers:de.useWorkers,de.numWorkers=ie.numWorkers||de.numWorkers}function ue(ie,be,ye){return new Promise((me,qe)=>{y.push({src:ie,uncompressedSize:be,type:ye,resolve:me,reject:qe,id:G++}),c()})}function F(ie){ie.splice(0,ie.length)}async function ne(){for(let ie of S)await v.terminate(ie);F(S),F(B),F(y),o.clear(),L=0,q=!0}function ce(ie,be){let ye=ie&31,me=(ie>>5&15)-1,qe=(ie>>9&127)+1980,Oe=0,Ie=(be&31)*2,ot=be>>5&63,ke=be>>11&31;return new Date(qe,me,ye,ke,ot,Ie,Oe)}class xe{constructor(be,ye){this._reader=be,this._rawEntry=ye,this.name=ye.name,this.nameBytes=ye.nameBytes,this.size=ye.uncompressedSize,this.compressedSize=ye.compressedSize,this.comment=ye.comment,this.commentBytes=ye.commentBytes,this.compressionMethod=ye.compressionMethod,this.lastModDate=ce(ye.lastModFileDate,ye.lastModFileTime),this.isDirectory=ye.uncompressedSize===0&&ye.name.endsWith("/"),this.encrypted=!!(ye.generalPurposeBitFlag&1),this.externalFileAttributes=ye.externalFileAttributes,this.versionMadeBy=ye.versionMadeBy}async blob(be="application/octet-stream"){return await V(this._reader,this._rawEntry,be)}async arrayBuffer(){return await R(this._reader,this._rawEntry)}async text(){let be=await this.arrayBuffer();return ae(new Uint8Array(be))}async json(){let be=await this.text();return JSON.parse(be)}}let M=22,k=65535,C=101010256,z=101075792;async function H(ie,be,ye){return await ie.read(be,ye)}async function j(ie,be,ye,me){return ie.sliceAsBlob?await ie.sliceAsBlob(be,ye,me):await ie.read(be,ye)}let J={unsigned(){return 0}};function W(ie,be){return ie[be]+ie[be+1]*256}function K(ie,be){return ie[be]+ie[be+1]*256+ie[be+2]*65536+ie[be+3]*16777216}function X(ie,be){return K(ie,be)+K(ie,be+4)*4294967296}let te=new TextDecoder;function ae(ie,be){return i(ie.buffer)&&(ie=new Uint8Array(ie)),te.decode(ie)}async function $(ie,be){let ye=Math.min(M+k,be),me=be-ye,qe=await H(ie,me,ye);for(let Oe=ye-M;Oe>=0;--Oe){if(K(qe,Oe)!==C)continue;let Ie=new Uint8Array(qe.buffer,qe.byteOffset+Oe,qe.byteLength-Oe),ot=W(Ie,4);if(ot!==0)throw new Error(`multi-volume zip files are not supported. This is volume: ${ot}`);let ke=W(Ie,10),Le=K(Ie,12),gt=K(Ie,16),Ce=W(Ie,20),Ue=Ie.length-M;if(Ce!==Ue)throw new Error(`invalid comment length. expected: ${Ue}, actual: ${Ce}`);let at=new Uint8Array(Ie.buffer,Ie.byteOffset+22,Ce),Ke=ae(at);return ke===65535||gt===4294967295?await le(ie,me+Oe,Ke,at):await Be(ie,gt,Le,ke,Ke,at)}throw new Error("could not find end of central directory. maybe not zip file")}let oe=117853008;async function le(ie,be,ye,me){let qe=be-20,Oe=await H(ie,qe,20);if(K(Oe,0)!==oe)throw new Error("invalid zip64 end of central directory locator signature");let Ie=X(Oe,8),ot=await H(ie,Ie,56);if(K(ot,0)!==z)throw new Error("invalid zip64 end of central directory record signature");let ke=X(ot,32),Le=X(ot,40),gt=X(ot,48);return Be(ie,gt,Le,ke,ye,me)}let Ee=33639248;async function Be(ie,be,ye,me,qe,Oe){let Ie=0,ot=await H(ie,be,ye),ke=[];for(let gt=0;gt<me;++gt){let Ce=ot.subarray(Ie,Ie+46),Ue=K(Ce,0);if(Ue!==Ee)throw new Error(`invalid central directory file header signature: 0x${Ue.toString(16)}`);let at={versionMadeBy:W(Ce,4),versionNeededToExtract:W(Ce,6),generalPurposeBitFlag:W(Ce,8),compressionMethod:W(Ce,10),lastModFileTime:W(Ce,12),lastModFileDate:W(Ce,14),crc32:K(Ce,16),compressedSize:K(Ce,20),uncompressedSize:K(Ce,24),fileNameLength:W(Ce,28),extraFieldLength:W(Ce,30),fileCommentLength:W(Ce,32),internalFileAttributes:W(Ce,36),externalFileAttributes:K(Ce,38),relativeOffsetOfLocalHeader:K(Ce,42)};if(at.generalPurposeBitFlag&64)throw new Error("strong encryption is not supported");Ie+=46;let Ke=ot.subarray(Ie,Ie+at.fileNameLength+at.extraFieldLength+at.fileCommentLength);at.nameBytes=Ke.slice(0,at.fileNameLength),at.name=ae(at.nameBytes);let Ne=at.fileNameLength+at.extraFieldLength,lt=Ke.slice(at.fileNameLength,Ne);at.extraFields=[];let We=0;for(;We<lt.length-3;){let wt=W(lt,We+0),ze=W(lt,We+2),De=We+4,Ut=De+ze;if(Ut>lt.length)throw new Error("extra field length exceeds extra field buffer size");at.extraFields.push({id:wt,data:lt.slice(De,Ut)}),We=Ut}if(at.commentBytes=Ke.slice(Ne,Ne+at.fileCommentLength),at.comment=ae(at.commentBytes),Ie+=Ke.length,at.uncompressedSize===4294967295||at.compressedSize===4294967295||at.relativeOffsetOfLocalHeader===4294967295){let wt=at.extraFields.find(Ut=>Ut.id===1);if(!wt)throw new Error("expected zip64 extended information extra field");let ze=wt.data,De=0;if(at.uncompressedSize===4294967295){if(De+8>ze.length)throw new Error("zip64 extended information extra field does not include uncompressed size");at.uncompressedSize=X(ze,De),De+=8}if(at.compressedSize===4294967295){if(De+8>ze.length)throw new Error("zip64 extended information extra field does not include compressed size");at.compressedSize=X(ze,De),De+=8}if(at.relativeOffsetOfLocalHeader===4294967295){if(De+8>ze.length)throw new Error("zip64 extended information extra field does not include relative header offset");at.relativeOffsetOfLocalHeader=X(ze,De),De+=8}}let He=at.extraFields.find(wt=>wt.id===28789&&wt.data.length>=6&&wt.data[0]===1&&K(wt.data,1),J.unsigned(at.nameBytes));if(He&&(at.fileName=ae(He.data.slice(5))),at.compressionMethod===0){let wt=at.uncompressedSize;if((at.generalPurposeBitFlag&1)!==0&&(wt+=12),at.compressedSize!==wt)throw new Error(`compressed size mismatch for stored file: ${at.compressedSize} != ${wt}`)}ke.push(at)}return{zip:{comment:qe,commentBytes:Oe},entries:ke.map(gt=>new xe(ie,gt))}}async function Ae(ie,be){if(be.generalPurposeBitFlag&1)throw new Error("encrypted entries not supported");let ye=await H(ie,be.relativeOffsetOfLocalHeader,30),me=await ie.getLength(),qe=K(ye,0);if(qe!==67324752)throw new Error(`invalid local file header signature: 0x${qe.toString(16)}`);let Oe=W(ye,26),Ie=W(ye,28),ot=be.relativeOffsetOfLocalHeader+ye.length+Oe+Ie,ke;if(be.compressionMethod===0)ke=!1;else if(be.compressionMethod===8)ke=!0;else throw new Error(`unsupported compression method: ${be.compressionMethod}`);let Le=ot,gt=Le+be.compressedSize;if(be.compressedSize!==0&&gt>me)throw new Error(`file data overflows file bounds: ${Le} +  ${be.compressedSize}  > ${me}`);return{decompress:ke,fileDataStart:Le}}async function R(ie,be){let{decompress:ye,fileDataStart:me}=await Ae(ie,be);if(!ye){let Ie=await H(ie,me,be.compressedSize);return s(Ie)?Ie.buffer:Ie.slice().buffer}let qe=await j(ie,me,be.compressedSize);return await ue(qe,be.uncompressedSize)}async function V(ie,be,ye){let{decompress:me,fileDataStart:qe}=await Ae(ie,be);if(!me){let ot=await j(ie,qe,be.compressedSize,ye);return n(ot)?ot:new Blob([i(ot.buffer)?new Uint8Array(ot):ot],{type:ye})}let Oe=await j(ie,qe,be.compressedSize);return await ue(Oe,be.uncompressedSize,ye)}function Q(ie){b(ie)}async function ve(ie){let be;if(typeof Blob<"u"&&ie instanceof Blob)be=new l(ie);else if(ie instanceof ArrayBuffer||ie&&ie.buffer&&ie.buffer instanceof ArrayBuffer)be=new f(ie);else if(i(ie)||i(ie.buffer))be=new f(ie);else if(typeof ie=="string"){let me=await fetch(ie);if(!me.ok)throw new Error(`failed http request ${ie}, status: ${me.status}: ${me.statusText}`);let qe=await me.blob();be=new l(qe)}else if(typeof ie.getLength=="function"&&typeof ie.read=="function")be=ie;else throw new Error("unsupported source type");let ye=await be.getLength();if(ye>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${ye}. Only file sizes up 4503599627370496 bytes are supported`);return await $(be,ye)}async function Te(ie){let{zip:be,entries:ye}=await ve(ie);return{zip:be,entries:Object.fromEntries(ye.map(me=>[me.name,me]))}}function Se(){ne()}t.HTTPRangeReader=g,t.cleanup=Se,t.setOptions=Q,t.unzip=Te,t.unzipRaw=ve,Object.defineProperty(t,"__esModule",{value:!0})})});var wg=ee(vb=>{"use strict";x();Object.defineProperty(vb,"__esModule",{value:!0});vb.WasmSrc=void 0;var jse=xB(),zse=Vs(),Kse=Zr(),q8=class{constructor(e){this.src=e,this.logger=Kse.LoggerFactory.INST.create("WasmSrc"),this.splitted=this.splitBuffer(e),this.logger.debug(`Buffer splitted into ${this.splitted.length} parts`)}wasmBinary(){return this.splitted[0]}async sourceCode(){let{entries:e}=await(0,jse.unzip)(this.splitted[1]),r=new Map;for(let[n,i]of Object.entries(e)){if(i.isDirectory)continue;let a=await i.text();r.set(n,a)}return r}additionalCode(){return this.splitted.length==2?null:this.splitted[2].toString()}splitBuffer(e){let r="",n=parseInt(e.toString("utf8",0,1));this.logger.debug(`Number of elements: ${n}`);let i=e.length,a=0,s=0;for(let g=2;g<i;g++){let m=e.toString("utf8",g,g+1);if(m=="|"&&a++,a==n){s=g+1;break}r+=m}this.logger.debug("Parsed:",{header:r,dataStart:s});let f=r.split("|").map(g=>parseInt(g));this.logger.debug("Lengths",f);let l=[];for(let g of f){let m=zse.Buffer.alloc(g),A=s+g;e.copy(m,0,s,A),s=A,l.push(m)}return l}};vb.WasmSrc=q8});var mb=ee(yb=>{"use strict";x();Object.defineProperty(yb,"__esModule",{value:!0});yb.ContractDefinitionLoader=void 0;var Wse=ig(),vo=po(),U8=wa(),Gse=Zr(),Hse=uu(),$se=cu(),Vse=wg(),F8=class{constructor(e,r){this.arweave=e,this.env=r,this.logger=Gse.LoggerFactory.INST.create("ContractDefinitionLoader"),this.tagsParser=new $se.TagsParser}async load(e,r){let n=U8.Benchmark.measure(),i=await this.doLoad(e,r);return this.logger.info(`Contract definition loaded in: ${n.elapsed()}`),i}async doLoad(e,r){let n=U8.Benchmark.measure(),i=await this.arweaveWrapper.tx(e),a=await this.arweave.wallets.ownerToAddress(i.owner);this.logger.debug("Contract tx and owner",n.elapsed()),n.reset();let s=r||this.tagsParser.getTag(i,vo.SMART_WEAVE_TAGS.CONTRACT_SRC_TX_ID),f=this.tagsParser.getTag(i,vo.WARP_TAGS.WARP_TESTNET)||null;if(f&&this.env!=="testnet")throw new Error('Trying to use testnet contract in a non-testnet env. Use the "forTestnet" factory method.');if(!f&&this.env==="testnet")throw new Error("Trying to use non-testnet contract in a testnet env.");let l=this.tagsParser.getTag(i,vo.SMART_WEAVE_TAGS.MIN_FEE),g=null,m=this.tagsParser.getTag(i,vo.WARP_TAGS.MANIFEST);m&&(g=JSON.parse(m)),this.logger.debug("Tags decoding",n.elapsed()),n.reset();let A=await this.evalInitialState(i);this.logger.debug("init state",A);let I=JSON.parse(A);this.logger.debug("Parsing src and init state",n.elapsed());let{src:T,srcBinary:O,srcWasmLang:U,contractType:Z,metadata:Y,srcTx:re}=await this.loadContractSource(s);return{txId:e,srcTxId:s,src:T,srcBinary:O,srcWasmLang:U,initState:I,minFee:l,owner:a,contractType:Z,metadata:Y,manifest:g,contractTx:i.toJSON(),srcTx:re,testnet:f}}async loadContractSource(e){let r=U8.Benchmark.measure(),n=await this.arweaveWrapper.tx(e),i=this.tagsParser.getTag(n,vo.SMART_WEAVE_TAGS.CONTENT_TYPE);if(!Wse.SUPPORTED_SRC_CONTENT_TYPES.includes(i))throw new Error(`Contract source content type ${i} not supported`);let a=i=="application/javascript"?"js":"wasm",s=a=="js"?await this.arweaveWrapper.txDataString(e):await this.arweaveWrapper.txData(e),f,l,g;if(a=="wasm"){if(l=new Vse.WasmSrc(s),f=this.tagsParser.getTag(n,vo.WARP_TAGS.WASM_LANG),!f)throw new Error(`Wasm lang not set for wasm contract src ${e}`);g=JSON.parse(this.tagsParser.getTag(n,vo.WARP_TAGS.WASM_META))}return this.logger.debug("Contract src tx load",r.elapsed()),r.reset(),{src:a=="js"?s:null,srcBinary:a=="wasm"?l.wasmBinary():null,srcWasmLang:f,contractType:a,metadata:g,srcTx:n.toJSON()}}async evalInitialState(e){if(this.tagsParser.getTag(e,vo.WARP_TAGS.INIT_STATE))return this.tagsParser.getTag(e,vo.WARP_TAGS.INIT_STATE);if(this.tagsParser.getTag(e,vo.WARP_TAGS.INIT_STATE_TX)){let r=this.tagsParser.getTag(e,vo.WARP_TAGS.INIT_STATE_TX);return this.arweaveWrapper.txDataString(r)}else return this.arweaveWrapper.txDataString(e.id)}type(){return"arweave"}setCache(e){throw new Error("No cache implemented for this loader")}setSrcCache(e){throw new Error("No cache implemented for this loader")}getCache(){throw new Error("No cache implemented for this loader")}getSrcCache(){throw new Error("No cache implemented for this loader")}set warp(e){this.arweaveWrapper=new Hse.ArweaveWrapper(e)}};yb.ContractDefinitionLoader=F8});var K8=ee(bb=>{"use strict";x();Object.defineProperty(bb,"__esModule",{value:!0});bb.WarpGatewayContractDefinitionLoader=void 0;var Zse=mb(),j8=Vs(),_B=ig(),Jse=po(),Yse=wa(),Xse=Zr(),Qse=uu(),efe=wg(),tfe=cu(),EB=Zs(),rfe=l0(),SB=Vn(),z8=class{constructor(e,r,n,i){this.definitionCache=r,this.srcCache=n,this.env=i,this.rLogger=Xse.LoggerFactory.INST.create("WarpGatewayContractDefinitionLoader"),this.contractDefinitionLoader=new Zse.ContractDefinitionLoader(e,i),this.tagsParser=new tfe.TagsParser}async load(e,r){let n=await this.getFromCache(e,r);if(n)return this.rLogger.debug("WarpGatewayContractDefinitionLoader: Hit from cache!"),n.contractType=="wasm"&&n.srcBinary.data&&(n.srcBinary=j8.Buffer.from(n.srcBinary.data)),this.verifyEnv(n),n;let i=Yse.Benchmark.measure(),a=await this.doLoad(e,r);return this.rLogger.info(`Contract definition loaded in: ${i.elapsed()}`),this.verifyEnv(a),await this.putToCache(e,a,r),a}async doLoad(e,r){try{let n=(0,SB.stripTrailingSlash)(this._warp.gwUrl()),i=await(0,SB.getJsonResponse)(fetch(`${n}/gateway/contract?txId=${e}${r?`&srcTxId=${r}`:""}`));if(i.srcBinary!=null&&!(i.srcBinary instanceof j8.Buffer)&&(i.srcBinary=j8.Buffer.from(i.srcBinary.data)),i.srcBinary){let a=new efe.WasmSrc(i.srcBinary);i.srcBinary=a.wasmBinary();let s;i.srcTx?s=new rfe.Transaction({...i.srcTx}):s=await this.arweaveWrapper.tx(i.srcTxId);let f=JSON.parse(this.tagsParser.getTag(s,Jse.WARP_TAGS.WASM_META));i.metadata=f}return i.contractType=i.src?"js":"wasm",i}catch(n){return this.rLogger.warn("Falling back to default contracts loader",n),await this.contractDefinitionLoader.doLoad(e,r)}}async loadContractSource(e){return await this.contractDefinitionLoader.loadContractSource(e)}type(){return"warp"}setCache(e){this.definitionCache=e}setSrcCache(e){this.srcCache=e}getCache(){return this.definitionCache}getSrcCache(){return this.srcCache}verifyEnv(e){if(e.testnet&&this.env!=="testnet")throw new Error('Trying to use testnet contract in a non-testnet env. Use the "forTestnet" factory method.');if(!e.testnet&&this.env==="testnet")throw new Error("Trying to use non-testnet contract in a testnet env.")}async getFromCache(e,r){let n=await this.definitionCache.get(new EB.CacheKey(e,"cd"));if(!n)return null;let i=await this.srcCache.get(new EB.CacheKey(r||n.cachedValue.srcTxId,"src"));return i?{...n.cachedValue,...i.cachedValue}:null}async putToCache(e,r,n){let i=new _B.SrcCache(r),a=new _B.ContractCache(r);await this.definitionCache.put({key:e,sortKey:"cd"},a),await this.srcCache.put({key:n||a.srcTxId,sortKey:"src"},i)}set warp(e){this._warp=e,this.arweaveWrapper=new Qse.ArweaveWrapper(e),this.contractDefinitionLoader.warp=e}};bb.WarpGatewayContractDefinitionLoader=z8});var xb=ee(wb=>{"use strict";x();Object.defineProperty(wb,"__esModule",{value:!0});wb.ArweaveGQLTxsFetcher=void 0;var nfe=Zr(),ife=uu(),afe=Vn(),ofe=wa(),AB=po(),MB=`query Transactions($tags: [TagFilter!]!, $blockFilter: BlockFilter!, $first: Int!, $after: String) {
    transactions(tags: $tags, block: $blockFilter, first: $first, sort: HEIGHT_ASC, after: $after) {
      pageInfo {
        hasNextPage
      }
      edges {
        node {
          id
          owner { address }
          recipient
          tags {
            name
            value
          }
          block {
            height
            id
            timestamp
          }
          fee { winston }
          quantity { winston }
          parent { id }
          bundledIn { id }
        }
        cursor
      }
    }
  }`,sfe=`query Transaction($id: ID!) {
  transaction(id: $id) {
          id
          owner { address, key }
          recipient
          tags {
            name
            value
          }
          block {
            height
            id
            timestamp
          }
          fee { winston, ar }
          quantity { winston, ar }
          bundledIn { id }
    			parent{ id }
          signature
        }
}`,ffe=`query Transactions($tags: [TagFilter!]!) {
  transactions(tags: $tags) {
      edges {
        node {
          id
          owner { address, key }
          recipient
          tags {
            name
            value
          }
          block {
            height
            id
            timestamp
          }
          fee { winston, ar }
          quantity { winston, ar }
          parent { id }
          bundledIn { id }
          signature
        }
      }
  }
}`,TB=30*1e3,ufe=100,xg=class{constructor(e){this.warp=e,this.logger=nfe.LoggerFactory.INST.create(xg.name),this.arweaveWrapper=new ife.ArweaveWrapper(e)}async transaction(e){return(await this.fetch(sfe,{id:e})).transaction}async transactionUsingUploaderTag(e){let r={name:AB.WARP_TAGS.UPLOADER_TX_ID,values:[e]},n=(await this.fetch(ffe,{tags:[r]})).transactions;if(n.edges.length<1)throw new Error(`No interaction with tag ${AB.WARP_TAGS.UPLOADER_TX_ID}:${e}`);return n.edges[0].node}async transactions(e){let r=(await this.fetch(MB,e)).transactions,n=[...r.edges];for(;r.pageInfo.hasNextPage;){let i=r.edges[ufe-1].cursor,a={...e,after:i};r=(await this.fetch(MB,a)).transactions,n.push(...r.edges)}return n}async fetch(e,r){let n=ofe.Benchmark.measure(),i=await this.arweaveWrapper.gql(e,r);for(this.logger.debug("GQL page load:",n.elapsed());i.status===403;)this.logger.warn(`GQL rate limiting, waiting ${TB}ms before next try.`),await(0,afe.sleep)(TB),i=await this.arweaveWrapper.gql(e,r);if(i.status!==200)throw new Error(`Unable to retrieve transactions. Arweave gateway responded with status ${i.status}.`);if(i.data.errors)throw this.logger.error(i.data.errors),new Error("Error while fetching arweave transactions");return i.data.data}};wb.ArweaveGQLTxsFetcher=xg});var $8=ee(d0=>{"use strict";x();Object.defineProperty(d0,"__esModule",{value:!0});d0.ArweaveGatewayInteractionsLoader=d0.bundledTxsFilter=void 0;var W8=po(),cfe=wa(),lfe=Zr(),hfe=Vc(),dfe=xb(),pfe=cu(),OB=100;function G8(t){var e,r;return!(!((e=t.node.parent)===null||e===void 0)&&e.id)&&!(!((r=t.node.bundledIn)===null||r===void 0)&&r.id)}d0.bundledTxsFilter=G8;var H8=class{constructor(e,r){this.arweave=e,this.environment=r,this.logger=lfe.LoggerFactory.INST.create("ArweaveGatewayInteractionsLoader"),this.tagsParser=new pfe.TagsParser,this.sorter=new hfe.LexicographicalInteractionsSorter(e)}async load(e,r,n,i){this.logger.debug("Loading interactions for",{contractId:e,fromSortKey:r,toSortKey:n});let a=this.sorter.extractBlockHeight(r),s=this.sorter.extractBlockHeight(n),f={tags:[{name:W8.SMART_WEAVE_TAGS.APP_NAME,values:["SmartWeaveAction"]},{name:W8.SMART_WEAVE_TAGS.CONTRACT_TX_ID,values:[e]}],blockFilter:{min:a,max:s},first:OB},l=cfe.Benchmark.measure(),g=(await this.arweaveTransactionQuery.transactions(f)).filter(G8);if(l.stop(),i.internalWrites){let T={tags:[{name:W8.WARP_TAGS.INTERACT_WRITE,values:[e]}],blockFilter:{min:a,max:s},first:OB},O=(await this.arweaveTransactionQuery.transactions(T)).filter(G8);this.logger.debug("Inner writes interactions length:",O.length),g=g.concat(O)}g=g.filter(T=>T.node.block&&T.node.block.id&&T.node.block.height);let m=await this.sorter.sort(g);r&&n?m=m.filter(T=>T.node.sortKey.localeCompare(r)>0&&T.node.sortKey.localeCompare(n)<=0):r&&!n?m=m.filter(T=>T.node.sortKey.localeCompare(r)>0):!r&&n&&(m=m.filter(T=>T.node.sortKey.localeCompare(n)<=0)),this.logger.debug("All loaded interactions:",{from:r,to:n,loaded:m.length,time:l.elapsed()});let A=this.environment==="local"||this.environment==="testnet",I=this._warp.maybeLoadPlugin("vrf");return m.map(T=>{let O=T.node;return A&&this.tagsParser.hasVrfTag(O)&&(I?O.vrf=I.process().generateMockVrf(O.sortKey):this.logger.warn('Cannot generate mock vrf for interaction - no "warp-contracts-plugin-vrf" attached!')),O})}type(){return"arweave"}clearCache(){}set warp(e){this.arweaveTransactionQuery=new dfe.ArweaveGQLTxsFetcher(e),this._warp=e}};d0.ArweaveGatewayInteractionsLoader=H8});var Z8=ee(_b=>{"use strict";x();Object.defineProperty(_b,"__esModule",{value:!0});_b.CacheableInteractionsLoader=void 0;var gfe=Zr(),V8=class{constructor(e){this.delegate=e,this.logger=gfe.LoggerFactory.INST.create("CacheableInteractionsLoader"),this.interactionsCache=new Map}async load(e,r,n,i){if(this.logger.debug("Loading interactions for",{contractTxId:e,fromSortKey:r,toSortKey:n}),this.interactionsCache.has(e)){let a=this.interactionsCache.get(e);if(a?.length){let s=a[a.length-1].sortKey;if(s.localeCompare(n)<0){let f=await this.delegate.load(e,s,n,i),l=a.concat(f);return this.interactionsCache.set(e,l),l}}return a}else{let a=await this.delegate.load(e,r,n,i);return a.length&&this.interactionsCache.set(e,a),a}}type(){return this.delegate.type()}clearCache(){this.interactionsCache.clear()}set warp(e){this.delegate.warp=e}};_b.CacheableInteractionsLoader=V8});var X8=ee(Sb=>{"use strict";x();Object.defineProperty(Sb,"__esModule",{value:!0});Sb.DefaultStateEvaluator=void 0;var vfe=Zs(),yfe=wa(),mfe=Zr(),Xc=Vn(),of=ng(),bfe=cu(),Eb=i0(),Y8=class{constructor(e,r=[]){this.arweave=e,this.executionContextModifiers=r,this.logger=mfe.LoggerFactory.INST.create("DefaultStateEvaluator"),this.tagsParser=new bfe.TagsParser}async eval(e){return this.doReadState(e.sortedInteractions,new of.EvalStateResult(e.contractDefinition.initState,{},{}),e)}async doReadState(e,r,n){var i;let{ignoreExceptions:a,stackTrace:s,internalWrites:f}=n.evaluationOptions,{contract:l,contractDefinition:g,sortedInteractions:m,warp:A}=n,I=r.state,T=null,O=r.validity,U=r.errorMessages;n?.handler.initState(I);let Z=n.contract.callDepth();this.logger.debug(`${(0,Xc.indent)(Z)}Evaluating state for ${g.txId} [${e.length} non-cached of ${m.length} all]`);let Y=null,re=null,pe=e.length,he=A.maybeLoadPlugin("evm-signature-verification"),se=A.maybeLoadPlugin("evaluation-progress"),fe=A.maybeLoadPlugin("vrf"),de=!1;for(let L=0;L<pe&&!de;L++){let q=e[L];T=q.sortKey,l.interactionState().setInitial(l.txId(),new of.EvalStateResult(I,O,U),T);let S=yfe.Benchmark.measure();if(q.vrf){if(!fe)this.logger.warn('Cannot verify vrf for interaction - no "warp-contracts-plugin-vrf" attached!');else if(!fe.process().verify(q.vrf,q.sortKey))throw new Error("Vrf verification failed.")}if(he&&this.tagsParser.isEvmSigned(q))try{if(!await he.process(q)){this.logger.warn(`Interaction ${q.id} was not verified, skipping.`);continue}}catch(o){this.logger.error(o);continue}if(this.logger.debug(`${(0,Xc.indent)(Z)}[${g.txId}][${q.id}][${q.block.height}]: ${e.indexOf(q)+1}/${e.length} [of all:${m.length}]`),this.tagsParser.isInteractWrite(q,g.txId)&&f){let o=this.tagsParser.getContractTag(q);this.logger.debug(`${(0,Xc.indent)(Z)}Internal Write - Loading writing contract`,o);let u=l.getCallStack().addInteractionData({interaction:null,interactionTx:q}),h=A.contract(o,n.contract,{callingInteraction:q,callType:"read"});this.logger.debug(`${(0,Xc.indent)(Z)}Reading state of the calling contract at`,q.sortKey);let p=null,v=null;try{v=await h.readState(q.sortKey),p=l.interactionState().get(l.txId(),q.sortKey)}catch(d){if(d.name==Eb.KnownErrors.ContractError&&(d.subtype=="unsafeClientSkip"||d.subtype=="constructor"||d.subtype=="blacklistedSkip")||d.name==Eb.KnownErrors.NonWhitelistedSourceError){if(this.logger.warn(`Skipping contract in internal write, reason ${d.subtype||d.name}`),U[q.id]=d,J8(q)){let E=new of.EvalStateResult(I,O,U);re={tx:q,state:E}}}else throw d}if(p!==null&&v!==null){let d=v.cachedValue.validity[q.id];d&&(I=p.state),n?.handler.initState(I),d?(O[q.id]=p.validity[q.id],!((i=p.errorMessages)===null||i===void 0)&&i[q.id]&&(U[q.id]=p.errorMessages[q.id])):(O[q.id]=!1,U[q.id]=v.cachedValue.errorMessages[q.id]);let E=new of.EvalStateResult(I,O,U);J8(q)&&(re={tx:q,state:E})}else O[q.id]=!1;u.update({cacheHit:!1,outputState:s.saveState?I:void 0,executionTime:S.elapsed(!0),valid:O[q.id],errorMessage:Y,gasUsed:0})}else{let o=this.tagsParser.getInputTag(q,n.contractDefinition.txId);if(!o){this.logger.error(`${(0,Xc.indent)(Z)}Skipping tx - Input tag not found for ${q.id}`);continue}let u=this.parseInput(o);if(!u){this.logger.error(`${(0,Xc.indent)(Z)}Skipping tx - invalid Input tag - ${q.id}`);continue}let h={input:u,caller:q.owner.address,interactionType:"write"},p={interaction:h,interactionTx:q},v=l.getCallStack().addInteractionData(p),d=await n.handler.handle(n,new of.EvalStateResult(I,O,U),p);if(Y=d.errorMessage,d.type!=="ok"&&(U[q.id]=Y),this.logResult(d,q,n),this.logger.debug(`${(0,Xc.indent)(Z)}Interaction evaluation`,S.elapsed()),v.update({cacheHit:!1,outputState:s.saveState?I:void 0,executionTime:S.elapsed(!0),valid:O[q.id],errorMessage:Y,gasUsed:d.gasUsed}),d.type==="exception"&&a!==!0)throw new Error(`Exception while processing ${JSON.stringify(h)}:
${d.errorMessage}`);let E=d.type==="ok";O[q.id]=E,I=d.state;let w=new of.EvalStateResult(I,O,U);J8(q)&&(re={tx:q,state:w});let c=d.event;c&&A.eventTarget.dispatchEvent(new of.CustomEvent(E?"interactionCompleted":"interactionFailed",{detail:c}))}se&&se.process({contractTxId:g.txId,allInteractions:pe,currentInteraction:L,lastInteractionProcessingTime:S.elapsed()});try{for(let{modify:o}of this.executionContextModifiers)n=await o(I,n)}catch(o){if(o.name==Eb.KnownErrors.ContractError&&o.subtype=="unsafeClientSkip"||o.name==Eb.KnownErrors.NonWhitelistedSourceError)O[q.id]=!1,U[q.id]=o.message,de=!0;else throw o}let y=n.evaluationOptions.cacheEveryNInteractions>0&&L%n.evaluationOptions.cacheEveryNInteractions===0;if(l.isRoot())l.clearChildren(),re&&(l.interactionState().update(l.txId(),re.state,re.tx.sortKey),O[q.id]?await l.interactionState().commit(q,y):await l.interactionState().rollback(q,y));else{let o=new of.EvalStateResult(I,O,U);l.interactionState().update(l.txId(),o,T)}}let G=new of.EvalStateResult(I,O,U);return re!==null&&await this.onStateEvaluated(re.tx,n,re.state),new vfe.SortKeyCacheResult(T,G)}logResult(e,r,n){e.type==="exception"&&this.logger.error(`Executing of interaction: [${n.contractDefinition.txId} -> ${r.id}] threw exception:`,`${e.errorMessage}`),e.type==="error"&&this.logger.warn(`Executing of interaction: [${n.contractDefinition.txId} -> ${r.id}] returned error:`,e.errorMessage)}parseInput(e){try{return JSON.parse(e.value)}catch(r){return this.logger.error(r),null}}};Sb.DefaultStateEvaluator=Y8;function J8(t){return t.confirmationStatus===void 0?!0:t.confirmationStatus==="confirmed"}});var e5=ee(Mb=>{"use strict";x();Object.defineProperty(Mb,"__esModule",{value:!0});Mb.CacheableStateEvaluator=void 0;var p0=Zs(),wfe=Zr(),xfe=Vn(),Ab=ng(),_fe=X8(),IB=Vc(),Q8=class extends _fe.DefaultStateEvaluator{constructor(e,r,n=[]){super(e,n),this.cache=r,this.cLogger=wfe.LoggerFactory.INST.create("CacheableStateEvaluator")}async eval(e){var r,n,i,a;let{cachedState:s,contract:f}=e,l=e.sortedInteractions;if(s&&s.sortKey==e.requestedSortKey&&!l?.length)return this.cLogger.info(`Exact cache hit for sortKey ${(r=e?.contractDefinition)===null||r===void 0?void 0:r.txId}:${s.sortKey}`),(n=e.handler)===null||n===void 0||n.initState(s.cachedValue.state),s;let g=e.contractDefinition.txId;if(!g)throw new Error("Contract tx id not set in the execution context");let m=s==null,A=m?e.contractDefinition.initState:s.cachedValue.state,I=m?{}:s.cachedValue.validity,T=m?{}:s.cachedValue.errorMessages;if(m&&(A=await e.handler.maybeCallStateConstructor(e.contractDefinition.initState,e),await f.interactionState().commitKV()),l.length==0)if(this.cLogger.info(`No missing interactions ${g}`),m){(i=e.handler)===null||i===void 0||i.initState(A),this.cLogger.debug("Inserting initial state into cache");let O=new Ab.EvalStateResult(A,{},{});return await this.cache.put(new p0.CacheKey(g,IB.genesisSortKey),O),new p0.SortKeyCacheResult(IB.genesisSortKey,O)}else return(a=e.handler)===null||a===void 0||a.initState(s.cachedValue.state),s;return await this.doReadState(l,new Ab.EvalStateResult(A,I,T||{}),e)}async onStateEvaluated(e,r,n){let i=r.contractDefinition.txId;this.cLogger.debug(`${(0,xfe.indent)(r.contract.callDepth())}onStateEvaluated: cache update for contract ${i} [${e.sortKey}]`),await this.putInCache(i,e,n)}async onStateUpdate(e,r,n,i=!1){(r.evaluationOptions.updateCacheForEachInteraction||i)&&(this.cLogger.debug(`onStateUpdate: cache update for contract ${r.contractDefinition.txId} [${e.sortKey}]`,{contract:r.contractDefinition.txId,state:n.state,sortKey:e.sortKey}),await this.putInCache(r.contractDefinition.txId,e,n))}async latestAvailableState(e,r){if(this.cLogger.debug("Searching for",{contractTxId:e,sortKey:r}),r){let n=await this.cache.getLessOrEqual(e,r);return n&&this.cLogger.debug(`Latest available state at ${e}: ${n.sortKey}`),n}else return await this.cache.getLast(e)}async onInternalWriteStateUpdate(e,r,n){this.cLogger.debug("Internal write state update:",{sortKey:e.sortKey,dry:e.dry,contractTxId:r,state:n.state}),await this.putInCache(r,e,n)}async onContractCall(e,r,n){var i;if(((i=r.sortedInteractions)===null||i===void 0?void 0:i.length)==0)return;let a=r.sortedInteractions.indexOf(e);a<1||await this.putInCache(r.contractDefinition.txId,r.sortedInteractions[a-1],n)}async putInCache(e,r,n){if(r.dry||r.confirmationStatus!==void 0&&r.confirmationStatus!=="confirmed")return;let i=new Ab.EvalStateResult(n.state,n.validity,n.errorMessages||{});this.cLogger.debug("Putting into cache",{contractTxId:e,transaction:r.id,sortKey:r.sortKey,dry:r.dry}),await this.cache.put(new p0.CacheKey(e,r.sortKey),i)}async syncState(e,r,n,i){let a=new Ab.EvalStateResult(n,i,{});return await this.cache.put(new p0.CacheKey(e,r),a),new p0.SortKeyCacheResult(r,a)}async dumpCache(){return await this.cache.dump()}async internalWriteState(e,r){return await this.cache.get(new p0.CacheKey(e,r))}async hasContractCached(e){return await this.cache.getLast(e)!=null}async lastCachedSortKey(){return await this.cache.getLastSortKey()}setCache(e){this.cache=e}getCache(){return this.cache}};Mb.CacheableStateEvaluator=Q8});var kB=ee(RB=>{"use strict";x();Object.defineProperty(RB,"__esModule",{value:!0})});var BB=ee(CB=>{"use strict";x();Object.defineProperty(CB,"__esModule",{value:!0})});var n5=ee(us=>{"use strict";x();Object.defineProperty(us,"__esModule",{value:!0});us.InteractionOutput=us.InteractionInput=us.InteractionCall=us.ContractCallRecord=void 0;var Efe=Vs(),t5=class{constructor(e,r,n=null){this.contractTxId=e,this.depth=r,this.innerCallType=n,this.interactions={},this.id=Efe.Crypto.randomUUID()}addInteractionData(e){let{interaction:r,interactionTx:n}=e,i=g0.create(new Tb(n.id,n.sortKey,n.block.height,n.block.timestamp,r?.caller,r?.input.function,r?.input,n.dry,{}));return this.interactions[n.id]=i,i}getInteraction(e){return this.interactions[e]}print(){return JSON.stringify(this,null,2)}};us.ContractCallRecord=t5;var g0=class{constructor(e){this.interactionInput=e}static create(e){return new g0(e)}update(e){this.interactionOutput=e}};us.InteractionCall=g0;var Tb=class{constructor(e,r,n,i,a,s,f,l,g={}){this.txId=e,this.sortKey=r,this.blockHeight=n,this.blockTimestamp=i,this.caller=a,this.functionName=s,this.functionArguments=f,this.dryWrite=l,this.foreignContractCalls=g}};us.InteractionInput=Tb;var r5=class{constructor(e,r,n,i,a="",s){this.cacheHit=e,this.outputState=r,this.executionTime=n,this.valid=i,this.errorMessage=a,this.gasUsed=s}};us.InteractionOutput=r5});var a5=ee(Qc=>{"use strict";x();Object.defineProperty(Qc,"__esModule",{value:!0});Qc.SmartWeaveError=Qc.SmartWeaveErrorType=void 0;var Sfe;(function(t){t.CONTRACT_NOT_FOUND="CONTRACT_NOT_FOUND"})(Sfe=Qc.SmartWeaveErrorType||(Qc.SmartWeaveErrorType={}));var i5=class extends Error{constructor(e,r={}){r.message?super(r.message):super(),this.type=e,this.otherInfo=r}getType(){return this.type}};Qc.SmartWeaveError=i5});var o5=ee(Ob=>{"use strict";x();Object.defineProperty(Ob,"__esModule",{value:!0});Ob.Evolve=void 0;var Afe=Zr(),PB=a5(),NB=i0();function Mfe(t){if(!t)return!1;let e=LB(t);return t.evolve!==void 0||e.has("evolve")}var _g=class{constructor(){this.logger=Afe.LoggerFactory.INST.create("Evolve"),this.modify=this.modify.bind(this)}async modify(e,r){let{definitionLoader:n,executorFactory:i}=r.warp,a=r.contractDefinition.txId,s=_g.evolvedSrcTxId(e),f=r.contractDefinition.srcTxId;if(s&&f!==s)try{this.logger.info("Evolving to: ",s);let l=await n.load(a,s),g=await i.create(l,r.evaluationOptions,r.warp,r.contract.interactionState());return r.contractDefinition=l,r.handler=g,r.handler.initState(e),this.logger.debug("evolved to:",{evolve:s,newSrcTxId:r.contractDefinition.srcTxId,currentSrcTxId:f,contract:r.contractDefinition.txId}),r}catch(l){throw l.name===NB.KnownErrors.ContractError&&l.subtype==="unsafeClientSkip"||l.name==NB.KnownErrors.NonWhitelistedSourceError?l:new PB.SmartWeaveError(PB.SmartWeaveErrorType.CONTRACT_NOT_FOUND,{message:`Error while evolving ${a} from ${f} to ${s}: ${l}`,requestedTxId:a})}return r}static evolvedSrcTxId(e){if(!Mfe(e))return;let r=LB(e),n=e.evolve||r.get("evolve"),i=e.canEvolve||r.get("canEvolve");if(i==null&&(i=!0),n&&/[a-z0-9_-]{43}/i.test(n)&&i)return n}};Ob.Evolve=_g;function LB(t){let e=new Map;return t.settings&&(Tfe(t.settings)?e=new Map(t.settings):Ofe(t.settings)&&(e=new Map(Object.entries(t.settings)))),e}function Tfe(t){return t==null?!1:typeof t[Symbol.iterator]=="function"}function Ofe(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}});var jB=ee((h5,FB)=>{"use strict";x();var{hasOwnProperty:Ib}=Object.prototype,tl=l5();tl.configure=l5;tl.stringify=tl;tl.default=tl;h5.stringify=tl;h5.configure=l5;FB.exports=tl;var UB=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/,Ife=new RegExp(UB,"g"),c5=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000b","\\f","\\r","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\"];function Rfe(t){if(t.length===2){let r=t.charCodeAt(1);return`${t[0]}\\u${r.toString(16)}`}let e=t.charCodeAt(0);return c5.length>e?c5[e]:`\\u${e.toString(16)}`}function lu(t){if(t.length<5e3&&!UB.test(t))return t;if(t.length>100)return t.replace(Ife,Rfe);let e="",r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i===34||i===92||i<32)e+=`${t.slice(r,n)}${c5[i]}`,r=n+1;else if(i>=55296&&i<=57343){if(i<=56319&&n+1<t.length){let a=t.charCodeAt(n+1);if(a>=56320&&a<=57343){n++;continue}}e+=`${t.slice(r,n)}\\u${i.toString(16)}`,r=n+1}}return e+=t.slice(r),e}function s5(t){if(t.length>200)return t.sort();for(let e=1;e<t.length;e++){let r=t[e],n=e;for(;n!==0&&t[n-1]>r;)t[n]=t[n-1],n--;t[n]=r}return t}var kfe=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function f5(t){return kfe.call(t)!==void 0&&t.length!==0}function u5(t,e,r){t.length<r&&(r=t.length);let n=e===","?"":" ",i=`"0":${n}${t[0]}`;for(let a=1;a<r;a++)i+=`${e}"${a}":${n}${t[a]}`;return i}function Cfe(t){if(Ib.call(t,"circularValue")){let e=t.circularValue;if(typeof e=="string")return`"${e}"`;if(e==null)return e;if(e===Error||e===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function DB(t,e){let r;if(Ib.call(t,e)&&(r=t[e],typeof r!="boolean"))throw new TypeError(`The "${e}" argument must be of type boolean`);return r===void 0?!0:r}function qB(t,e){let r;if(Ib.call(t,e)){if(r=t[e],typeof r!="number")throw new TypeError(`The "${e}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${e}" argument must be an integer`);if(r<1)throw new RangeError(`The "${e}" argument must be >= 1`)}return r===void 0?1/0:r}function el(t){return t===1?"1 item":`${t} items`}function Bfe(t){let e=new Set;for(let r of t)(typeof r=="string"||typeof r=="number")&&e.add(String(r));return e}function Pfe(t){if(Ib.call(t,"strict")){let e=t.strict;if(typeof e!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(e)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function l5(t){t={...t};let e=Pfe(t);e&&(t.bigint===void 0&&(t.bigint=!1),"circularValue"in t||(t.circularValue=Error));let r=Cfe(t),n=DB(t,"bigint"),i=DB(t,"deterministic"),a=qB(t,"maximumDepth"),s=qB(t,"maximumBreadth");function f(I,T,O,U,Z,Y){let re=T[I];switch(typeof re=="object"&&re!==null&&typeof re.toJSON=="function"&&(re=re.toJSON(I)),re=U.call(T,I,re),typeof re){case"string":return`"${lu(re)}"`;case"object":{if(re===null)return"null";if(O.indexOf(re)!==-1)return r;let pe="",he=",",se=Y;if(Array.isArray(re)){if(re.length===0)return"[]";if(a<O.length+1)return'"[Array]"';O.push(re),Z!==""&&(Y+=Z,pe+=`
${Y}`,he=`,
${Y}`);let S=Math.min(re.length,s),B=0;for(;B<S-1;B++){let o=f(B,re,O,U,Z,Y);pe+=o!==void 0?o:"null",pe+=he}let y=f(B,re,O,U,Z,Y);if(pe+=y!==void 0?y:"null",re.length-1>s){let o=re.length-s-1;pe+=`${he}"... ${el(o)} not stringified"`}return Z!==""&&(pe+=`
${se}`),O.pop(),`[${pe}]`}let fe=Object.keys(re),de=fe.length;if(de===0)return"{}";if(a<O.length+1)return'"[Object]"';let G="",L="";Z!==""&&(Y+=Z,he=`,
${Y}`,G=" ");let q=Math.min(de,s);f5(re)&&(pe+=u5(re,he,s),fe=fe.slice(re.length),q-=re.length,L=he),i&&(fe=s5(fe)),O.push(re);for(let S=0;S<q;S++){let B=fe[S],y=f(B,re,O,U,Z,Y);y!==void 0&&(pe+=`${L}"${lu(B)}":${G}${y}`,L=he)}if(de>s){let S=de-s;pe+=`${L}"...":${G}"${el(S)} not stringified"`,L=he}return Z!==""&&L.length>1&&(pe=`
${Y}${pe}
${se}`),O.pop(),`{${pe}}`}case"number":return isFinite(re)?String(re):e?e(re):"null";case"boolean":return re===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(re);default:return e?e(re):void 0}}function l(I,T,O,U,Z,Y){switch(typeof T=="object"&&T!==null&&typeof T.toJSON=="function"&&(T=T.toJSON(I)),typeof T){case"string":return`"${lu(T)}"`;case"object":{if(T===null)return"null";if(O.indexOf(T)!==-1)return r;let re=Y,pe="",he=",";if(Array.isArray(T)){if(T.length===0)return"[]";if(a<O.length+1)return'"[Array]"';O.push(T),Z!==""&&(Y+=Z,pe+=`
${Y}`,he=`,
${Y}`);let de=Math.min(T.length,s),G=0;for(;G<de-1;G++){let q=l(G,T[G],O,U,Z,Y);pe+=q!==void 0?q:"null",pe+=he}let L=l(G,T[G],O,U,Z,Y);if(pe+=L!==void 0?L:"null",T.length-1>s){let q=T.length-s-1;pe+=`${he}"... ${el(q)} not stringified"`}return Z!==""&&(pe+=`
${re}`),O.pop(),`[${pe}]`}if(U.size===0)return"{}";O.push(T);let se="";Z!==""&&(Y+=Z,he=`,
${Y}`,se=" ");let fe="";for(let de of U){let G=l(de,T[de],O,U,Z,Y);G!==void 0&&(pe+=`${fe}"${lu(de)}":${se}${G}`,fe=he)}return Z!==""&&fe.length>1&&(pe=`
${Y}${pe}
${re}`),O.pop(),`{${pe}}`}case"number":return isFinite(T)?String(T):e?e(T):"null";case"boolean":return T===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(T);default:return e?e(T):void 0}}function g(I,T,O,U,Z){switch(typeof T){case"string":return`"${lu(T)}"`;case"object":{if(T===null)return"null";if(typeof T.toJSON=="function"){if(T=T.toJSON(I),typeof T!="object")return g(I,T,O,U,Z);if(T===null)return"null"}if(O.indexOf(T)!==-1)return r;let Y=Z;if(Array.isArray(T)){if(T.length===0)return"[]";if(a<O.length+1)return'"[Array]"';O.push(T),Z+=U;let G=`
${Z}`,L=`,
${Z}`,q=Math.min(T.length,s),S=0;for(;S<q-1;S++){let y=g(S,T[S],O,U,Z);G+=y!==void 0?y:"null",G+=L}let B=g(S,T[S],O,U,Z);if(G+=B!==void 0?B:"null",T.length-1>s){let y=T.length-s-1;G+=`${L}"... ${el(y)} not stringified"`}return G+=`
${Y}`,O.pop(),`[${G}]`}let re=Object.keys(T),pe=re.length;if(pe===0)return"{}";if(a<O.length+1)return'"[Object]"';Z+=U;let he=`,
${Z}`,se="",fe="",de=Math.min(pe,s);f5(T)&&(se+=u5(T,he,s),re=re.slice(T.length),de-=T.length,fe=he),i&&(re=s5(re)),O.push(T);for(let G=0;G<de;G++){let L=re[G],q=g(L,T[L],O,U,Z);q!==void 0&&(se+=`${fe}"${lu(L)}": ${q}`,fe=he)}if(pe>s){let G=pe-s;se+=`${fe}"...": "${el(G)} not stringified"`,fe=he}return fe!==""&&(se=`
${Z}${se}
${Y}`),O.pop(),`{${se}}`}case"number":return isFinite(T)?String(T):e?e(T):"null";case"boolean":return T===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(T);default:return e?e(T):void 0}}function m(I,T,O){switch(typeof T){case"string":return`"${lu(T)}"`;case"object":{if(T===null)return"null";if(typeof T.toJSON=="function"){if(T=T.toJSON(I),typeof T!="object")return m(I,T,O);if(T===null)return"null"}if(O.indexOf(T)!==-1)return r;let U="";if(Array.isArray(T)){if(T.length===0)return"[]";if(a<O.length+1)return'"[Array]"';O.push(T);let he=Math.min(T.length,s),se=0;for(;se<he-1;se++){let de=m(se,T[se],O);U+=de!==void 0?de:"null",U+=","}let fe=m(se,T[se],O);if(U+=fe!==void 0?fe:"null",T.length-1>s){let de=T.length-s-1;U+=`,"... ${el(de)} not stringified"`}return O.pop(),`[${U}]`}let Z=Object.keys(T),Y=Z.length;if(Y===0)return"{}";if(a<O.length+1)return'"[Object]"';let re="",pe=Math.min(Y,s);f5(T)&&(U+=u5(T,",",s),Z=Z.slice(T.length),pe-=T.length,re=","),i&&(Z=s5(Z)),O.push(T);for(let he=0;he<pe;he++){let se=Z[he],fe=m(se,T[se],O);fe!==void 0&&(U+=`${re}"${lu(se)}":${fe}`,re=",")}if(Y>s){let he=Y-s;U+=`${re}"...":"${el(he)} not stringified"`}return O.pop(),`{${U}}`}case"number":return isFinite(T)?String(T):e?e(T):"null";case"boolean":return T===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(T);default:return e?e(T):void 0}}function A(I,T,O){if(arguments.length>1){let U="";if(typeof O=="number"?U=" ".repeat(Math.min(O,10)):typeof O=="string"&&(U=O.slice(0,10)),T!=null){if(typeof T=="function")return f("",{"":I},[],T,U,"");if(Array.isArray(T))return l("",I,[],Bfe(T),U,"")}if(U.length!==0)return g("",I,[],U,"")}return m("",I,[])}return A}});var d5=ee(hu=>{"use strict";x();Object.defineProperty(hu,"__esModule",{value:!0});hu.createInteractionTagsList=hu.createDummyTx=hu.createInteractionTx=void 0;var v0=po(),Nfe=cu(),rl=l0();async function Lfe(t,e,r,n,i,a="",s="0",f=!1,l,g){let m={data:Math.random().toString().slice(-4)};a&&a.length&&(m.target=a.toString(),s&&+s>0&&(m.quantity=s.toString())),f&&(m.reward="0",m.last_tx="p7vc1iSP6bvH_fCeUFa9LqoV5qiyW-jdEKouAT0XMoSwrNraB9mgpi29Q10waEpO"),g&&g.length&&(m.reward=g);let A=await t.createTransaction(m);return zB(r,n,l,i).forEach(T=>A.addTag(T.name,T.value)),e&&await e(A),A}hu.createInteractionTx=Lfe;function Dfe(t,e,r){let i=new Nfe.TagsParser().decodeTags(t);return{id:t.id,owner:{address:e,key:""},recipient:t.target,tags:i,fee:{winston:t.reward,ar:""},quantity:{winston:t.quantity,ar:""},block:{id:r.indep_hash,height:r.height,timestamp:r.timestamp,previous:null},dry:!0,anchor:null,signature:null,data:null,parent:null,bundledIn:null}}hu.createDummyTx=Dfe;function zB(t,e,r,n){let i=[];if(n&&n.length)for(let a of n)i.push(new rl.Tag(a.name.toString(),a.value.toString()));return i.push(new rl.Tag(v0.SMART_WEAVE_TAGS.APP_NAME,"SmartWeaveAction")),i.push(new rl.Tag(v0.SMART_WEAVE_TAGS.APP_VERSION,"0.3.0")),i.push(new rl.Tag(v0.SMART_WEAVE_TAGS.SDK,"Warp")),i.push(new rl.Tag(v0.SMART_WEAVE_TAGS.CONTRACT_TX_ID,t)),i.push(new rl.Tag(v0.SMART_WEAVE_TAGS.INPUT,JSON.stringify(e))),r&&i.push(new rl.Tag(v0.WARP_TAGS.WARP_TESTNET,"1.0.0")),i}hu.createInteractionTagsList=zB});var p5=ee(y0=>{"use strict";x();Object.defineProperty(y0,"__esModule",{value:!0});y0.REGISTER_PROVIDER=y0.emptyTransfer=void 0;y0.emptyTransfer={target:"",winstonQty:"0"};y0.REGISTER_PROVIDER=["node1","node2","arweave"]});var v5=ee(Rb=>{"use strict";x();Object.defineProperty(Rb,"__esModule",{value:!0});Rb.InnerWritesEvaluator=void 0;var g5=class{eval(e){let r=[];return Object.keys(e.interactions).forEach(n=>{let i=e.interactions[n];this.evalForeignCalls(e.contractTxId,i,r)}),r}evalForeignCalls(e,r,n){Object.keys(r.interactionInput.foreignContractCalls).forEach(i=>{let a=r.interactionInput.foreignContractCalls[i];a.innerCallType=="write"&&Object.keys(a.interactions).forEach(s=>{let f=a.interactions[s];f.interactionInput.dryWrite&&!n.includes(a.contractTxId)&&e!==a.contractTxId&&n.push(a.contractTxId),this.evalForeignCalls(e,f,n)})})}};Rb.InnerWritesEvaluator=g5});var T5={};Ip(T5,{AVSCTap:()=>Sg,ArweaveSigner:()=>_5,DataItem:()=>Eg,MAX_TAG_BYTES:()=>Cb,MIN_BINARY_SIZE:()=>A5,SIG_CONFIG:()=>b0,SignatureConfig:()=>Oa,Signer:()=>$B,createData:()=>w0,default:()=>aue,deserializeTags:()=>kb,indexToType:()=>E5,serializeTags:()=>S5,tagsExceedLimit:()=>JB,warparbundles:()=>oue});async function VB(t){if(Array.isArray(t)){let i=(0,yo.concatBuffers)([(0,yo.stringToBuffer)("list"),(0,yo.stringToBuffer)(t.length.toString())]);return await ZB(t,await sf().hash(i,"SHA-384"))}let e=t,r=(0,yo.concatBuffers)([(0,yo.stringToBuffer)("blob"),(0,yo.stringToBuffer)(e.byteLength.toString())]),n=(0,yo.concatBuffers)([await sf().hash(r,"SHA-384"),await sf().hash(e,"SHA-384")]);return await sf().hash(n,"SHA-384")}async function ZB(t,e){if(t.length<1)return e;let r=(0,yo.concatBuffers)([e,await VB(t[0])]),n=await sf().hash(r,"SHA-384");return await ZB(t.slice(1),n)}function sf(){return Qfe??=new Xfe}async function b5(t){return VB([(0,yo.stringToBuffer)("dataitem"),(0,yo.stringToBuffer)("1"),(0,yo.stringToBuffer)(t.signatureType.toString()),t.rawOwner,t.rawTarget,t.rawAnchor,t.rawTags,t.rawData])}async function eue(t,e){let r=await b5(t),n=await e.sign(r),i=await sf().hash(n);return{signature:N.Buffer.from(n),id:N.Buffer.from(i)}}async function tue(t,e){let{signature:r,id:n}=await eue(t,e);return t.getRaw().set(r,2),n}function S5(t){let e=new Sg;return e.writeTags(t),e.toBuffer()}function JB(t){let e=new Sg;return e.writeTags(t),e.tagsExceedLimit()}function kb(t){return new Sg(t).readTags()}function du(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r];return e}function rue(t){if(t>(2^32-1))throw new Error("Short too long");let e=[0,0];for(let r=0;r<e.length;r++){let n=t&255;e[r]=n,t=(t-n)/256}return Uint8Array.from(e)}function KB(t){let e=[0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r++){let n=t&255;e[r]=n,t=(t-n)/256}return Uint8Array.from(e)}function w0(t,e,r){let n=e.publicKey,i=r?.target?iue.default.toBuffer(r.target):null,a=1+(i?.byteLength??0),s=r?.anchor?N.Buffer.from(r.anchor):null,f=1+(s?.byteLength??0),l=(r?.tags?.length??0)>0?S5(r.tags):null,g=16+(l?l.byteLength:0),m=N.Buffer.from(t),A=m.byteLength,I=2+e.signatureLength+e.ownerLength+a+f+g+A,T=N.Buffer.alloc(I);if(T.set(rue(e.signatureType),0),T.set(new Uint8Array(e.signatureLength).fill(0),2),n.byteLength!==e.ownerLength)throw new Error(`Owner must be ${e.ownerLength} bytes, but was incorrectly ${n.byteLength}`);T.set(n,2+e.signatureLength);let O=2+e.signatureLength+e.ownerLength;if(T[O]=i?1:0,i){if(i.byteLength!==32)throw new Error(`Target must be 32 bytes but was incorrectly ${i.byteLength}`);T.set(i,O+1)}let U=O+a,Z=U+1;if(T[U]=s?1:0,s){if(Z+=s.byteLength,s.byteLength!==32)throw new Error("Anchor must be 32 bytes");T.set(s,U+1)}T.set(KB(r?.tags?.length??0),Z);let Y=KB(l?.byteLength??0);T.set(Y,Z+8),l&&T.set(l,Z+16);let re=Z+g;return T.set(m,re),new Eg(T)}var qfe,w5,Ufe,Ffe,jfe,zfe,ff,Kfe,Wfe,nl,Gfe,Hfe,x5,WB,GB,$fe,Vfe,m5,Zfe,HB,$B,Jfe,yo,y5,Yfe,Xfe,Qfe,Oa,b0,_5,E5,cs,Sg,nue,m0,Cb,A5,Eg,iue,M5,aue,oue,Ag=cR(()=>{x();qfe=Object.create,w5=Object.defineProperty,Ufe=Object.getOwnPropertyDescriptor,Ffe=Object.getOwnPropertyNames,jfe=Object.getPrototypeOf,zfe=Object.prototype.hasOwnProperty,ff=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Kfe=(t,e)=>{for(var r in e)w5(t,r,{get:e[r],enumerable:!0})},Wfe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ffe(e))!zfe.call(t,i)&&i!==r&&w5(t,i,{get:()=>e[i],enumerable:!(n=Ufe(e,i))||n.enumerable});return t},nl=(t,e,r)=>(r=t!=null?qfe(jfe(t)):{},Wfe(e||!t||!t.__esModule?w5(r,"default",{value:t,enumerable:!0}):r,t)),Gfe=ff(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});function e(r){var n=4,i=r.length,a=i%n;if(!a)return r;var s=i,f=n-a,l=i+f,g=N.Buffer.alloc(l);for(g.write(r);f--;)g.write("=",s++);return g.toString()}t.default=e}),Hfe=ff(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Gfe();function r(l,g){return g===void 0&&(g="utf8"),N.Buffer.isBuffer(l)?a(l.toString("base64")):a(N.Buffer.from(l,g).toString("base64"))}function n(l,g){return g===void 0&&(g="utf8"),N.Buffer.from(i(l),"base64").toString(g)}function i(l){return l=l.toString(),e.default(l).replace(/\-/g,"+").replace(/_/g,"/")}function a(l){return l.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function s(l){return N.Buffer.from(i(l),"base64")}var f=r;f.encode=r,f.decode=n,f.toBase64=i,f.fromBase64=a,f.toBuffer=s,t.default=f}),x5=ff((t,e)=>{e.exports=Hfe().default,e.exports.default=e.exports}),WB=ff(t=>{"use strict";t.byteLength=l,t.toByteArray=m,t.fromByteArray=T;var e=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=0,s=i.length;a<s;++a)e[a]=i[a],r[i.charCodeAt(a)]=a;var a,s;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function f(O){var U=O.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Z=O.indexOf("=");Z===-1&&(Z=U);var Y=Z===U?0:4-Z%4;return[Z,Y]}function l(O){var U=f(O),Z=U[0],Y=U[1];return(Z+Y)*3/4-Y}function g(O,U,Z){return(U+Z)*3/4-Z}function m(O){var U,Z=f(O),Y=Z[0],re=Z[1],pe=new n(g(O,Y,re)),he=0,se=re>0?Y-4:Y,fe;for(fe=0;fe<se;fe+=4)U=r[O.charCodeAt(fe)]<<18|r[O.charCodeAt(fe+1)]<<12|r[O.charCodeAt(fe+2)]<<6|r[O.charCodeAt(fe+3)],pe[he++]=U>>16&255,pe[he++]=U>>8&255,pe[he++]=U&255;return re===2&&(U=r[O.charCodeAt(fe)]<<2|r[O.charCodeAt(fe+1)]>>4,pe[he++]=U&255),re===1&&(U=r[O.charCodeAt(fe)]<<10|r[O.charCodeAt(fe+1)]<<4|r[O.charCodeAt(fe+2)]>>2,pe[he++]=U>>8&255,pe[he++]=U&255),pe}function A(O){return e[O>>18&63]+e[O>>12&63]+e[O>>6&63]+e[O&63]}function I(O,U,Z){for(var Y,re=[],pe=U;pe<Z;pe+=3)Y=(O[pe]<<16&16711680)+(O[pe+1]<<8&65280)+(O[pe+2]&255),re.push(A(Y));return re.join("")}function T(O){for(var U,Z=O.length,Y=Z%3,re=[],pe=16383,he=0,se=Z-Y;he<se;he+=pe)re.push(I(O,he,he+pe>se?se:he+pe));return Y===1?(U=O[Z-1],re.push(e[U>>2]+e[U<<4&63]+"==")):Y===2&&(U=(O[Z-2]<<8)+O[Z-1],re.push(e[U>>10]+e[U>>4&63]+e[U<<2&63]+"=")),re.join("")}}),GB=ff(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.b64UrlDecode=t.b64UrlEncode=t.bufferTob64Url=t.bufferTob64=t.b64UrlToBuffer=t.stringToB64Url=t.stringToBuffer=t.bufferToString=t.b64UrlToString=t.concatBuffers=void 0;var e=WB();function r(I){let T=0;for(let Z=0;Z<I.length;Z++)T+=I[Z].byteLength;let O=new Uint8Array(T),U=0;O.set(new Uint8Array(I[0]),U),U+=I[0].byteLength;for(let Z=1;Z<I.length;Z++)O.set(new Uint8Array(I[Z]),U),U+=I[Z].byteLength;return O}t.concatBuffers=r;function n(I){let T=f(I);return i(T)}t.b64UrlToString=n;function i(I){return new TextDecoder("utf-8",{fatal:!0}).decode(I)}t.bufferToString=i;function a(I){return new TextEncoder().encode(I)}t.stringToBuffer=a;function s(I){return g(a(I))}t.stringToB64Url=s;function f(I){return new Uint8Array(e.toByteArray(A(I)))}t.b64UrlToBuffer=f;function l(I){return e.fromByteArray(new Uint8Array(I))}t.bufferTob64=l;function g(I){return m(l(I))}t.bufferTob64Url=g;function m(I){return I.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}t.b64UrlEncode=m;function A(I){I=I.replace(/\-/g,"+").replace(/\_/g,"/");let T;return I.length%4==0?T=0:T=4-I.length%4,I.concat("=".repeat(T))}t.b64UrlDecode=A}),$fe=ff(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=GB(),r=class{keyLength=4096;publicExponent=65537;hashAlgorithm="sha256";driver;constructor(){if(!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let n=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),i=await this.driver.exportKey("jwk",n.privateKey);return{kty:i.kty,e:i.e,n:i.n,d:i.d,p:i.p,q:i.q,dp:i.dp,dq:i.dq,qi:i.qi}}async sign(n,i,{saltLength:a}={}){let s=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(n),i);return new Uint8Array(s)}async hash(n,i="SHA-256"){let a=await this.driver.digest(i,n);return new Uint8Array(a)}async verify(n,i,a){let s={kty:"RSA",e:"AQAB",n},f=await this.jwkToPublicCryptoKey(s),l=await this.driver.digest("SHA-256",i),g=await this.driver.verify({name:"RSA-PSS",saltLength:0},f,a,i),m=await this.driver.verify({name:"RSA-PSS",saltLength:32},f,a,i),A=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((f.algorithm.modulusLength-1)/8)-l.byteLength-2},f,a,i);return g||m||A}async jwkToCryptoKey(n){return this.driver.importKey("jwk",n,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(n){return this.driver.importKey("jwk",n,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;let n=crypto?.subtle;return n===void 0?!1:["generateKey","importKey","exportKey","digest","sign"].every(i=>typeof n[i]=="function")}async encrypt(n,i,a){let s=await this.driver.importKey("raw",typeof i=="string"?e.stringToBuffer(i):i,{name:"PBKDF2",length:32},!1,["deriveKey"]),f=await this.driver.deriveKey({name:"PBKDF2",salt:a?e.stringToBuffer(a):e.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},s,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),l=new Uint8Array(16);crypto.getRandomValues(l);let g=await this.driver.encrypt({name:"AES-CBC",iv:l},f,n);return e.concatBuffers([l,g])}async decrypt(n,i,a){let s=await this.driver.importKey("raw",typeof i=="string"?e.stringToBuffer(i):i,{name:"PBKDF2",length:32},!1,["deriveKey"]),f=await this.driver.deriveKey({name:"PBKDF2",salt:a?e.stringToBuffer(a):e.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},s,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),l=n.slice(0,16),g=await this.driver.decrypt({name:"AES-CBC",iv:l},f,n.slice(16));return e.concatBuffers([g])}};t.default=r}),Vfe=ff(t=>{t.read=function(e,r,n,i,a){var s,f,l=a*8-i-1,g=(1<<l)-1,m=g>>1,A=-7,I=n?a-1:0,T=n?-1:1,O=e[r+I];for(I+=T,s=O&(1<<-A)-1,O>>=-A,A+=l;A>0;s=s*256+e[r+I],I+=T,A-=8);for(f=s&(1<<-A)-1,s>>=-A,A+=i;A>0;f=f*256+e[r+I],I+=T,A-=8);if(s===0)s=1-m;else{if(s===g)return f?NaN:(O?-1:1)*(1/0);f=f+Math.pow(2,i),s=s-m}return(O?-1:1)*f*Math.pow(2,s-i)},t.write=function(e,r,n,i,a,s){var f,l,g,m=s*8-a-1,A=(1<<m)-1,I=A>>1,T=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=i?0:s-1,U=i?1:-1,Z=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(l=isNaN(r)?1:0,f=A):(f=Math.floor(Math.log(r)/Math.LN2),r*(g=Math.pow(2,-f))<1&&(f--,g*=2),f+I>=1?r+=T/g:r+=T*Math.pow(2,1-I),r*g>=2&&(f++,g/=2),f+I>=A?(l=0,f=A):f+I>=1?(l=(r*g-1)*Math.pow(2,a),f=f+I):(l=r*Math.pow(2,I-1)*Math.pow(2,a),f=0));a>=8;e[n+O]=l&255,O+=U,l/=256,a-=8);for(f=f<<a|l,m+=a;m>0;e[n+O]=f&255,O+=U,f/=256,m-=8);e[n+O-U]|=Z*128}}),m5=ff(t=>{"use strict";var e=WB(),r=Vfe(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=f,t.SlowBuffer=re,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,f.TYPED_ARRAY_SUPPORT=a(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{let R=new Uint8Array(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,Uint8Array.prototype),Object.setPrototypeOf(R,V),R.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function s(R){if(R>i)throw new RangeError('The value "'+R+'" is invalid for option "size"');let V=new Uint8Array(R);return Object.setPrototypeOf(V,f.prototype),V}function f(R,V,Q){if(typeof R=="number"){if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(R)}return l(R,V,Q)}f.poolSize=8192;function l(R,V,Q){if(typeof R=="string")return I(R,V);if(ArrayBuffer.isView(R))return O(R);if(R==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R);if(oe(R,ArrayBuffer)||R&&oe(R.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(oe(R,SharedArrayBuffer)||R&&oe(R.buffer,SharedArrayBuffer)))return U(R,V,Q);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let ve=R.valueOf&&R.valueOf();if(ve!=null&&ve!==R)return f.from(ve,V,Q);let Te=Z(R);if(Te)return Te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return f.from(R[Symbol.toPrimitive]("string"),V,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R)}f.from=function(R,V,Q){return l(R,V,Q)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function g(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function m(R,V,Q){return g(R),R<=0?s(R):V!==void 0?typeof Q=="string"?s(R).fill(V,Q):s(R).fill(V):s(R)}f.alloc=function(R,V,Q){return m(R,V,Q)};function A(R){return g(R),s(R<0?0:Y(R)|0)}f.allocUnsafe=function(R){return A(R)},f.allocUnsafeSlow=function(R){return A(R)};function I(R,V){if((typeof V!="string"||V==="")&&(V="utf8"),!f.isEncoding(V))throw new TypeError("Unknown encoding: "+V);let Q=pe(R,V)|0,ve=s(Q),Te=ve.write(R,V);return Te!==Q&&(ve=ve.slice(0,Te)),ve}function T(R){let V=R.length<0?0:Y(R.length)|0,Q=s(V);for(let ve=0;ve<V;ve+=1)Q[ve]=R[ve]&255;return Q}function O(R){if(oe(R,Uint8Array)){let V=new Uint8Array(R);return U(V.buffer,V.byteOffset,V.byteLength)}return T(R)}function U(R,V,Q){if(V<0||R.byteLength<V)throw new RangeError('"offset" is outside of buffer bounds');if(R.byteLength<V+(Q||0))throw new RangeError('"length" is outside of buffer bounds');let ve;return V===void 0&&Q===void 0?ve=new Uint8Array(R):Q===void 0?ve=new Uint8Array(R,V):ve=new Uint8Array(R,V,Q),Object.setPrototypeOf(ve,f.prototype),ve}function Z(R){if(f.isBuffer(R)){let V=Y(R.length)|0,Q=s(V);return Q.length===0||R.copy(Q,0,0,V),Q}if(R.length!==void 0)return typeof R.length!="number"||le(R.length)?s(0):T(R);if(R.type==="Buffer"&&Array.isArray(R.data))return T(R.data)}function Y(R){if(R>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return R|0}function re(R){return+R!=R&&(R=0),f.alloc(+R)}f.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==f.prototype},f.compare=function(R,V){if(oe(R,Uint8Array)&&(R=f.from(R,R.offset,R.byteLength)),oe(V,Uint8Array)&&(V=f.from(V,V.offset,V.byteLength)),!f.isBuffer(R)||!f.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===V)return 0;let Q=R.length,ve=V.length;for(let Te=0,Se=Math.min(Q,ve);Te<Se;++Te)if(R[Te]!==V[Te]){Q=R[Te],ve=V[Te];break}return Q<ve?-1:ve<Q?1:0},f.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(R,V){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return f.alloc(0);let Q;if(V===void 0)for(V=0,Q=0;Q<R.length;++Q)V+=R[Q].length;let ve=f.allocUnsafe(V),Te=0;for(Q=0;Q<R.length;++Q){let Se=R[Q];if(oe(Se,Uint8Array))Te+Se.length>ve.length?(f.isBuffer(Se)||(Se=f.from(Se)),Se.copy(ve,Te)):Uint8Array.prototype.set.call(ve,Se,Te);else if(f.isBuffer(Se))Se.copy(ve,Te);else throw new TypeError('"list" argument must be an Array of Buffers');Te+=Se.length}return ve};function pe(R,V){if(f.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||oe(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof R);let Q=R.length,ve=arguments.length>2&&arguments[2]===!0;if(!ve&&Q===0)return 0;let Te=!1;for(;;)switch(V){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":return K(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q*2;case"hex":return Q>>>1;case"base64":return ae(R).length;default:if(Te)return ve?-1:K(R).length;V=(""+V).toLowerCase(),Te=!0}}f.byteLength=pe;function he(R,V,Q){let ve=!1;if((V===void 0||V<0)&&(V=0),V>this.length||((Q===void 0||Q>this.length)&&(Q=this.length),Q<=0)||(Q>>>=0,V>>>=0,Q<=V))return"";for(R||(R="utf8");;)switch(R){case"hex":return d(this,V,Q);case"utf8":case"utf-8":return o(this,V,Q);case"ascii":return p(this,V,Q);case"latin1":case"binary":return v(this,V,Q);case"base64":return y(this,V,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,V,Q);default:if(ve)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),ve=!0}}f.prototype._isBuffer=!0;function se(R,V,Q){let ve=R[V];R[V]=R[Q],R[Q]=ve}f.prototype.swap16=function(){let R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let V=0;V<R;V+=2)se(this,V,V+1);return this},f.prototype.swap32=function(){let R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let V=0;V<R;V+=4)se(this,V,V+3),se(this,V+1,V+2);return this},f.prototype.swap64=function(){let R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let V=0;V<R;V+=8)se(this,V,V+7),se(this,V+1,V+6),se(this,V+2,V+5),se(this,V+3,V+4);return this},f.prototype.toString=function(){let R=this.length;return R===0?"":arguments.length===0?o(this,0,R):he.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(R){if(!f.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:f.compare(this,R)===0},f.prototype.inspect=function(){let R="",V=t.INSPECT_MAX_BYTES;return R=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(R+=" ... "),"<Buffer "+R+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(R,V,Q,ve,Te){if(oe(R,Uint8Array)&&(R=f.from(R,R.offset,R.byteLength)),!f.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(V===void 0&&(V=0),Q===void 0&&(Q=R?R.length:0),ve===void 0&&(ve=0),Te===void 0&&(Te=this.length),V<0||Q>R.length||ve<0||Te>this.length)throw new RangeError("out of range index");if(ve>=Te&&V>=Q)return 0;if(ve>=Te)return-1;if(V>=Q)return 1;if(V>>>=0,Q>>>=0,ve>>>=0,Te>>>=0,this===R)return 0;let Se=Te-ve,ie=Q-V,be=Math.min(Se,ie),ye=this.slice(ve,Te),me=R.slice(V,Q);for(let qe=0;qe<be;++qe)if(ye[qe]!==me[qe]){Se=ye[qe],ie=me[qe];break}return Se<ie?-1:ie<Se?1:0};function fe(R,V,Q,ve,Te){if(R.length===0)return-1;if(typeof Q=="string"?(ve=Q,Q=0):Q>2147483647?Q=2147483647:Q<-2147483648&&(Q=-2147483648),Q=+Q,le(Q)&&(Q=Te?0:R.length-1),Q<0&&(Q=R.length+Q),Q>=R.length){if(Te)return-1;Q=R.length-1}else if(Q<0)if(Te)Q=0;else return-1;if(typeof V=="string"&&(V=f.from(V,ve)),f.isBuffer(V))return V.length===0?-1:de(R,V,Q,ve,Te);if(typeof V=="number")return V=V&255,typeof Uint8Array.prototype.indexOf=="function"?Te?Uint8Array.prototype.indexOf.call(R,V,Q):Uint8Array.prototype.lastIndexOf.call(R,V,Q):de(R,[V],Q,ve,Te);throw new TypeError("val must be string, number or Buffer")}function de(R,V,Q,ve,Te){let Se=1,ie=R.length,be=V.length;if(ve!==void 0&&(ve=String(ve).toLowerCase(),ve==="ucs2"||ve==="ucs-2"||ve==="utf16le"||ve==="utf-16le")){if(R.length<2||V.length<2)return-1;Se=2,ie/=2,be/=2,Q/=2}function ye(qe,Oe){return Se===1?qe[Oe]:qe.readUInt16BE(Oe*Se)}let me;if(Te){let qe=-1;for(me=Q;me<ie;me++)if(ye(R,me)===ye(V,qe===-1?0:me-qe)){if(qe===-1&&(qe=me),me-qe+1===be)return qe*Se}else qe!==-1&&(me-=me-qe),qe=-1}else for(Q+be>ie&&(Q=ie-be),me=Q;me>=0;me--){let qe=!0;for(let Oe=0;Oe<be;Oe++)if(ye(R,me+Oe)!==ye(V,Oe)){qe=!1;break}if(qe)return me}return-1}f.prototype.includes=function(R,V,Q){return this.indexOf(R,V,Q)!==-1},f.prototype.indexOf=function(R,V,Q){return fe(this,R,V,Q,!0)},f.prototype.lastIndexOf=function(R,V,Q){return fe(this,R,V,Q,!1)};function G(R,V,Q,ve){Q=Number(Q)||0;let Te=R.length-Q;ve?(ve=Number(ve),ve>Te&&(ve=Te)):ve=Te;let Se=V.length;ve>Se/2&&(ve=Se/2);let ie;for(ie=0;ie<ve;++ie){let be=parseInt(V.substr(ie*2,2),16);if(le(be))return ie;R[Q+ie]=be}return ie}function L(R,V,Q,ve){return $(K(V,R.length-Q),R,Q,ve)}function q(R,V,Q,ve){return $(X(V),R,Q,ve)}function S(R,V,Q,ve){return $(ae(V),R,Q,ve)}function B(R,V,Q,ve){return $(te(V,R.length-Q),R,Q,ve)}f.prototype.write=function(R,V,Q,ve){if(V===void 0)ve="utf8",Q=this.length,V=0;else if(Q===void 0&&typeof V=="string")ve=V,Q=this.length,V=0;else if(isFinite(V))V=V>>>0,isFinite(Q)?(Q=Q>>>0,ve===void 0&&(ve="utf8")):(ve=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let Te=this.length-V;if((Q===void 0||Q>Te)&&(Q=Te),R.length>0&&(Q<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");ve||(ve="utf8");let Se=!1;for(;;)switch(ve){case"hex":return G(this,R,V,Q);case"utf8":case"utf-8":return L(this,R,V,Q);case"ascii":case"latin1":case"binary":return q(this,R,V,Q);case"base64":return S(this,R,V,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,R,V,Q);default:if(Se)throw new TypeError("Unknown encoding: "+ve);ve=(""+ve).toLowerCase(),Se=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function y(R,V,Q){return V===0&&Q===R.length?e.fromByteArray(R):e.fromByteArray(R.slice(V,Q))}function o(R,V,Q){Q=Math.min(R.length,Q);let ve=[],Te=V;for(;Te<Q;){let Se=R[Te],ie=null,be=Se>239?4:Se>223?3:Se>191?2:1;if(Te+be<=Q){let ye,me,qe,Oe;switch(be){case 1:Se<128&&(ie=Se);break;case 2:ye=R[Te+1],(ye&192)===128&&(Oe=(Se&31)<<6|ye&63,Oe>127&&(ie=Oe));break;case 3:ye=R[Te+1],me=R[Te+2],(ye&192)===128&&(me&192)===128&&(Oe=(Se&15)<<12|(ye&63)<<6|me&63,Oe>2047&&(Oe<55296||Oe>57343)&&(ie=Oe));break;case 4:ye=R[Te+1],me=R[Te+2],qe=R[Te+3],(ye&192)===128&&(me&192)===128&&(qe&192)===128&&(Oe=(Se&15)<<18|(ye&63)<<12|(me&63)<<6|qe&63,Oe>65535&&Oe<1114112&&(ie=Oe))}}ie===null?(ie=65533,be=1):ie>65535&&(ie-=65536,ve.push(ie>>>10&1023|55296),ie=56320|ie&1023),ve.push(ie),Te+=be}return h(ve)}var u=4096;function h(R){let V=R.length;if(V<=u)return String.fromCharCode.apply(String,R);let Q="",ve=0;for(;ve<V;)Q+=String.fromCharCode.apply(String,R.slice(ve,ve+=u));return Q}function p(R,V,Q){let ve="";Q=Math.min(R.length,Q);for(let Te=V;Te<Q;++Te)ve+=String.fromCharCode(R[Te]&127);return ve}function v(R,V,Q){let ve="";Q=Math.min(R.length,Q);for(let Te=V;Te<Q;++Te)ve+=String.fromCharCode(R[Te]);return ve}function d(R,V,Q){let ve=R.length;(!V||V<0)&&(V=0),(!Q||Q<0||Q>ve)&&(Q=ve);let Te="";for(let Se=V;Se<Q;++Se)Te+=Ee[R[Se]];return Te}function E(R,V,Q){let ve=R.slice(V,Q),Te="";for(let Se=0;Se<ve.length-1;Se+=2)Te+=String.fromCharCode(ve[Se]+ve[Se+1]*256);return Te}f.prototype.slice=function(R,V){let Q=this.length;R=~~R,V=V===void 0?Q:~~V,R<0?(R+=Q,R<0&&(R=0)):R>Q&&(R=Q),V<0?(V+=Q,V<0&&(V=0)):V>Q&&(V=Q),V<R&&(V=R);let ve=this.subarray(R,V);return Object.setPrototypeOf(ve,f.prototype),ve};function w(R,V,Q){if(R%1!==0||R<0)throw new RangeError("offset is not uint");if(R+V>Q)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(R,V,Q){R=R>>>0,V=V>>>0,Q||w(R,V,this.length);let ve=this[R],Te=1,Se=0;for(;++Se<V&&(Te*=256);)ve+=this[R+Se]*Te;return ve},f.prototype.readUintBE=f.prototype.readUIntBE=function(R,V,Q){R=R>>>0,V=V>>>0,Q||w(R,V,this.length);let ve=this[R+--V],Te=1;for(;V>0&&(Te*=256);)ve+=this[R+--V]*Te;return ve},f.prototype.readUint8=f.prototype.readUInt8=function(R,V){return R=R>>>0,V||w(R,1,this.length),this[R]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(R,V){return R=R>>>0,V||w(R,2,this.length),this[R]|this[R+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(R,V){return R=R>>>0,V||w(R,2,this.length),this[R]<<8|this[R+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(R,V){return R=R>>>0,V||w(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(R,V){return R=R>>>0,V||w(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},f.prototype.readBigUInt64LE=Be(function(R){R=R>>>0,H(R,"offset");let V=this[R],Q=this[R+7];(V===void 0||Q===void 0)&&j(R,this.length-8);let ve=V+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,Te=this[++R]+this[++R]*2**8+this[++R]*2**16+Q*2**24;return BigInt(ve)+(BigInt(Te)<<BigInt(32))}),f.prototype.readBigUInt64BE=Be(function(R){R=R>>>0,H(R,"offset");let V=this[R],Q=this[R+7];(V===void 0||Q===void 0)&&j(R,this.length-8);let ve=V*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],Te=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+Q;return(BigInt(ve)<<BigInt(32))+BigInt(Te)}),f.prototype.readIntLE=function(R,V,Q){R=R>>>0,V=V>>>0,Q||w(R,V,this.length);let ve=this[R],Te=1,Se=0;for(;++Se<V&&(Te*=256);)ve+=this[R+Se]*Te;return Te*=128,ve>=Te&&(ve-=Math.pow(2,8*V)),ve},f.prototype.readIntBE=function(R,V,Q){R=R>>>0,V=V>>>0,Q||w(R,V,this.length);let ve=V,Te=1,Se=this[R+--ve];for(;ve>0&&(Te*=256);)Se+=this[R+--ve]*Te;return Te*=128,Se>=Te&&(Se-=Math.pow(2,8*V)),Se},f.prototype.readInt8=function(R,V){return R=R>>>0,V||w(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},f.prototype.readInt16LE=function(R,V){R=R>>>0,V||w(R,2,this.length);let Q=this[R]|this[R+1]<<8;return Q&32768?Q|4294901760:Q},f.prototype.readInt16BE=function(R,V){R=R>>>0,V||w(R,2,this.length);let Q=this[R+1]|this[R]<<8;return Q&32768?Q|4294901760:Q},f.prototype.readInt32LE=function(R,V){return R=R>>>0,V||w(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},f.prototype.readInt32BE=function(R,V){return R=R>>>0,V||w(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},f.prototype.readBigInt64LE=Be(function(R){R=R>>>0,H(R,"offset");let V=this[R],Q=this[R+7];(V===void 0||Q===void 0)&&j(R,this.length-8);let ve=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(Q<<24);return(BigInt(ve)<<BigInt(32))+BigInt(V+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),f.prototype.readBigInt64BE=Be(function(R){R=R>>>0,H(R,"offset");let V=this[R],Q=this[R+7];(V===void 0||Q===void 0)&&j(R,this.length-8);let ve=(V<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(ve)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+Q)}),f.prototype.readFloatLE=function(R,V){return R=R>>>0,V||w(R,4,this.length),r.read(this,R,!0,23,4)},f.prototype.readFloatBE=function(R,V){return R=R>>>0,V||w(R,4,this.length),r.read(this,R,!1,23,4)},f.prototype.readDoubleLE=function(R,V){return R=R>>>0,V||w(R,8,this.length),r.read(this,R,!0,52,8)},f.prototype.readDoubleBE=function(R,V){return R=R>>>0,V||w(R,8,this.length),r.read(this,R,!1,52,8)};function c(R,V,Q,ve,Te,Se){if(!f.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>Te||V<Se)throw new RangeError('"value" argument is out of bounds');if(Q+ve>R.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(R,V,Q,ve){if(R=+R,V=V>>>0,Q=Q>>>0,!ve){let ie=Math.pow(2,8*Q)-1;c(this,R,V,Q,ie,0)}let Te=1,Se=0;for(this[V]=R&255;++Se<Q&&(Te*=256);)this[V+Se]=R/Te&255;return V+Q},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(R,V,Q,ve){if(R=+R,V=V>>>0,Q=Q>>>0,!ve){let ie=Math.pow(2,8*Q)-1;c(this,R,V,Q,ie,0)}let Te=Q-1,Se=1;for(this[V+Te]=R&255;--Te>=0&&(Se*=256);)this[V+Te]=R/Se&255;return V+Q},f.prototype.writeUint8=f.prototype.writeUInt8=function(R,V,Q){return R=+R,V=V>>>0,Q||c(this,R,V,1,255,0),this[V]=R&255,V+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(R,V,Q){return R=+R,V=V>>>0,Q||c(this,R,V,2,65535,0),this[V]=R&255,this[V+1]=R>>>8,V+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(R,V,Q){return R=+R,V=V>>>0,Q||c(this,R,V,2,65535,0),this[V]=R>>>8,this[V+1]=R&255,V+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(R,V,Q){return R=+R,V=V>>>0,Q||c(this,R,V,4,4294967295,0),this[V+3]=R>>>24,this[V+2]=R>>>16,this[V+1]=R>>>8,this[V]=R&255,V+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(R,V,Q){return R=+R,V=V>>>0,Q||c(this,R,V,4,4294967295,0),this[V]=R>>>24,this[V+1]=R>>>16,this[V+2]=R>>>8,this[V+3]=R&255,V+4};function b(R,V,Q,ve,Te){z(V,ve,Te,R,Q,7);let Se=Number(V&BigInt(4294967295));R[Q++]=Se,Se=Se>>8,R[Q++]=Se,Se=Se>>8,R[Q++]=Se,Se=Se>>8,R[Q++]=Se;let ie=Number(V>>BigInt(32)&BigInt(4294967295));return R[Q++]=ie,ie=ie>>8,R[Q++]=ie,ie=ie>>8,R[Q++]=ie,ie=ie>>8,R[Q++]=ie,Q}function ue(R,V,Q,ve,Te){z(V,ve,Te,R,Q,7);let Se=Number(V&BigInt(4294967295));R[Q+7]=Se,Se=Se>>8,R[Q+6]=Se,Se=Se>>8,R[Q+5]=Se,Se=Se>>8,R[Q+4]=Se;let ie=Number(V>>BigInt(32)&BigInt(4294967295));return R[Q+3]=ie,ie=ie>>8,R[Q+2]=ie,ie=ie>>8,R[Q+1]=ie,ie=ie>>8,R[Q]=ie,Q+8}f.prototype.writeBigUInt64LE=Be(function(R,V=0){return b(this,R,V,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Be(function(R,V=0){return ue(this,R,V,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(R,V,Q,ve){if(R=+R,V=V>>>0,!ve){let be=Math.pow(2,8*Q-1);c(this,R,V,Q,be-1,-be)}let Te=0,Se=1,ie=0;for(this[V]=R&255;++Te<Q&&(Se*=256);)R<0&&ie===0&&this[V+Te-1]!==0&&(ie=1),this[V+Te]=(R/Se>>0)-ie&255;return V+Q},f.prototype.writeIntBE=function(R,V,Q,ve){if(R=+R,V=V>>>0,!ve){let be=Math.pow(2,8*Q-1);c(this,R,V,Q,be-1,-be)}let Te=Q-1,Se=1,ie=0;for(this[V+Te]=R&255;--Te>=0&&(Se*=256);)R<0&&ie===0&&this[V+Te+1]!==0&&(ie=1),this[V+Te]=(R/Se>>0)-ie&255;return V+Q},f.prototype.writeInt8=function(R,V,Q){return R=+R,V=V>>>0,Q||c(this,R,V,1,127,-128),R<0&&(R=255+R+1),this[V]=R&255,V+1},f.prototype.writeInt16LE=function(R,V,Q){return R=+R,V=V>>>0,Q||c(this,R,V,2,32767,-32768),this[V]=R&255,this[V+1]=R>>>8,V+2},f.prototype.writeInt16BE=function(R,V,Q){return R=+R,V=V>>>0,Q||c(this,R,V,2,32767,-32768),this[V]=R>>>8,this[V+1]=R&255,V+2},f.prototype.writeInt32LE=function(R,V,Q){return R=+R,V=V>>>0,Q||c(this,R,V,4,2147483647,-2147483648),this[V]=R&255,this[V+1]=R>>>8,this[V+2]=R>>>16,this[V+3]=R>>>24,V+4},f.prototype.writeInt32BE=function(R,V,Q){return R=+R,V=V>>>0,Q||c(this,R,V,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[V]=R>>>24,this[V+1]=R>>>16,this[V+2]=R>>>8,this[V+3]=R&255,V+4},f.prototype.writeBigInt64LE=Be(function(R,V=0){return b(this,R,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Be(function(R,V=0){return ue(this,R,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function F(R,V,Q,ve,Te,Se){if(Q+ve>R.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function ne(R,V,Q,ve,Te){return V=+V,Q=Q>>>0,Te||F(R,V,Q,4,34028234663852886e22,-34028234663852886e22),r.write(R,V,Q,ve,23,4),Q+4}f.prototype.writeFloatLE=function(R,V,Q){return ne(this,R,V,!0,Q)},f.prototype.writeFloatBE=function(R,V,Q){return ne(this,R,V,!1,Q)};function ce(R,V,Q,ve,Te){return V=+V,Q=Q>>>0,Te||F(R,V,Q,8,17976931348623157e292,-17976931348623157e292),r.write(R,V,Q,ve,52,8),Q+8}f.prototype.writeDoubleLE=function(R,V,Q){return ce(this,R,V,!0,Q)},f.prototype.writeDoubleBE=function(R,V,Q){return ce(this,R,V,!1,Q)},f.prototype.copy=function(R,V,Q,ve){if(!f.isBuffer(R))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!ve&&ve!==0&&(ve=this.length),V>=R.length&&(V=R.length),V||(V=0),ve>0&&ve<Q&&(ve=Q),ve===Q||R.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("sourceEnd out of bounds");ve>this.length&&(ve=this.length),R.length-V<ve-Q&&(ve=R.length-V+Q);let Te=ve-Q;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(V,Q,ve):Uint8Array.prototype.set.call(R,this.subarray(Q,ve),V),Te},f.prototype.fill=function(R,V,Q,ve){if(typeof R=="string"){if(typeof V=="string"?(ve=V,V=0,Q=this.length):typeof Q=="string"&&(ve=Q,Q=this.length),ve!==void 0&&typeof ve!="string")throw new TypeError("encoding must be a string");if(typeof ve=="string"&&!f.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);if(R.length===1){let Se=R.charCodeAt(0);(ve==="utf8"&&Se<128||ve==="latin1")&&(R=Se)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(V<0||this.length<V||this.length<Q)throw new RangeError("Out of range index");if(Q<=V)return this;V=V>>>0,Q=Q===void 0?this.length:Q>>>0,R||(R=0);let Te;if(typeof R=="number")for(Te=V;Te<Q;++Te)this[Te]=R;else{let Se=f.isBuffer(R)?R:f.from(R,ve),ie=Se.length;if(ie===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(Te=0;Te<Q-V;++Te)this[Te+V]=Se[Te%ie]}return this};var xe={};function M(R,V,Q){xe[R]=class extends Q{constructor(){super(),Object.defineProperty(this,"message",{value:V.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${R}]`,this.stack,delete this.name}get code(){return R}set code(ve){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ve,writable:!0})}toString(){return`${this.name} [${R}]: ${this.message}`}}}M("ERR_BUFFER_OUT_OF_BOUNDS",function(R){return R?`${R} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),M("ERR_INVALID_ARG_TYPE",function(R,V){return`The "${R}" argument must be of type number. Received type ${typeof V}`},TypeError),M("ERR_OUT_OF_RANGE",function(R,V,Q){let ve=`The value of "${R}" is out of range.`,Te=Q;return Number.isInteger(Q)&&Math.abs(Q)>2**32?Te=k(String(Q)):typeof Q=="bigint"&&(Te=String(Q),(Q>BigInt(2)**BigInt(32)||Q<-(BigInt(2)**BigInt(32)))&&(Te=k(Te)),Te+="n"),ve+=` It must be ${V}. Received ${Te}`,ve},RangeError);function k(R){let V="",Q=R.length,ve=R[0]==="-"?1:0;for(;Q>=ve+4;Q-=3)V=`_${R.slice(Q-3,Q)}${V}`;return`${R.slice(0,Q)}${V}`}function C(R,V,Q){H(V,"offset"),(R[V]===void 0||R[V+Q]===void 0)&&j(V,R.length-(Q+1))}function z(R,V,Q,ve,Te,Se){if(R>Q||R<V){let ie=typeof V=="bigint"?"n":"",be;throw Se>3?V===0||V===BigInt(0)?be=`>= 0${ie} and < 2${ie} ** ${(Se+1)*8}${ie}`:be=`>= -(2${ie} ** ${(Se+1)*8-1}${ie}) and < 2 ** ${(Se+1)*8-1}${ie}`:be=`>= ${V}${ie} and <= ${Q}${ie}`,new xe.ERR_OUT_OF_RANGE("value",be,R)}C(ve,Te,Se)}function H(R,V){if(typeof R!="number")throw new xe.ERR_INVALID_ARG_TYPE(V,"number",R)}function j(R,V,Q){throw Math.floor(R)!==R?(H(R,Q),new xe.ERR_OUT_OF_RANGE(Q||"offset","an integer",R)):V<0?new xe.ERR_BUFFER_OUT_OF_BOUNDS:new xe.ERR_OUT_OF_RANGE(Q||"offset",`>= ${Q?1:0} and <= ${V}`,R)}var J=/[^+/0-9A-Za-z-_]/g;function W(R){if(R=R.split("=")[0],R=R.trim().replace(J,""),R.length<2)return"";for(;R.length%4!==0;)R=R+"=";return R}function K(R,V){V=V||1/0;let Q,ve=R.length,Te=null,Se=[];for(let ie=0;ie<ve;++ie){if(Q=R.charCodeAt(ie),Q>55295&&Q<57344){if(!Te){if(Q>56319){(V-=3)>-1&&Se.push(239,191,189);continue}else if(ie+1===ve){(V-=3)>-1&&Se.push(239,191,189);continue}Te=Q;continue}if(Q<56320){(V-=3)>-1&&Se.push(239,191,189),Te=Q;continue}Q=(Te-55296<<10|Q-56320)+65536}else Te&&(V-=3)>-1&&Se.push(239,191,189);if(Te=null,Q<128){if((V-=1)<0)break;Se.push(Q)}else if(Q<2048){if((V-=2)<0)break;Se.push(Q>>6|192,Q&63|128)}else if(Q<65536){if((V-=3)<0)break;Se.push(Q>>12|224,Q>>6&63|128,Q&63|128)}else if(Q<1114112){if((V-=4)<0)break;Se.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,Q&63|128)}else throw new Error("Invalid code point")}return Se}function X(R){let V=[];for(let Q=0;Q<R.length;++Q)V.push(R.charCodeAt(Q)&255);return V}function te(R,V){let Q,ve,Te,Se=[];for(let ie=0;ie<R.length&&!((V-=2)<0);++ie)Q=R.charCodeAt(ie),ve=Q>>8,Te=Q%256,Se.push(Te),Se.push(ve);return Se}function ae(R){return e.toByteArray(W(R))}function $(R,V,Q,ve){let Te;for(Te=0;Te<ve&&!(Te+Q>=V.length||Te>=R.length);++Te)V[Te+Q]=R[Te];return Te}function oe(R,V){return R instanceof V||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===V.name}function le(R){return R!==R}var Ee=function(){let R="0123456789abcdef",V=new Array(256);for(let Q=0;Q<16;++Q){let ve=Q*16;for(let Te=0;Te<16;++Te)V[ve+Te]=R[Q]+R[Te]}return V}();function Be(R){return typeof BigInt>"u"?Ae:R}function Ae(){throw new Error("BigInt not supported")}}),Zfe=ff((t,e)=>{typeof window<"u"?(window.global=window,D.fetch=window.fetch,e.exports={Buffer:m5().Buffer,Crypto:window.crypto}):e.exports={Buffer:m5().Buffer,Crypto:crypto}}),HB={};Kfe(HB,{AVSCTap:()=>Sg,ArweaveSigner:()=>_5,DataItem:()=>Eg,MAX_TAG_BYTES:()=>Cb,MIN_BINARY_SIZE:()=>A5,SIG_CONFIG:()=>b0,SignatureConfig:()=>Oa,Signer:()=>$B,createData:()=>w0,deserializeTags:()=>kb,indexToType:()=>E5,serializeTags:()=>S5,tagsExceedLimit:()=>JB});$B=class{signer;publicKey;signatureType;signatureLength;ownerLength;pem;static verify(t,e,r,n){throw new Error("You must implement verify method on child")}},Jfe=nl(x5(),1),yo=nl(GB(),1);y5=nl($fe(),1),Yfe=y5.default.default?y5.default.default:y5.default,Xfe=class extends Yfe{getPublicKey(t){throw new Error("Unimplemented")}};(function(t){t[t.ARWEAVE=1]="ARWEAVE",t[t.ED25519=2]="ED25519",t[t.ETHEREUM=3]="ETHEREUM",t[t.SOLANA=4]="SOLANA",t[t.INJECTEDAPTOS=5]="INJECTEDAPTOS",t[t.MULTIAPTOS=6]="MULTIAPTOS",t[t.TYPEDETHEREUM=7]="TYPEDETHEREUM"})(Oa||(Oa={}));b0={[Oa.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[Oa.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[Oa.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[Oa.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[Oa.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[Oa.MULTIAPTOS]:{sigLength:64*32+4,pubLength:32*32+1,sigName:"multiAptos"},[Oa.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}},_5=class{signatureType=1;ownerLength=b0[1].pubLength;signatureLength=b0[1].sigLength;jwk;pk;constructor(t){this.pk=t.n,this.jwk=t}get publicKey(){return Jfe.default.toBuffer(this.pk)}sign(t){return sf().sign(this.jwk,t)}static async verify(t,e,r){return await sf().verify(t,e,r)}},E5={1:_5},cs=nl(x5(),1);Sg=class{buf;pos;constructor(t=N.Buffer.alloc(Cb),e=0){this.buf=t,this.pos=e}writeTags(t){if(!Array.isArray(t))throw new Error("input must be array");let e=t.length,r;if(e)for(this.writeLong(e),r=0;r<e;r++){let n=t[r];if(n?.name===void 0||n?.value===void 0)throw new Error(`Invalid tag format for ${n}, expected {name:string, value: string}`);this.writeString(n.name),this.writeString(n.value)}this.writeLong(0)}toBuffer(){let t=N.Buffer.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(t,0,0,this.pos),t}tagsExceedLimit(){return this.pos>this.buf.length}writeLong(t){let e=this.buf,r,n;if(t>=-1073741824&&t<1073741824){n=t>=0?t<<1:~t<<1|1;do e[this.pos]=n&127,n>>=7;while(n&&(e[this.pos++]|=128))}else{r=t>=0?t*2:-t*2-1;do e[this.pos]=r&127,r/=128;while(r>=1&&(e[this.pos++]|=128))}this.pos++,this.buf=e}writeString(t){let e=N.Buffer.byteLength(t),r=this.buf;this.writeLong(e);let n=this.pos;if(this.pos+=e,!(this.pos>r.length)){if(e>64)this.buf.write(t,this.pos-e,e,"utf8");else{let i,a,s,f;for(i=0,a=e;i<a;i++)s=t.charCodeAt(i),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)===55296&&((f=t.charCodeAt(i+1))&64512)===56320?(s=65536+((s&1023)<<10)+(f&1023),i++,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}this.buf=r}}readLong(){let t=0,e=0,r=this.buf,n,i,a,s;do n=r[this.pos++],i=n&128,t|=(n&127)<<e,e+=7;while(i&&e<28);if(i){a=t,s=268435456;do n=r[this.pos++],a+=(n&127)*s,s*=128;while(n&128);return(a%2?-(a+1):a)/2}return t>>1^-(t&1)}skipLong(){let t=this.buf;for(;t[this.pos++]&128;);}readTags(){let t=[],e;for(;e=this.readLong();)for(e<0&&(e=-e,this.skipLong());e--;){let r=this.readString(),n=this.readString();t.push({name:r,value:n})}return t}readString(){let t=this.readLong(),e=this.pos,r=this.buf;if(this.pos+=t,!(this.pos>r.length))return this.buf.slice(e,e+t).toString()}};nue=nl(Zfe(),1),m0=nl(m5(),1),Cb=4096,A5=80,Eg=class{binary;_id;constructor(t){this.binary=t}static isDataItem(t){return t.binary!==void 0}get signatureType(){let t=du(this.binary.subarray(0,2));if(Oa?.[t]!==void 0)return t;throw new Error("Unknown signature type: "+t)}async isValid(){return Eg.verify(this.binary)}get id(){return(async()=>cs.default.encode(await this.rawId))()}set id(t){this._id=cs.default.toBuffer(t)}get rawId(){return(async()=>m0.Buffer.from(await nue.Crypto.subtle.digest("SHA-256",this.rawSignature)))()}set rawId(t){this._id=t}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return cs.default.encode(this.rawSignature)}set rawOwner(t){if(t.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${t.byteLength} bytes.`);this.binary.set(t,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return b0[this.signatureType].sigLength}get owner(){return cs.default.encode(this.rawOwner)}get ownerLength(){return b0[this.signatureType].pubLength}get rawTarget(){let t=this.getTargetStart();return this.binary[t]==1?this.binary.subarray(t+1,t+33):m0.Buffer.alloc(0)}get target(){return cs.default.encode(this.rawTarget)}get rawAnchor(){let t=this.getAnchorStart();return this.binary[t]==1?this.binary.subarray(t+1,t+33):m0.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){let t=this.getTagsStart(),e=du(this.binary.subarray(t+8,t+16));return this.binary.subarray(t+16,t+16+e)}get tags(){let t=this.getTagsStart();if(du(this.binary.subarray(t,t+8))==0)return[];let e=du(this.binary.subarray(t+8,t+16));return kb(m0.Buffer.from(this.binary.subarray(t+16,t+16+e)))}get tagsB64Url(){return this.tags.map(t=>({name:cs.default.encode(t.name),value:cs.default.encode(t.value)}))}getStartOfData(){let t=this.getTagsStart(),e=this.binary.subarray(t+8,t+16),r=du(e);return t+16+r}get rawData(){let t=this.getTagsStart(),e=this.binary.subarray(t+8,t+16),r=du(e),n=t+16+r;return this.binary.subarray(n,this.binary.length)}get data(){return cs.default.encode(this.rawData)}getRaw(){return this.binary}async sign(t){return this._id=await tue(this,t),this.rawId}async setSignature(t){this.binary.set(t,2),this._id=m0.Buffer.from(await sf().hash(t))}isSigned(){return(this._id?.length??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map(t=>({name:cs.default.encode(t.name),value:cs.default.encode(t.value)})),data:this.data}}static async verify(t){if(t.byteLength<A5)return!1;let e=new Eg(t),r=e.signatureType,n=e.getTagsStart(),i=du(t.subarray(n,n+8)),a=t.subarray(n+8,n+16),s=du(a);if(s>Cb)return!1;if(i>0)try{if(kb(m0.Buffer.from(t.subarray(n+16,n+16+s))).length!==i)return!1}catch{return!1}let f=E5[r],l=await b5(e);return await f.verify(e.rawOwner,l,e.rawSignature)}async getSignatureData(){return b5(this)}getTagsStart(){let t=this.getTargetStart(),e=this.binary[t]==1,r=t+(e?33:1),n=this.binary[r]==1;return r+=n?33:1,r}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let t=this.getTargetStart()+1,e=this.binary[this.getTargetStart()]==1;return t+=e?32:0,t}},iue=nl(x5(),1);M5={...HB};globalThis.arbundles??=M5;aue=M5,oue=M5;});var I5=ee(Bb=>{"use strict";x();Object.defineProperty(Bb,"__esModule",{value:!0});Bb.Signature=void 0;var sue=(Ag(),hR(T5)),O5=class{constructor(e,r){this.warp=e,this.isCustomSignature(r)?(this.assertEnvForCustomSigner(r.type),this.signer=r.signer,this.type=r.type,this.signatureProviderType="CustomSignature"):this.isValidBundlerSignature(r)?(this.signatureProviderType="BundlerSigner",this.type=fue(r.signatureType),this.bundlerSigner=r):(this.assignArweaveSigner(r),this.bundlerSigner=typeof r=="string"?null:new sue.ArweaveSigner(r),this.signatureProviderType="ArWallet",this.type="arweave"),this.wallet=r}async getAddress(){if(this.cachedAddress)return this.cachedAddress;switch(this.signatureProviderType){case"CustomSignature":return this.wallet.getAddress?this.cachedAddress=await this.wallet.getAddress():this.cachedAddress=await this.deduceSignerBySigning(),this.cachedAddress;case"ArWallet":return this.cachedAddress=await this.deduceSignerBySigning(),this.cachedAddress;case"BundlerSigner":return this.cachedAddress=await this.deduceSignerBySigning(),this.cachedAddress;default:throw Error("Unknown Signature::signatureProvider : "+this.signatureProviderType)}}async deduceSignerBySigning(){let{arweave:e}=this.warp;if(this.signatureProviderType=="BundlerSigner")try{return await this.bundlerSigner.getAddress()}catch{throw new Error("Could not get address from the signer. Is the 'getAddress' implementation correct?'")}else if(this.signatureProviderType=="ArWallet"||this.signatureProviderType=="CustomSignature"){let r=await e.createTransaction({data:Math.random().toString().slice(-4),reward:"72600854",last_tx:"p7vc1iSP6bvH_fCeUFa9LqoV5qiyW-jdEKouAT0XMoSwrNraB9mgpi29Q10waEpO"});return await this.signer(r),e.wallets.ownerToAddress(r.owner)}else throw Error("Unknown Signature::type")}checkNonArweaveSigningAvailability(e){if(this.type!=="arweave"&&!e)throw new Error(`Unable to use signing function of type: ${this.type} when bundling is disabled.`)}checkBundlerSignerAvailability(e){if((!e||this.warp.environment=="local")&&this.signatureProviderType=="BundlerSigner")throw new Error("Only wallet of type 'ArWallet' or 'CustomSignature' is allowed when bundling is disabled or in local environment.")}assignArweaveSigner(e){this.signer=async r=>{await this.warp.arweave.transactions.sign(r,e)}}assertEnvForCustomSigner(e){if(this.warp.interactionsLoader.type()==="warp")throw new Error("Unable to use signing function when bundling is enabled.");if(e=="ethereum")throw new Error(`Unable to use signing function with signature of type: ${e}.`)}isCustomSignature(e){return e.signer!==void 0&&e.type!==void 0}isValidBundlerSignature(e){let r=e,n=!!r.signatureType&&!!r.ownerLength&&!!r.signatureLength;if(n&&!r.publicKey)throw new Error("It seems that you are using BundlerSigner, but publicKey is not set! Maybe try calling await bundlerSigner.setPublicKey() before using it.");return n}};Bb.Signature=O5;function fue(t){if(t===3)return"ethereum";if(t===1)return"arweave";throw Error(`Not supported arbundle SignatureType : ${t}`)}});var k5=ee(Pb=>{"use strict";x();Object.defineProperty(Pb,"__esModule",{value:!0});Pb.EvaluationOptionsEvaluator=void 0;var uue=Vn(),R5=class{constructor(e,r){if(this.saferEvaluationOptions={internalWrites:n=>{if(n.internalWrites===void 0||this.rootOptions.internalWrites==n.internalWrites)return this.rootOptions.internalWrites;if(this.rootOptions.internalWrites&&!n.internalWrites||!this.rootOptions.internalWrites&&n.internalWrites)return n.internalWrites;throw new Error('Could not determine "internalWrites" value ')},throwOnInternalWriteError:n=>n.throwOnInternalWriteError===void 0?this.rootOptions.throwOnInternalWriteError:n.throwOnInternalWriteError,unsafeClient:n=>{if(n.unsafeClient===void 0||this.rootOptions.unsafeClient==n.unsafeClient)return this.rootOptions.unsafeClient;if(this.rootOptions.unsafeClient==="throw"||this.rootOptions.unsafeClient==="skip")return this.rootOptions.unsafeClient;if(this.rootOptions.unsafeClient==="allow")return n.unsafeClient==="throw"?"skip":n.unsafeClient;throw new Error('Could not determine "unsafeClient" value')},ignoreExceptions:n=>{if(n.ignoreExceptions===void 0||this.rootOptions.ignoreExceptions==n.ignoreExceptions)return this.rootOptions.ignoreExceptions;if(this.rootOptions.ignoreExceptions&&!n.ignoreExceptions)return this.rootOptions.ignoreExceptions;if(!this.rootOptions.ignoreExceptions&&n.ignoreExceptions)return this.rootOptions.ignoreExceptions;throw new Error('Could not determine "ignoreExceptions" value')},waitForConfirmation:()=>this.rootOptions.waitForConfirmation,updateCacheForEachInteraction:()=>this.rootOptions.updateCacheForEachInteraction,maxCallDepth:()=>this.rootOptions.maxCallDepth,maxInteractionEvaluationTimeSeconds:()=>this.rootOptions.maxInteractionEvaluationTimeSeconds,stackTrace:()=>this.rootOptions.stackTrace,sourceType:()=>this.rootOptions.sourceType,sequencerUrl:()=>this.rootOptions.sequencerUrl,gasLimit:()=>this.rootOptions.gasLimit,allowBigInt:()=>this.rootOptions.allowBigInt,walletBalanceUrl:()=>this.rootOptions.walletBalanceUrl,mineArLocalBlocks:()=>this.rootOptions.mineArLocalBlocks,cacheEveryNInteractions:()=>this.rootOptions.cacheEveryNInteractions,remoteStateSyncEnabled:()=>this.rootOptions.remoteStateSyncEnabled,remoteStateSyncSource:()=>this.rootOptions.remoteStateSyncSource,useKVStorage:n=>n.useKVStorage,useConstructor:n=>n.useConstructor,whitelistSources:()=>this.rootOptions.whitelistSources},this.notConflictingEvaluationOptions=["useKVStorage","sourceType","useConstructor"],r){let n=[];for(let i in r){if(!e.hasOwnProperty(i))throw new Error("Unknown option set in contract's manifest. You probably need to update the Warp SDK version.");let a=i,s=r[i],f=e[i];if(!this.notConflictingEvaluationOptions.includes(a))if(a==="internalWrites"){if(f===!1&&s===!0)throw new Error("Cannot proceed with contract evaluation. User is blocking internal writes, while contract requires them.")}else if(a==="unsafeClient"){if(f==="throw"&&s!=="throw"||f==="skip"&&s==="allow")throw new Error(`Cannot proceed with contract evaluation. User requires to ${f} on any unsafeClient usage, while contract uses ${s} option.`)}else e[i]!==r[i]&&n.push(`Option {${i}} differs. EvaluationOptions: [${e[i]}], manifest: [${r[i]}]. Use contract.setEvaluationOptions({${i}: ${r[i]}}) to evaluate contract state.`)}if(n.length)throw new Error(n.join(`
`))}this.rootOptions=Object.freeze(Object.assign({},e,r||{}))}forForeignContract(e){let r=(0,uue.deepCopy)(this.rootOptions);if(e)for(let n in e)r[n]=this.saferEvaluationOptions[n](e);return Object.freeze(r)}};Pb.EvaluationOptionsEvaluator=R5});var B5=ee(Nb=>{"use strict";x();Object.defineProperty(Nb,"__esModule",{value:!0});Nb.WarpFetchWrapper=void 0;var cue=Zr(),C5=class{constructor(e){this.warp=e,this.name="WarpFetchWrapper",this.logger=cue.LoggerFactory.INST.create(this.name),this.warp=e}fetch(e,r){let n;if(this.warp.hasPlugin("fetch-options")){let i=this.warp.loadPlugin("fetch-options");try{let a=i.process({input:e,init:r||{}});n={...r,...a}}catch(a){throw a.message&&this.logger.error(a.message),new Error(`Unable to process fetch options: ${a.message}`)}}else n=r;return fetch(e,n)}};Nb.WarpFetchWrapper=C5});var Mg=ee((gke,qb)=>{x();var YB,XB,QB,eP,tP,rP,nP,iP,aP,oP,sP,fP,uP,Lb,P5,cP,lP,hP,x0,dP,pP,gP,vP,yP,mP,bP,wP,xP,Db,_P,EP;(function(t){var e=typeof D=="object"?D:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof qb=="object"&&typeof qb.exports=="object"?t(r(e,r(qb.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,s){return n[a]=i?i(a,s):s}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])};YB=function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(i,a);function s(){this.constructor=i}i.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)},XB=Object.assign||function(i){for(var a,s=1,f=arguments.length;s<f;s++){a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])}return i},QB=function(i,a){var s={};for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&a.indexOf(f)<0&&(s[f]=i[f]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,f=Object.getOwnPropertySymbols(i);l<f.length;l++)a.indexOf(f[l])<0&&Object.prototype.propertyIsEnumerable.call(i,f[l])&&(s[f[l]]=i[f[l]]);return s},eP=function(i,a,s,f){var l=arguments.length,g=l<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,s):f,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(i,a,s,f);else for(var A=i.length-1;A>=0;A--)(m=i[A])&&(g=(l<3?m(g):l>3?m(a,s,g):m(a,s))||g);return l>3&&g&&Object.defineProperty(a,s,g),g},tP=function(i,a){return function(s,f){a(s,f,i)}},rP=function(i,a,s,f,l,g){function m(se){if(se!==void 0&&typeof se!="function")throw new TypeError("Function expected");return se}for(var A=f.kind,I=A==="getter"?"get":A==="setter"?"set":"value",T=!a&&i?f.static?i:i.prototype:null,O=a||(T?Object.getOwnPropertyDescriptor(T,f.name):{}),U,Z=!1,Y=s.length-1;Y>=0;Y--){var re={};for(var pe in f)re[pe]=pe==="access"?{}:f[pe];for(var pe in f.access)re.access[pe]=f.access[pe];re.addInitializer=function(se){if(Z)throw new TypeError("Cannot add initializers after decoration has completed");g.push(m(se||null))};var he=(0,s[Y])(A==="accessor"?{get:O.get,set:O.set}:O[I],re);if(A==="accessor"){if(he===void 0)continue;if(he===null||typeof he!="object")throw new TypeError("Object expected");(U=m(he.get))&&(O.get=U),(U=m(he.set))&&(O.set=U),(U=m(he.init))&&l.unshift(U)}else(U=m(he))&&(A==="field"?l.unshift(U):O[I]=U)}T&&Object.defineProperty(T,f.name,O),Z=!0},nP=function(i,a,s){for(var f=arguments.length>2,l=0;l<a.length;l++)s=f?a[l].call(i,s):a[l].call(i);return f?s:void 0},iP=function(i){return typeof i=="symbol"?i:"".concat(i)},aP=function(i,a,s){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:s?"".concat(s," ",a):a})},oP=function(i,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,a)},sP=function(i,a,s,f){function l(g){return g instanceof s?g:new s(function(m){m(g)})}return new(s||(s=Promise))(function(g,m){function A(O){try{T(f.next(O))}catch(U){m(U)}}function I(O){try{T(f.throw(O))}catch(U){m(U)}}function T(O){O.done?g(O.value):l(O.value).then(A,I)}T((f=f.apply(i,a||[])).next())})},fP=function(i,a){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,l,g,m;return m={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function A(T){return function(O){return I([T,O])}}function I(T){if(f)throw new TypeError("Generator is already executing.");for(;m&&(m=0,T[0]&&(s=0)),s;)try{if(f=1,l&&(g=T[0]&2?l.return:T[0]?l.throw||((g=l.return)&&g.call(l),0):l.next)&&!(g=g.call(l,T[1])).done)return g;switch(l=0,g&&(T=[T[0]&2,g.value]),T[0]){case 0:case 1:g=T;break;case 4:return s.label++,{value:T[1],done:!1};case 5:s.label++,l=T[1],T=[0];continue;case 7:T=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(T[0]===6||T[0]===2)){s=0;continue}if(T[0]===3&&(!g||T[1]>g[0]&&T[1]<g[3])){s.label=T[1];break}if(T[0]===6&&s.label<g[1]){s.label=g[1],g=T;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(T);break}g[2]&&s.ops.pop(),s.trys.pop();continue}T=a.call(i,s)}catch(O){T=[6,O],l=0}finally{f=g=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},uP=function(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&Db(a,i,s)},Db=Object.create?function(i,a,s,f){f===void 0&&(f=s);var l=Object.getOwnPropertyDescriptor(a,s);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,f,l)}:function(i,a,s,f){f===void 0&&(f=s),i[f]=a[s]},Lb=function(i){var a=typeof Symbol=="function"&&Symbol.iterator,s=a&&i[a],f=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&f>=i.length&&(i=void 0),{value:i&&i[f++],done:!i}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},P5=function(i,a){var s=typeof Symbol=="function"&&i[Symbol.iterator];if(!s)return i;var f=s.call(i),l,g=[],m;try{for(;(a===void 0||a-- >0)&&!(l=f.next()).done;)g.push(l.value)}catch(A){m={error:A}}finally{try{l&&!l.done&&(s=f.return)&&s.call(f)}finally{if(m)throw m.error}}return g},cP=function(){for(var i=[],a=0;a<arguments.length;a++)i=i.concat(P5(arguments[a]));return i},lP=function(){for(var i=0,a=0,s=arguments.length;a<s;a++)i+=arguments[a].length;for(var f=Array(i),l=0,a=0;a<s;a++)for(var g=arguments[a],m=0,A=g.length;m<A;m++,l++)f[l]=g[m];return f},hP=function(i,a,s){if(s||arguments.length===2)for(var f=0,l=a.length,g;f<l;f++)(g||!(f in a))&&(g||(g=Array.prototype.slice.call(a,0,f)),g[f]=a[f]);return i.concat(g||Array.prototype.slice.call(a))},x0=function(i){return this instanceof x0?(this.v=i,this):new x0(i)},dP=function(i,a,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var f=s.apply(i,a||[]),l,g=[];return l={},m("next"),m("throw"),m("return"),l[Symbol.asyncIterator]=function(){return this},l;function m(Z){f[Z]&&(l[Z]=function(Y){return new Promise(function(re,pe){g.push([Z,Y,re,pe])>1||A(Z,Y)})})}function A(Z,Y){try{I(f[Z](Y))}catch(re){U(g[0][3],re)}}function I(Z){Z.value instanceof x0?Promise.resolve(Z.value.v).then(T,O):U(g[0][2],Z)}function T(Z){A("next",Z)}function O(Z){A("throw",Z)}function U(Z,Y){Z(Y),g.shift(),g.length&&A(g[0][0],g[0][1])}},pP=function(i){var a,s;return a={},f("next"),f("throw",function(l){throw l}),f("return"),a[Symbol.iterator]=function(){return this},a;function f(l,g){a[l]=i[l]?function(m){return(s=!s)?{value:x0(i[l](m)),done:!1}:g?g(m):m}:g}},gP=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i[Symbol.asyncIterator],s;return a?a.call(i):(i=typeof Lb=="function"?Lb(i):i[Symbol.iterator](),s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s);function f(g){s[g]=i[g]&&function(m){return new Promise(function(A,I){m=i[g](m),l(A,I,m.done,m.value)})}}function l(g,m,A,I){Promise.resolve(I).then(function(T){g({value:T,done:A})},m)}},vP=function(i,a){return Object.defineProperty?Object.defineProperty(i,"raw",{value:a}):i.raw=a,i};var r=Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a};yP=function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var s in i)s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)&&Db(a,i,s);return r(a,i),a},mP=function(i){return i&&i.__esModule?i:{default:i}},bP=function(i,a,s,f){if(s==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?i!==a||!f:!a.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?f:s==="a"?f.call(i):f?f.value:a.get(i)},wP=function(i,a,s,f,l){if(f==="m")throw new TypeError("Private method is not writable");if(f==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?i!==a||!l:!a.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return f==="a"?l.call(i,s):l?l.value=s:a.set(i,s),s},xP=function(i,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?a===i:i.has(a)},_P=function(i,a,s){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var f;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");f=a[Symbol.asyncDispose]}if(f===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");f=a[Symbol.dispose]}if(typeof f!="function")throw new TypeError("Object not disposable.");i.stack.push({value:a,dispose:f,async:s})}else s&&i.stack.push({async:!0});return a};var n=typeof SuppressedError=="function"?SuppressedError:function(i,a,s){var f=new Error(s);return f.name="SuppressedError",f.error=i,f.suppressed=a,f};EP=function(i){function a(f){i.error=i.hasError?new n(f,i.error,"An error was suppressed during disposal."):f,i.hasError=!0}function s(){for(;i.stack.length;){var f=i.stack.pop();try{var l=f.dispose&&f.dispose.call(f.value);if(f.async)return Promise.resolve(l).then(s,function(g){return a(g),s()})}catch(g){a(g)}}if(i.hasError)throw i.error}return s()},t("__extends",YB),t("__assign",XB),t("__rest",QB),t("__decorate",eP),t("__param",tP),t("__esDecorate",rP),t("__runInitializers",nP),t("__propKey",iP),t("__setFunctionName",aP),t("__metadata",oP),t("__awaiter",sP),t("__generator",fP),t("__exportStar",uP),t("__createBinding",Db),t("__values",Lb),t("__read",P5),t("__spread",cP),t("__spreadArrays",lP),t("__spreadArray",hP),t("__await",x0),t("__asyncGenerator",dP),t("__asyncDelegator",pP),t("__asyncValues",gP),t("__makeTemplateObject",vP),t("__importStar",yP),t("__importDefault",mP),t("__classPrivateFieldGet",bP),t("__classPrivateFieldSet",wP),t("__classPrivateFieldIn",xP),t("__addDisposableResource",_P),t("__disposeResources",EP)})});var Tg=ee(pu=>{"use strict";x();Object.defineProperty(pu,"__esModule",{value:!0});pu.E_CANCELED=pu.E_ALREADY_LOCKED=pu.E_TIMEOUT=void 0;pu.E_TIMEOUT=new Error("timeout while waiting for mutex to become available");pu.E_ALREADY_LOCKED=new Error("mutex already locked");pu.E_CANCELED=new Error("request for lock canceled")});var L5=ee(N5=>{"use strict";x();Object.defineProperty(N5,"__esModule",{value:!0});var SP=Mg(),lue=Tg(),hue=function(){function t(e,r){r===void 0&&(r=lue.E_CANCELED),this._value=e,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}return t.prototype.acquire=function(e){var r=this;if(e===void 0&&(e=1),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));return new Promise(function(n,i){r._weightedQueues[e-1]||(r._weightedQueues[e-1]=[]),r._weightedQueues[e-1].push({resolve:n,reject:i}),r._dispatch()})},t.prototype.runExclusive=function(e,r){return r===void 0&&(r=1),SP.__awaiter(this,void 0,void 0,function(){var n,i,a;return SP.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire(r)];case 1:n=s.sent(),i=n[0],a=n[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(i)];case 3:return[2,s.sent()];case 4:return a(),[7];case 5:return[2]}})})},t.prototype.waitForUnlock=function(e){var r=this;if(e===void 0&&(e=1),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));return new Promise(function(n){r._weightedWaiters[e-1]||(r._weightedWaiters[e-1]=[]),r._weightedWaiters[e-1].push(n),r._dispatch()})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.getValue=function(){return this._value},t.prototype.setValue=function(e){this._value=e,this._dispatch()},t.prototype.release=function(e){if(e===void 0&&(e=1),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));this._value+=e,this._dispatch()},t.prototype.cancel=function(){var e=this;this._weightedQueues.forEach(function(r){return r.forEach(function(n){return n.reject(e._cancelError)})}),this._weightedQueues=[]},t.prototype._dispatch=function(){for(var e,r=this._value;r>0;r--){var n=(e=this._weightedQueues[r-1])===null||e===void 0?void 0:e.shift();if(!!n){var i=this._value,a=r;this._value-=r,r=this._value+1,n.resolve([i,this._newReleaser(a)])}}this._drainUnlockWaiters()},t.prototype._newReleaser=function(e){var r=this,n=!1;return function(){n||(n=!0,r.release(e))}},t.prototype._drainUnlockWaiters=function(){for(var e=this._value;e>0;e--)!this._weightedWaiters[e-1]||(this._weightedWaiters[e-1].forEach(function(r){return r()}),this._weightedWaiters[e-1]=[])},t}();N5.default=hue});var MP=ee(D5=>{"use strict";x();Object.defineProperty(D5,"__esModule",{value:!0});var AP=Mg(),due=L5(),pue=function(){function t(e){this._semaphore=new due.default(1,e)}return t.prototype.acquire=function(){return AP.__awaiter(this,void 0,void 0,function(){var e,r;return AP.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.waitForUnlock=function(){return this._semaphore.waitForUnlock()},t.prototype.release=function(){this._semaphore.isLocked()&&this._semaphore.release()},t.prototype.cancel=function(){return this._semaphore.cancel()},t}();D5.default=pue});var q5=ee(Fb=>{"use strict";x();Object.defineProperty(Fb,"__esModule",{value:!0});Fb.withTimeout=void 0;var Ub=Mg(),gue=Tg();function vue(t,e,r){var n=this;return r===void 0&&(r=gue.E_TIMEOUT),{acquire:function(i){if(i!==void 0&&i<=0)throw new Error("invalid weight ".concat(i,": must be positive"));return new Promise(function(a,s){return Ub.__awaiter(n,void 0,void 0,function(){var f,l,g,m,A;return Ub.__generator(this,function(I){switch(I.label){case 0:f=!1,l=setTimeout(function(){f=!0,s(r)},e),I.label=1;case 1:return I.trys.push([1,3,,4]),[4,t.acquire(i)];case 2:return g=I.sent(),f?(m=Array.isArray(g)?g[1]:g,m()):(clearTimeout(l),a(g)),[3,4];case 3:return A=I.sent(),f||(clearTimeout(l),s(A)),[3,4];case 4:return[2]}})})})},runExclusive:function(i,a){return Ub.__awaiter(this,void 0,void 0,function(){var s,f;return Ub.__generator(this,function(l){switch(l.label){case 0:s=function(){},l.label=1;case 1:return l.trys.push([1,,7,8]),[4,this.acquire(a)];case 2:return f=l.sent(),Array.isArray(f)?(s=f[1],[4,i(f[0])]):[3,4];case 3:return[2,l.sent()];case 4:return s=f,[4,i()];case 5:return[2,l.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(i){t.release(i)},cancel:function(){return t.cancel()},waitForUnlock:function(i){if(i!==void 0&&i<=0)throw new Error("invalid weight ".concat(i,": must be positive"));return new Promise(function(a,s){t.waitForUnlock(i).then(a),setTimeout(function(){return s(r)},e)})},isLocked:function(){return t.isLocked()},getValue:function(){return t.getValue()},setValue:function(i){return t.setValue(i)}}}Fb.withTimeout=vue});var TP=ee(jb=>{"use strict";x();Object.defineProperty(jb,"__esModule",{value:!0});jb.tryAcquire=void 0;var yue=Tg(),mue=q5();function bue(t,e){return e===void 0&&(e=yue.E_ALREADY_LOCKED),(0,mue.withTimeout)(t,0,e)}jb.tryAcquire=bue});var OP=ee(mo=>{"use strict";x();Object.defineProperty(mo,"__esModule",{value:!0});mo.tryAcquire=mo.withTimeout=mo.Semaphore=mo.Mutex=void 0;var wue=Mg(),xue=MP();Object.defineProperty(mo,"Mutex",{enumerable:!0,get:function(){return xue.default}});var _ue=L5();Object.defineProperty(mo,"Semaphore",{enumerable:!0,get:function(){return _ue.default}});var Eue=q5();Object.defineProperty(mo,"withTimeout",{enumerable:!0,get:function(){return Eue.withTimeout}});var Sue=TP();Object.defineProperty(mo,"tryAcquire",{enumerable:!0,get:function(){return Sue.tryAcquire}});wue.__exportStar(Tg(),mo)});var IP=ee(zb=>{"use strict";x();Object.defineProperty(zb,"__esModule",{value:!0});zb.SimpleLRUCache=void 0;var U5=class{constructor(e){this.cache=new Map,this.capacity=e||10}has(e){return this.cache.has(e)}size(){return this.cache.size}get(e){if(!this.cache.has(e))return null;let r=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,r),r}set(e,r){this.cache.delete(e),this.cache.size===this.capacity?(this.cache.delete(this.cache.keys().next().value),this.cache.set(e,r)):this.cache.set(e,r)}keys(){return Array.from(this.cache.keys())}};zb.SimpleLRUCache=U5});var RP=ee(Kb=>{"use strict";x();Object.defineProperty(Kb,"__esModule",{value:!0});Kb.ContractInteractionState=void 0;var Aue=Zs(),Mue=IP(),F5=class{constructor(e){this._warp=e,this._json=new Map,this._initialJson=new Map,this._kv=new Map}has(e,r){var n;return((n=this._json.get(e))===null||n===void 0?void 0:n.has(r))||!1}get(e,r){var n;return((n=this._json.get(e))===null||n===void 0?void 0:n.get(r))||null}getLessOrEqual(e,r){let n=this._json.get(e);if(n!=null&&n.size()>0){let i=n.keys();r&&(i=i.filter(s=>s.localeCompare(r)<=0)),i=i.sort((s,f)=>s.localeCompare(f));let a=i[i.length-1];if(n.get(a))return new Aue.SortKeyCacheResult(a,n.get(a))}return null}async getKV(e,r){var n;return this._kv.has(e)&&((n=await this._kv.get(e).get(r))===null||n===void 0?void 0:n.cachedValue)||null}async delKV(e,r){this._kv.has(e)&&await this._kv.get(e).del(r)}getKvKeys(e,r,n){return this._warp.kvStorageFactory(e).keys(r,n)}getKvRange(e,r,n){return this._warp.kvStorageFactory(e).kvMap(r,n)}async commit(e,r=!1){if(e.dry)return await this.rollbackKVs(),this.reset();try{let n=new Map;this._json.forEach((i,a)=>{let s=this.getLessOrEqual(a,e.sortKey);s!=null&&n.set(a,s.cachedValue)}),await this.doStoreJson(n,e,r),await this.commitKVs()}finally{this.reset()}}async commitKV(){await this.commitKVs(),this._kv.clear()}async rollback(e,r){try{await this.doStoreJson(this._initialJson,e,r),await this.rollbackKVs()}finally{this.reset()}}setInitial(e,r,n){this._initialJson.set(e,r),this.update(e,r,n)}update(e,r,n){if(!this._json.has(e)){let i=new Mue.SimpleLRUCache(10);this._json.set(e,i)}this._json.get(e).set(n,r)}async updateKV(e,r,n){await(await this.getOrInitKvStorage(e)).put(r,n)}async getOrInitKvStorage(e){if(this._kv.has(e))return this._kv.get(e);let r=this._warp.kvStorageFactory(e);return this._kv.set(e,r),await r.open(),r}reset(){this._json.clear(),this._initialJson.clear(),this._kv.clear()}async doStoreJson(e,r,n=!1){if(e.size>1||n)for(let[i,a]of e)await this._warp.stateEvaluator.putInCache(i,r,a)}async rollbackKVs(){for(let e of this._kv.values())try{await e.rollback()}finally{await e.close()}}async commitKVs(){for(let e of this._kv.values())try{await e.commit()}finally{await e.close()}}};Kb.ContractInteractionState=F5});var Gb=ee(E0=>{"use strict";x();var Tue=E0&&E0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(E0,"__esModule",{value:!0});E0.HandlerBasedContract=void 0;var Oue=Tue(jB()),Og=Zs(),j5=n5(),Iue=Vc(),kP=ng(),z5=po(),Wb=d5(),Ig=wa(),CP=Zr(),BP=o5(),Rue=uu(),Rg=Vn(),_0=p5(),kue=v5(),Cue=I5(),Bue=k5(),Pue=B5(),Nue=OP(),K5=l0(),PP=RP(),Lue=Vs(),NP=(Ag(),hR(T5)),W5=class{constructor(e,r,n=null,i=null){var a,s;if(this._contractTxId=e,this.warp=r,this._parentContract=n,this._innerCallData=i,this.logger=CP.LoggerFactory.INST.create("HandlerBasedContract"),this.ecLogger=CP.LoggerFactory.INST.create("ExecutionContext"),this._innerWritesEvaluator=new kue.InnerWritesEvaluator,this._mutex=new Nue.Mutex,this._benchmarkStats=null,this._children=[],this._dreStates=new Map,this.waitForConfirmation=this.waitForConfirmation.bind(this),this._arweaveWrapper=new Rue.ArweaveWrapper(r),this._sorter=new Iue.LexicographicalInteractionsSorter(r.arweave),n!=null){this._evaluationOptions=this.getRoot().evaluationOptions(),this._callDepth=n.callDepth()+1;let f=n.getCallStack().getInteraction(i.callingInteraction.id);if(this._callDepth>this._evaluationOptions.maxCallDepth)throw new Error(`Max call depth of ${this._evaluationOptions.maxCallDepth} has been exceeded for interaction ${JSON.stringify(f.interactionInput)}`);if(this.logger.debug("Calling interaction",{id:i.callingInteraction.id,sortKey:i.callingInteraction.sortKey,type:i.callType}),((s=(a=f.interactionInput)===null||a===void 0?void 0:a.foreignContractCalls[e])===null||s===void 0?void 0:s.innerCallType)==="write"&&i.callType==="read")throw new Error("Calling a readContractState after performing an inner write is wrong - instead use a state from the result of an internal write.");let l=new j5.ContractCallRecord(e,this._callDepth,i?.callType);f.interactionInput.foreignContractCalls[e]=l,this._callStack=l,this._rootSortKey=n.rootSortKey,n._children.push(this)}else this._callDepth=0,this._callStack=new j5.ContractCallRecord(e,0),this._rootSortKey=null,this._evaluationOptions=new kP.DefaultEvaluationOptions,this._children=[],this._interactionState=new PP.ContractInteractionState(r);this.getCallStack=this.getCallStack.bind(this),this._warpFetchWrapper=new Pue.WarpFetchWrapper(this.warp)}async readState(e,r,n){var i,a,s;if(this.logger.info("Read state for",{contractTxId:this._contractTxId,sortKeyOrBlockHeight:e}),!this.isRoot()&&e==null)throw new Error("SortKey MUST be always set for non-root contract calls");let{stateEvaluator:f}=this.warp,l=typeof e=="number"?this._sorter.generateLastSortKey(e):e;if(l&&!this.isRoot()&&this.interactionState().has(this.txId(),l)){let m=this.interactionState().get(this.txId(),l);return new Og.SortKeyCacheResult(l,m)}let g=await this._mutex.acquire();try{let m=Ig.Benchmark.measure();this.maybeResetRootContract();let A=await this.createExecutionContext(this._contractTxId,l,!1,n);this.logger.info("Execution Context",{srcTxId:(i=A.contractDefinition)===null||i===void 0?void 0:i.srcTxId,missingInteractions:(a=A.sortedInteractions)===null||a===void 0?void 0:a.length,cachedSortKey:(s=A.cachedState)===null||s===void 0?void 0:s.sortKey}),m.stop();let I=Ig.Benchmark.measure(),T=await f.eval(A);I.stop();let O=m.elapsed(!0)+I.elapsed(!0);return this._benchmarkStats={gatewayCommunication:m.elapsed(!0),stateEvaluation:I.elapsed(!0),total:O},this.logger.info("Benchmark",{"Gateway communication  ":m.elapsed(),"Contract evaluation    ":I.elapsed(),"Total:                 ":`${O.toFixed(0)}ms`}),l&&!this.isRoot()&&this.interactionState().update(this.txId(),T.cachedValue,l),T}finally{g()}}async readStateFor(e,r){return this.readState(e,void 0,r)}async viewState(e,r=[],n=_0.emptyTransfer,i){return this.logger.info("View state for",this._contractTxId),await this.callContract(e,"view",i,void 0,r,n)}async viewStateForTx(e,r){return this.logger.info(`View state for ${this._contractTxId}`),await this.doApplyInputOnTx(e,r,"view")}async dryWrite(e,r,n,i,a){return this.logger.info("Dry-write for",this._contractTxId),await this.callContract(e,"write",r,void 0,n,i,void 0,a)}async applyInput(e,r){return this.logger.info(`Apply-input from transaction ${r.id} for ${this._contractTxId}`),await this.doApplyInputOnTx(e,r,"write")}async writeInteraction(e,r){if(this.logger.info("Write interaction",{input:e,options:r}),!this._signature)throw new Error("Wallet not connected. Use 'connect' method first.");let{arweave:n,interactionsLoader:i,environment:a}=this.warp;await this.warp.definitionLoader.load(this._contractTxId);let s=r?.tags||[],f=r?.transfer||_0.emptyTransfer,l=r?.strict===!0,g=r?.vrf===!0,m=r?.disableBundling===!0,A=r?.reward,I=i.type()=="warp"&&!m;if(this._signature.checkNonArweaveSigningAvailability(I),this._signature.checkBundlerSignerAvailability(I),I&&f.target!=_0.emptyTransfer.target&&f.winstonQty!=_0.emptyTransfer.winstonQty)throw new Error("Ar Transfers are not allowed for bundled interactions");if(g&&!I&&a==="mainnet")throw new Error("Vrf generation is only available for bundle interaction");if(!e)throw new Error(`Input should be a truthy value: ${JSON.stringify(e)}`);if(I)return await this.bundleInteraction(e,{tags:s,strict:l,vrf:g});{let T=await this.createInteraction(e,s,f,l,!1,g&&a!=="mainnet",A),O=await n.transactions.post(T);if(O.status!==200)return this.logger.error("Error while posting transaction",O),null;if(this._evaluationOptions.waitForConfirmation){this.logger.info("Waiting for confirmation of",T.id);let U=Ig.Benchmark.measure();await this.waitForConfirmation(T.id),this.logger.info("Transaction confirmed after",U.elapsed())}return this.warp.environment=="local"&&this._evaluationOptions.mineArLocalBlocks&&await this.warp.testing.mineBlock(),{originalTxId:T.id,interactionTx:T}}}async bundleInteraction(e,r){this.logger.info("Bundle interaction input",e);let n=await this.createInteractionDataItem(e,r.tags,_0.emptyTransfer,r.strict,r.vrf),i=this._warpFetchWrapper.fetch(`${(0,Rg.stripTrailingSlash)(this._evaluationOptions.sequencerUrl)}/gateway/v2/sequencer/register`,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},body:n.getRaw()}),a=await n.id;return{bundlrResponse:await(0,Rg.getJsonResponse)(i),originalTxId:a,interactionTx:n}}async createInteractionDataItem(e,r,n,i,a=!1){var s;this._evaluationOptions.internalWrites&&await this.discoverInternalWrites(e,r,n,i,a),a&&r.push(new K5.Tag(z5.WARP_TAGS.REQUEST_VRF,"true"));let f=(0,Wb.createInteractionTagsList)(this._contractTxId,e,this.warp.environment==="testnet",r);if((0,NP.tagsExceedLimit)(f))throw new Error("Interaction tags exceed limit of 4096 bytes.");let l=Math.random().toString().slice(-4),g=this._signature.bundlerSigner;if(!g)throw new Error("Signer not set correctly. If you connect wallet through 'use_wallet', please remember that it only works when bundling is disabled.");let m;return(0,Rg.isBrowser)()&&((s=g.signer)===null||s===void 0?void 0:s.signDataItem)?m=await g.signDataItem(l,f):(m=(0,NP.createData)(l,g,{tags:f}),await m.sign(g)),!this._evaluationOptions.internalWrites&&i&&await this.checkInteractionInStrictMode(m.owner,e,r,n,i,a),m}async createInteraction(e,r,n,i,a=!1,s=!1,f){this._evaluationOptions.internalWrites&&await this.discoverInternalWrites(e,r,n,i,s),s&&r.push(new K5.Tag(z5.WARP_TAGS.REQUEST_VRF,"true"));let l=await(0,Wb.createInteractionTx)(this.warp.arweave,this._signature.signer,this._contractTxId,e,r,n.target,n.winstonQty,a,this.warp.environment==="testnet",f);return!this._evaluationOptions.internalWrites&&i&&await this.checkInteractionInStrictMode(l.owner,e,r,n,i,s),l}async checkInteractionInStrictMode(e,r,n,i,a,s){let{arweave:f}=this.warp,l=this._signature.type=="arweave"?await f.wallets.ownerToAddress(e):await this._signature.getAddress(),g=await this.callContract(r,"write",l,void 0,n,i,a,s);if(g.type!=="ok")throw Error("Cannot create interaction: "+JSON.stringify(g.error||g.errorMessage))}txId(){return this._contractTxId}getCallStack(){return this._callStack}connect(e){return this._signature=new Cue.Signature(this.warp,e),this}setEvaluationOptions(e){if(!this.isRoot())throw new Error("Evaluation options can be set only for the root contract");return this._evaluationOptions={...this._evaluationOptions,...e},this}async waitForConfirmation(e){let{arweave:r}=this.warp,n=await r.transactions.getStatus(e);return n.confirmed===null?(this.logger.info(`Transaction ${e} not yet confirmed. Waiting another 20 seconds before next check.`),await(0,Rg.sleep)(2e4),this.waitForConfirmation(e)):(this.logger.info(`Transaction ${e} confirmed`,n),n)}async createExecutionContext(e,r,n=!1,i){var a,s,f,l;let{definitionLoader:g,interactionsLoader:m,stateEvaluator:A}=this.warp,I,T=Ig.Benchmark.measure();this.isRoot()||(I=this.interactionState().getLessOrEqual(this.txId(),r)),I=I||await A.latestAvailableState(e,r),this.logger.debug("cache lookup",T.elapsed()),T.reset();let O=BP.Evolve.evolvedSrcTxId((a=I?.cachedValue)===null||a===void 0?void 0:a.state),U,Z,Y,re,pe=i||[];if(this.logger.debug("Cached state",I,r),I&&I.sortKey==r)this.logger.debug("State fully cached, not loading interactions."),(n||O||i?.length)&&(Z=await g.load(e,O),i?.length&&(pe=(await this._sorter.sort(i.map(he=>({node:he,cursor:null})))).map(he=>he.node)));else{if(i?.length)throw new Error(`Cannot apply requested interactions at ${r}`);if(Z=await g.load(e,O),Y=this.resolveEvaluationOptions((s=Z.manifest)===null||s===void 0?void 0:s.evaluationOptions),Y.remoteStateSyncEnabled&&!Y.useKVStorage){re=await this.getRemoteContractState(e),I=await this.maybeSyncStateWithRemoteSource(re,r,I);let he=BP.Evolve.evolvedSrcTxId((f=I?.cachedValue)===null||f===void 0?void 0:f.state);he&&he!==Z.srcTxId&&(Z=await g.load(e,he))}!re&&pe.length==0&&(pe=await m.load(e,I?.sortKey,this.getToSortKey(r),Y)),I?.sortKey&&(pe=pe.filter(he=>he.sortKey.localeCompare(I?.sortKey)>0)),r&&(pe=pe.filter(he=>he.sortKey.localeCompare(r)<=0)),this.logger.debug("contract and interactions load",T.elapsed()),this.isRoot()&&pe.length&&(this._rootSortKey=pe[pe.length-1].sortKey)}return Z&&(Y||(Y=this.resolveEvaluationOptions((l=Z.manifest)===null||l===void 0?void 0:l.evaluationOptions)),this.ecLogger.debug(`Evaluation options ${e}:`,Y),U=await this.warp.executorFactory.create(Z,Y,this.warp,this.interactionState())),{warp:this.warp,contract:this,contractDefinition:Z,sortedInteractions:pe,evaluationOptions:Y||this.evaluationOptions(),handler:U,cachedState:I,requestedSortKey:r}}resolveEvaluationOptions(e){return this.isRoot()?(this._eoEvaluator=new Bue.EvaluationOptionsEvaluator(this.evaluationOptions(),e),this._eoEvaluator.rootOptions):this.getRootEoEvaluator().forForeignContract(e)}async getRemoteContractState(e){if(this.hasDreState(e))return this.getDreState(e);{let r=await this.fetchRemoteContractState(e);return r!=null?this.setDREState(e,r):null}}async fetchRemoteContractState(e){return(0,Rg.getJsonResponse)(this._warpFetchWrapper.fetch(`${this._evaluationOptions.remoteStateSyncSource}?id=${e}&events=false`))}getToSortKey(e){var r;return!((r=this._parentContract)===null||r===void 0)&&r.rootSortKey?e?this._parentContract.rootSortKey.localeCompare(e)>0?this._parentContract.rootSortKey:e:this._parentContract.rootSortKey:e}async createExecutionContextFromTx(e,r){let n=r.owner.address,i=r.sortKey;return{...await this.createExecutionContext(e,i,!0),caller:n}}maybeResetRootContract(){this.isRoot()&&(this.logger.debug("Clearing call stack for the root contract"),this._callStack=new j5.ContractCallRecord(this.txId(),0),this._rootSortKey=null,this.warp.interactionsLoader.clearCache(),this._children=[],this._interactionState=new PP.ContractInteractionState(this.warp),this._dreStates=new Map)}async callContract(e,r,n,i,a=[],s=_0.emptyTransfer,f=!1,l=!1,g=!0){var m;this.logger.info("Call contract input",e),this.maybeResetRootContract(),this._signature||this.logger.warn("Wallet not set.");let{arweave:A,stateEvaluator:I}=this.warp,T=await this.createExecutionContext(this._contractTxId,i,!0),O=this.warp.environment=="mainnet"?await this._arweaveWrapper.warpGwBlock():await A.blocks.getCurrent(),U;n?U=n:this._signature?U=await this._signature.getAddress():U="",this.logger.info("effectiveCaller",U),T={...T,caller:U};let Z=await I.eval(T);this.logger.info("Current state",Z.cachedValue.state);let Y={input:e,caller:T.caller,interactionType:r};this.logger.debug("interaction",Y);let re=await(0,Wb.createInteractionTx)(A,g?(m=this._signature)===null||m===void 0?void 0:m.signer:void 0,this._contractTxId,e,a,s.target,s.winstonQty,!0,this.warp.environment==="testnet"),pe=(0,Wb.createDummyTx)(re,T.caller,O);if(this.logger.debug("Creating sortKey for",{blockId:pe.block.id,id:pe.id,height:pe.block.height}),pe.sortKey=await this._sorter.createSortKey(pe.block.id,pe.id,pe.block.height,!0),pe.strict=f,l){let se=this.warp.maybeLoadPlugin("vrf");se?pe.vrf=se.process().generateMockVrf(pe.sortKey):this.logger.warn('Cannot generate mock vrf for interaction - no "warp-contracts-plugin-vrf" attached!')}let he=await this.evalInteraction({interaction:Y,interactionTx:pe},T,Z.cachedValue);return he.type!=="ok"&&this.logger.fatal("Error while interacting with contract",{type:he.type,error:he.errorMessage}),he}async doApplyInputOnTx(e,r,n){this.maybeResetRootContract();let i,a=await this.createExecutionContextFromTx(this._contractTxId,r);!this.isRoot()&&this.interactionState().has(this.txId(),r.sortKey)?i=new Og.SortKeyCacheResult(r.sortKey,this.interactionState().get(this.txId(),r.sortKey)):(i=await this.warp.stateEvaluator.eval(a),this.interactionState().update(this.txId(),i.cachedValue,r.sortKey)),this.logger.debug("callContractForTx - evalStateResult",{result:i.cachedValue.state,txId:this._contractTxId});let f={interaction:{input:e,caller:this._parentContract.txId(),interactionType:n},interactionTx:r},l=await this.evalInteraction(f,a,i.cachedValue);return l.originalValidity=i.cachedValue.validity,l.originalErrorMessages=i.cachedValue.errorMessages,l}async evalInteraction(e,r,n){let i=this.getCallStack().addInteractionData(e),a=Ig.Benchmark.measure();await r.handler.initState(n.state);let s=await r.handler.handle(r,n,e);return i.update({cacheHit:!1,outputState:this._evaluationOptions.stackTrace.saveState?s.state:void 0,executionTime:a.elapsed(!0),valid:s.type==="ok",errorMessage:s.errorMessage,gasUsed:s.gasUsed}),s}parent(){return this._parentContract}callDepth(){return this._callDepth}evaluationOptions(){return this._evaluationOptions}lastReadStateStats(){return this._benchmarkStats}async stateHash(e){let r=(0,Oue.default)(e),n=await Lue.Crypto.subtle.digest("SHA-256",N.Buffer.from(r,"utf-8"));return N.Buffer.from(n).toString("hex")}async syncState(e,r){let{stateEvaluator:n}=this.warp,i=await this._warpFetchWrapper.fetch(`${e}?${new URLSearchParams({id:this._contractTxId,...r})}`).then(a=>a.ok?a.json():Promise.reject(a)).catch(a=>{var s,f;throw!((s=a.body)===null||s===void 0)&&s.message&&this.logger.error(a.body.message),new Error(`Unable to retrieve state. ${a.status}: ${(f=a.body)===null||f===void 0?void 0:f.message}`)});return await n.syncState(this._contractTxId,i.sortKey,i.state,i.validity),this}async evolve(e,r){return await this.writeInteraction({function:"evolve",value:e},r)}get rootSortKey(){return this._rootSortKey}getRootEoEvaluator(){return this.getRoot()._eoEvaluator}isRoot(){return this._parentContract==null}async getStorageValues(e){let r=await this.warp.stateEvaluator.getCache().getLast(this.txId());if(r==null)return new Og.SortKeyCacheResult(null,new Map);let n=this.warp.kvStorageFactory(this.txId()),i=new Map;try{await n.open();for(let a of e){let s=await n.getLessOrEqual(a,r.sortKey);i.set(a,s==null?null:s.cachedValue)}return new Og.SortKeyCacheResult(r.sortKey,i)}finally{await n.close()}}interactionState(){return this.getRoot()._interactionState}getRoot(){let e=this;for(;!e.isRoot();)e=e.parent();return e}async maybeSyncStateWithRemoteSource(e,r,n){let{stateEvaluator:i}=this.warp;return this.isStateHigherThanAndUpTo(e,n?.sortKey,r)?await i.syncState(this._contractTxId,e.sortKey,e.cachedValue.state,e.cachedValue.validity):n}isStateHigherThanAndUpTo(e,r,n){return e&&(!n||n>=e.sortKey)&&(!r||e.sortKey>r)}setDREState(e,r){let n=new Og.SortKeyCacheResult(r.sortKey,new kP.EvalStateResult(r.state,{},r.errorMessages));return this.getRoot()._dreStates.set(e,n),n}getDreState(e){return this.getRoot()._dreStates.get(e)}hasDreState(e){return this.getRoot()._dreStates.has(e)}async discoverInternalWrites(e,r,n,i,a){let s=await this.callContract(e,"write",void 0,void 0,r,n,i,a,!1);if(i&&s.type!=="ok")throw Error("Cannot create interaction: "+JSON.stringify(s.error||s.errorMessage));let f=this.getCallStack(),l=this._innerWritesEvaluator.eval(f);this.logger.debug("Input",e),this.logger.debug("Callstack",f.print()),l.forEach(g=>{r.push(new K5.Tag(z5.WARP_TAGS.INTERACT_WRITE,g))}),this.logger.debug("Tags with inner calls",r)}clearChildren(){for(let e of this._children)e.clearChildren();this._children=[]}};E0.HandlerBasedContract=W5});var H5=ee(Hb=>{"use strict";x();Object.defineProperty(Hb,"__esModule",{value:!0});Hb.PstContractImpl=void 0;var Due=Gb(),G5=class extends Due.HandlerBasedContract{async currentBalance(e){let r=await this.viewState({function:"balance",target:e});if(r.type!=="ok")throw Error(r.errorMessage);return r.result}async currentState(){return(await super.readState()).cachedValue.state}async transfer(e,r){return await this.writeInteraction({function:"transfer",...e},r)}};Hb.PstContractImpl=G5});var LP=ee($b=>{"use strict";x();Object.defineProperty($b,"__esModule",{value:!0});$b.Testing=void 0;var $5=class{constructor(e){this.arweave=e}async mineBlock(){this.validateEnv(),await this.arweave.api.get("mine")}async addFunds(e){let r=await this.arweave.wallets.getAddress(e);await this.arweave.api.get(`/mint/${r}/1000000000000000`)}async isArlocal(){return(await fetch(`${this.arweave.api.config.protocol}://${this.arweave.api.config.host}:${this.arweave.api.config.port}/info`).then(r=>r.ok?r.json():Promise.reject()).catch(r=>{throw new Error(`Unable to get network info: ${r.message}`)})).network.includes("arlocal")}async validateEnv(){if(!await this.isArlocal())throw new Error("Testing features are not available in a non testing environment")}};$b.Testing=$5});var DP=ee(Vb=>{"use strict";x();Object.defineProperty(Vb,"__esModule",{value:!0});Vb.DebuggableExecutorFactory=void 0;var V5=class{constructor(e,r){this.baseImplementation=e,this.sourceCode=r}async create(e,r,n,i){return Object.prototype.hasOwnProperty.call(this.sourceCode,e.txId)&&(e={...e,src:this.sourceCode[e.txId]}),await this.baseImplementation.create(e,r,n,i)}};Vb.DebuggableExecutorFactory=V5});var J5=ee(Zb=>{"use strict";x();Object.defineProperty(Zb,"__esModule",{value:!0});Zb.WarpBuilder=void 0;var que=DP(),Uue=$8(),qP=Z8(),Fue=mb(),jue=K8(),zue=rg(),Kue=Jb(),UP=Xp(),Z5=class{constructor(e,r,n="custom"){this._arweave=e,this._stateCache=r,this._environment=n}setDefinitionLoader(e){return this._definitionLoader=e,this}setInteractionsLoader(e){return this._interactionsLoader=e,this}setExecutorFactory(e){return this._executorFactory=e,this}setStateEvaluator(e){return this._stateEvaluator=e,this}overwriteSource(e){if(this._executorFactory==null)throw new Error("Set base ExecutorFactory first");return this._executorFactory=new que.DebuggableExecutorFactory(this._executorFactory,e),this.build()}useWarpGateway(e,r){this._interactionsLoader=new qP.CacheableInteractionsLoader(new zue.WarpGatewayInteractionsLoader(e.confirmationStatus,e.source));let n=new UP.LevelDbCache({...r,dbLocation:`${r.dbLocation}/contracts`}),i=new UP.LevelDbCache({...r,dbLocation:`${r.dbLocation}/source`});return this._definitionLoader=new jue.WarpGatewayContractDefinitionLoader(this._arweave,n,i,this._environment),this}useArweaveGateway(){return this._definitionLoader=new Fue.ContractDefinitionLoader(this._arweave,this._environment),this._interactionsLoader=new qP.CacheableInteractionsLoader(new Uue.ArweaveGatewayInteractionsLoader(this._arweave,this._environment)),this}build(){let e=new Kue.Warp(this._arweave,this._definitionLoader,this._interactionsLoader,this._executorFactory,this._stateEvaluator,this._environment);return this._definitionLoader.warp=e,this._interactionsLoader.warp=e,e}};Zb.WarpBuilder=Z5});var Y5=ee(S0=>{"use strict";x();Object.defineProperty(S0,"__esModule",{value:!0});S0.knownWarpPlugins=S0.knownWarpPluginsPartial=void 0;S0.knownWarpPluginsPartial=["^smartweave-extension-"];S0.knownWarpPlugins=["evm-signature-verification","subscription","ivm-handler-api","evaluation-progress","fetch-options","deploy","contract-blacklist","vm2","vrf"]});var Jb=ee(Yb=>{"use strict";x();Object.defineProperty(Yb,"__esModule",{value:!0});Yb.Warp=void 0;var Wue=Gb(),Gue=H5(),Hue=LP(),$ue=J5(),FP=Y5(),jP=Q5(),Vue=Xp(),X5=class{get createContract(){if(!this._createContract)if(this.plugins.has("deploy")){let e=this.loadPlugin("deploy");this._createContract=e.process(this)}else throw new Error("In order to use CreateContract methods please attach DeployPlugin.");return this._createContract}constructor(e,r,n,i,a,s="custom"){this.arweave=e,this.definitionLoader=r,this.interactionsLoader=n,this.executorFactory=i,this.stateEvaluator=a,this.environment=s,this._gwUrl=jP.WARP_GW_URL,this.plugins=new Map,this.testing=new Hue.Testing(e),this.kvStorageFactory=f=>new Vue.LevelDbCache({inMemory:!1,dbLocation:`${jP.DEFAULT_LEVEL_DB_LOCATION}/kv/ldb/${f}`}),this.eventTarget=new EventTarget}static builder(e,r,n){return new $ue.WarpBuilder(e,r,n)}contract(e,r,n){return new Wue.HandlerBasedContract(e,this,r,n)}async deploy(e,r){return await this.createContract.deploy(e,r)}async deployFromSourceTx(e,r){return await this.createContract.deployFromSourceTx(e,r)}async deployBundled(e){return await this.createContract.deployBundled(e)}async register(e,r){return await this.createContract.register(e,r)}async createSource(e,r,n=!1){return await this.createContract.createSource(e,r,n)}async saveSource(e,r){return await this.createContract.saveSource(e,r)}pst(e){return new Gue.PstContractImpl(e,this)}useStateCache(e){return this.stateEvaluator.setCache(e),this}useContractCache(e,r){return this.definitionLoader.setSrcCache(r),this.definitionLoader.setCache(e),this}use(e){let r=e.type();if(!this.isPluginType(r))throw new Error(`Unknown plugin type ${r}.`);return this.plugins.set(r,e),this}hasPlugin(e){return this.plugins.has(e)}matchPlugins(e){return[...this.plugins.keys()].filter(n=>n.match(e))}loadPlugin(e){if(!this.hasPlugin(e))throw new Error(`Plugin ${e} not registered.`);return this.plugins.get(e)}maybeLoadPlugin(e){return this.hasPlugin(e)?this.plugins.get(e):null}async close(){return Promise.all([this.definitionLoader.getSrcCache().close(),this.definitionLoader.getCache().close(),this.stateEvaluator.getCache().close()]).then()}async generateWallet(){let e=await this.arweave.wallets.generate();return await this.testing.isArlocal()&&await this.testing.addFunds(e),{jwk:e,address:await this.arweave.wallets.jwkToAddress(e)}}isPluginType(e){return FP.knownWarpPlugins.includes(e)||FP.knownWarpPluginsPartial.some(r=>e.match(r))}useKVStorageFactory(e){return this.kvStorageFactory=e,this}useGwUrl(e){return this._gwUrl=e,this}gwUrl(){return this._gwUrl}};Yb.Warp=X5});var Q5=ee(Jr=>{"use strict";x();var Zue=Jr&&Jr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.WarpFactory=Jr.defaultCacheOptions=Jr.DEFAULT_LEVEL_DB_LOCATION=Jr.WARP_GW_URL=Jr.defaultWarpGwOptions=void 0;var eE=Zue(hb()),Jue=Xp(),Yue=o5(),Xue=e5(),Que=r0(),ece=rg(),tce=Jb();Jr.defaultWarpGwOptions={confirmationStatus:{notCorrupted:!0},source:ece.SourceType.BOTH};Jr.WARP_GW_URL="https://gw.warp.cc";Jr.DEFAULT_LEVEL_DB_LOCATION="./cache/warp";Jr.defaultCacheOptions={inMemory:!1,dbLocation:Jr.DEFAULT_LEVEL_DB_LOCATION};var tE=class{static forLocal(e=1984,r=eE.default.init({host:"localhost",port:e,protocol:"http"}),n={...Jr.defaultCacheOptions,inMemory:!0}){return this.customArweaveGw(r,n,"local")}static forTestnet(e=Jr.defaultCacheOptions,r=!1,n=eE.default.init({host:"arweave.net",port:443,protocol:"https"})){return r?this.customArweaveGw(n,e,"testnet"):this.customWarpGw(n,Jr.defaultWarpGwOptions,e,"testnet")}static forMainnet(e=Jr.defaultCacheOptions,r=!1,n=eE.default.init({host:"arweave.net",port:443,protocol:"https"})){return r?this.customArweaveGw(n,e,"mainnet"):this.customWarpGw(n,Jr.defaultWarpGwOptions,e,"mainnet")}static custom(e,r,n){let i=new Jue.LevelDbCache({...r,dbLocation:`${r.dbLocation}/state`}),a=new Que.HandlerExecutorFactory(e),s=new Xue.CacheableStateEvaluator(e,i,[new Yue.Evolve]);return tce.Warp.builder(e,i,n).setExecutorFactory(a).setStateEvaluator(s)}static customArweaveGw(e,r=Jr.defaultCacheOptions,n){return this.custom(e,r,n).useArweaveGateway().build()}static customWarpGw(e,r=Jr.defaultWarpGwOptions,n=Jr.defaultCacheOptions,i){return this.custom(e,n,i).useWarpGateway(r,n).build()}};Jr.WarpFactory=tE});var KP=ee(zP=>{"use strict";x();Object.defineProperty(zP,"__esModule",{value:!0})});var GP=ee(WP=>{"use strict";x();Object.defineProperty(WP,"__esModule",{value:!0})});var $P=ee(HP=>{"use strict";x();Object.defineProperty(HP,"__esModule",{value:!0})});var ZP=ee(VP=>{"use strict";x();Object.defineProperty(VP,"__esModule",{value:!0})});var JP=ee(Xb=>{"use strict";x();Object.defineProperty(Xb,"__esModule",{value:!0});Xb.matchMutClosureDtor=void 0;function rce(t){let e=/(const|var) ret = makeMutClosure\(arg0, arg1, (\d+?), __wbg_adapter/;return t.match(e)[2]}Xb.matchMutClosureDtor=rce});var XP=ee(A0=>{"use strict";x();var nce=A0&&A0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(A0,"__esModule",{value:!0});A0.ArweaveGatewayBundledContractDefinitionLoader=void 0;var ice=ig(),Yi=po(),YP=wa(),ace=Zr(),oce=uu(),sce=xb(),fce=wg(),uce=nce(hb());function Xi(t,e,r=void 0){let n=t.find(({name:i})=>i===e);return n?n.value:r}var kg=class{constructor(e){this.env=e,this.logger=ace.LoggerFactory.INST.create(kg.name)}async load(e,r){let n=YP.Benchmark.measure(),i=await this.fetchContractTx(e);this.logger.debug("Contract tx fetch time",n.elapsed());let a=i.owner.address,s=r||Xi(i.tags,Yi.SMART_WEAVE_TAGS.CONTRACT_SRC_TX_ID),f=Xi(i.tags,Yi.WARP_TAGS.WARP_TESTNET)||null;if(f&&this.env!=="testnet")throw new Error('Trying to use testnet contract in a non-testnet env. Use the "forTestnet" factory method.');if(!f&&this.env==="testnet")throw new Error("Trying to use non-testnet contract in a testnet env.");let l=Xi(i.tags,Yi.SMART_WEAVE_TAGS.MIN_FEE),g=Xi(i.tags,Yi.WARP_TAGS.MANIFEST)?JSON.parse(Xi(i.tags,Yi.WARP_TAGS.MANIFEST)):null;this.logger.debug("Tags decoding",n.elapsed());let m=await this.evalInitialState(i);this.logger.debug("init state",m);let A=JSON.parse(m);this.logger.debug("Parsing src and init state",n.elapsed());let{src:I,srcBinary:T,srcWasmLang:O,contractType:U,metadata:Z,srcTx:Y}=await this.loadContractSource(s),re={txId:e,srcTxId:s,src:I,srcBinary:T,srcWasmLang:O,initState:A,minFee:l,owner:a,contractType:U,metadata:Z,manifest:g,contractTx:await this.convertToWarpCompatibleContractTx(i),srcTx:await this.convertToWarpCompatibleContractTx(Y),testnet:f};return this.logger.info(`Contract definition loaded in: ${n.elapsed()}`),re}async fetchContractTx(e){let r=await this.arweaveTransactions.transaction(e);return r??await this.arweaveTransactions.transactionUsingUploaderTag(e)}async convertToWarpCompatibleContractTx(e){return{tags:e.tags.map(({name:n,value:i})=>({name:N.Buffer.from(n).toString("base64url"),value:N.Buffer.from(i).toString("base64url")})),owner:e.owner.key,target:e.recipient,signature:e.signature,data:(await this.arweaveWrapper.txData(e.id)).toString("base64url")}}async loadContractSource(e){let r=YP.Benchmark.measure(),n=await this.fetchContractTx(e),i=Xi(n.tags,Yi.SMART_WEAVE_TAGS.CONTENT_TYPE);if(!ice.SUPPORTED_SRC_CONTENT_TYPES.includes(i))throw new Error(`Contract source content type ${i} not supported`);let a=i==="application/javascript"?"js":"wasm",s=await this.contractSource(n,a),f,l,g;if(a=="wasm"){if(l=new fce.WasmSrc(s),f=Xi(n.tags,Yi.WARP_TAGS.WASM_LANG),!f)throw new Error(`Wasm lang not set for wasm contract src ${n.id}`);g=JSON.parse(Xi(n.tags,Yi.WARP_TAGS.WASM_META))}return this.logger.debug("Contract src tx load",r.elapsed()),r.reset(),{src:a=="js"?s:null,srcBinary:a=="wasm"?l.wasmBinary():null,srcWasmLang:f,contractType:a,metadata:g,srcTx:n}}async contractSource(e,r){if(Xi(e.tags,Yi.WARP_TAGS.UPLOADER_TX_ID)!=null){let i=await this.arweaveWrapper.txDataString(e.id);if(r==="wasm")throw new Error("WASM contracts in legacy format are not supported using AR GW");return uce.default.utils.b64UrlToString(JSON.parse(i).data)}return r==="js"?await this.arweaveWrapper.txDataString(e.id):await this.arweaveWrapper.txData(e.id)}async evalInitialState(e){if(Xi(e.tags,Yi.WARP_TAGS.INIT_STATE))return Xi(e.tags,Yi.WARP_TAGS.INIT_STATE);if(Xi(e.tags,Yi.WARP_TAGS.INIT_STATE_TX)){let r=Xi(e.tags,Yi.WARP_TAGS.INIT_STATE_TX);return this.arweaveWrapper.txDataString(r)}else return this.arweaveWrapper.txDataString(e.id)}setCache(){throw new Error("Method not implemented.")}setSrcCache(){throw new Error("Method not implemented.")}getCache(){throw new Error("Method not implemented.")}getSrcCache(){throw new Error("Method not implemented.")}type(){return"arweave"}set warp(e){this.arweaveWrapper=new oce.ArweaveWrapper(e),this.arweaveTransactions=new sce.ArweaveGQLTxsFetcher(e)}};A0.ArweaveGatewayBundledContractDefinitionLoader=kg});var rN=ee(Qb=>{"use strict";x();Object.defineProperty(Qb,"__esModule",{value:!0});Qb.ArweaveGatewayBundledInteractionLoader=void 0;var Qi=po(),cce=wa(),lce=Zr(),hce=uu(),QP=Vc(),dce=xb(),rE=Vn(),pce=cu(),eN=100,gce=100,tN=1057409,M0=class{constructor(e,r){this.arweave=e,this.environment=r,this.logger=lce.LoggerFactory.INST.create(M0.name),this.tagsParser=new pce.TagsParser,this.sorter=new QP.LexicographicalInteractionsSorter(e)}async load(e,r,n,i){this.logger.debug("Loading interactions for",{contractId:e,fromSortKey:r,toSortKey:n});let a=this.sorter.extractBlockHeight(r)||0,s=this.sorter.extractBlockHeight(n)||await this.currentBlockHeight(),f={tags:[{name:Qi.SMART_WEAVE_TAGS.APP_NAME,values:["SmartWeaveAction"]},{name:Qi.SMART_WEAVE_TAGS.CONTRACT_TX_ID,values:[e]},{name:Qi.WARP_TAGS.SEQUENCER,values:["RedStone"]}],blockFilter:{min:a,max:s+gce},first:eN},l=cce.Benchmark.measure(),g=await this.arweaveFetcher.transactions(f);i.internalWrites&&(g=await this.appendInternalWriteInteractions(e,a,s,g)),l.stop(),this.logger.debug("All loaded interactions:",{from:r,to:n,loaded:g.length,time:l.elapsed()}),g.forEach(T=>{var O,U,Z,Y;T.node.sortKey=(O=T.node.sortKey)!==null&&O!==void 0?O:(Y=(Z=(U=T.node)===null||U===void 0?void 0:U.tags)===null||Z===void 0?void 0:Z.find(re=>re.name===Qi.WARP_TAGS.SEQUENCER_SORT_KEY))===null||Y===void 0?void 0:Y.value});let m=await this.sorter.sort(g),A=this.environment==="local"||this.environment==="testnet",I=this._warp.maybeLoadPlugin("vrf");return m.filter(T=>this.isNewerThenSortKeyBlockHeight(T)).filter(T=>this.isSortKeyInBounds(r,n,T)).map(T=>this.attachSequencerDataToInteraction(T)).map(T=>this.maybeAddMockVrf(A,T,I)).map((T,O,U)=>this.verifySortKeyIntegrity(T,O,U)).map(({node:T})=>T)}verifySortKeyIntegrity(e,r,n){var i;if(r!==0){let a=n[r-1],s=n[r];if(this.logger.debug(`prev: ${a.node.id} | current: ${s.node.id}`),s.node.block.height<=tN||((i=s.node.lastSortKey)===null||i===void 0?void 0:i.split(",")[1])===QP.defaultArweaveMs)return e;a.node.source==="redstone-sequencer"&&a.node.sortKey!==s.node.lastSortKey&&this.logger.warn(`Interaction loading error: interaction ${s.node.id} lastSortKey is not pointing on prev interaction ${a.node.id}`)}return e}isSortKeyInBounds(e,r,n){return e&&r?n.node.sortKey.localeCompare(e)>0&&n.node.sortKey.localeCompare(r)<=0:e&&!r?n.node.sortKey.localeCompare(e)>0:!e&&r?n.node.sortKey.localeCompare(r)<=0:!0}attachSequencerDataToInteraction(e){let r=A=>{var I;return(I=e.node.tags.find(T=>T.name===A))===null||I===void 0?void 0:I.value},n=r(Qi.WARP_TAGS.SEQUENCER_TX_ID),i=r(Qi.WARP_TAGS.SEQUENCER_OWNER),a=r(Qi.WARP_TAGS.SEQUENCER_BLOCK_ID),s=r(Qi.WARP_TAGS.SEQUENCER_BLOCK_HEIGHT),f=r(Qi.WARP_TAGS.SEQUENCER_PREV_SORT_KEY)||r(Qi.WARP_TAGS.SEQUENCER_LAST_SORT_KEY),l=r(Qi.WARP_TAGS.SEQUENCER_SORT_KEY),g=r(Qi.WARP_TAGS.SEQUENCER_BLOCK_TIMESTAMP),m=(0,rE.safeParseInt)(s);if(!i||!a||!s||!f&&m>tN||!n||!l)throw Error(`Interaction ${e.node.id} is not sequenced by sequencer aborting. Only Sequenced transactions are supported by loader ${M0.name}`);return{...e,node:{...e.node,owner:{address:i,key:null},block:{...e.node.block,height:(0,rE.safeParseInt)(s),id:a,timestamp:g?(0,rE.safeParseInt)(g):e.node.block.timestamp},sortKey:l,lastSortKey:f,id:n,source:"redstone-sequencer"}}}async appendInternalWriteInteractions(e,r,n,i){let a={tags:[{name:Qi.WARP_TAGS.INTERACT_WRITE,values:[e]}],blockFilter:{min:r,max:n},first:eN},s=await this.arweaveFetcher.transactions(a);return this.logger.debug("Inner writes interactions length:",s.length),i=i.concat(s),i}maybeAddMockVrf(e,r,n){return e&&this.tagsParser.hasVrfTag(r.node)&&(n?r.node.vrf=n.process().generateMockVrf(r.node.sortKey):this.logger.warn('Cannot generate mock vrf for interaction - no "warp-contracts-plugin-vrf" attached!')),r}isNewerThenSortKeyBlockHeight(e){if(e.node.sortKey){let r=e.node.sortKey.split(",")[0],n=Number.parseInt(r);return Number(e.node.block.height)-n>=0}return!0}async currentBlockHeight(){return(await this.arweaveWrapper.info()).height}type(){return"arweave"}clearCache(){}set warp(e){this.arweaveWrapper=new hce.ArweaveWrapper(e),this.arweaveFetcher=new dce.ArweaveGQLTxsFetcher(e),this._warp=e}};Qb.ArweaveGatewayBundledInteractionLoader=M0});var ew=ee(st=>{"use strict";x();var vce=st&&st.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ft=st&&st.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&vce(e,t,r)};Object.defineProperty(st,"__esModule",{value:!0});ft(T3(),st);ft(I3(),st);ft(NR(),st);ft(Zr(),st);ft(A3(),st);ft(wa(),st);ft(DR(),st);ft(Zs(),st);ft(UR(),st);ft(Xp(),st);ft(sC(),st);ft(uC(),st);ft(lC(),st);ft(dC(),st);ft(gC(),st);ft(ng(),st);ft(mb(),st);ft(K8(),st);ft($8(),st);ft(rg(),st);ft(Z8(),st);ft(X8(),st);ft(e5(),st);ft(r0(),st);ft(Vc(),st);ft(cu(),st);ft(F4(),st);ft(Ym(),st);ft(i0(),st);ft(U4(),st);ft(kB(),st);ft(po(),st);ft(BB(),st);ft(ig(),st);ft(n5(),st);ft(Q5(),st);ft(Jb(),st);ft(J5(),st);ft(Y5(),st);ft(B5(),st);ft(KP(),st);ft(Gb(),st);ft(GP(),st);ft(H5(),st);ft(v5(),st);ft(I5(),st);ft(k5(),st);ft($P(),st);ft(p5(),st);ft(ZP(),st);ft(Vm(),st);ft(a5(),st);ft(W4(),st);ft(d5(),st);ft(Vn(),st);ft(uu(),st);ft(l0(),st);ft(wg(),st);ft(L4(),st);ft(JP(),st);ft(XP(),st);ft(rN(),st)});var Yr=ee((nN,iE)=>{x();(function(t,e){"use strict";function r(q,S){if(!q)throw new Error(S||"Assertion failed")}function n(q,S){q.super_=S;var B=function(){};B.prototype=S.prototype,q.prototype=new B,q.prototype.constructor=q}function i(q,S,B){if(i.isBN(q))return q;this.negative=0,this.words=null,this.length=0,this.red=null,q!==null&&((S==="le"||S==="be")&&(B=S,S=10),this._init(q||0,S||10,B||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Sr().Buffer}catch{}i.isBN=function(S){return S instanceof i?!0:S!==null&&typeof S=="object"&&S.constructor.wordSize===i.wordSize&&Array.isArray(S.words)},i.max=function(S,B){return S.cmp(B)>0?S:B},i.min=function(S,B){return S.cmp(B)<0?S:B},i.prototype._init=function(S,B,y){if(typeof S=="number")return this._initNumber(S,B,y);if(typeof S=="object")return this._initArray(S,B,y);B==="hex"&&(B=16),r(B===(B|0)&&B>=2&&B<=36),S=S.toString().replace(/\s+/g,"");var o=0;S[0]==="-"&&(o++,this.negative=1),o<S.length&&(B===16?this._parseHex(S,o,y):(this._parseBase(S,B,o),y==="le"&&this._initArray(this.toArray(),B,y)))},i.prototype._initNumber=function(S,B,y){S<0&&(this.negative=1,S=-S),S<67108864?(this.words=[S&67108863],this.length=1):S<4503599627370496?(this.words=[S&67108863,S/67108864&67108863],this.length=2):(r(S<9007199254740992),this.words=[S&67108863,S/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),B,y)},i.prototype._initArray=function(S,B,y){if(r(typeof S.length=="number"),S.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(S.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var u,h,p=0;if(y==="be")for(o=S.length-1,u=0;o>=0;o-=3)h=S[o]|S[o-1]<<8|S[o-2]<<16,this.words[u]|=h<<p&67108863,this.words[u+1]=h>>>26-p&67108863,p+=24,p>=26&&(p-=26,u++);else if(y==="le")for(o=0,u=0;o<S.length;o+=3)h=S[o]|S[o+1]<<8|S[o+2]<<16,this.words[u]|=h<<p&67108863,this.words[u+1]=h>>>26-p&67108863,p+=24,p>=26&&(p-=26,u++);return this.strip()};function s(q,S){var B=q.charCodeAt(S);return B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:B-48&15}function f(q,S,B){var y=s(q,B);return B-1>=S&&(y|=s(q,B-1)<<4),y}i.prototype._parseHex=function(S,B,y){this.length=Math.ceil((S.length-B)/6),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var u=0,h=0,p;if(y==="be")for(o=S.length-1;o>=B;o-=2)p=f(S,B,o)<<u,this.words[h]|=p&67108863,u>=18?(u-=18,h+=1,this.words[h]|=p>>>26):u+=8;else{var v=S.length-B;for(o=v%2===0?B+1:B;o<S.length;o+=2)p=f(S,B,o)<<u,this.words[h]|=p&67108863,u>=18?(u-=18,h+=1,this.words[h]|=p>>>26):u+=8}this.strip()};function l(q,S,B,y){for(var o=0,u=Math.min(q.length,B),h=S;h<u;h++){var p=q.charCodeAt(h)-48;o*=y,p>=49?o+=p-49+10:p>=17?o+=p-17+10:o+=p}return o}i.prototype._parseBase=function(S,B,y){this.words=[0],this.length=1;for(var o=0,u=1;u<=67108863;u*=B)o++;o--,u=u/B|0;for(var h=S.length-y,p=h%o,v=Math.min(h,h-p)+y,d=0,E=y;E<v;E+=o)d=l(S,E,E+o,B),this.imuln(u),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(p!==0){var w=1;for(d=l(S,E,S.length,B),E=0;E<p;E++)w*=B;this.imuln(w),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},i.prototype.copy=function(S){S.words=new Array(this.length);for(var B=0;B<this.length;B++)S.words[B]=this.words[B];S.length=this.length,S.negative=this.negative,S.red=this.red},i.prototype.clone=function(){var S=new i(null);return this.copy(S),S},i.prototype._expand=function(S){for(;this.length<S;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(S,B){S=S||10,B=B|0||1;var y;if(S===16||S==="hex"){y="";for(var o=0,u=0,h=0;h<this.length;h++){var p=this.words[h],v=((p<<o|u)&16777215).toString(16);u=p>>>24-o&16777215,u!==0||h!==this.length-1?y=g[6-v.length]+v+y:y=v+y,o+=2,o>=26&&(o-=26,h--)}for(u!==0&&(y=u.toString(16)+y);y.length%B!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(S===(S|0)&&S>=2&&S<=36){var d=m[S],E=A[S];y="";var w=this.clone();for(w.negative=0;!w.isZero();){var c=w.modn(E).toString(S);w=w.idivn(E),w.isZero()?y=c+y:y=g[d-c.length]+c+y}for(this.isZero()&&(y="0"+y);y.length%B!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var S=this.words[0];return this.length===2?S+=this.words[1]*67108864:this.length===3&&this.words[2]===1?S+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-S:S},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(S,B){return r(typeof a<"u"),this.toArrayLike(a,S,B)},i.prototype.toArray=function(S,B){return this.toArrayLike(Array,S,B)},i.prototype.toArrayLike=function(S,B,y){var o=this.byteLength(),u=y||Math.max(1,o);r(o<=u,"byte array longer than desired length"),r(u>0,"Requested array length <= 0"),this.strip();var h=B==="le",p=new S(u),v,d,E=this.clone();if(h){for(d=0;!E.isZero();d++)v=E.andln(255),E.iushrn(8),p[d]=v;for(;d<u;d++)p[d]=0}else{for(d=0;d<u-o;d++)p[d]=0;for(d=0;!E.isZero();d++)v=E.andln(255),E.iushrn(8),p[u-d-1]=v}return p},Math.clz32?i.prototype._countBits=function(S){return 32-Math.clz32(S)}:i.prototype._countBits=function(S){var B=S,y=0;return B>=4096&&(y+=13,B>>>=13),B>=64&&(y+=7,B>>>=7),B>=8&&(y+=4,B>>>=4),B>=2&&(y+=2,B>>>=2),y+B},i.prototype._zeroBits=function(S){if(S===0)return 26;var B=S,y=0;return(B&8191)===0&&(y+=13,B>>>=13),(B&127)===0&&(y+=7,B>>>=7),(B&15)===0&&(y+=4,B>>>=4),(B&3)===0&&(y+=2,B>>>=2),(B&1)===0&&y++,y},i.prototype.bitLength=function(){var S=this.words[this.length-1],B=this._countBits(S);return(this.length-1)*26+B};function I(q){for(var S=new Array(q.bitLength()),B=0;B<S.length;B++){var y=B/26|0,o=B%26;S[B]=(q.words[y]&1<<o)>>>o}return S}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var S=0,B=0;B<this.length;B++){var y=this._zeroBits(this.words[B]);if(S+=y,y!==26)break}return S},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(S){return this.negative!==0?this.abs().inotn(S).iaddn(1):this.clone()},i.prototype.fromTwos=function(S){return this.testn(S-1)?this.notn(S).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(S){for(;this.length<S.length;)this.words[this.length++]=0;for(var B=0;B<S.length;B++)this.words[B]=this.words[B]|S.words[B];return this.strip()},i.prototype.ior=function(S){return r((this.negative|S.negative)===0),this.iuor(S)},i.prototype.or=function(S){return this.length>S.length?this.clone().ior(S):S.clone().ior(this)},i.prototype.uor=function(S){return this.length>S.length?this.clone().iuor(S):S.clone().iuor(this)},i.prototype.iuand=function(S){var B;this.length>S.length?B=S:B=this;for(var y=0;y<B.length;y++)this.words[y]=this.words[y]&S.words[y];return this.length=B.length,this.strip()},i.prototype.iand=function(S){return r((this.negative|S.negative)===0),this.iuand(S)},i.prototype.and=function(S){return this.length>S.length?this.clone().iand(S):S.clone().iand(this)},i.prototype.uand=function(S){return this.length>S.length?this.clone().iuand(S):S.clone().iuand(this)},i.prototype.iuxor=function(S){var B,y;this.length>S.length?(B=this,y=S):(B=S,y=this);for(var o=0;o<y.length;o++)this.words[o]=B.words[o]^y.words[o];if(this!==B)for(;o<B.length;o++)this.words[o]=B.words[o];return this.length=B.length,this.strip()},i.prototype.ixor=function(S){return r((this.negative|S.negative)===0),this.iuxor(S)},i.prototype.xor=function(S){return this.length>S.length?this.clone().ixor(S):S.clone().ixor(this)},i.prototype.uxor=function(S){return this.length>S.length?this.clone().iuxor(S):S.clone().iuxor(this)},i.prototype.inotn=function(S){r(typeof S=="number"&&S>=0);var B=Math.ceil(S/26)|0,y=S%26;this._expand(B),y>0&&B--;for(var o=0;o<B;o++)this.words[o]=~this.words[o]&67108863;return y>0&&(this.words[o]=~this.words[o]&67108863>>26-y),this.strip()},i.prototype.notn=function(S){return this.clone().inotn(S)},i.prototype.setn=function(S,B){r(typeof S=="number"&&S>=0);var y=S/26|0,o=S%26;return this._expand(y+1),B?this.words[y]=this.words[y]|1<<o:this.words[y]=this.words[y]&~(1<<o),this.strip()},i.prototype.iadd=function(S){var B;if(this.negative!==0&&S.negative===0)return this.negative=0,B=this.isub(S),this.negative^=1,this._normSign();if(this.negative===0&&S.negative!==0)return S.negative=0,B=this.isub(S),S.negative=1,B._normSign();var y,o;this.length>S.length?(y=this,o=S):(y=S,o=this);for(var u=0,h=0;h<o.length;h++)B=(y.words[h]|0)+(o.words[h]|0)+u,this.words[h]=B&67108863,u=B>>>26;for(;u!==0&&h<y.length;h++)B=(y.words[h]|0)+u,this.words[h]=B&67108863,u=B>>>26;if(this.length=y.length,u!==0)this.words[this.length]=u,this.length++;else if(y!==this)for(;h<y.length;h++)this.words[h]=y.words[h];return this},i.prototype.add=function(S){var B;return S.negative!==0&&this.negative===0?(S.negative=0,B=this.sub(S),S.negative^=1,B):S.negative===0&&this.negative!==0?(this.negative=0,B=S.sub(this),this.negative=1,B):this.length>S.length?this.clone().iadd(S):S.clone().iadd(this)},i.prototype.isub=function(S){if(S.negative!==0){S.negative=0;var B=this.iadd(S);return S.negative=1,B._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(S),this.negative=1,this._normSign();var y=this.cmp(S);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var o,u;y>0?(o=this,u=S):(o=S,u=this);for(var h=0,p=0;p<u.length;p++)B=(o.words[p]|0)-(u.words[p]|0)+h,h=B>>26,this.words[p]=B&67108863;for(;h!==0&&p<o.length;p++)B=(o.words[p]|0)+h,h=B>>26,this.words[p]=B&67108863;if(h===0&&p<o.length&&o!==this)for(;p<o.length;p++)this.words[p]=o.words[p];return this.length=Math.max(this.length,p),o!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(S){return this.clone().isub(S)};function T(q,S,B){B.negative=S.negative^q.negative;var y=q.length+S.length|0;B.length=y,y=y-1|0;var o=q.words[0]|0,u=S.words[0]|0,h=o*u,p=h&67108863,v=h/67108864|0;B.words[0]=p;for(var d=1;d<y;d++){for(var E=v>>>26,w=v&67108863,c=Math.min(d,S.length-1),b=Math.max(0,d-q.length+1);b<=c;b++){var ue=d-b|0;o=q.words[ue]|0,u=S.words[b]|0,h=o*u+w,E+=h/67108864|0,w=h&67108863}B.words[d]=w|0,v=E|0}return v!==0?B.words[d]=v|0:B.length--,B.strip()}var O=function(S,B,y){var o=S.words,u=B.words,h=y.words,p=0,v,d,E,w=o[0]|0,c=w&8191,b=w>>>13,ue=o[1]|0,F=ue&8191,ne=ue>>>13,ce=o[2]|0,xe=ce&8191,M=ce>>>13,k=o[3]|0,C=k&8191,z=k>>>13,H=o[4]|0,j=H&8191,J=H>>>13,W=o[5]|0,K=W&8191,X=W>>>13,te=o[6]|0,ae=te&8191,$=te>>>13,oe=o[7]|0,le=oe&8191,Ee=oe>>>13,Be=o[8]|0,Ae=Be&8191,R=Be>>>13,V=o[9]|0,Q=V&8191,ve=V>>>13,Te=u[0]|0,Se=Te&8191,ie=Te>>>13,be=u[1]|0,ye=be&8191,me=be>>>13,qe=u[2]|0,Oe=qe&8191,Ie=qe>>>13,ot=u[3]|0,ke=ot&8191,Le=ot>>>13,gt=u[4]|0,Ce=gt&8191,Ue=gt>>>13,at=u[5]|0,Ke=at&8191,Ne=at>>>13,lt=u[6]|0,We=lt&8191,He=lt>>>13,wt=u[7]|0,ze=wt&8191,De=wt>>>13,Ut=u[8]|0,$e=Ut&8191,Ze=Ut>>>13,wr=u[9]|0,Je=wr&8191,Ve=wr>>>13;y.negative=S.negative^B.negative,y.length=19,v=Math.imul(c,Se),d=Math.imul(c,ie),d=d+Math.imul(b,Se)|0,E=Math.imul(b,ie);var nr=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(nr>>>26)|0,nr&=67108863,v=Math.imul(F,Se),d=Math.imul(F,ie),d=d+Math.imul(ne,Se)|0,E=Math.imul(ne,ie),v=v+Math.imul(c,ye)|0,d=d+Math.imul(c,me)|0,d=d+Math.imul(b,ye)|0,E=E+Math.imul(b,me)|0;var et=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(et>>>26)|0,et&=67108863,v=Math.imul(xe,Se),d=Math.imul(xe,ie),d=d+Math.imul(M,Se)|0,E=Math.imul(M,ie),v=v+Math.imul(F,ye)|0,d=d+Math.imul(F,me)|0,d=d+Math.imul(ne,ye)|0,E=E+Math.imul(ne,me)|0,v=v+Math.imul(c,Oe)|0,d=d+Math.imul(c,Ie)|0,d=d+Math.imul(b,Oe)|0,E=E+Math.imul(b,Ie)|0;var Xe=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(C,Se),d=Math.imul(C,ie),d=d+Math.imul(z,Se)|0,E=Math.imul(z,ie),v=v+Math.imul(xe,ye)|0,d=d+Math.imul(xe,me)|0,d=d+Math.imul(M,ye)|0,E=E+Math.imul(M,me)|0,v=v+Math.imul(F,Oe)|0,d=d+Math.imul(F,Ie)|0,d=d+Math.imul(ne,Oe)|0,E=E+Math.imul(ne,Ie)|0,v=v+Math.imul(c,ke)|0,d=d+Math.imul(c,Le)|0,d=d+Math.imul(b,ke)|0,E=E+Math.imul(b,Le)|0;var sr=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(sr>>>26)|0,sr&=67108863,v=Math.imul(j,Se),d=Math.imul(j,ie),d=d+Math.imul(J,Se)|0,E=Math.imul(J,ie),v=v+Math.imul(C,ye)|0,d=d+Math.imul(C,me)|0,d=d+Math.imul(z,ye)|0,E=E+Math.imul(z,me)|0,v=v+Math.imul(xe,Oe)|0,d=d+Math.imul(xe,Ie)|0,d=d+Math.imul(M,Oe)|0,E=E+Math.imul(M,Ie)|0,v=v+Math.imul(F,ke)|0,d=d+Math.imul(F,Le)|0,d=d+Math.imul(ne,ke)|0,E=E+Math.imul(ne,Le)|0,v=v+Math.imul(c,Ce)|0,d=d+Math.imul(c,Ue)|0,d=d+Math.imul(b,Ce)|0,E=E+Math.imul(b,Ue)|0;var Jt=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,v=Math.imul(K,Se),d=Math.imul(K,ie),d=d+Math.imul(X,Se)|0,E=Math.imul(X,ie),v=v+Math.imul(j,ye)|0,d=d+Math.imul(j,me)|0,d=d+Math.imul(J,ye)|0,E=E+Math.imul(J,me)|0,v=v+Math.imul(C,Oe)|0,d=d+Math.imul(C,Ie)|0,d=d+Math.imul(z,Oe)|0,E=E+Math.imul(z,Ie)|0,v=v+Math.imul(xe,ke)|0,d=d+Math.imul(xe,Le)|0,d=d+Math.imul(M,ke)|0,E=E+Math.imul(M,Le)|0,v=v+Math.imul(F,Ce)|0,d=d+Math.imul(F,Ue)|0,d=d+Math.imul(ne,Ce)|0,E=E+Math.imul(ne,Ue)|0,v=v+Math.imul(c,Ke)|0,d=d+Math.imul(c,Ne)|0,d=d+Math.imul(b,Ke)|0,E=E+Math.imul(b,Ne)|0;var Bt=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,v=Math.imul(ae,Se),d=Math.imul(ae,ie),d=d+Math.imul($,Se)|0,E=Math.imul($,ie),v=v+Math.imul(K,ye)|0,d=d+Math.imul(K,me)|0,d=d+Math.imul(X,ye)|0,E=E+Math.imul(X,me)|0,v=v+Math.imul(j,Oe)|0,d=d+Math.imul(j,Ie)|0,d=d+Math.imul(J,Oe)|0,E=E+Math.imul(J,Ie)|0,v=v+Math.imul(C,ke)|0,d=d+Math.imul(C,Le)|0,d=d+Math.imul(z,ke)|0,E=E+Math.imul(z,Le)|0,v=v+Math.imul(xe,Ce)|0,d=d+Math.imul(xe,Ue)|0,d=d+Math.imul(M,Ce)|0,E=E+Math.imul(M,Ue)|0,v=v+Math.imul(F,Ke)|0,d=d+Math.imul(F,Ne)|0,d=d+Math.imul(ne,Ke)|0,E=E+Math.imul(ne,Ne)|0,v=v+Math.imul(c,We)|0,d=d+Math.imul(c,He)|0,d=d+Math.imul(b,We)|0,E=E+Math.imul(b,He)|0;var yr=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(yr>>>26)|0,yr&=67108863,v=Math.imul(le,Se),d=Math.imul(le,ie),d=d+Math.imul(Ee,Se)|0,E=Math.imul(Ee,ie),v=v+Math.imul(ae,ye)|0,d=d+Math.imul(ae,me)|0,d=d+Math.imul($,ye)|0,E=E+Math.imul($,me)|0,v=v+Math.imul(K,Oe)|0,d=d+Math.imul(K,Ie)|0,d=d+Math.imul(X,Oe)|0,E=E+Math.imul(X,Ie)|0,v=v+Math.imul(j,ke)|0,d=d+Math.imul(j,Le)|0,d=d+Math.imul(J,ke)|0,E=E+Math.imul(J,Le)|0,v=v+Math.imul(C,Ce)|0,d=d+Math.imul(C,Ue)|0,d=d+Math.imul(z,Ce)|0,E=E+Math.imul(z,Ue)|0,v=v+Math.imul(xe,Ke)|0,d=d+Math.imul(xe,Ne)|0,d=d+Math.imul(M,Ke)|0,E=E+Math.imul(M,Ne)|0,v=v+Math.imul(F,We)|0,d=d+Math.imul(F,He)|0,d=d+Math.imul(ne,We)|0,E=E+Math.imul(ne,He)|0,v=v+Math.imul(c,ze)|0,d=d+Math.imul(c,De)|0,d=d+Math.imul(b,ze)|0,E=E+Math.imul(b,De)|0;var ir=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(ir>>>26)|0,ir&=67108863,v=Math.imul(Ae,Se),d=Math.imul(Ae,ie),d=d+Math.imul(R,Se)|0,E=Math.imul(R,ie),v=v+Math.imul(le,ye)|0,d=d+Math.imul(le,me)|0,d=d+Math.imul(Ee,ye)|0,E=E+Math.imul(Ee,me)|0,v=v+Math.imul(ae,Oe)|0,d=d+Math.imul(ae,Ie)|0,d=d+Math.imul($,Oe)|0,E=E+Math.imul($,Ie)|0,v=v+Math.imul(K,ke)|0,d=d+Math.imul(K,Le)|0,d=d+Math.imul(X,ke)|0,E=E+Math.imul(X,Le)|0,v=v+Math.imul(j,Ce)|0,d=d+Math.imul(j,Ue)|0,d=d+Math.imul(J,Ce)|0,E=E+Math.imul(J,Ue)|0,v=v+Math.imul(C,Ke)|0,d=d+Math.imul(C,Ne)|0,d=d+Math.imul(z,Ke)|0,E=E+Math.imul(z,Ne)|0,v=v+Math.imul(xe,We)|0,d=d+Math.imul(xe,He)|0,d=d+Math.imul(M,We)|0,E=E+Math.imul(M,He)|0,v=v+Math.imul(F,ze)|0,d=d+Math.imul(F,De)|0,d=d+Math.imul(ne,ze)|0,E=E+Math.imul(ne,De)|0,v=v+Math.imul(c,$e)|0,d=d+Math.imul(c,Ze)|0,d=d+Math.imul(b,$e)|0,E=E+Math.imul(b,Ze)|0;var Dr=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,v=Math.imul(Q,Se),d=Math.imul(Q,ie),d=d+Math.imul(ve,Se)|0,E=Math.imul(ve,ie),v=v+Math.imul(Ae,ye)|0,d=d+Math.imul(Ae,me)|0,d=d+Math.imul(R,ye)|0,E=E+Math.imul(R,me)|0,v=v+Math.imul(le,Oe)|0,d=d+Math.imul(le,Ie)|0,d=d+Math.imul(Ee,Oe)|0,E=E+Math.imul(Ee,Ie)|0,v=v+Math.imul(ae,ke)|0,d=d+Math.imul(ae,Le)|0,d=d+Math.imul($,ke)|0,E=E+Math.imul($,Le)|0,v=v+Math.imul(K,Ce)|0,d=d+Math.imul(K,Ue)|0,d=d+Math.imul(X,Ce)|0,E=E+Math.imul(X,Ue)|0,v=v+Math.imul(j,Ke)|0,d=d+Math.imul(j,Ne)|0,d=d+Math.imul(J,Ke)|0,E=E+Math.imul(J,Ne)|0,v=v+Math.imul(C,We)|0,d=d+Math.imul(C,He)|0,d=d+Math.imul(z,We)|0,E=E+Math.imul(z,He)|0,v=v+Math.imul(xe,ze)|0,d=d+Math.imul(xe,De)|0,d=d+Math.imul(M,ze)|0,E=E+Math.imul(M,De)|0,v=v+Math.imul(F,$e)|0,d=d+Math.imul(F,Ze)|0,d=d+Math.imul(ne,$e)|0,E=E+Math.imul(ne,Ze)|0,v=v+Math.imul(c,Je)|0,d=d+Math.imul(c,Ve)|0,d=d+Math.imul(b,Je)|0,E=E+Math.imul(b,Ve)|0;var xr=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(xr>>>26)|0,xr&=67108863,v=Math.imul(Q,ye),d=Math.imul(Q,me),d=d+Math.imul(ve,ye)|0,E=Math.imul(ve,me),v=v+Math.imul(Ae,Oe)|0,d=d+Math.imul(Ae,Ie)|0,d=d+Math.imul(R,Oe)|0,E=E+Math.imul(R,Ie)|0,v=v+Math.imul(le,ke)|0,d=d+Math.imul(le,Le)|0,d=d+Math.imul(Ee,ke)|0,E=E+Math.imul(Ee,Le)|0,v=v+Math.imul(ae,Ce)|0,d=d+Math.imul(ae,Ue)|0,d=d+Math.imul($,Ce)|0,E=E+Math.imul($,Ue)|0,v=v+Math.imul(K,Ke)|0,d=d+Math.imul(K,Ne)|0,d=d+Math.imul(X,Ke)|0,E=E+Math.imul(X,Ne)|0,v=v+Math.imul(j,We)|0,d=d+Math.imul(j,He)|0,d=d+Math.imul(J,We)|0,E=E+Math.imul(J,He)|0,v=v+Math.imul(C,ze)|0,d=d+Math.imul(C,De)|0,d=d+Math.imul(z,ze)|0,E=E+Math.imul(z,De)|0,v=v+Math.imul(xe,$e)|0,d=d+Math.imul(xe,Ze)|0,d=d+Math.imul(M,$e)|0,E=E+Math.imul(M,Ze)|0,v=v+Math.imul(F,Je)|0,d=d+Math.imul(F,Ve)|0,d=d+Math.imul(ne,Je)|0,E=E+Math.imul(ne,Ve)|0;var qr=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(qr>>>26)|0,qr&=67108863,v=Math.imul(Q,Oe),d=Math.imul(Q,Ie),d=d+Math.imul(ve,Oe)|0,E=Math.imul(ve,Ie),v=v+Math.imul(Ae,ke)|0,d=d+Math.imul(Ae,Le)|0,d=d+Math.imul(R,ke)|0,E=E+Math.imul(R,Le)|0,v=v+Math.imul(le,Ce)|0,d=d+Math.imul(le,Ue)|0,d=d+Math.imul(Ee,Ce)|0,E=E+Math.imul(Ee,Ue)|0,v=v+Math.imul(ae,Ke)|0,d=d+Math.imul(ae,Ne)|0,d=d+Math.imul($,Ke)|0,E=E+Math.imul($,Ne)|0,v=v+Math.imul(K,We)|0,d=d+Math.imul(K,He)|0,d=d+Math.imul(X,We)|0,E=E+Math.imul(X,He)|0,v=v+Math.imul(j,ze)|0,d=d+Math.imul(j,De)|0,d=d+Math.imul(J,ze)|0,E=E+Math.imul(J,De)|0,v=v+Math.imul(C,$e)|0,d=d+Math.imul(C,Ze)|0,d=d+Math.imul(z,$e)|0,E=E+Math.imul(z,Ze)|0,v=v+Math.imul(xe,Je)|0,d=d+Math.imul(xe,Ve)|0,d=d+Math.imul(M,Je)|0,E=E+Math.imul(M,Ve)|0;var _r=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(_r>>>26)|0,_r&=67108863,v=Math.imul(Q,ke),d=Math.imul(Q,Le),d=d+Math.imul(ve,ke)|0,E=Math.imul(ve,Le),v=v+Math.imul(Ae,Ce)|0,d=d+Math.imul(Ae,Ue)|0,d=d+Math.imul(R,Ce)|0,E=E+Math.imul(R,Ue)|0,v=v+Math.imul(le,Ke)|0,d=d+Math.imul(le,Ne)|0,d=d+Math.imul(Ee,Ke)|0,E=E+Math.imul(Ee,Ne)|0,v=v+Math.imul(ae,We)|0,d=d+Math.imul(ae,He)|0,d=d+Math.imul($,We)|0,E=E+Math.imul($,He)|0,v=v+Math.imul(K,ze)|0,d=d+Math.imul(K,De)|0,d=d+Math.imul(X,ze)|0,E=E+Math.imul(X,De)|0,v=v+Math.imul(j,$e)|0,d=d+Math.imul(j,Ze)|0,d=d+Math.imul(J,$e)|0,E=E+Math.imul(J,Ze)|0,v=v+Math.imul(C,Je)|0,d=d+Math.imul(C,Ve)|0,d=d+Math.imul(z,Je)|0,E=E+Math.imul(z,Ve)|0;var Ur=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,v=Math.imul(Q,Ce),d=Math.imul(Q,Ue),d=d+Math.imul(ve,Ce)|0,E=Math.imul(ve,Ue),v=v+Math.imul(Ae,Ke)|0,d=d+Math.imul(Ae,Ne)|0,d=d+Math.imul(R,Ke)|0,E=E+Math.imul(R,Ne)|0,v=v+Math.imul(le,We)|0,d=d+Math.imul(le,He)|0,d=d+Math.imul(Ee,We)|0,E=E+Math.imul(Ee,He)|0,v=v+Math.imul(ae,ze)|0,d=d+Math.imul(ae,De)|0,d=d+Math.imul($,ze)|0,E=E+Math.imul($,De)|0,v=v+Math.imul(K,$e)|0,d=d+Math.imul(K,Ze)|0,d=d+Math.imul(X,$e)|0,E=E+Math.imul(X,Ze)|0,v=v+Math.imul(j,Je)|0,d=d+Math.imul(j,Ve)|0,d=d+Math.imul(J,Je)|0,E=E+Math.imul(J,Ve)|0;var Rr=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,v=Math.imul(Q,Ke),d=Math.imul(Q,Ne),d=d+Math.imul(ve,Ke)|0,E=Math.imul(ve,Ne),v=v+Math.imul(Ae,We)|0,d=d+Math.imul(Ae,He)|0,d=d+Math.imul(R,We)|0,E=E+Math.imul(R,He)|0,v=v+Math.imul(le,ze)|0,d=d+Math.imul(le,De)|0,d=d+Math.imul(Ee,ze)|0,E=E+Math.imul(Ee,De)|0,v=v+Math.imul(ae,$e)|0,d=d+Math.imul(ae,Ze)|0,d=d+Math.imul($,$e)|0,E=E+Math.imul($,Ze)|0,v=v+Math.imul(K,Je)|0,d=d+Math.imul(K,Ve)|0,d=d+Math.imul(X,Je)|0,E=E+Math.imul(X,Ve)|0;var Fr=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,v=Math.imul(Q,We),d=Math.imul(Q,He),d=d+Math.imul(ve,We)|0,E=Math.imul(ve,He),v=v+Math.imul(Ae,ze)|0,d=d+Math.imul(Ae,De)|0,d=d+Math.imul(R,ze)|0,E=E+Math.imul(R,De)|0,v=v+Math.imul(le,$e)|0,d=d+Math.imul(le,Ze)|0,d=d+Math.imul(Ee,$e)|0,E=E+Math.imul(Ee,Ze)|0,v=v+Math.imul(ae,Je)|0,d=d+Math.imul(ae,Ve)|0,d=d+Math.imul($,Je)|0,E=E+Math.imul($,Ve)|0;var Er=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,v=Math.imul(Q,ze),d=Math.imul(Q,De),d=d+Math.imul(ve,ze)|0,E=Math.imul(ve,De),v=v+Math.imul(Ae,$e)|0,d=d+Math.imul(Ae,Ze)|0,d=d+Math.imul(R,$e)|0,E=E+Math.imul(R,Ze)|0,v=v+Math.imul(le,Je)|0,d=d+Math.imul(le,Ve)|0,d=d+Math.imul(Ee,Je)|0,E=E+Math.imul(Ee,Ve)|0;var kr=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,v=Math.imul(Q,$e),d=Math.imul(Q,Ze),d=d+Math.imul(ve,$e)|0,E=Math.imul(ve,Ze),v=v+Math.imul(Ae,Je)|0,d=d+Math.imul(Ae,Ve)|0,d=d+Math.imul(R,Je)|0,E=E+Math.imul(R,Ve)|0;var nn=(p+v|0)+((d&8191)<<13)|0;p=(E+(d>>>13)|0)+(nn>>>26)|0,nn&=67108863,v=Math.imul(Q,Je),d=Math.imul(Q,Ve),d=d+Math.imul(ve,Je)|0,E=Math.imul(ve,Ve);var an=(p+v|0)+((d&8191)<<13)|0;return p=(E+(d>>>13)|0)+(an>>>26)|0,an&=67108863,h[0]=nr,h[1]=et,h[2]=Xe,h[3]=sr,h[4]=Jt,h[5]=Bt,h[6]=yr,h[7]=ir,h[8]=Dr,h[9]=xr,h[10]=qr,h[11]=_r,h[12]=Ur,h[13]=Rr,h[14]=Fr,h[15]=Er,h[16]=kr,h[17]=nn,h[18]=an,p!==0&&(h[19]=p,y.length++),y};Math.imul||(O=T);function U(q,S,B){B.negative=S.negative^q.negative,B.length=q.length+S.length;for(var y=0,o=0,u=0;u<B.length-1;u++){var h=o;o=0;for(var p=y&67108863,v=Math.min(u,S.length-1),d=Math.max(0,u-q.length+1);d<=v;d++){var E=u-d,w=q.words[E]|0,c=S.words[d]|0,b=w*c,ue=b&67108863;h=h+(b/67108864|0)|0,ue=ue+p|0,p=ue&67108863,h=h+(ue>>>26)|0,o+=h>>>26,h&=67108863}B.words[u]=p,y=h,h=o}return y!==0?B.words[u]=y:B.length--,B.strip()}function Z(q,S,B){var y=new Y;return y.mulp(q,S,B)}i.prototype.mulTo=function(S,B){var y,o=this.length+S.length;return this.length===10&&S.length===10?y=O(this,S,B):o<63?y=T(this,S,B):o<1024?y=U(this,S,B):y=Z(this,S,B),y};function Y(q,S){this.x=q,this.y=S}Y.prototype.makeRBT=function(S){for(var B=new Array(S),y=i.prototype._countBits(S)-1,o=0;o<S;o++)B[o]=this.revBin(o,y,S);return B},Y.prototype.revBin=function(S,B,y){if(S===0||S===y-1)return S;for(var o=0,u=0;u<B;u++)o|=(S&1)<<B-u-1,S>>=1;return o},Y.prototype.permute=function(S,B,y,o,u,h){for(var p=0;p<h;p++)o[p]=B[S[p]],u[p]=y[S[p]]},Y.prototype.transform=function(S,B,y,o,u,h){this.permute(h,S,B,y,o,u);for(var p=1;p<u;p<<=1)for(var v=p<<1,d=Math.cos(2*Math.PI/v),E=Math.sin(2*Math.PI/v),w=0;w<u;w+=v)for(var c=d,b=E,ue=0;ue<p;ue++){var F=y[w+ue],ne=o[w+ue],ce=y[w+ue+p],xe=o[w+ue+p],M=c*ce-b*xe;xe=c*xe+b*ce,ce=M,y[w+ue]=F+ce,o[w+ue]=ne+xe,y[w+ue+p]=F-ce,o[w+ue+p]=ne-xe,ue!==v&&(M=d*c-E*b,b=d*b+E*c,c=M)}},Y.prototype.guessLen13b=function(S,B){var y=Math.max(B,S)|1,o=y&1,u=0;for(y=y/2|0;y;y=y>>>1)u++;return 1<<u+1+o},Y.prototype.conjugate=function(S,B,y){if(!(y<=1))for(var o=0;o<y/2;o++){var u=S[o];S[o]=S[y-o-1],S[y-o-1]=u,u=B[o],B[o]=-B[y-o-1],B[y-o-1]=-u}},Y.prototype.normalize13b=function(S,B){for(var y=0,o=0;o<B/2;o++){var u=Math.round(S[2*o+1]/B)*8192+Math.round(S[2*o]/B)+y;S[o]=u&67108863,u<67108864?y=0:y=u/67108864|0}return S},Y.prototype.convert13b=function(S,B,y,o){for(var u=0,h=0;h<B;h++)u=u+(S[h]|0),y[2*h]=u&8191,u=u>>>13,y[2*h+1]=u&8191,u=u>>>13;for(h=2*B;h<o;++h)y[h]=0;r(u===0),r((u&-8192)===0)},Y.prototype.stub=function(S){for(var B=new Array(S),y=0;y<S;y++)B[y]=0;return B},Y.prototype.mulp=function(S,B,y){var o=2*this.guessLen13b(S.length,B.length),u=this.makeRBT(o),h=this.stub(o),p=new Array(o),v=new Array(o),d=new Array(o),E=new Array(o),w=new Array(o),c=new Array(o),b=y.words;b.length=o,this.convert13b(S.words,S.length,p,o),this.convert13b(B.words,B.length,E,o),this.transform(p,h,v,d,o,u),this.transform(E,h,w,c,o,u);for(var ue=0;ue<o;ue++){var F=v[ue]*w[ue]-d[ue]*c[ue];d[ue]=v[ue]*c[ue]+d[ue]*w[ue],v[ue]=F}return this.conjugate(v,d,o),this.transform(v,d,b,h,o,u),this.conjugate(b,h,o),this.normalize13b(b,o),y.negative=S.negative^B.negative,y.length=S.length+B.length,y.strip()},i.prototype.mul=function(S){var B=new i(null);return B.words=new Array(this.length+S.length),this.mulTo(S,B)},i.prototype.mulf=function(S){var B=new i(null);return B.words=new Array(this.length+S.length),Z(this,S,B)},i.prototype.imul=function(S){return this.clone().mulTo(S,this)},i.prototype.imuln=function(S){r(typeof S=="number"),r(S<67108864);for(var B=0,y=0;y<this.length;y++){var o=(this.words[y]|0)*S,u=(o&67108863)+(B&67108863);B>>=26,B+=o/67108864|0,B+=u>>>26,this.words[y]=u&67108863}return B!==0&&(this.words[y]=B,this.length++),this},i.prototype.muln=function(S){return this.clone().imuln(S)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(S){var B=I(S);if(B.length===0)return new i(1);for(var y=this,o=0;o<B.length&&B[o]===0;o++,y=y.sqr());if(++o<B.length)for(var u=y.sqr();o<B.length;o++,u=u.sqr())B[o]!==0&&(y=y.mul(u));return y},i.prototype.iushln=function(S){r(typeof S=="number"&&S>=0);var B=S%26,y=(S-B)/26,o=67108863>>>26-B<<26-B,u;if(B!==0){var h=0;for(u=0;u<this.length;u++){var p=this.words[u]&o,v=(this.words[u]|0)-p<<B;this.words[u]=v|h,h=p>>>26-B}h&&(this.words[u]=h,this.length++)}if(y!==0){for(u=this.length-1;u>=0;u--)this.words[u+y]=this.words[u];for(u=0;u<y;u++)this.words[u]=0;this.length+=y}return this.strip()},i.prototype.ishln=function(S){return r(this.negative===0),this.iushln(S)},i.prototype.iushrn=function(S,B,y){r(typeof S=="number"&&S>=0);var o;B?o=(B-B%26)/26:o=0;var u=S%26,h=Math.min((S-u)/26,this.length),p=67108863^67108863>>>u<<u,v=y;if(o-=h,o=Math.max(0,o),v){for(var d=0;d<h;d++)v.words[d]=this.words[d];v.length=h}if(h!==0)if(this.length>h)for(this.length-=h,d=0;d<this.length;d++)this.words[d]=this.words[d+h];else this.words[0]=0,this.length=1;var E=0;for(d=this.length-1;d>=0&&(E!==0||d>=o);d--){var w=this.words[d]|0;this.words[d]=E<<26-u|w>>>u,E=w&p}return v&&E!==0&&(v.words[v.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(S,B,y){return r(this.negative===0),this.iushrn(S,B,y)},i.prototype.shln=function(S){return this.clone().ishln(S)},i.prototype.ushln=function(S){return this.clone().iushln(S)},i.prototype.shrn=function(S){return this.clone().ishrn(S)},i.prototype.ushrn=function(S){return this.clone().iushrn(S)},i.prototype.testn=function(S){r(typeof S=="number"&&S>=0);var B=S%26,y=(S-B)/26,o=1<<B;if(this.length<=y)return!1;var u=this.words[y];return!!(u&o)},i.prototype.imaskn=function(S){r(typeof S=="number"&&S>=0);var B=S%26,y=(S-B)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(B!==0&&y++,this.length=Math.min(y,this.length),B!==0){var o=67108863^67108863>>>B<<B;this.words[this.length-1]&=o}return this.strip()},i.prototype.maskn=function(S){return this.clone().imaskn(S)},i.prototype.iaddn=function(S){return r(typeof S=="number"),r(S<67108864),S<0?this.isubn(-S):this.negative!==0?this.length===1&&(this.words[0]|0)<S?(this.words[0]=S-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(S),this.negative=1,this):this._iaddn(S)},i.prototype._iaddn=function(S){this.words[0]+=S;for(var B=0;B<this.length&&this.words[B]>=67108864;B++)this.words[B]-=67108864,B===this.length-1?this.words[B+1]=1:this.words[B+1]++;return this.length=Math.max(this.length,B+1),this},i.prototype.isubn=function(S){if(r(typeof S=="number"),r(S<67108864),S<0)return this.iaddn(-S);if(this.negative!==0)return this.negative=0,this.iaddn(S),this.negative=1,this;if(this.words[0]-=S,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var B=0;B<this.length&&this.words[B]<0;B++)this.words[B]+=67108864,this.words[B+1]-=1;return this.strip()},i.prototype.addn=function(S){return this.clone().iaddn(S)},i.prototype.subn=function(S){return this.clone().isubn(S)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(S,B,y){var o=S.length+y,u;this._expand(o);var h,p=0;for(u=0;u<S.length;u++){h=(this.words[u+y]|0)+p;var v=(S.words[u]|0)*B;h-=v&67108863,p=(h>>26)-(v/67108864|0),this.words[u+y]=h&67108863}for(;u<this.length-y;u++)h=(this.words[u+y]|0)+p,p=h>>26,this.words[u+y]=h&67108863;if(p===0)return this.strip();for(r(p===-1),p=0,u=0;u<this.length;u++)h=-(this.words[u]|0)+p,p=h>>26,this.words[u]=h&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(S,B){var y=this.length-S.length,o=this.clone(),u=S,h=u.words[u.length-1]|0,p=this._countBits(h);y=26-p,y!==0&&(u=u.ushln(y),o.iushln(y),h=u.words[u.length-1]|0);var v=o.length-u.length,d;if(B!=="mod"){d=new i(null),d.length=v+1,d.words=new Array(d.length);for(var E=0;E<d.length;E++)d.words[E]=0}var w=o.clone()._ishlnsubmul(u,1,v);w.negative===0&&(o=w,d&&(d.words[v]=1));for(var c=v-1;c>=0;c--){var b=(o.words[u.length+c]|0)*67108864+(o.words[u.length+c-1]|0);for(b=Math.min(b/h|0,67108863),o._ishlnsubmul(u,b,c);o.negative!==0;)b--,o.negative=0,o._ishlnsubmul(u,1,c),o.isZero()||(o.negative^=1);d&&(d.words[c]=b)}return d&&d.strip(),o.strip(),B!=="div"&&y!==0&&o.iushrn(y),{div:d||null,mod:o}},i.prototype.divmod=function(S,B,y){if(r(!S.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var o,u,h;return this.negative!==0&&S.negative===0?(h=this.neg().divmod(S,B),B!=="mod"&&(o=h.div.neg()),B!=="div"&&(u=h.mod.neg(),y&&u.negative!==0&&u.iadd(S)),{div:o,mod:u}):this.negative===0&&S.negative!==0?(h=this.divmod(S.neg(),B),B!=="mod"&&(o=h.div.neg()),{div:o,mod:h.mod}):(this.negative&S.negative)!==0?(h=this.neg().divmod(S.neg(),B),B!=="div"&&(u=h.mod.neg(),y&&u.negative!==0&&u.isub(S)),{div:h.div,mod:u}):S.length>this.length||this.cmp(S)<0?{div:new i(0),mod:this}:S.length===1?B==="div"?{div:this.divn(S.words[0]),mod:null}:B==="mod"?{div:null,mod:new i(this.modn(S.words[0]))}:{div:this.divn(S.words[0]),mod:new i(this.modn(S.words[0]))}:this._wordDiv(S,B)},i.prototype.div=function(S){return this.divmod(S,"div",!1).div},i.prototype.mod=function(S){return this.divmod(S,"mod",!1).mod},i.prototype.umod=function(S){return this.divmod(S,"mod",!0).mod},i.prototype.divRound=function(S){var B=this.divmod(S);if(B.mod.isZero())return B.div;var y=B.div.negative!==0?B.mod.isub(S):B.mod,o=S.ushrn(1),u=S.andln(1),h=y.cmp(o);return h<0||u===1&&h===0?B.div:B.div.negative!==0?B.div.isubn(1):B.div.iaddn(1)},i.prototype.modn=function(S){r(S<=67108863);for(var B=(1<<26)%S,y=0,o=this.length-1;o>=0;o--)y=(B*y+(this.words[o]|0))%S;return y},i.prototype.idivn=function(S){r(S<=67108863);for(var B=0,y=this.length-1;y>=0;y--){var o=(this.words[y]|0)+B*67108864;this.words[y]=o/S|0,B=o%S}return this.strip()},i.prototype.divn=function(S){return this.clone().idivn(S)},i.prototype.egcd=function(S){r(S.negative===0),r(!S.isZero());var B=this,y=S.clone();B.negative!==0?B=B.umod(S):B=B.clone();for(var o=new i(1),u=new i(0),h=new i(0),p=new i(1),v=0;B.isEven()&&y.isEven();)B.iushrn(1),y.iushrn(1),++v;for(var d=y.clone(),E=B.clone();!B.isZero();){for(var w=0,c=1;(B.words[0]&c)===0&&w<26;++w,c<<=1);if(w>0)for(B.iushrn(w);w-- >0;)(o.isOdd()||u.isOdd())&&(o.iadd(d),u.isub(E)),o.iushrn(1),u.iushrn(1);for(var b=0,ue=1;(y.words[0]&ue)===0&&b<26;++b,ue<<=1);if(b>0)for(y.iushrn(b);b-- >0;)(h.isOdd()||p.isOdd())&&(h.iadd(d),p.isub(E)),h.iushrn(1),p.iushrn(1);B.cmp(y)>=0?(B.isub(y),o.isub(h),u.isub(p)):(y.isub(B),h.isub(o),p.isub(u))}return{a:h,b:p,gcd:y.iushln(v)}},i.prototype._invmp=function(S){r(S.negative===0),r(!S.isZero());var B=this,y=S.clone();B.negative!==0?B=B.umod(S):B=B.clone();for(var o=new i(1),u=new i(0),h=y.clone();B.cmpn(1)>0&&y.cmpn(1)>0;){for(var p=0,v=1;(B.words[0]&v)===0&&p<26;++p,v<<=1);if(p>0)for(B.iushrn(p);p-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var d=0,E=1;(y.words[0]&E)===0&&d<26;++d,E<<=1);if(d>0)for(y.iushrn(d);d-- >0;)u.isOdd()&&u.iadd(h),u.iushrn(1);B.cmp(y)>=0?(B.isub(y),o.isub(u)):(y.isub(B),u.isub(o))}var w;return B.cmpn(1)===0?w=o:w=u,w.cmpn(0)<0&&w.iadd(S),w},i.prototype.gcd=function(S){if(this.isZero())return S.abs();if(S.isZero())return this.abs();var B=this.clone(),y=S.clone();B.negative=0,y.negative=0;for(var o=0;B.isEven()&&y.isEven();o++)B.iushrn(1),y.iushrn(1);do{for(;B.isEven();)B.iushrn(1);for(;y.isEven();)y.iushrn(1);var u=B.cmp(y);if(u<0){var h=B;B=y,y=h}else if(u===0||y.cmpn(1)===0)break;B.isub(y)}while(!0);return y.iushln(o)},i.prototype.invm=function(S){return this.egcd(S).a.umod(S)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(S){return this.words[0]&S},i.prototype.bincn=function(S){r(typeof S=="number");var B=S%26,y=(S-B)/26,o=1<<B;if(this.length<=y)return this._expand(y+1),this.words[y]|=o,this;for(var u=o,h=y;u!==0&&h<this.length;h++){var p=this.words[h]|0;p+=u,u=p>>>26,p&=67108863,this.words[h]=p}return u!==0&&(this.words[h]=u,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(S){var B=S<0;if(this.negative!==0&&!B)return-1;if(this.negative===0&&B)return 1;this.strip();var y;if(this.length>1)y=1;else{B&&(S=-S),r(S<=67108863,"Number is too big");var o=this.words[0]|0;y=o===S?0:o<S?-1:1}return this.negative!==0?-y|0:y},i.prototype.cmp=function(S){if(this.negative!==0&&S.negative===0)return-1;if(this.negative===0&&S.negative!==0)return 1;var B=this.ucmp(S);return this.negative!==0?-B|0:B},i.prototype.ucmp=function(S){if(this.length>S.length)return 1;if(this.length<S.length)return-1;for(var B=0,y=this.length-1;y>=0;y--){var o=this.words[y]|0,u=S.words[y]|0;if(o!==u){o<u?B=-1:o>u&&(B=1);break}}return B},i.prototype.gtn=function(S){return this.cmpn(S)===1},i.prototype.gt=function(S){return this.cmp(S)===1},i.prototype.gten=function(S){return this.cmpn(S)>=0},i.prototype.gte=function(S){return this.cmp(S)>=0},i.prototype.ltn=function(S){return this.cmpn(S)===-1},i.prototype.lt=function(S){return this.cmp(S)===-1},i.prototype.lten=function(S){return this.cmpn(S)<=0},i.prototype.lte=function(S){return this.cmp(S)<=0},i.prototype.eqn=function(S){return this.cmpn(S)===0},i.prototype.eq=function(S){return this.cmp(S)===0},i.red=function(S){return new G(S)},i.prototype.toRed=function(S){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),S.convertTo(this)._forceRed(S)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(S){return this.red=S,this},i.prototype.forceRed=function(S){return r(!this.red,"Already a number in reduction context"),this._forceRed(S)},i.prototype.redAdd=function(S){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,S)},i.prototype.redIAdd=function(S){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,S)},i.prototype.redSub=function(S){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,S)},i.prototype.redISub=function(S){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,S)},i.prototype.redShl=function(S){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,S)},i.prototype.redMul=function(S){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.mul(this,S)},i.prototype.redIMul=function(S){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.imul(this,S)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(S){return r(this.red&&!S.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,S)};var re={k256:null,p224:null,p192:null,p25519:null};function pe(q,S){this.name=q,this.p=new i(S,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}pe.prototype._tmp=function(){var S=new i(null);return S.words=new Array(Math.ceil(this.n/13)),S},pe.prototype.ireduce=function(S){var B=S,y;do this.split(B,this.tmp),B=this.imulK(B),B=B.iadd(this.tmp),y=B.bitLength();while(y>this.n);var o=y<this.n?-1:B.ucmp(this.p);return o===0?(B.words[0]=0,B.length=1):o>0?B.isub(this.p):B.strip!==void 0?B.strip():B._strip(),B},pe.prototype.split=function(S,B){S.iushrn(this.n,0,B)},pe.prototype.imulK=function(S){return S.imul(this.k)};function he(){pe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(he,pe),he.prototype.split=function(S,B){for(var y=4194303,o=Math.min(S.length,9),u=0;u<o;u++)B.words[u]=S.words[u];if(B.length=o,S.length<=9){S.words[0]=0,S.length=1;return}var h=S.words[9];for(B.words[B.length++]=h&y,u=10;u<S.length;u++){var p=S.words[u]|0;S.words[u-10]=(p&y)<<4|h>>>22,h=p}h>>>=22,S.words[u-10]=h,h===0&&S.length>10?S.length-=10:S.length-=9},he.prototype.imulK=function(S){S.words[S.length]=0,S.words[S.length+1]=0,S.length+=2;for(var B=0,y=0;y<S.length;y++){var o=S.words[y]|0;B+=o*977,S.words[y]=B&67108863,B=o*64+(B/67108864|0)}return S.words[S.length-1]===0&&(S.length--,S.words[S.length-1]===0&&S.length--),S};function se(){pe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(se,pe);function fe(){pe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(fe,pe);function de(){pe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(de,pe),de.prototype.imulK=function(S){for(var B=0,y=0;y<S.length;y++){var o=(S.words[y]|0)*19+B,u=o&67108863;o>>>=26,S.words[y]=u,B=o}return B!==0&&(S.words[S.length++]=B),S},i._prime=function(S){if(re[S])return re[S];var B;if(S==="k256")B=new he;else if(S==="p224")B=new se;else if(S==="p192")B=new fe;else if(S==="p25519")B=new de;else throw new Error("Unknown prime "+S);return re[S]=B,B};function G(q){if(typeof q=="string"){var S=i._prime(q);this.m=S.p,this.prime=S}else r(q.gtn(1),"modulus must be greater than 1"),this.m=q,this.prime=null}G.prototype._verify1=function(S){r(S.negative===0,"red works only with positives"),r(S.red,"red works only with red numbers")},G.prototype._verify2=function(S,B){r((S.negative|B.negative)===0,"red works only with positives"),r(S.red&&S.red===B.red,"red works only with red numbers")},G.prototype.imod=function(S){return this.prime?this.prime.ireduce(S)._forceRed(this):S.umod(this.m)._forceRed(this)},G.prototype.neg=function(S){return S.isZero()?S.clone():this.m.sub(S)._forceRed(this)},G.prototype.add=function(S,B){this._verify2(S,B);var y=S.add(B);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},G.prototype.iadd=function(S,B){this._verify2(S,B);var y=S.iadd(B);return y.cmp(this.m)>=0&&y.isub(this.m),y},G.prototype.sub=function(S,B){this._verify2(S,B);var y=S.sub(B);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},G.prototype.isub=function(S,B){this._verify2(S,B);var y=S.isub(B);return y.cmpn(0)<0&&y.iadd(this.m),y},G.prototype.shl=function(S,B){return this._verify1(S),this.imod(S.ushln(B))},G.prototype.imul=function(S,B){return this._verify2(S,B),this.imod(S.imul(B))},G.prototype.mul=function(S,B){return this._verify2(S,B),this.imod(S.mul(B))},G.prototype.isqr=function(S){return this.imul(S,S.clone())},G.prototype.sqr=function(S){return this.mul(S,S)},G.prototype.sqrt=function(S){if(S.isZero())return S.clone();var B=this.m.andln(3);if(r(B%2===1),B===3){var y=this.m.add(new i(1)).iushrn(2);return this.pow(S,y)}for(var o=this.m.subn(1),u=0;!o.isZero()&&o.andln(1)===0;)u++,o.iushrn(1);r(!o.isZero());var h=new i(1).toRed(this),p=h.redNeg(),v=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);this.pow(d,v).cmp(p)!==0;)d.redIAdd(p);for(var E=this.pow(d,o),w=this.pow(S,o.addn(1).iushrn(1)),c=this.pow(S,o),b=u;c.cmp(h)!==0;){for(var ue=c,F=0;ue.cmp(h)!==0;F++)ue=ue.redSqr();r(F<b);var ne=this.pow(E,new i(1).iushln(b-F-1));w=w.redMul(ne),E=ne.redSqr(),c=c.redMul(E),b=F}return w},G.prototype.invm=function(S){var B=S._invmp(this.m);return B.negative!==0?(B.negative=0,this.imod(B).redNeg()):this.imod(B)},G.prototype.pow=function(S,B){if(B.isZero())return new i(1).toRed(this);if(B.cmpn(1)===0)return S.clone();var y=4,o=new Array(1<<y);o[0]=new i(1).toRed(this),o[1]=S;for(var u=2;u<o.length;u++)o[u]=this.mul(o[u-1],S);var h=o[0],p=0,v=0,d=B.bitLength()%26;for(d===0&&(d=26),u=B.length-1;u>=0;u--){for(var E=B.words[u],w=d-1;w>=0;w--){var c=E>>w&1;if(h!==o[0]&&(h=this.sqr(h)),c===0&&p===0){v=0;continue}p<<=1,p|=c,v++,!(v!==y&&(u!==0||w!==0))&&(h=this.mul(h,o[p]),v=0,p=0)}d=26}return h},G.prototype.convertTo=function(S){var B=S.umod(this.m);return B===S?B.clone():B},G.prototype.convertFrom=function(S){var B=S.clone();return B.red=null,B},i.mont=function(S){return new L(S)};function L(q){G.call(this,q),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(L,G),L.prototype.convertTo=function(S){return this.imod(S.ushln(this.shift))},L.prototype.convertFrom=function(S){var B=this.imod(S.mul(this.rinv));return B.red=null,B},L.prototype.imul=function(S,B){if(S.isZero()||B.isZero())return S.words[0]=0,S.length=1,S;var y=S.imul(B),o=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=y.isub(o).iushrn(this.shift),h=u;return u.cmp(this.m)>=0?h=u.isub(this.m):u.cmpn(0)<0&&(h=u.iadd(this.m)),h._forceRed(this)},L.prototype.mul=function(S,B){if(S.isZero()||B.isZero())return new i(0)._forceRed(this);var y=S.mul(B),o=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=y.isub(o).iushrn(this.shift),h=u;return u.cmp(this.m)>=0?h=u.isub(this.m):u.cmpn(0)<0&&(h=u.iadd(this.m)),h._forceRed(this)},L.prototype.invm=function(S){var B=this.imod(S._invmp(this.m).mul(this.r2));return B._forceRed(this)}})(typeof iE>"u"||iE,nN)});var Et=ee((aE,aN)=>{x();var tw=Sr(),ls=tw.Buffer;function iN(t,e){for(var r in t)e[r]=t[r]}ls.from&&ls.alloc&&ls.allocUnsafe&&ls.allocUnsafeSlow?aN.exports=tw:(iN(tw,aE),aE.Buffer=il);function il(t,e,r){return ls(t,e,r)}il.prototype=Object.create(ls.prototype);iN(ls,il);il.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ls(t,e,r)};il.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=ls(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};il.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ls(t)};il.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return tw.SlowBuffer(t)}});var sE=ee((vCe,oN)=>{x();var oE=Et().Buffer;oN.exports=class{constructor(e=oE.from([])){this.buffer=e}read(e){let r=this.buffer.subarray(0,e);return this.buffer=this.buffer.subarray(e),r}write(e){e=oE.from(e),this.buffer=oE.concat([this.buffer,e])}}});var hN=ee((mCe,lN)=>{x();var fE=Yr(),sN=sE();lN.exports={encode:yce,decode:mce,read:fN,readBn:uN,write:cN};function fN(t){return uN(t).toString()}function uN(t){let e=new fE(0),r=0,n;for(;n=t.read(1)[0],e.ior(new fE(n&127).shln(r)),n>>7!==0;)r+=7;return e}function cN(t,e){let r=new fE(t);for(;;){let n=r.maskn(7).toNumber();if(r.ishrn(7),r.isZero()){e.write([n]);break}else e.write([n|128])}}function yce(t){let e=new sN;return cN(t,e),e.buffer}function mce(t){let e=new sN(t);return fN(e)}});var mN=ee((wCe,yN)=>{x();var uE=Yr(),dN=sE();yN.exports={encode:bce,decode:wce,write:vN,read:pN,readBn:gN};function pN(t){return gN(t).toString()}function gN(t){let e=new uE(0),r=0,n;for(;n=t.read(1)[0],e.ior(new uE(n&127).shln(r)),r+=7,n>>7!==0;);return n&64&&e.setn(r),e.fromTwos(r)}function vN(t,e){let r=new uE(t),n=r.isNeg();for(n&&(r=r.toTwos(r.bitLength()+8));;){let a=r.maskn(7).toNumber();if(r.ishrn(7),i(r)&&(a&64)!==0||r.isZero()&&(a&64)===0){e.write([a]);break}else e.write([a|128])}function i(a){return n&&a.toString(2).indexOf("0")<0}}function bce(t){let e=new dN;return vN(t,e),e.buffer}function wce(t){let e=new dN(t);return pN(e)}});var rw=ee(cE=>{x();cE.unsigned=hN();cE.signed=mN()});var nw=ee((ACe,bN)=>{x();var lE=Et().Buffer;bN.exports=class{constructor(e=lE.from([])){this.buffer=e,this._bytesRead=0,this._bytesWrote=0}read(e){this._bytesRead+=e;let r=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),r}write(e){e=lE.from(e),this._bytesWrote+=e.length,this.buffer=lE.concat([this.buffer,e])}get end(){return!this.buffer.length}get bytesRead(){return this._bytesRead}get bytesWrote(){return this._bytesWrote}}});var iw=ee((TCe,xce)=>{xce.exports={block:"block_type",loop:"block_type",if:"block_type",br:"varuint32",br_if:"varuint32",br_table:"br_table",call:"varuint32",call_indirect:"call_indirect",get_local:"varuint32",set_local:"varuint32",tee_local:"varuint32",get_global:"varuint32",set_global:"varuint32",load:"memory_immediate",load8_s:"memory_immediate",load8_u:"memory_immediate",load16_s:"memory_immediate",load16_u:"memory_immediate",load32_s:"memory_immediate",load32_u:"memory_immediate",store:"memory_immediate",store8:"memory_immediate",store16:"memory_immediate",store32:"memory_immediate",current_memory:"varuint1",grow_memory:"varuint1",i32:"varint32",i64:"varint64",f32:"uint32",f64:"uint64"}});var hE=ee((OCe,_N)=>{x();var Ot=rw(),xN=nw(),_ce=iw(),jr=_N.exports=(t,e)=>{let r=new xN(t);return jr.parse(r,e)},al=jr.LANGUAGE_TYPES={127:"i32",126:"i64",125:"f32",124:"f64",112:"anyFunc",96:"func",64:"block_type"},wN=jr.EXTERNAL_KIND={0:"function",1:"table",2:"memory",3:"global"};jr.parsePreramble=t=>{let e={};return e.name="preramble",e.magic=[...t.read(4)],e.version=[...t.read(4)],e};jr.parseSectionHeader=t=>{let e=t.read(1)[0],r=Ot.unsigned.readBn(t).toNumber();return{id:e,name:Sce[e],size:r}};var Ece=jr.OPCODES={0:"unreachable",1:"nop",2:"block",3:"loop",4:"if",5:"else",11:"end",12:"br",13:"br_if",14:"br_table",15:"return",16:"call",17:"call_indirect",26:"drop",27:"select",32:"get_local",33:"set_local",34:"tee_local",35:"get_global",36:"set_global",40:"i32.load",41:"i64.load",42:"f32.load",43:"f64.load",44:"i32.load8_s",45:"i32.load8_u",46:"i32.load16_s",47:"i32.load16_u",48:"i64.load8_s",49:"i64.load8_u",50:"i64.load16_s",51:"i64.load16_u",52:"i64.load32_s",53:"i64.load32_u",54:"i32.store",55:"i64.store",56:"f32.store",57:"f64.store",58:"i32.store8",59:"i32.store16",60:"i64.store8",61:"i64.store16",62:"i64.store32",63:"current_memory",64:"grow_memory",65:"i32.const",66:"i64.const",67:"f32.const",68:"f64.const",69:"i32.eqz",70:"i32.eq",71:"i32.ne",72:"i32.lt_s",73:"i32.lt_u",74:"i32.gt_s",75:"i32.gt_u",76:"i32.le_s",77:"i32.le_u",78:"i32.ge_s",79:"i32.ge_u",80:"i64.eqz",81:"i64.eq",82:"i64.ne",83:"i64.lt_s",84:"i64.lt_u",85:"i64.gt_s",86:"i64.gt_u",87:"i64.le_s",88:"i64.le_u",89:"i64.ge_s",90:"i64.ge_u",91:"f32.eq",92:"f32.ne",93:"f32.lt",94:"f32.gt",95:"f32.le",96:"f32.ge",97:"f64.eq",98:"f64.ne",99:"f64.lt",100:"f64.gt",101:"f64.le",102:"f64.ge",103:"i32.clz",104:"i32.ctz",105:"i32.popcnt",106:"i32.add",107:"i32.sub",108:"i32.mul",109:"i32.div_s",110:"i32.div_u",111:"i32.rem_s",112:"i32.rem_u",113:"i32.and",114:"i32.or",115:"i32.xor",116:"i32.shl",117:"i32.shr_s",118:"i32.shr_u",119:"i32.rotl",120:"i32.rotr",121:"i64.clz",122:"i64.ctz",123:"i64.popcnt",124:"i64.add",125:"i64.sub",126:"i64.mul",127:"i64.div_s",128:"i64.div_u",129:"i64.rem_s",130:"i64.rem_u",131:"i64.and",132:"i64.or",133:"i64.xor",134:"i64.shl",135:"i64.shr_s",136:"i64.shr_u",137:"i64.rotl",138:"i64.rotr",139:"f32.abs",140:"f32.neg",141:"f32.ceil",142:"f32.floor",143:"f32.trunc",144:"f32.nearest",145:"f32.sqrt",146:"f32.add",147:"f32.sub",148:"f32.mul",149:"f32.div",150:"f32.min",151:"f32.max",152:"f32.copysign",153:"f64.abs",154:"f64.neg",155:"f64.ceil",156:"f64.floor",157:"f64.trunc",158:"f64.nearest",159:"f64.sqrt",160:"f64.add",161:"f64.sub",162:"f64.mul",163:"f64.div",164:"f64.min",165:"f64.max",166:"f64.copysign",167:"i32.wrap/i64",168:"i32.trunc_s/f32",169:"i32.trunc_u/f32",170:"i32.trunc_s/f64",171:"i32.trunc_u/f64",172:"i64.extend_s/i32",173:"i64.extend_u/i32",174:"i64.trunc_s/f32",175:"i64.trunc_u/f32",176:"i64.trunc_s/f64",177:"i64.trunc_u/f64",178:"f32.convert_s/i32",179:"f32.convert_u/i32",180:"f32.convert_s/i64",181:"f32.convert_u/i64",182:"f32.demote/f64",183:"f64.convert_s/i32",184:"f64.convert_u/i32",185:"f64.convert_s/i64",186:"f64.convert_u/i64",187:"f64.promote/f32",188:"i32.reinterpret/f32",189:"i64.reinterpret/f64",190:"f32.reinterpret/i32",191:"f64.reinterpret/i64",192:"i32.extend8_s",193:"i32.extend16_s",194:"i64.extend8_s",195:"i64.extend16_s",196:"i64.extend32_s"},Sce=jr.SECTION_IDS={0:"custom",1:"type",2:"import",3:"function",4:"table",5:"memory",6:"global",7:"export",8:"start",9:"element",10:"code",11:"data"};jr.immediataryParsers={varuint1:t=>t.read(1)[0],varuint32:t=>Ot.unsigned.read(t),varint32:t=>Ot.signed.read(t),varint64:t=>Ot.signed.read(t),uint32:t=>[...t.read(4)],uint64:t=>[...t.read(8)],block_type:t=>{let e=t.read(1)[0];return al[e]},br_table:t=>{let e={targets:[]},r=Ot.unsigned.readBn(t).toNumber();for(let n=0;n<r;n++){let i=Ot.unsigned.readBn(t).toNumber();e.targets.push(i)}return e.defaultTarget=Ot.unsigned.readBn(t).toNumber(),e},call_indirect:t=>{let e={};return e.index=Ot.unsigned.readBn(t).toNumber(),e.reserved=t.read(1)[0],e},memory_immediate:t=>{let e={};return e.flags=Ot.unsigned.readBn(t).toNumber(),e.offset=Ot.unsigned.readBn(t).toNumber(),e}};jr.typeParsers={function:t=>Ot.unsigned.readBn(t).toNumber(),table:t=>{let e={},r=t.read(1)[0];return e.elementType=al[r],e.limits=jr.typeParsers.memory(t),e},global:t=>{let e={},r=t.read(1)[0];return e.contentType=al[r],e.mutability=t.read(1)[0],e},memory:t=>{let e={};return e.flags=Ot.unsigned.readBn(t).toNumber(),e.intial=Ot.unsigned.readBn(t).toNumber(),e.flags===1&&(e.maximum=Ot.unsigned.readBn(t).toNumber()),e},initExpr:t=>{let e=jr.parseOp(t);return t.read(1),e}};var Ace=jr.sectionParsers={custom:(t,e)=>{let r={name:"custom"},n=new xN(t.read(e.size)),i=Ot.unsigned.readBn(n).toNumber(),a=n.read(i);return r.sectionName=N.Buffer.from(a).toString(),r.payload=[...n.buffer],r},type:t=>{let e=Ot.unsigned.readBn(t).toNumber(),r={name:"type",entries:[]};for(let n=0;n<e;n++){let i=t.read(1)[0],a={form:al[i],params:[]},s=Ot.unsigned.readBn(t).toNumber();for(let l=0;l<s;l++){let g=t.read(1)[0];a.params.push(al[g])}Ot.unsigned.readBn(t).toNumber()&&(i=t.read(1)[0],a.return_type=al[i]),r.entries.push(a)}return r},import:t=>{let e=Ot.unsigned.readBn(t).toNumber(),r={name:"import",entries:[]};for(let n=0;n<e;n++){let i={},a=Ot.unsigned.readBn(t).toNumber();i.moduleStr=N.Buffer.from(t.read(a)).toString();let s=Ot.unsigned.readBn(t).toNumber();i.fieldStr=N.Buffer.from(t.read(s)).toString();let f=t.read(1)[0];i.kind=wN[f],i.type=jr.typeParsers[i.kind](t),r.entries.push(i)}return r},function:t=>{let e=Ot.unsigned.readBn(t).toNumber(),r={name:"function",entries:[]};for(let n=0;n<e;n++){let i=Ot.unsigned.readBn(t).toNumber();r.entries.push(i)}return r},table:t=>{let e=Ot.unsigned.readBn(t).toNumber(),r={name:"table",entries:[]};for(let n=0;n<e;n++){let i=jr.typeParsers.table(t);r.entries.push(i)}return r},memory:t=>{let e=Ot.unsigned.readBn(t).toNumber(),r={name:"memory",entries:[]};for(let n=0;n<e;n++){let i=jr.typeParsers.memory(t);r.entries.push(i)}return r},global:t=>{let e=Ot.unsigned.readBn(t).toNumber(),r={name:"global",entries:[]};for(let n=0;n<e;n++){let i={};i.type=jr.typeParsers.global(t),i.init=jr.typeParsers.initExpr(t),r.entries.push(i)}return r},export:t=>{let e=Ot.unsigned.readBn(t).toNumber(),r={name:"export",entries:[]};for(let n=0;n<e;n++){let i=Ot.unsigned.readBn(t).toNumber(),a={};a.field_str=N.Buffer.from(t.read(i)).toString();let s=t.read(1)[0];a.kind=wN[s],a.index=Ot.unsigned.readBn(t).toNumber(),r.entries.push(a)}return r},start:t=>{let e={name:"start"};return e.index=Ot.unsigned.readBn(t).toNumber(),e},element:t=>{let e=Ot.unsigned.readBn(t).toNumber(),r={name:"element",entries:[]};for(let n=0;n<e;n++){let i={elements:[]};i.index=Ot.unsigned.readBn(t).toNumber(),i.offset=jr.typeParsers.initExpr(t);let a=Ot.unsigned.readBn(t).toNumber();for(let s=0;s<a;s++){let f=Ot.unsigned.readBn(t).toNumber();i.elements.push(f)}r.entries.push(i)}return r},code:t=>{let e=Ot.unsigned.readBn(t).toNumber(),r={name:"code",entries:[]};for(let n=0;n<e;n++){let i={locals:[],code:[]},a=Ot.unsigned.readBn(t).toNumber(),s=t.bytesRead+a,f=Ot.unsigned.readBn(t).toNumber();for(let l=0;l<f;l++){let g={};g.count=Ot.unsigned.readBn(t).toNumber();let m=t.read(1)[0];g.type=al[m],i.locals.push(g)}for(;t.bytesRead<s;){let l=jr.parseOp(t);i.code.push(l)}r.entries.push(i)}return r},data:t=>{let e=Ot.unsigned.readBn(t).toNumber(),r={name:"data",entries:[]};for(let n=0;n<e;n++){let i={};i.index=Ot.unsigned.readBn(t).toNumber(),i.offset=jr.typeParsers.initExpr(t);let a=Ot.unsigned.readBn(t).toNumber();i.data=[...t.read(a)],r.entries.push(i)}return r}};jr.parseOp=t=>{let e={},r=t.read(1)[0],n=Ece[r],[i,a]=n.split(".");a===void 0?a=i:e.return_type=i,e.name=a;let s=_ce[a==="const"?i:a];return s&&(e.immediates=jr.immediataryParsers[s](t)),e};jr.parse=(t,e)=>{let n=[jr.parsePreramble(t)];for(;!t.end;){let i=jr.parseSectionHeader(t);n.push(Ace[i.name](t,i))}return n}});var dE=ee((RCe,EN)=>{x();window.global=window;D.fetch=window.fetch;EN.exports.Buffer=Sr().Buffer});var pE=ee((CCe,MN)=>{x();var Mce=dE().Buffer,pr=rw(),Pi=nw(),Tce=iw(),Br=MN.exports=t=>Br.generate(t).buffer,ol=Br.LANGUAGE_TYPES={i32:127,i64:126,f32:125,f64:124,anyFunc:112,func:96,block_type:64},SN=Br.EXTERNAL_KIND={function:0,table:1,memory:2,global:3},Oce=Br.SECTION_IDS={custom:0,type:1,import:2,function:3,table:4,memory:5,global:6,export:7,start:8,element:9,code:10,data:11},Ice=Br.OPCODES={unreachable:0,nop:1,block:2,loop:3,if:4,else:5,end:11,br:12,br_if:13,br_table:14,return:15,call:16,call_indirect:17,drop:26,select:27,get_local:32,set_local:33,tee_local:34,get_global:35,set_global:36,"i32.load":40,"i64.load":41,"f32.load":42,"f64.load":43,"i32.load8_s":44,"i32.load8_u":45,"i32.load16_s":46,"i32.load16_u":47,"i64.load8_s":48,"i64.load8_u":49,"i64.load16_s":50,"i64.load16_u":51,"i64.load32_s":52,"i64.load32_u":53,"i32.store":54,"i64.store":55,"f32.store":56,"f64.store":57,"i32.store8":58,"i32.store16":59,"i64.store8":60,"i64.store16":61,"i64.store32":62,current_memory:63,grow_memory:64,"i32.const":65,"i64.const":66,"f32.const":67,"f64.const":68,"i32.eqz":69,"i32.eq":70,"i32.ne":71,"i32.lt_s":72,"i32.lt_u":73,"i32.gt_s":74,"i32.gt_u":75,"i32.le_s":76,"i32.le_u":77,"i32.ge_s":78,"i32.ge_u":79,"i64.eqz":80,"i64.eq":81,"i64.ne":82,"i64.lt_s":83,"i64.lt_u":84,"i64.gt_s":85,"i64.gt_u":86,"i64.le_s":87,"i64.le_u":88,"i64.ge_s":89,"i64.ge_u":90,"f32.eq":91,"f32.ne":92,"f32.lt":93,"f32.gt":94,"f32.le":95,"f32.ge":96,"f64.eq":97,"f64.ne":98,"f64.lt":99,"f64.gt":100,"f64.le":101,"f64.ge":102,"i32.clz":103,"i32.ctz":104,"i32.popcnt":105,"i32.add":106,"i32.sub":107,"i32.mul":108,"i32.div_s":109,"i32.div_u":110,"i32.rem_s":111,"i32.rem_u":112,"i32.and":113,"i32.or":114,"i32.xor":115,"i32.shl":116,"i32.shr_s":117,"i32.shr_u":118,"i32.rotl":119,"i32.rotr":120,"i64.clz":121,"i64.ctz":122,"i64.popcnt":123,"i64.add":124,"i64.sub":125,"i64.mul":126,"i64.div_s":127,"i64.div_u":128,"i64.rem_s":129,"i64.rem_u":130,"i64.and":131,"i64.or":132,"i64.xor":133,"i64.shl":134,"i64.shr_s":135,"i64.shr_u":136,"i64.rotl":137,"i64.rotr":138,"f32.abs":139,"f32.neg":140,"f32.ceil":141,"f32.floor":142,"f32.trunc":143,"f32.nearest":144,"f32.sqrt":145,"f32.add":146,"f32.sub":147,"f32.mul":148,"f32.div":149,"f32.min":150,"f32.max":151,"f32.copysign":152,"f64.abs":153,"f64.neg":154,"f64.ceil":155,"f64.floor":156,"f64.trunc":157,"f64.nearest":158,"f64.sqrt":159,"f64.add":160,"f64.sub":161,"f64.mul":162,"f64.div":163,"f64.min":164,"f64.max":165,"f64.copysign":166,"i32.wrap/i64":167,"i32.trunc_s/f32":168,"i32.trunc_u/f32":169,"i32.trunc_s/f64":170,"i32.trunc_u/f64":171,"i64.extend_s/i32":172,"i64.extend_u/i32":173,"i64.trunc_s/f32":174,"i64.trunc_u/f32":175,"i64.trunc_s/f64":176,"i64.trunc_u/f64":177,"f32.convert_s/i32":178,"f32.convert_u/i32":179,"f32.convert_s/i64":180,"f32.convert_u/i64":181,"f32.demote/f64":182,"f64.convert_s/i32":183,"f64.convert_u/i32":184,"f64.convert_s/i64":185,"f64.convert_u/i64":186,"f64.promote/f32":187,"i32.reinterpret/f32":188,"i64.reinterpret/f64":189,"f32.reinterpret/i32":190,"f64.reinterpret/i64":191,"i32.extend8_s":192,"i32.extend16_s":193,"i64.extend8_s":194,"i64.extend16_s":195,"i64.extend32_s":196};Br.typeGenerators={function:(t,e)=>{pr.unsigned.write(t,e)},table:(t,e)=>{e.write([ol[t.elementType]]),Br.typeGenerators.memory(t.limits,e)},global:(t,e)=>{e.write([ol[t.contentType]]),e.write([t.mutability])},memory:(t,e)=>{pr.unsigned.write(Number(t.maximum!==void 0),e),pr.unsigned.write(t.intial,e),t.maximum!==void 0&&pr.unsigned.write(t.maximum,e)},initExpr:(t,e)=>{Br.generateOp(t,e),Br.generateOp({name:"end",type:"void"},e)}};Br.immediataryGenerators={varuint1:(t,e)=>(e.write([t]),e),varuint32:(t,e)=>(pr.unsigned.write(t,e),e),varint32:(t,e)=>(pr.signed.write(t,e),e),varint64:(t,e)=>(pr.signed.write(t,e),e),uint32:(t,e)=>(e.write(t),e),uint64:(t,e)=>(e.write(t),e),block_type:(t,e)=>(e.write([ol[t]]),e),br_table:(t,e)=>{pr.unsigned.write(t.targets.length,e);for(let r of t.targets)pr.unsigned.write(r,e);return pr.unsigned.write(t.defaultTarget,e),e},call_indirect:(t,e)=>(pr.unsigned.write(t.index,e),e.write([t.reserved]),e),memory_immediate:(t,e)=>(pr.unsigned.write(t.flags,e),pr.unsigned.write(t.offset,e),e)};var AN={type:(t,e=new Pi)=>{e.write([ol[t.form]]);let r=t.params.length;return pr.unsigned.write(r,e),r!==0&&e.write(t.params.map(n=>ol[n])),e.write([t.return_type?1:0]),t.return_type&&e.write([ol[t.return_type]]),e.buffer},import:(t,e=new Pi)=>{pr.unsigned.write(t.moduleStr.length,e),e.write(t.moduleStr),pr.unsigned.write(t.fieldStr.length,e),e.write(t.fieldStr),e.write([SN[t.kind]]),Br.typeGenerators[t.kind](t.type,e)},function:(t,e=new Pi)=>(pr.unsigned.write(t,e),e.buffer),table:Br.typeGenerators.table,global:(t,e=new Pi)=>(Br.typeGenerators.global(t.type,e),Br.typeGenerators.initExpr(t.init,e),e),memory:Br.typeGenerators.memory,export:(t,e=new Pi)=>{let r=Mce.from(t.field_str),n=r.length;return pr.unsigned.write(n,e),e.write(r),e.write([SN[t.kind]]),pr.unsigned.write(t.index,e),e},element:(t,e=new Pi)=>{pr.unsigned.write(t.index,e),Br.typeGenerators.initExpr(t.offset,e),pr.unsigned.write(t.elements.length,e);for(let r of t.elements)pr.unsigned.write(r,e);return e},code:(t,e=new Pi)=>{let r=new Pi;pr.unsigned.write(t.locals.length,r);for(let n of t.locals)pr.unsigned.write(n.count,r),r.write([ol[n.type]]);for(let n of t.code)Br.generateOp(n,r);return pr.unsigned.write(r.bytesWrote,e),e.write(r.buffer),e},data:(t,e=new Pi)=>(pr.unsigned.write(t.index,e),Br.typeGenerators.initExpr(t.offset,e),pr.unsigned.write(t.data.length,e),e.write(t.data),e)};Br.entryGenerators=AN;Br.generateSection=function(t,e=new Pi){let r=t.name,n=new Pi;if(e.write([Oce[r]]),r==="custom")pr.unsigned.write(t.sectionName.length,n),n.write(t.sectionName),n.write(t.payload);else if(r==="start")pr.unsigned.write(t.index,n);else{pr.unsigned.write(t.entries.length,n);for(let i of t.entries)AN[r](i,n)}return pr.unsigned.write(n.bytesWrote,e),e.write(n.buffer),e};Br.generate=(t,e=new Pi)=>{let[r,...n]=t;Br.generatePreramble(r,e);for(let i of n)Br.generateSection(i,e);return e};Br.generatePreramble=(t,e=new Pi)=>(e.write(t.magic),e.write(t.version),e);Br.generateOp=(t,e=new Pi)=>{let r=t.name;t.return_type!==void 0&&(r=t.return_type+"."+r),e.write([Ice[r]]);let n=Tce[t.name==="const"?t.return_type:t.name];return n&&Br.immediataryGenerators[n](t.immediates,e),e}});var ON=ee((PCe,TN)=>{x();var Rce=iw();TN.exports=t=>{let e=[],r=t.split(/\s|\n/);for(;r.length;){let n=r.shift(),i={},[a,s]=n.split(".");s===void 0?s=a:i.return_type=a,i.name=s;let f=Rce[i.name==="const"?i.return_type:i.name];f&&(i.immediates=kce(f,r)),e.push(i)}return e};function kce(t,e){let r={};switch(t){case"br_table":let n=[];for(;;){let i=e[0];if(isNaN(i))break;e.shift(),n.push(i)}return n;case"call_indirect":return r.index=e.shift(),r.reserved=0,r;case"memory_immediate":return r.flags=e.shift(),r.offset=e.shift(),r;default:return e.shift()}}});var RN=ee((DCe,IN)=>{x();var Cg=dE().Buffer,aw=rw().unsigned,Cce=hE(),gE=nw(),Bce=["custom","type","import","function","table","memory","global","export","start","element","code","data"];IN.exports=class{constructor(e){this._wasm=e,this._sections=[],this._modified=!1}get wasm(){return this._modified&&(this._wasm=Cg.concat(this._sections.concat(this._pipe.buffer)),this._modified=!1),this._wasm}*[Symbol.iterator](){for(this._pipe=new gE(this._wasm),this._sections=[this._pipe.read(8)];!this._pipe.end;){let e=this._pipe.bytesRead,r=this._pipe.read(1)[0],n=Number(aw.read(this._pipe)),i=this._pipe.read(n),a=this._pipe.bytesRead,s=this._wasm.slice(e,a),f=this._sections.push(s)-1;yield new vE(r,i,this,f)}}_update(e,r){this._modified=!0,this._sections[e]=r}};var vE=class{constructor(e,r,n,i){this._it=n,this._index=i,this.type=Bce[e],this._type=e,this._section=r;let a=new gE(r);this.type!=="custom"&&(this.count=Number(aw.read(a))),this._body=a.buffer}toJSON(){return Cce.sectionParsers[this.type](new gE(this._section))}appendEntries(e){this.count+=e.length,this._body=Cg.concat([this._body].concat(e));let r=Cg.concat([aw.encode(this.count),this._body]);this._it._update(this._index,Cg.concat([Cg.from([this._type]),aw.encode(r.length),r]))}}});var kN=ee(Bg=>{x();Bg.wasm2json=hE();Bg.json2wasm=pE();Bg.text2json=ON();Bg.Iterator=RN()});var CN=ee((jCe,Pce)=>{Pce.exports={start:0,type:{params:{DEFAULT:0},return_type:{DEFAULT:0}},import:0,code:{locals:{DEFAULT:1},code:{get_local:120,set_local:120,tee_local:120,get_global:120,set_global:120,load8_s:120,load8_u:120,load16_s:120,load16_u:120,load32_s:120,load32_u:120,load:120,store8:120,store16:120,store32:120,store:120,grow_memory:1e4,current_memory:100,nop:1,block:1,loop:1,if:1,then:90,else:90,br:90,br_if:90,br_table:120,return:90,call:90,call_indirect:1e4,const:1,add:45,sub:45,mul:45,div_s:36e3,div_u:36e3,rem_s:36e3,rem_u:36e3,and:45,or:45,xor:45,shl:67,shr_u:67,shr_s:67,rotl:90,rotr:90,eq:45,eqz:45,ne:45,lt_s:45,lt_u:45,le_s:45,le_u:45,gt_s:45,gt_u:45,ge_s:45,ge_u:45,clz:45,ctz:45,popcnt:45,drop:120,select:120,unreachable:1}},data:0}});var PN=ee(ow=>{x();var yE=kN(),Nce=yE.text2json,BN=pE().SECTION_IDS,Lce=CN();function T0(t,e={},r=0){let n=0;if(r=e.DEFAULT!==void 0?e.DEFAULT:0,Array.isArray(t))t.forEach(i=>{n+=T0(i,e)});else if(typeof t=="object")for(let i in t){let a=e[i];a&&(n+=T0(t[i],a,r))}else e[t]===void 0?n=r:n=e[t];return n}function Dce(t,e,r,n,i){function a(I,T){return Nce(`${n}.const ${I} call ${T}`)}function s(I,T){I.name==="call"&&I.immediates>=T&&(I.immediates=(++I.immediates).toString())}function f(){return a(0,0).reduce((T,O)=>T+T0(O.name,e.code),0)}let l=new Set(["grow_memory","end","br","br_table","br_if","if","else","return","loop"]),g=f(),m=t.code.slice(),A=[];for(i+=T0(t.locals,e.local);m.length;){let I=0;for(;;){let T=m[I++];if(s(T,r),i+=T0(T.name,e.code),l.has(T.name))break}i!==0&&(i+=g,A=A.concat(a(i,r))),A=A.concat(m.slice(0,I)),m=m.slice(I),i=0}return t.code=A,t}ow.meterJSON=(t,e)=>{function r(T,O){return T.find(U=>U.name===O)}function n(T,O){let U=BN[O];for(let Z in T){let Y=T[Z],re=BN[Y.name];if(re&&U<re){T.splice(Z,0,{name:O,entries:[]});return}}}let i=0,a,s,{costTable:f,moduleStr:l,fieldStr:g,meterType:m}=e;f||(f=Lce),l||(l="metering"),g||(g="usegas"),m||(m="i32"),r(t,"type")||n(t,"type"),r(t,"import")||n(t,"import");let A={moduleStr:l,fieldStr:g,kind:"function"},I={form:"func",params:[m]};t=t.slice(0);for(let T of t)switch(T=Object.assign(T),T.name){case"type":A.type=T.entries.push(I)-1,s=T;break;case"function":a=T;break;case"import":for(let O of T.entries){if(O.moduleStr===l&&O.fieldStr===g)throw new Error("importing metering function is not allowed");O.kind==="function"&&i++}T.entries.push(A);break;case"export":for(let O of T.entries)O.kind==="function"&&O.index>=i&&O.index++;break;case"element":for(let O of T.entries)O.elements=O.elements.map(U=>U>=i?++U:U);break;case"start":T.index>=i&&T.index++;break;case"code":for(let O in T.entries){let U=T.entries[O],Z=a.entries[O],Y=s.entries[Z],re=T0(Y,f.type);Dce(U,f.code,i,m,re)}break}return t};ow.meterWASM=(t,e={})=>{let r=yE.wasm2json(t);return r=ow.meterJSON(r,e),yE.json2wasm(r)}});var vu=ee((WCe,NN)=>{"use strict";x();var qce=null;NN.exports=qce});var DN=ee((HCe,LN)=>{x();var Uce=typeof P.default=="object"&&P.default&&P.default.platform==="win32";LN.exports=Uce?{sep:"\\"}:{sep:"/"}});var mE=ee((VCe,jN)=>{"use strict";x();jN.exports=UN;function UN(t,e,r){t instanceof RegExp&&(t=qN(t,r)),e instanceof RegExp&&(e=qN(e,r));var n=FN(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function qN(t,e){var r=e.match(t);return r?r[0]:null}UN.range=FN;function FN(t,e,r){var n,i,a,s,f,l=r.indexOf(t),g=r.indexOf(e,l+1),m=l;if(l>=0&&g>0){if(t===e)return[l,g];for(n=[],a=r.length;m>=0&&!f;)m==l?(n.push(m),l=r.indexOf(t,m+1)):n.length==1?f=[n.pop(),g]:(i=n.pop(),i<a&&(a=i,s=g),g=r.indexOf(e,m+1)),m=l<g&&l>=0?l:g;n.length&&(f=[a,s])}return f}});var ZN=ee((JCe,VN)=>{x();var zN=mE();VN.exports=zce;var KN="\0SLASH"+Math.random()+"\0",WN="\0OPEN"+Math.random()+"\0",wE="\0CLOSE"+Math.random()+"\0",GN="\0COMMA"+Math.random()+"\0",HN="\0PERIOD"+Math.random()+"\0";function bE(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Fce(t){return t.split("\\\\").join(KN).split("\\{").join(WN).split("\\}").join(wE).split("\\,").join(GN).split("\\.").join(HN)}function jce(t){return t.split(KN).join("\\").split(WN).join("{").split(wE).join("}").split(GN).join(",").split(HN).join(".")}function $N(t){if(!t)return[""];var e=[],r=zN("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,a=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var f=$N(a);return a.length&&(s[s.length-1]+=f.shift(),s.push.apply(s,f)),e.push.apply(e,s),e}function zce(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Pg(Fce(t),!0).map(jce)):[]}function Kce(t){return"{"+t+"}"}function Wce(t){return/^-?0\d/.test(t)}function Gce(t,e){return t<=e}function Hce(t,e){return t>=e}function Pg(t,e){var r=[],n=zN("{","}",t);if(!n)return[t];var i=n.pre,a=n.post.length?Pg(n.post,!1):[""];if(/\$$/.test(n.pre))for(var s=0;s<a.length;s++){var f=i+"{"+n.body+"}"+a[s];r.push(f)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),g=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),m=l||g,A=n.body.indexOf(",")>=0;if(!m&&!A)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+wE+n.post,Pg(t)):[t];var I;if(m)I=n.body.split(/\.\./);else if(I=$N(n.body),I.length===1&&(I=Pg(I[0],!1).map(Kce),I.length===1))return a.map(function(q){return n.pre+I[0]+q});var T;if(m){var O=bE(I[0]),U=bE(I[1]),Z=Math.max(I[0].length,I[1].length),Y=I.length==3?Math.abs(bE(I[2])):1,re=Gce,pe=U<O;pe&&(Y*=-1,re=Hce);var he=I.some(Wce);T=[];for(var se=O;re(se,U);se+=Y){var fe;if(g)fe=String.fromCharCode(se),fe==="\\"&&(fe="");else if(fe=String(se),he){var de=Z-fe.length;if(de>0){var G=new Array(de+1).join("0");se<0?fe="-"+G+fe.slice(1):fe=G+fe}}T.push(fe)}}else{T=[];for(var L=0;L<I.length;L++)T.push.apply(T,Pg(I[L],!1))}for(var L=0;L<T.length;L++)for(var s=0;s<a.length;s++){var f=i+T[L]+a[s];(!e||m||f)&&r.push(f)}}return r}});var tL=ee((QCe,AE)=>{x();var ea=AE.exports=(t,e,r={})=>(sw(e),!r.nocomment&&e.charAt(0)==="#"?!1:new O0(e,r).match(t));AE.exports=ea;var EE=DN();ea.sep=EE.sep;var bo=Symbol("globstar **");ea.GLOBSTAR=bo;var $ce=ZN(),JN={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},SE="[^/]",xE=SE+"*?",Vce="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Zce="(?:(?!(?:\\/|^)\\.).)*?",QN=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),YN=QN("().*{}+?[]^$\\!"),Jce=QN("[.("),XN=/\/+/;ea.filter=(t,e={})=>(r,n,i)=>ea(r,t,e);var yu=(t,e={})=>{let r={};return Object.keys(t).forEach(n=>r[n]=t[n]),Object.keys(e).forEach(n=>r[n]=e[n]),r};ea.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return ea;let e=ea,r=(n,i,a)=>e(n,i,yu(t,a));return r.Minimatch=class extends e.Minimatch{constructor(i,a){super(i,yu(t,a))}},r.Minimatch.defaults=n=>e.defaults(yu(t,n)).Minimatch,r.filter=(n,i)=>e.filter(n,yu(t,i)),r.defaults=n=>e.defaults(yu(t,n)),r.makeRe=(n,i)=>e.makeRe(n,yu(t,i)),r.braceExpand=(n,i)=>e.braceExpand(n,yu(t,i)),r.match=(n,i,a)=>e.match(n,i,yu(t,a)),r};ea.braceExpand=(t,e)=>eL(t,e);var eL=(t,e={})=>(sw(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:$ce(t)),Yce=1024*64,sw=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Yce)throw new TypeError("pattern is too long")},_E=Symbol("subparse");ea.makeRe=(t,e)=>new O0(t,e||{}).makeRe();ea.match=(t,e,r={})=>{let n=new O0(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};var Xce=t=>t.replace(/\\(.)/g,"$1"),Qce=t=>t.replace(/\\([^-\]])/g,"$1"),ele=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),tle=t=>t.replace(/[[\]\\]/g,"\\$&"),O0=class{constructor(e,r){sw(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(XN)),this.debug(this.pattern,n),n=n.map((i,a,s)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var a=0,s=0,f=e.length,l=r.length;a<f&&s<l;a++,s++){this.debug("matchOne loop");var g=r[s],m=e[a];if(this.debug(r,g,m),g===!1)return!1;if(g===bo){this.debug("GLOBSTAR",[r,g,m]);var A=a,I=s+1;if(I===l){for(this.debug("** at the end");a<f;a++)if(e[a]==="."||e[a]===".."||!i.dot&&e[a].charAt(0)===".")return!1;return!0}for(;A<f;){var T=e[A];if(this.debug(`
globstar while`,e,A,r,I,T),this.matchOne(e.slice(A),r.slice(I),n))return this.debug("globstar found match!",A,f,T),!0;if(T==="."||T===".."||!i.dot&&T.charAt(0)==="."){this.debug("dot detected!",e,A,r,I);break}this.debug("globstar swallow a segment, and continue"),A++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,A,r,I),A===f))}var O;if(typeof g=="string"?(O=m===g,this.debug("string match",g,m,O)):(O=m.match(g),this.debug("pattern match",g,m,O)),!O)return!1}if(a===f&&s===l)return!0;if(a===f)return n;if(s===l)return a===f-1&&e[a]==="";throw new Error("wtf?")}braceExpand(){return eL(this.pattern,this.options)}parse(e,r){sw(e);let n=this.options;if(e==="**")if(n.noglobstar)e="*";else return bo;if(e==="")return"";let i="",a=!1,s=!1,f=[],l=[],g,m=!1,A=-1,I=-1,T,O,U,Z=e.charAt(0)===".",Y=n.dot||Z,re=()=>Z?"":Y?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",pe=de=>de.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",he=()=>{if(g){switch(g){case"*":i+=xE,a=!0;break;case"?":i+=SE,a=!0;break;default:i+="\\"+g;break}this.debug("clearStateChar %j %j",g,i),g=!1}};for(let de=0,G;de<e.length&&(G=e.charAt(de));de++){if(this.debug("%s	%s %s %j",e,de,i,G),s){if(G==="/")return!1;YN[G]&&(i+="\\"),i+=G,s=!1;continue}switch(G){case"/":return!1;case"\\":if(m&&e.charAt(de+1)==="-"){i+=G;continue}he(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,de,i,G),m){this.debug("  in class"),G==="!"&&de===I+1&&(G="^"),i+=G;continue}this.debug("call clearStateChar %j",g),he(),g=G,n.noext&&he();continue;case"(":{if(m){i+="(";continue}if(!g){i+="\\(";continue}let L={type:g,start:de-1,reStart:i.length,open:JN[g].open,close:JN[g].close};this.debug(this.pattern,"	",L),f.push(L),i+=L.open,L.start===0&&L.type!=="!"&&(Z=!0,i+=pe(e.slice(de+1))),this.debug("plType %j %j",g,i),g=!1;continue}case")":{let L=f[f.length-1];if(m||!L){i+="\\)";continue}f.pop(),he(),a=!0,O=L,i+=O.close,O.type==="!"&&l.push(Object.assign(O,{reEnd:i.length}));continue}case"|":{let L=f[f.length-1];if(m||!L){i+="\\|";continue}he(),i+="|",L.start===0&&L.type!=="!"&&(Z=!0,i+=pe(e.slice(de+1)));continue}case"[":if(he(),m){i+="\\"+G;continue}m=!0,I=de,A=i.length,i+=G;continue;case"]":if(de===I+1||!m){i+="\\"+G;continue}T=e.substring(I+1,de);try{RegExp("["+tle(Qce(T))+"]"),i+=G}catch{i=i.substring(0,A)+"(?:$.)"}a=!0,m=!1;continue;default:he(),YN[G]&&!(G==="^"&&m)&&(i+="\\"),i+=G;break}}for(m&&(T=e.slice(I+1),U=this.parse(T,_E),i=i.substring(0,A)+"\\["+U[0],a=a||U[1]),O=f.pop();O;O=f.pop()){let de;de=i.slice(O.reStart+O.open.length),this.debug("setting tail",i,O),de=de.replace(/((?:\\{2}){0,64})(\\?)\|/g,(L,q,S)=>(S||(S="\\"),q+q+S+"|")),this.debug(`tail=%j
   %s`,de,de,O,i);let G=O.type==="*"?xE:O.type==="?"?SE:"\\"+O.type;a=!0,i=i.slice(0,O.reStart)+G+"\\("+de}he(),s&&(i+="\\\\");let se=Jce[i.charAt(0)];for(let de=l.length-1;de>-1;de--){let G=l[de],L=i.slice(0,G.reStart),q=i.slice(G.reStart,G.reEnd-8),S=i.slice(G.reEnd),B=i.slice(G.reEnd-8,G.reEnd)+S,y=L.split(")").length,o=L.split("(").length-y,u=S;for(let p=0;p<o;p++)u=u.replace(/\)[+*?]?/,"");S=u;let h=S===""&&r!==_E?"(?:$|\\/)":"";i=L+q+S+h+B}if(i!==""&&a&&(i="(?=.)"+i),se&&(i=re()+i),r===_E)return[i,a];if(n.nocase&&!a&&(a=e.toUpperCase()!==e.toLowerCase()),!a)return Xce(e);let fe=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",fe),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?xE:r.dot?Vce:Zce,i=r.nocase?"i":"",a=e.map(s=>(s=s.map(f=>typeof f=="string"?ele(f):f===bo?bo:f._src).reduce((f,l)=>(f[f.length-1]===bo&&l===bo||f.push(l),f),[]),s.forEach((f,l)=>{f!==bo||s[l-1]===bo||(l===0?s.length>1?s[l+1]="(?:\\/|"+n+"\\/)?"+s[l+1]:s[l]=n:l===s.length-1?s[l-1]+="(?:\\/|"+n+")?":(s[l-1]+="(?:\\/|\\/"+n+"\\/)"+s[l+1],s[l+1]=bo))}),s.filter(f=>f!==bo).join("/"))).join("|");a="^(?:"+a+")$",this.negate&&(a="^(?!"+a+").*$");try{this.regexp=new RegExp(a,i)}catch{this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;EE.sep!=="/"&&(e=e.split(EE.sep).join("/")),e=e.split(XN),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let a;for(let s=e.length-1;s>=0&&(a=e[s],!a);s--);for(let s=0;s<i.length;s++){let f=i[s],l=e;if(n.matchBase&&f.length===1&&(l=[a]),this.matchOne(l,f,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return ea.defaults(e).Minimatch}};ea.Minimatch=O0});var Ia=ee((tBe,nL)=>{"use strict";x();function hs(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function rL(t,e){for(var r="",n=0,i=-1,a=0,s,f=0;f<=t.length;++f){if(f<t.length)s=t.charCodeAt(f);else{if(s===47)break;s=47}if(s===47){if(!(i===f-1||a===1))if(i!==f-1&&a===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=f,a=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=f,a=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+t.slice(i+1,f):r=t.slice(i+1,f),n=f-i-1;i=f,a=0}else s===46&&a!==-1?++a:a=-1}return r}function rle(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+t+n:n}var I0={resolve:function(){for(var e="",r=!1,n,i=arguments.length-1;i>=-1&&!r;i--){var a;i>=0?a=arguments[i]:(n===void 0&&(n=P.default.cwd()),a=n),hs(a),a.length!==0&&(e=a+"/"+e,r=a.charCodeAt(0)===47)}return e=rL(e,!r),r?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(hs(e),e.length===0)return".";var r=e.charCodeAt(0)===47,n=e.charCodeAt(e.length-1)===47;return e=rL(e,!r),e.length===0&&!r&&(e="."),e.length>0&&n&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return hs(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,r=0;r<arguments.length;++r){var n=arguments[r];hs(n),n.length>0&&(e===void 0?e=n:e+="/"+n)}return e===void 0?".":I0.normalize(e)},relative:function(e,r){if(hs(e),hs(r),e===r||(e=I0.resolve(e),r=I0.resolve(r),e===r))return"";for(var n=1;n<e.length&&e.charCodeAt(n)===47;++n);for(var i=e.length,a=i-n,s=1;s<r.length&&r.charCodeAt(s)===47;++s);for(var f=r.length,l=f-s,g=a<l?a:l,m=-1,A=0;A<=g;++A){if(A===g){if(l>g){if(r.charCodeAt(s+A)===47)return r.slice(s+A+1);if(A===0)return r.slice(s+A)}else a>g&&(e.charCodeAt(n+A)===47?m=A:A===0&&(m=0));break}var I=e.charCodeAt(n+A),T=r.charCodeAt(s+A);if(I!==T)break;I===47&&(m=A)}var O="";for(A=n+m+1;A<=i;++A)(A===i||e.charCodeAt(A)===47)&&(O.length===0?O+="..":O+="/..");return O.length>0?O+r.slice(s+m):(s+=m,r.charCodeAt(s)===47&&++s,r.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(hs(e),e.length===0)return".";for(var r=e.charCodeAt(0),n=r===47,i=-1,a=!0,s=e.length-1;s>=1;--s)if(r=e.charCodeAt(s),r===47){if(!a){i=s;break}}else a=!1;return i===-1?n?"/":".":n&&i===1?"//":e.slice(0,i)},basename:function(e,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');hs(e);var n=0,i=-1,a=!0,s;if(r!==void 0&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var f=r.length-1,l=-1;for(s=e.length-1;s>=0;--s){var g=e.charCodeAt(s);if(g===47){if(!a){n=s+1;break}}else l===-1&&(a=!1,l=s+1),f>=0&&(g===r.charCodeAt(f)?--f===-1&&(i=s):(f=-1,i=l))}return n===i?i=l:i===-1&&(i=e.length),e.slice(n,i)}else{for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===47){if(!a){n=s+1;break}}else i===-1&&(a=!1,i=s+1);return i===-1?"":e.slice(n,i)}},extname:function(e){hs(e);for(var r=-1,n=0,i=-1,a=!0,s=0,f=e.length-1;f>=0;--f){var l=e.charCodeAt(f);if(l===47){if(!a){n=f+1;break}continue}i===-1&&(a=!1,i=f+1),l===46?r===-1?r=f:s!==1&&(s=1):r!==-1&&(s=-1)}return r===-1||i===-1||s===0||s===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return rle("/",e)},parse:function(e){hs(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return r;var n=e.charCodeAt(0),i=n===47,a;i?(r.root="/",a=1):a=0;for(var s=-1,f=0,l=-1,g=!0,m=e.length-1,A=0;m>=a;--m){if(n=e.charCodeAt(m),n===47){if(!g){f=m+1;break}continue}l===-1&&(g=!1,l=m+1),n===46?s===-1?s=m:A!==1&&(A=1):s!==-1&&(A=-1)}return s===-1||l===-1||A===0||A===1&&s===l-1&&s===f+1?l!==-1&&(f===0&&i?r.base=r.name=e.slice(1,l):r.base=r.name=e.slice(f,l)):(f===0&&i?(r.name=e.slice(1,s),r.base=e.slice(1,l)):(r.name=e.slice(f,s),r.base=e.slice(f,l)),r.ext=e.slice(s,l)),f>0?r.dir=e.slice(0,f-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};I0.posix=I0;nL.exports=I0});var fL=ee((nBe,sL)=>{x();sL.exports=oL;var TE=vu(),{EventEmitter:nle}=co(),{Minimatch:ME}=tL(),{resolve:ile}=Ia();function ale(t,e){return new Promise((r,n)=>{TE.readdir(t,{withFileTypes:!0},(i,a)=>{if(i)switch(i.code){case"ENOTDIR":e?n(i):r([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":r([]);break;case"ELOOP":default:n(i);break}else r(a)})})}function iL(t,e){return new Promise((r,n)=>{(e?TE.stat:TE.lstat)(t,(a,s)=>{if(a)switch(a.code){case"ENOENT":r(e?iL(t,!1):null);break;default:r(null);break}else r(s)})})}async function*aL(t,e,r,n,i,a){let s=await ale(e+t,a);for(let f of s){let l=f.name;l===void 0&&(l=f,n=!0);let g=t+"/"+l,m=g.slice(1),A=e+"/"+m,I=null;(n||r)&&(I=await iL(A,r)),!I&&f.name!==void 0&&(I=f),I===null&&(I={isDirectory:()=>!1}),I.isDirectory()?i(m)||(yield{relative:m,absolute:A,stats:I},yield*aL(g,e,r,n,i,!1)):yield{relative:m,absolute:A,stats:I}}}async function*ole(t,e,r,n){yield*aL("",t,e,r,n,!0)}function sle(t){return{pattern:t.pattern,dot:!!t.dot,noglobstar:!!t.noglobstar,matchBase:!!t.matchBase,nocase:!!t.nocase,ignore:t.ignore,skip:t.skip,follow:!!t.follow,stat:!!t.stat,nodir:!!t.nodir,mark:!!t.mark,silent:!!t.silent,absolute:!!t.absolute}}var fw=class extends nle{constructor(e,r,n){if(super(),typeof r=="function"&&(n=r,r=null),this.options=sle(r||{}),this.matchers=[],this.options.pattern){let i=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=i.map(a=>new ME(a,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase}))}if(this.ignoreMatchers=[],this.options.ignore){let i=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=i.map(a=>new ME(a,{dot:!0}))}if(this.skipMatchers=[],this.options.skip){let i=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=i.map(a=>new ME(a,{dot:!0}))}this.iterator=ole(ile(e||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,n&&(this._matches=[],this.on("match",i=>this._matches.push(this.options.absolute?i.absolute:i.relative)),this.on("error",i=>n(i)),this.on("end",()=>n(null,this._matches))),setTimeout(()=>this._next(),0)}_shouldSkipDirectory(e){return this.skipMatchers.some(r=>r.match(e))}_fileMatches(e,r){let n=e+(r?"/":"");return(this.matchers.length===0||this.matchers.some(i=>i.match(n)))&&!this.ignoreMatchers.some(i=>i.match(n))&&(!this.options.nodir||!r)}_next(){!this.paused&&!this.aborted?this.iterator.next().then(e=>{if(e.done)this.emit("end");else{let r=e.value.stats.isDirectory();if(this._fileMatches(e.value.relative,r)){let n=e.value.relative,i=e.value.absolute;this.options.mark&&r&&(n+="/",i+="/"),this.options.stat?this.emit("match",{relative:n,absolute:i,stat:e.value.stats}):this.emit("match",{relative:n,absolute:i})}this._next(this.iterator)}}).catch(e=>{this.abort(),this.emit("error",e),!e.code&&!this.options.silent&&console.error(e)}):this.inactive=!0}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}};function oL(t,e,r){return new fw(t,e,r)}oL.ReaddirGlob=fw});var cL=ee((uw,uL)=>{x();(function(t,e){typeof uw=="object"&&typeof uL<"u"?e(uw):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.async={}))})(uw,function(t){"use strict";function e(we,...ge){return(..._e)=>we(...ge,..._e)}function r(we){return function(...ge){var _e=ge.pop();return we.call(this,ge,_e)}}var n=typeof queueMicrotask=="function"&&queueMicrotask,i=typeof setImmediate=="function"&&setImmediate,a=typeof P.default=="object"&&typeof P.default.nextTick=="function";function s(we){setTimeout(we,0)}function f(we){return(ge,..._e)=>we(()=>ge(..._e))}var l;n?l=queueMicrotask:i?l=setImmediate:a?l=P.default.nextTick:l=s;var g=f(l);function m(we){return T(we)?function(...ge){let _e=ge.pop(),Me=we.apply(this,ge);return A(Me,_e)}:r(function(ge,_e){var Me;try{Me=we.apply(this,ge)}catch(Re){return _e(Re)}if(Me&&typeof Me.then=="function")return A(Me,_e);_e(null,Me)})}function A(we,ge){return we.then(_e=>{I(ge,null,_e)},_e=>{I(ge,_e&&(_e instanceof Error||_e.message)?_e:new Error(_e))})}function I(we,ge,_e){try{we(ge,_e)}catch(Me){g(Re=>{throw Re},Me)}}function T(we){return we[Symbol.toStringTag]==="AsyncFunction"}function O(we){return we[Symbol.toStringTag]==="AsyncGenerator"}function U(we){return typeof we[Symbol.asyncIterator]=="function"}function Z(we){if(typeof we!="function")throw new Error("expected a function");return T(we)?m(we):we}function Y(we,ge){if(ge||(ge=we.length),!ge)throw new Error("arity is undefined");function _e(...Me){return typeof Me[ge-1]=="function"?we.apply(this,Me):new Promise((Re,Pe)=>{Me[ge-1]=(je,...Ge)=>{if(je)return Pe(je);Re(Ge.length>1?Ge:Ge[0])},we.apply(this,Me)})}return _e}function re(we){return function(_e,...Me){return Y(function(Pe){var je=this;return we(_e,(Ge,tt)=>{Z(Ge).apply(je,Me.concat(tt))},Pe)})}}function pe(we,ge,_e,Me){ge=ge||[];var Re=[],Pe=0,je=Z(_e);return we(ge,(Ge,tt,ct)=>{var Ht=Pe++;je(Ge,(fr,Yt)=>{Re[Ht]=Yt,ct(fr)})},Ge=>{Me(Ge,Re)})}function he(we){return we&&typeof we.length=="number"&&we.length>=0&&we.length%1===0}var fe={};function de(we){function ge(..._e){if(we!==null){var Me=we;we=null,Me.apply(this,_e)}}return Object.assign(ge,we),ge}function G(we){return we[Symbol.iterator]&&we[Symbol.iterator]()}function L(we){var ge=-1,_e=we.length;return function(){return++ge<_e?{value:we[ge],key:ge}:null}}function q(we){var ge=-1;return function(){var Me=we.next();return Me.done?null:(ge++,{value:Me.value,key:ge})}}function S(we){var ge=we?Object.keys(we):[],_e=-1,Me=ge.length;return function Re(){var Pe=ge[++_e];return Pe==="__proto__"?Re():_e<Me?{value:we[Pe],key:Pe}:null}}function B(we){if(he(we))return L(we);var ge=G(we);return ge?q(ge):S(we)}function y(we){return function(...ge){if(we===null)throw new Error("Callback was already called.");var _e=we;we=null,_e.apply(this,ge)}}function o(we,ge,_e,Me){let Re=!1,Pe=!1,je=!1,Ge=0,tt=0;function ct(){Ge>=ge||je||Re||(je=!0,we.next().then(({value:Yt,done:ya})=>{if(!(Pe||Re)){if(je=!1,ya){Re=!0,Ge<=0&&Me(null);return}Ge++,_e(Yt,tt,Ht),tt++,ct()}}).catch(fr))}function Ht(Yt,ya){if(Ge-=1,!Pe){if(Yt)return fr(Yt);if(Yt===!1){Re=!0,Pe=!0;return}if(ya===fe||Re&&Ge<=0)return Re=!0,Me(null);ct()}}function fr(Yt){Pe||(je=!1,Re=!0,Me(Yt))}ct()}var u=we=>(ge,_e,Me)=>{if(Me=de(Me),we<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!ge)return Me(null);if(O(ge))return o(ge,we,_e,Me);if(U(ge))return o(ge[Symbol.asyncIterator](),we,_e,Me);var Re=B(ge),Pe=!1,je=!1,Ge=0,tt=!1;function ct(fr,Yt){if(!je)if(Ge-=1,fr)Pe=!0,Me(fr);else if(fr===!1)Pe=!0,je=!0;else{if(Yt===fe||Pe&&Ge<=0)return Pe=!0,Me(null);tt||Ht()}}function Ht(){for(tt=!0;Ge<we&&!Pe;){var fr=Re();if(fr===null){Pe=!0,Ge<=0&&Me(null);return}Ge+=1,_e(fr.value,fr.key,y(ct))}tt=!1}Ht()};function h(we,ge,_e,Me){return u(ge)(we,Z(_e),Me)}var p=Y(h,4);function v(we,ge,_e){_e=de(_e);var Me=0,Re=0,{length:Pe}=we,je=!1;Pe===0&&_e(null);function Ge(tt,ct){tt===!1&&(je=!0),je!==!0&&(tt?_e(tt):(++Re===Pe||ct===fe)&&_e(null))}for(;Me<Pe;Me++)ge(we[Me],Me,y(Ge))}function d(we,ge,_e){return p(we,1/0,ge,_e)}function E(we,ge,_e){var Me=he(we)?v:d;return Me(we,Z(ge),_e)}var w=Y(E,3);function c(we,ge,_e){return pe(w,we,ge,_e)}var b=Y(c,3),ue=re(b);function F(we,ge,_e){return p(we,1,ge,_e)}var ne=Y(F,3);function ce(we,ge,_e){return pe(ne,we,ge,_e)}var xe=Y(ce,3),M=re(xe);let k=Symbol("promiseCallback");function C(){let we,ge;function _e(Me,...Re){if(Me)return ge(Me);we(Re.length>1?Re:Re[0])}return _e[k]=new Promise((Me,Re)=>{we=Me,ge=Re}),_e}function z(we,ge,_e){typeof ge!="number"&&(_e=ge,ge=null),_e=de(_e||C());var Me=Object.keys(we).length;if(!Me)return _e(null);ge||(ge=Me);var Re={},Pe=0,je=!1,Ge=!1,tt=Object.create(null),ct=[],Ht=[],fr={};Object.keys(we).forEach(ut=>{var mt=we[ut];if(!Array.isArray(mt)){Yt(ut,[mt]),Ht.push(ut);return}var Xt=mt.slice(0,mt.length-1),Gr=Xt.length;if(Gr===0){Yt(ut,mt),Ht.push(ut);return}fr[ut]=Gr,Xt.forEach(In=>{if(!we[In])throw new Error("async.auto task `"+ut+"` has a non-existent dependency `"+In+"` in "+Xt.join(", "));qh(In,()=>{Gr--,Gr===0&&Yt(ut,mt)})})}),ur(),ya();function Yt(ut,mt){ct.push(()=>Mp(ut,mt))}function ya(){if(!je){if(ct.length===0&&Pe===0)return _e(null,Re);for(;ct.length&&Pe<ge;){var ut=ct.shift();ut()}}}function qh(ut,mt){var Xt=tt[ut];Xt||(Xt=tt[ut]=[]),Xt.push(mt)}function Oc(ut){var mt=tt[ut]||[];mt.forEach(Xt=>Xt()),ya()}function Mp(ut,mt){if(!Ge){var Xt=y((In,...ma)=>{if(Pe--,In===!1){je=!0;return}if(ma.length<2&&([ma]=ma),In){var Uh={};if(Object.keys(Re).forEach(Ic=>{Uh[Ic]=Re[Ic]}),Uh[ut]=ma,Ge=!0,tt=Object.create(null),je)return;_e(In,Uh)}else Re[ut]=ma,Oc(ut)});Pe++;var Gr=Z(mt[mt.length-1]);mt.length>1?Gr(Re,Xt):Gr(Xt)}}function ur(){for(var ut,mt=0;Ht.length;)ut=Ht.pop(),mt++,yt(ut).forEach(Xt=>{--fr[Xt]===0&&Ht.push(Xt)});if(mt!==Me)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function yt(ut){var mt=[];return Object.keys(we).forEach(Xt=>{let Gr=we[Xt];Array.isArray(Gr)&&Gr.indexOf(ut)>=0&&mt.push(Xt)}),mt}return _e[k]}var H=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,j=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,J=/,/,W=/(=.+)?(\s*)$/;function K(we){let ge="",_e=0,Me=we.indexOf("*/");for(;_e<we.length;)if(we[_e]==="/"&&we[_e+1]==="/"){let Re=we.indexOf(`
`,_e);_e=Re===-1?we.length:Re}else if(Me!==-1&&we[_e]==="/"&&we[_e+1]==="*"){let Re=we.indexOf("*/",_e);Re!==-1?(_e=Re+2,Me=we.indexOf("*/",_e)):(ge+=we[_e],_e++)}else ge+=we[_e],_e++;return ge}function X(we){let ge=K(we.toString()),_e=ge.match(H);if(_e||(_e=ge.match(j)),!_e)throw new Error(`could not parse args in autoInject
Source:
`+ge);let[,Me]=_e;return Me.replace(/\s/g,"").split(J).map(Re=>Re.replace(W,"").trim())}function te(we,ge){var _e={};return Object.keys(we).forEach(Me=>{var Re=we[Me],Pe,je=T(Re),Ge=!je&&Re.length===1||je&&Re.length===0;if(Array.isArray(Re))Pe=[...Re],Re=Pe.pop(),_e[Me]=Pe.concat(Pe.length>0?tt:Re);else if(Ge)_e[Me]=Re;else{if(Pe=X(Re),Re.length===0&&!je&&Pe.length===0)throw new Error("autoInject task functions require explicit parameters.");je||Pe.pop(),_e[Me]=Pe.concat(tt)}function tt(ct,Ht){var fr=Pe.map(Yt=>ct[Yt]);fr.push(Ht),Z(Re)(...fr)}}),z(_e,ge)}class ae{constructor(){this.head=this.tail=null,this.length=0}removeLink(ge){return ge.prev?ge.prev.next=ge.next:this.head=ge.next,ge.next?ge.next.prev=ge.prev:this.tail=ge.prev,ge.prev=ge.next=null,this.length-=1,ge}empty(){for(;this.head;)this.shift();return this}insertAfter(ge,_e){_e.prev=ge,_e.next=ge.next,ge.next?ge.next.prev=_e:this.tail=_e,ge.next=_e,this.length+=1}insertBefore(ge,_e){_e.prev=ge.prev,_e.next=ge,ge.prev?ge.prev.next=_e:this.head=_e,ge.prev=_e,this.length+=1}unshift(ge){this.head?this.insertBefore(this.head,ge):$(this,ge)}push(ge){this.tail?this.insertAfter(this.tail,ge):$(this,ge)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var ge=this.head;ge;)yield ge.data,ge=ge.next}remove(ge){for(var _e=this.head;_e;){var{next:Me}=_e;ge(_e)&&this.removeLink(_e),_e=Me}return this}}function $(we,ge){we.length=1,we.head=we.tail=ge}function oe(we,ge,_e){if(ge==null)ge=1;else if(ge===0)throw new RangeError("Concurrency must not be zero");var Me=Z(we),Re=0,Pe=[];let je={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function Ge(yt,ut){je[yt].push(ut)}function tt(yt,ut){let mt=(...Xt)=>{ct(yt,mt),ut(...Xt)};je[yt].push(mt)}function ct(yt,ut){if(!yt)return Object.keys(je).forEach(mt=>je[mt]=[]);if(!ut)return je[yt]=[];je[yt]=je[yt].filter(mt=>mt!==ut)}function Ht(yt,...ut){je[yt].forEach(mt=>mt(...ut))}var fr=!1;function Yt(yt,ut,mt,Xt){if(Xt!=null&&typeof Xt!="function")throw new Error("task callback must be a function");ur.started=!0;var Gr,In;function ma(Ic,...Tp){if(Ic)return mt?In(Ic):Gr();if(Tp.length<=1)return Gr(Tp[0]);Gr(Tp)}var Uh=ur._createTaskItem(yt,mt?ma:Xt||ma);if(ut?ur._tasks.unshift(Uh):ur._tasks.push(Uh),fr||(fr=!0,g(()=>{fr=!1,ur.process()})),mt||!Xt)return new Promise((Ic,Tp)=>{Gr=Ic,In=Tp})}function ya(yt){return function(ut,...mt){Re-=1;for(var Xt=0,Gr=yt.length;Xt<Gr;Xt++){var In=yt[Xt],ma=Pe.indexOf(In);ma===0?Pe.shift():ma>0&&Pe.splice(ma,1),In.callback(ut,...mt),ut!=null&&Ht("error",ut,In.data)}Re<=ur.concurrency-ur.buffer&&Ht("unsaturated"),ur.idle()&&Ht("drain"),ur.process()}}function qh(yt){return yt.length===0&&ur.idle()?(g(()=>Ht("drain")),!0):!1}let Oc=yt=>ut=>{if(!ut)return new Promise((mt,Xt)=>{tt(yt,(Gr,In)=>{if(Gr)return Xt(Gr);mt(In)})});ct(yt),Ge(yt,ut)};var Mp=!1,ur={_tasks:new ae,_createTaskItem(yt,ut){return{data:yt,callback:ut}},*[Symbol.iterator](){yield*ur._tasks[Symbol.iterator]()},concurrency:ge,payload:_e,buffer:ge/4,started:!1,paused:!1,push(yt,ut){return Array.isArray(yt)?qh(yt)?void 0:yt.map(mt=>Yt(mt,!1,!1,ut)):Yt(yt,!1,!1,ut)},pushAsync(yt,ut){return Array.isArray(yt)?qh(yt)?void 0:yt.map(mt=>Yt(mt,!1,!0,ut)):Yt(yt,!1,!0,ut)},kill(){ct(),ur._tasks.empty()},unshift(yt,ut){return Array.isArray(yt)?qh(yt)?void 0:yt.map(mt=>Yt(mt,!0,!1,ut)):Yt(yt,!0,!1,ut)},unshiftAsync(yt,ut){return Array.isArray(yt)?qh(yt)?void 0:yt.map(mt=>Yt(mt,!0,!0,ut)):Yt(yt,!0,!0,ut)},remove(yt){ur._tasks.remove(yt)},process(){if(!Mp){for(Mp=!0;!ur.paused&&Re<ur.concurrency&&ur._tasks.length;){var yt=[],ut=[],mt=ur._tasks.length;ur.payload&&(mt=Math.min(mt,ur.payload));for(var Xt=0;Xt<mt;Xt++){var Gr=ur._tasks.shift();yt.push(Gr),Pe.push(Gr),ut.push(Gr.data)}Re+=1,ur._tasks.length===0&&Ht("empty"),Re===ur.concurrency&&Ht("saturated");var In=y(ya(yt));Me(ut,In)}Mp=!1}},length(){return ur._tasks.length},running(){return Re},workersList(){return Pe},idle(){return ur._tasks.length+Re===0},pause(){ur.paused=!0},resume(){ur.paused!==!1&&(ur.paused=!1,g(ur.process))}};return Object.defineProperties(ur,{saturated:{writable:!1,value:Oc("saturated")},unsaturated:{writable:!1,value:Oc("unsaturated")},empty:{writable:!1,value:Oc("empty")},drain:{writable:!1,value:Oc("drain")},error:{writable:!1,value:Oc("error")}}),ur}function le(we,ge){return oe(we,1,ge)}function Ee(we,ge,_e){return oe(we,ge,_e)}function Be(we,ge,_e,Me){Me=de(Me);var Re=Z(_e);return ne(we,(Pe,je,Ge)=>{Re(ge,Pe,(tt,ct)=>{ge=ct,Ge(tt)})},Pe=>Me(Pe,ge))}var Ae=Y(Be,4);function R(...we){var ge=we.map(Z);return function(..._e){var Me=this,Re=_e[_e.length-1];return typeof Re=="function"?_e.pop():Re=C(),Ae(ge,_e,(Pe,je,Ge)=>{je.apply(Me,Pe.concat((tt,...ct)=>{Ge(tt,ct)}))},(Pe,je)=>Re(Pe,...je)),Re[k]}}function V(...we){return R(...we.reverse())}function Q(we,ge,_e,Me){return pe(u(ge),we,_e,Me)}var ve=Y(Q,4);function Te(we,ge,_e,Me){var Re=Z(_e);return ve(we,ge,(Pe,je)=>{Re(Pe,(Ge,...tt)=>Ge?je(Ge):je(Ge,tt))},(Pe,je)=>{for(var Ge=[],tt=0;tt<je.length;tt++)je[tt]&&(Ge=Ge.concat(...je[tt]));return Me(Pe,Ge)})}var Se=Y(Te,4);function ie(we,ge,_e){return Se(we,1/0,ge,_e)}var be=Y(ie,3);function ye(we,ge,_e){return Se(we,1,ge,_e)}var me=Y(ye,3);function qe(...we){return function(...ge){var _e=ge.pop();return _e(null,...we)}}function Oe(we,ge){return(_e,Me,Re,Pe)=>{var je=!1,Ge;let tt=Z(Re);_e(Me,(ct,Ht,fr)=>{tt(ct,(Yt,ya)=>{if(Yt||Yt===!1)return fr(Yt);if(we(ya)&&!Ge)return je=!0,Ge=ge(!0,ct),fr(null,fe);fr()})},ct=>{if(ct)return Pe(ct);Pe(null,je?Ge:ge(!1))})}}function Ie(we,ge,_e){return Oe(Me=>Me,(Me,Re)=>Re)(w,we,ge,_e)}var ot=Y(Ie,3);function ke(we,ge,_e,Me){return Oe(Re=>Re,(Re,Pe)=>Pe)(u(ge),we,_e,Me)}var Le=Y(ke,4);function gt(we,ge,_e){return Oe(Me=>Me,(Me,Re)=>Re)(u(1),we,ge,_e)}var Ce=Y(gt,3);function Ue(we){return(ge,..._e)=>Z(ge)(..._e,(Me,...Re)=>{typeof console=="object"&&(Me?console.error&&console.error(Me):console[we]&&Re.forEach(Pe=>console[we](Pe)))})}var at=Ue("dir");function Ke(we,ge,_e){_e=y(_e);var Me=Z(we),Re=Z(ge),Pe;function je(tt,...ct){if(tt)return _e(tt);tt!==!1&&(Pe=ct,Re(...ct,Ge))}function Ge(tt,ct){if(tt)return _e(tt);if(tt!==!1){if(!ct)return _e(null,...Pe);Me(je)}}return Ge(null,!0)}var Ne=Y(Ke,3);function lt(we,ge,_e){let Me=Z(ge);return Ne(we,(...Re)=>{let Pe=Re.pop();Me(...Re,(je,Ge)=>Pe(je,!Ge))},_e)}function We(we){return(ge,_e,Me)=>we(ge,Me)}function He(we,ge,_e){return w(we,We(Z(ge)),_e)}var wt=Y(He,3);function ze(we,ge,_e,Me){return u(ge)(we,We(Z(_e)),Me)}var De=Y(ze,4);function Ut(we,ge,_e){return De(we,1,ge,_e)}var $e=Y(Ut,3);function Ze(we){return T(we)?we:function(...ge){var _e=ge.pop(),Me=!0;ge.push((...Re)=>{Me?g(()=>_e(...Re)):_e(...Re)}),we.apply(this,ge),Me=!1}}function wr(we,ge,_e){return Oe(Me=>!Me,Me=>!Me)(w,we,ge,_e)}var Je=Y(wr,3);function Ve(we,ge,_e,Me){return Oe(Re=>!Re,Re=>!Re)(u(ge),we,_e,Me)}var nr=Y(Ve,4);function et(we,ge,_e){return Oe(Me=>!Me,Me=>!Me)(ne,we,ge,_e)}var Xe=Y(et,3);function sr(we,ge,_e,Me){var Re=new Array(ge.length);we(ge,(Pe,je,Ge)=>{_e(Pe,(tt,ct)=>{Re[je]=!!ct,Ge(tt)})},Pe=>{if(Pe)return Me(Pe);for(var je=[],Ge=0;Ge<ge.length;Ge++)Re[Ge]&&je.push(ge[Ge]);Me(null,je)})}function Jt(we,ge,_e,Me){var Re=[];we(ge,(Pe,je,Ge)=>{_e(Pe,(tt,ct)=>{if(tt)return Ge(tt);ct&&Re.push({index:je,value:Pe}),Ge(tt)})},Pe=>{if(Pe)return Me(Pe);Me(null,Re.sort((je,Ge)=>je.index-Ge.index).map(je=>je.value))})}function Bt(we,ge,_e,Me){var Re=he(ge)?sr:Jt;return Re(we,ge,Z(_e),Me)}function yr(we,ge,_e){return Bt(w,we,ge,_e)}var ir=Y(yr,3);function Dr(we,ge,_e,Me){return Bt(u(ge),we,_e,Me)}var xr=Y(Dr,4);function qr(we,ge,_e){return Bt(ne,we,ge,_e)}var _r=Y(qr,3);function Ur(we,ge){var _e=y(ge),Me=Z(Ze(we));function Re(Pe){if(Pe)return _e(Pe);Pe!==!1&&Me(Re)}return Re()}var Rr=Y(Ur,2);function Fr(we,ge,_e,Me){var Re=Z(_e);return ve(we,ge,(Pe,je)=>{Re(Pe,(Ge,tt)=>Ge?je(Ge):je(Ge,{key:tt,val:Pe}))},(Pe,je)=>{for(var Ge={},{hasOwnProperty:tt}=Object.prototype,ct=0;ct<je.length;ct++)if(je[ct]){var{key:Ht}=je[ct],{val:fr}=je[ct];tt.call(Ge,Ht)?Ge[Ht].push(fr):Ge[Ht]=[fr]}return Me(Pe,Ge)})}var Er=Y(Fr,4);function kr(we,ge,_e){return Er(we,1/0,ge,_e)}function nn(we,ge,_e){return Er(we,1,ge,_e)}var an=Ue("log");function Gn(we,ge,_e,Me){Me=de(Me);var Re={},Pe=Z(_e);return u(ge)(we,(je,Ge,tt)=>{Pe(je,Ge,(ct,Ht)=>{if(ct)return tt(ct);Re[Ge]=Ht,tt(ct)})},je=>Me(je,Re))}var yn=Y(Gn,4);function On(we,ge,_e){return yn(we,1/0,ge,_e)}function UI(we,ge,_e){return yn(we,1,ge,_e)}function FI(we,ge=_e=>_e){var _e=Object.create(null),Me=Object.create(null),Re=Z(we),Pe=r((je,Ge)=>{var tt=ge(...je);tt in _e?g(()=>Ge(null,..._e[tt])):tt in Me?Me[tt].push(Ge):(Me[tt]=[Ge],Re(...je,(ct,...Ht)=>{ct||(_e[tt]=Ht);var fr=Me[tt];delete Me[tt];for(var Yt=0,ya=fr.length;Yt<ya;Yt++)fr[Yt](ct,...Ht)}))});return Pe.memo=_e,Pe.unmemoized=we,Pe}var zy;a?zy=P.default.nextTick:i?zy=setImmediate:zy=s;var jI=f(zy),f3=Y((we,ge,_e)=>{var Me=he(ge)?[]:{};we(ge,(Re,Pe,je)=>{Z(Re)((Ge,...tt)=>{tt.length<2&&([tt]=tt),Me[Pe]=tt,je(Ge)})},Re=>_e(Re,Me))},3);function zI(we,ge){return f3(w,we,ge)}function KI(we,ge,_e){return f3(u(ge),we,_e)}function u3(we,ge){var _e=Z(we);return oe((Me,Re)=>{_e(Me[0],Re)},ge,1)}class sne{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(ge){let _e;for(;ge>0&&c3(this.heap[ge],this.heap[_e=WI(ge)]);){let Me=this.heap[ge];this.heap[ge]=this.heap[_e],this.heap[_e]=Me,ge=_e}}percDown(ge){let _e;for(;(_e=fne(ge))<this.heap.length&&(_e+1<this.heap.length&&c3(this.heap[_e+1],this.heap[_e])&&(_e=_e+1),!c3(this.heap[ge],this.heap[_e]));){let Me=this.heap[ge];this.heap[ge]=this.heap[_e],this.heap[_e]=Me,ge=_e}}push(ge){ge.pushCount=++this.pushCount,this.heap.push(ge),this.percUp(this.heap.length-1)}unshift(ge){return this.heap.push(ge)}shift(){let[ge]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),ge}toArray(){return[...this]}*[Symbol.iterator](){for(let ge=0;ge<this.heap.length;ge++)yield this.heap[ge].data}remove(ge){let _e=0;for(let Me=0;Me<this.heap.length;Me++)ge(this.heap[Me])||(this.heap[_e]=this.heap[Me],_e++);this.heap.splice(_e);for(let Me=WI(this.heap.length-1);Me>=0;Me--)this.percDown(Me);return this}}function fne(we){return(we<<1)+1}function WI(we){return(we+1>>1)-1}function c3(we,ge){return we.priority!==ge.priority?we.priority<ge.priority:we.pushCount<ge.pushCount}function GI(we,ge){var _e=u3(we,ge),{push:Me,pushAsync:Re}=_e;_e._tasks=new sne,_e._createTaskItem=({data:je,priority:Ge},tt)=>({data:je,priority:Ge,callback:tt});function Pe(je,Ge){return Array.isArray(je)?je.map(tt=>({data:tt,priority:Ge})):{data:je,priority:Ge}}return _e.push=function(je,Ge=0,tt){return Me(Pe(je,Ge),tt)},_e.pushAsync=function(je,Ge=0,tt){return Re(Pe(je,Ge),tt)},delete _e.unshift,delete _e.unshiftAsync,_e}function une(we,ge){if(ge=de(ge),!Array.isArray(we))return ge(new TypeError("First argument to race must be an array of functions"));if(!we.length)return ge();for(var _e=0,Me=we.length;_e<Me;_e++)Z(we[_e])(ge)}var HI=Y(une,2);function Ky(we,ge,_e,Me){var Re=[...we].reverse();return Ae(Re,ge,_e,Me)}function Wy(we){var ge=Z(we);return r(function(Me,Re){return Me.push((Pe,...je)=>{let Ge={};if(Pe&&(Ge.error=Pe),je.length>0){var tt=je;je.length<=1&&([tt]=je),Ge.value=tt}Re(null,Ge)}),ge.apply(this,Me)})}function $I(we){var ge;return Array.isArray(we)?ge=we.map(Wy):(ge={},Object.keys(we).forEach(_e=>{ge[_e]=Wy.call(this,we[_e])})),ge}function l3(we,ge,_e,Me){let Re=Z(_e);return Bt(we,ge,(Pe,je)=>{Re(Pe,(Ge,tt)=>{je(Ge,!tt)})},Me)}function cne(we,ge,_e){return l3(w,we,ge,_e)}var VI=Y(cne,3);function lne(we,ge,_e,Me){return l3(u(ge),we,_e,Me)}var ZI=Y(lne,4);function hne(we,ge,_e){return l3(ne,we,ge,_e)}var JI=Y(hne,3);function YI(we){return function(){return we}}let h3=5,XI=0;function Gy(we,ge,_e){var Me={times:h3,intervalFunc:YI(XI)};if(arguments.length<3&&typeof we=="function"?(_e=ge||C(),ge=we):(dne(Me,we),_e=_e||C()),typeof ge!="function")throw new Error("Invalid arguments for async.retry");var Re=Z(ge),Pe=1;function je(){Re((Ge,...tt)=>{Ge!==!1&&(Ge&&Pe++<Me.times&&(typeof Me.errorFilter!="function"||Me.errorFilter(Ge))?setTimeout(je,Me.intervalFunc(Pe-1)):_e(Ge,...tt))})}return je(),_e[k]}function dne(we,ge){if(typeof ge=="object")we.times=+ge.times||h3,we.intervalFunc=typeof ge.interval=="function"?ge.interval:YI(+ge.interval||XI),we.errorFilter=ge.errorFilter;else if(typeof ge=="number"||typeof ge=="string")we.times=+ge||h3;else throw new Error("Invalid arguments for async.retry")}function QI(we,ge){ge||(ge=we,we=null);let _e=we&&we.arity||ge.length;T(ge)&&(_e+=1);var Me=Z(ge);return r((Re,Pe)=>{(Re.length<_e-1||Pe==null)&&(Re.push(Pe),Pe=C());function je(Ge){Me(...Re,Ge)}return we?Gy(we,je,Pe):Gy(je,Pe),Pe[k]})}function eR(we,ge){return f3(ne,we,ge)}function pne(we,ge,_e){return Oe(Boolean,Me=>Me)(w,we,ge,_e)}var Hy=Y(pne,3);function gne(we,ge,_e,Me){return Oe(Boolean,Re=>Re)(u(ge),we,_e,Me)}var $y=Y(gne,4);function vne(we,ge,_e){return Oe(Boolean,Me=>Me)(ne,we,ge,_e)}var Vy=Y(vne,3);function yne(we,ge,_e){var Me=Z(ge);return b(we,(Pe,je)=>{Me(Pe,(Ge,tt)=>{if(Ge)return je(Ge);je(Ge,{value:Pe,criteria:tt})})},(Pe,je)=>{if(Pe)return _e(Pe);_e(null,je.sort(Re).map(Ge=>Ge.value))});function Re(Pe,je){var Ge=Pe.criteria,tt=je.criteria;return Ge<tt?-1:Ge>tt?1:0}}var tR=Y(yne,3);function rR(we,ge,_e){var Me=Z(we);return r((Re,Pe)=>{var je=!1,Ge;function tt(){var ct=we.name||"anonymous",Ht=new Error('Callback function "'+ct+'" timed out.');Ht.code="ETIMEDOUT",_e&&(Ht.info=_e),je=!0,Pe(Ht)}Re.push((...ct)=>{je||(Pe(...ct),clearTimeout(Ge))}),Ge=setTimeout(tt,ge),Me(...Re)})}function mne(we){for(var ge=Array(we);we--;)ge[we]=we;return ge}function Zy(we,ge,_e,Me){var Re=Z(_e);return ve(mne(we),ge,Re,Me)}function nR(we,ge,_e){return Zy(we,1/0,ge,_e)}function iR(we,ge,_e){return Zy(we,1,ge,_e)}function aR(we,ge,_e,Me){arguments.length<=3&&typeof ge=="function"&&(Me=_e,_e=ge,ge=Array.isArray(we)?[]:{}),Me=de(Me||C());var Re=Z(_e);return w(we,(Pe,je,Ge)=>{Re(ge,Pe,je,Ge)},Pe=>Me(Pe,ge)),Me[k]}function bne(we,ge){var _e=null,Me;return $e(we,(Re,Pe)=>{Z(Re)((je,...Ge)=>{if(je===!1)return Pe(je);Ge.length<2?[Me]=Ge:Me=Ge,_e=je,Pe(je?null:{})})},()=>ge(_e,Me))}var oR=Y(bne);function sR(we){return(...ge)=>(we.unmemoized||we)(...ge)}function wne(we,ge,_e){_e=y(_e);var Me=Z(ge),Re=Z(we),Pe=[];function je(tt,...ct){if(tt)return _e(tt);Pe=ct,tt!==!1&&Re(Ge)}function Ge(tt,ct){if(tt)return _e(tt);if(tt!==!1){if(!ct)return _e(null,...Pe);Me(je)}}return Re(Ge)}var Ap=Y(wne,3);function fR(we,ge,_e){let Me=Z(we);return Ap(Re=>Me((Pe,je)=>Re(Pe,!je)),ge,_e)}function xne(we,ge){if(ge=de(ge),!Array.isArray(we))return ge(new Error("First argument to waterfall must be an array of functions"));if(!we.length)return ge();var _e=0;function Me(Pe){var je=Z(we[_e++]);je(...Pe,y(Re))}function Re(Pe,...je){if(Pe!==!1){if(Pe||_e===we.length)return ge(Pe,...je);Me(je)}}Me([])}var uR=Y(xne),_ne={apply:e,applyEach:ue,applyEachSeries:M,asyncify:m,auto:z,autoInject:te,cargo:le,cargoQueue:Ee,compose:V,concat:be,concatLimit:Se,concatSeries:me,constant:qe,detect:ot,detectLimit:Le,detectSeries:Ce,dir:at,doUntil:lt,doWhilst:Ne,each:wt,eachLimit:De,eachOf:w,eachOfLimit:p,eachOfSeries:ne,eachSeries:$e,ensureAsync:Ze,every:Je,everyLimit:nr,everySeries:Xe,filter:ir,filterLimit:xr,filterSeries:_r,forever:Rr,groupBy:kr,groupByLimit:Er,groupBySeries:nn,log:an,map:b,mapLimit:ve,mapSeries:xe,mapValues:On,mapValuesLimit:yn,mapValuesSeries:UI,memoize:FI,nextTick:jI,parallel:zI,parallelLimit:KI,priorityQueue:GI,queue:u3,race:HI,reduce:Ae,reduceRight:Ky,reflect:Wy,reflectAll:$I,reject:VI,rejectLimit:ZI,rejectSeries:JI,retry:Gy,retryable:QI,seq:R,series:eR,setImmediate:g,some:Hy,someLimit:$y,someSeries:Vy,sortBy:tR,timeout:rR,times:nR,timesLimit:Zy,timesSeries:iR,transform:aR,tryEach:oR,unmemoize:sR,until:fR,waterfall:uR,whilst:Ap,all:Je,allLimit:nr,allSeries:Xe,any:Hy,anyLimit:$y,anySeries:Vy,find:ot,findLimit:Le,findSeries:Ce,flatMap:be,flatMapLimit:Se,flatMapSeries:me,forEach:wt,forEachSeries:$e,forEachLimit:De,forEachOf:w,forEachOfSeries:ne,forEachOfLimit:p,inject:Ae,foldl:Ae,foldr:Ky,select:ir,selectLimit:xr,selectSeries:_r,wrapSync:m,during:Ap,doDuring:Ne};t.all=Je,t.allLimit=nr,t.allSeries=Xe,t.any=Hy,t.anyLimit=$y,t.anySeries=Vy,t.apply=e,t.applyEach=ue,t.applyEachSeries=M,t.asyncify=m,t.auto=z,t.autoInject=te,t.cargo=le,t.cargoQueue=Ee,t.compose=V,t.concat=be,t.concatLimit=Se,t.concatSeries=me,t.constant=qe,t.default=_ne,t.detect=ot,t.detectLimit=Le,t.detectSeries=Ce,t.dir=at,t.doDuring=Ne,t.doUntil=lt,t.doWhilst=Ne,t.during=Ap,t.each=wt,t.eachLimit=De,t.eachOf=w,t.eachOfLimit=p,t.eachOfSeries=ne,t.eachSeries=$e,t.ensureAsync=Ze,t.every=Je,t.everyLimit=nr,t.everySeries=Xe,t.filter=ir,t.filterLimit=xr,t.filterSeries=_r,t.find=ot,t.findLimit=Le,t.findSeries=Ce,t.flatMap=be,t.flatMapLimit=Se,t.flatMapSeries=me,t.foldl=Ae,t.foldr=Ky,t.forEach=wt,t.forEachLimit=De,t.forEachOf=w,t.forEachOfLimit=p,t.forEachOfSeries=ne,t.forEachSeries=$e,t.forever=Rr,t.groupBy=kr,t.groupByLimit=Er,t.groupBySeries=nn,t.inject=Ae,t.log=an,t.map=b,t.mapLimit=ve,t.mapSeries=xe,t.mapValues=On,t.mapValuesLimit=yn,t.mapValuesSeries=UI,t.memoize=FI,t.nextTick=jI,t.parallel=zI,t.parallelLimit=KI,t.priorityQueue=GI,t.queue=u3,t.race=HI,t.reduce=Ae,t.reduceRight=Ky,t.reflect=Wy,t.reflectAll=$I,t.reject=VI,t.rejectLimit=ZI,t.rejectSeries=JI,t.retry=Gy,t.retryable=QI,t.select=ir,t.selectLimit=xr,t.selectSeries=_r,t.seq=R,t.series=eR,t.setImmediate=g,t.some=Hy,t.someLimit=$y,t.someSeries=Vy,t.sortBy=tR,t.timeout=rR,t.times=nR,t.timesLimit=Zy,t.timesSeries=iR,t.transform=aR,t.tryEach=oR,t.unmemoize=sR,t.until=fR,t.waterfall=uR,t.whilst=Ap,t.wrapSync=m,Object.defineProperty(t,"__esModule",{value:!0})})});var OE=ee((oBe,fle)=>{fle.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}});var hL=ee((sBe,lL)=>{x();var mu=OE(),ule=P.default.cwd,cw=null,cle=P.default.env.GRACEFUL_FS_PLATFORM||P.default.platform;P.default.cwd=function(){return cw||(cw=ule.call(P.default)),cw};try{P.default.cwd()}catch{}typeof P.default.chdir=="function"&&(IE=P.default.chdir,P.default.chdir=function(t){cw=null,IE.call(P.default,t)},Object.setPrototypeOf&&Object.setPrototypeOf(P.default.chdir,IE));var IE;lL.exports=lle;function lle(t){mu.hasOwnProperty("O_SYMLINK")&&P.default.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=a(t.chown),t.fchown=a(t.fchown),t.lchown=a(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=s(t.chownSync),t.fchownSync=s(t.fchownSync),t.lchownSync=s(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=f(t.stat),t.fstat=f(t.fstat),t.lstat=f(t.lstat),t.statSync=l(t.statSync),t.fstatSync=l(t.fstatSync),t.lstatSync=l(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(m,A,I){I&&P.default.nextTick(I)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(m,A,I,T){T&&P.default.nextTick(T)},t.lchownSync=function(){}),cle==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:function(m){function A(I,T,O){var U=Date.now(),Z=0;m(I,T,function Y(re){if(re&&(re.code==="EACCES"||re.code==="EPERM"||re.code==="EBUSY")&&Date.now()-U<6e4){setTimeout(function(){t.stat(T,function(pe,he){pe&&pe.code==="ENOENT"?m(I,T,Y):O(re)})},Z),Z<100&&(Z+=10);return}O&&O(re)})}return Object.setPrototypeOf&&Object.setPrototypeOf(A,m),A}(t.rename)),t.read=typeof t.read!="function"?t.read:function(m){function A(I,T,O,U,Z,Y){var re;if(Y&&typeof Y=="function"){var pe=0;re=function(he,se,fe){if(he&&he.code==="EAGAIN"&&pe<10)return pe++,m.call(t,I,T,O,U,Z,re);Y.apply(this,arguments)}}return m.call(t,I,T,O,U,Z,re)}return Object.setPrototypeOf&&Object.setPrototypeOf(A,m),A}(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:function(m){return function(A,I,T,O,U){for(var Z=0;;)try{return m.call(t,A,I,T,O,U)}catch(Y){if(Y.code==="EAGAIN"&&Z<10){Z++;continue}throw Y}}}(t.readSync);function e(m){m.lchmod=function(A,I,T){m.open(A,mu.O_WRONLY|mu.O_SYMLINK,I,function(O,U){if(O){T&&T(O);return}m.fchmod(U,I,function(Z){m.close(U,function(Y){T&&T(Z||Y)})})})},m.lchmodSync=function(A,I){var T=m.openSync(A,mu.O_WRONLY|mu.O_SYMLINK,I),O=!0,U;try{U=m.fchmodSync(T,I),O=!1}finally{if(O)try{m.closeSync(T)}catch{}else m.closeSync(T)}return U}}function r(m){mu.hasOwnProperty("O_SYMLINK")&&m.futimes?(m.lutimes=function(A,I,T,O){m.open(A,mu.O_SYMLINK,function(U,Z){if(U){O&&O(U);return}m.futimes(Z,I,T,function(Y){m.close(Z,function(re){O&&O(Y||re)})})})},m.lutimesSync=function(A,I,T){var O=m.openSync(A,mu.O_SYMLINK),U,Z=!0;try{U=m.futimesSync(O,I,T),Z=!1}finally{if(Z)try{m.closeSync(O)}catch{}else m.closeSync(O)}return U}):m.futimes&&(m.lutimes=function(A,I,T,O){O&&P.default.nextTick(O)},m.lutimesSync=function(){})}function n(m){return m&&function(A,I,T){return m.call(t,A,I,function(O){g(O)&&(O=null),T&&T.apply(this,arguments)})}}function i(m){return m&&function(A,I){try{return m.call(t,A,I)}catch(T){if(!g(T))throw T}}}function a(m){return m&&function(A,I,T,O){return m.call(t,A,I,T,function(U){g(U)&&(U=null),O&&O.apply(this,arguments)})}}function s(m){return m&&function(A,I,T){try{return m.call(t,A,I,T)}catch(O){if(!g(O))throw O}}}function f(m){return m&&function(A,I,T){typeof I=="function"&&(T=I,I=null);function O(U,Z){Z&&(Z.uid<0&&(Z.uid+=4294967296),Z.gid<0&&(Z.gid+=4294967296)),T&&T.apply(this,arguments)}return I?m.call(t,A,I,O):m.call(t,A,O)}}function l(m){return m&&function(A,I){var T=I?m.call(t,A,I):m.call(t,A);return T&&(T.uid<0&&(T.uid+=4294967296),T.gid<0&&(T.gid+=4294967296)),T}}function g(m){if(!m||m.code==="ENOSYS")return!0;var A=!P.default.getuid||P.default.getuid()!==0;return!!(A&&(m.code==="EINVAL"||m.code==="EPERM"))}}});var pt=ee((uBe,RE)=>{x();typeof Object.create=="function"?RE.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:RE.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var kE=ee((lBe,dL)=>{x();dL.exports=co().EventEmitter});var lw=ee((dBe,pL)=>{"use strict";x();pL.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var hw=ee((gBe,gL)=>{"use strict";x();var hle=lw();gL.exports=function(){return hle()&&!!Symbol.toStringTag}});var mL=ee((yBe,yL)=>{"use strict";x();var vL=typeof Symbol<"u"&&Symbol,dle=lw();yL.exports=function(){return typeof vL!="function"||typeof Symbol!="function"||typeof vL("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:dle()}});var xL=ee((bBe,wL)=>{"use strict";x();var bL={foo:{}},ple=Object;wL.exports=function(){return{__proto__:bL}.foo===bL.foo&&!({__proto__:null}instanceof ple)}});var SL=ee((xBe,EL)=>{"use strict";x();var gle="Function.prototype.bind called on incompatible ",vle=Object.prototype.toString,yle=Math.max,mle="[object Function]",_L=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},ble=function(e,r){for(var n=[],i=r||0,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},wle=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};EL.exports=function(e){var r=this;if(typeof r!="function"||vle.apply(r)!==mle)throw new TypeError(gle+r);for(var n=ble(arguments,1),i,a=function(){if(this instanceof i){var m=r.apply(this,_L(n,arguments));return Object(m)===m?m:this}return r.apply(e,_L(n,arguments))},s=yle(0,r.length-n.length),f=[],l=0;l<s;l++)f[l]="$"+l;if(i=Function("binder","return function ("+wle(f,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var g=function(){};g.prototype=r.prototype,i.prototype=new g,g.prototype=null}return i}});var dw=ee((EBe,AL)=>{"use strict";x();var xle=SL();AL.exports=Function.prototype.bind||xle});var TL=ee((ABe,ML)=>{"use strict";x();var _le=Function.prototype.call,Ele=Object.prototype.hasOwnProperty,Sle=dw();ML.exports=Sle.call(_le,Ele)});var ul=ee((TBe,CL)=>{"use strict";x();var Wt,B0=SyntaxError,kL=Function,C0=TypeError,CE=function(t){try{return kL('"use strict"; return ('+t+").constructor;")()}catch{}},sl=Object.getOwnPropertyDescriptor;if(sl)try{sl({},"")}catch{sl=null}var BE=function(){throw new C0},Ale=sl?function(){try{return arguments.callee,BE}catch{try{return sl(arguments,"callee").get}catch{return BE}}}():BE,R0=mL()(),Mle=xL()(),Bn=Object.getPrototypeOf||(Mle?function(t){return t.__proto__}:null),k0={},Tle=typeof Uint8Array>"u"||!Bn?Wt:Bn(Uint8Array),fl={"%AggregateError%":typeof AggregateError>"u"?Wt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Wt:ArrayBuffer,"%ArrayIteratorPrototype%":R0&&Bn?Bn([][Symbol.iterator]()):Wt,"%AsyncFromSyncIteratorPrototype%":Wt,"%AsyncFunction%":k0,"%AsyncGenerator%":k0,"%AsyncGeneratorFunction%":k0,"%AsyncIteratorPrototype%":k0,"%Atomics%":typeof Atomics>"u"?Wt:Atomics,"%BigInt%":typeof BigInt>"u"?Wt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Wt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Wt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Wt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Wt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Wt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Wt:FinalizationRegistry,"%Function%":kL,"%GeneratorFunction%":k0,"%Int8Array%":typeof Int8Array>"u"?Wt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Wt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Wt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":R0&&Bn?Bn(Bn([][Symbol.iterator]())):Wt,"%JSON%":typeof JSON=="object"?JSON:Wt,"%Map%":typeof Map>"u"?Wt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!R0||!Bn?Wt:Bn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Wt:Promise,"%Proxy%":typeof Proxy>"u"?Wt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Wt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Wt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!R0||!Bn?Wt:Bn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Wt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":R0&&Bn?Bn(""[Symbol.iterator]()):Wt,"%Symbol%":R0?Symbol:Wt,"%SyntaxError%":B0,"%ThrowTypeError%":Ale,"%TypedArray%":Tle,"%TypeError%":C0,"%Uint8Array%":typeof Uint8Array>"u"?Wt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Wt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Wt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Wt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Wt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Wt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Wt:WeakSet};if(Bn)try{null.error}catch(t){OL=Bn(Bn(t)),fl["%Error.prototype%"]=OL}var OL,Ole=function t(e){var r;if(e==="%AsyncFunction%")r=CE("async function () {}");else if(e==="%GeneratorFunction%")r=CE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=CE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Bn&&(r=Bn(i.prototype))}return fl[e]=r,r},IL={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ng=dw(),pw=TL(),Ile=Ng.call(Function.call,Array.prototype.concat),Rle=Ng.call(Function.apply,Array.prototype.splice),RL=Ng.call(Function.call,String.prototype.replace),gw=Ng.call(Function.call,String.prototype.slice),kle=Ng.call(Function.call,RegExp.prototype.exec),Cle=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ble=/\\(\\)?/g,Ple=function(e){var r=gw(e,0,1),n=gw(e,-1);if(r==="%"&&n!=="%")throw new B0("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new B0("invalid intrinsic syntax, expected opening `%`");var i=[];return RL(e,Cle,function(a,s,f,l){i[i.length]=f?RL(l,Ble,"$1"):s||a}),i},Nle=function(e,r){var n=e,i;if(pw(IL,n)&&(i=IL[n],n="%"+i[0]+"%"),pw(fl,n)){var a=fl[n];if(a===k0&&(a=Ole(n)),typeof a>"u"&&!r)throw new C0("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new B0("intrinsic "+e+" does not exist!")};CL.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new C0("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new C0('"allowMissing" argument must be a boolean');if(kle(/^%?[^%]*%?$/,e)===null)throw new B0("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Ple(e),i=n.length>0?n[0]:"",a=Nle("%"+i+"%",r),s=a.name,f=a.value,l=!1,g=a.alias;g&&(i=g[0],Rle(n,Ile([0,1],g)));for(var m=1,A=!0;m<n.length;m+=1){var I=n[m],T=gw(I,0,1),O=gw(I,-1);if((T==='"'||T==="'"||T==="`"||O==='"'||O==="'"||O==="`")&&T!==O)throw new B0("property names with quotes must have matching quotes");if((I==="constructor"||!A)&&(l=!0),i+="."+I,s="%"+i+"%",pw(fl,s))f=fl[s];else if(f!=null){if(!(I in f)){if(!r)throw new C0("base intrinsic for "+e+" exists, but the property is not available.");return}if(sl&&m+1>=n.length){var U=sl(f,I);A=!!U,A&&"get"in U&&!("originalValue"in U.get)?f=U.get:f=f[I]}else A=pw(f,I),f=f[I];A&&!l&&(fl[s]=f)}}return f}});var vw=ee((IBe,BL)=>{"use strict";x();var Lle=ul(),PE=Lle("%Object.defineProperty%",!0),NE=function(){if(PE)try{return PE({},"a",{value:1}),!0}catch{return!1}return!1};NE.hasArrayLengthDefineBug=function(){if(!NE())return null;try{return PE([],"length",{value:1}).length!==1}catch{return!0}};BL.exports=NE});var mw=ee((kBe,PL)=>{"use strict";x();var Dle=ul(),yw=Dle("%Object.getOwnPropertyDescriptor%",!0);if(yw)try{yw([],"length")}catch{yw=null}PL.exports=yw});var DE=ee((BBe,LL)=>{"use strict";x();var qle=vw()(),LE=ul(),Lg=qle&&LE("%Object.defineProperty%",!0);if(Lg)try{Lg({},"a",{value:1})}catch{Lg=!1}var Ule=LE("%SyntaxError%"),P0=LE("%TypeError%"),NL=mw();LL.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new P0("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new P0("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new P0("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new P0("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new P0("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new P0("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,l=!!NL&&NL(e,r);if(Lg)Lg(e,r,{configurable:s===null&&l?l.configurable:!s,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:a===null&&l?l.writable:!a});else if(f||!i&&!a&&!s)e[r]=n;else throw new Ule("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var zL=ee((NBe,jL)=>{"use strict";x();var FL=ul(),DL=DE(),Fle=vw()(),qL=mw(),UL=FL("%TypeError%"),jle=FL("%Math.floor%");jL.exports=function(e,r){if(typeof e!="function")throw new UL("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||jle(r)!==r)throw new UL("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&qL){var s=qL(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(a=!1)}return(i||a||!n)&&(Fle?DL(e,"length",r,!0,!0):DL(e,"length",r)),e}});var qg=ee((DBe,bw)=>{"use strict";x();var qE=dw(),N0=ul(),zle=zL(),Kle=N0("%TypeError%"),WL=N0("%Function.prototype.apply%"),GL=N0("%Function.prototype.call%"),HL=N0("%Reflect.apply%",!0)||qE.call(GL,WL),Dg=N0("%Object.defineProperty%",!0),Wle=N0("%Math.max%");if(Dg)try{Dg({},"a",{value:1})}catch{Dg=null}bw.exports=function(e){if(typeof e!="function")throw new Kle("a function is required");var r=HL(qE,GL,arguments);return zle(r,1+Wle(0,e.length-(arguments.length-1)),!0)};var KL=function(){return HL(qE,WL,arguments)};Dg?Dg(bw.exports,"apply",{value:KL}):bw.exports.apply=KL});var Ug=ee((UBe,ZL)=>{"use strict";x();var $L=ul(),VL=qg(),Gle=VL($L("String.prototype.indexOf"));ZL.exports=function(e,r){var n=$L(e,!!r);return typeof n=="function"&&Gle(e,".prototype.")>-1?VL(n):n}});var XL=ee((jBe,YL)=>{"use strict";x();var Hle=hw()(),$le=Ug(),UE=$le("Object.prototype.toString"),ww=function(e){return Hle&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:UE(e)==="[object Arguments]"},JL=function(e){return ww(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&UE(e)!=="[object Array]"&&UE(e.callee)==="[object Function]"},Vle=function(){return ww(arguments)}();ww.isLegacyArguments=JL;YL.exports=Vle?ww:JL});var tD=ee((KBe,eD)=>{"use strict";x();var Zle=Object.prototype.toString,Jle=Function.prototype.toString,Yle=/^\s*(?:function)?\*/,QL=hw()(),FE=Object.getPrototypeOf,Xle=function(){if(!QL)return!1;try{return Function("return function*() {}")()}catch{}},jE;eD.exports=function(e){if(typeof e!="function")return!1;if(Yle.test(Jle.call(e)))return!0;if(!QL){var r=Zle.call(e);return r==="[object GeneratorFunction]"}if(!FE)return!1;if(typeof jE>"u"){var n=Xle();jE=n?FE(n):!1}return FE(e)===jE}});var aD=ee((GBe,iD)=>{"use strict";x();var nD=Function.prototype.toString,L0=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,KE,xw;if(typeof L0=="function"&&typeof Object.defineProperty=="function")try{KE=Object.defineProperty({},"length",{get:function(){throw xw}}),xw={},L0(function(){throw 42},null,KE)}catch(t){t!==xw&&(L0=null)}else L0=null;var Qle=/^\s*class\b/,WE=function(e){try{var r=nD.call(e);return Qle.test(r)}catch{return!1}},zE=function(e){try{return WE(e)?!1:(nD.call(e),!0)}catch{return!1}},_w=Object.prototype.toString,ehe="[object Object]",the="[object Function]",rhe="[object GeneratorFunction]",nhe="[object HTMLAllCollection]",ihe="[object HTML document.all class]",ahe="[object HTMLCollection]",ohe=typeof Symbol=="function"&&!!Symbol.toStringTag,she=!(0 in[,]),GE=function(){return!1};typeof document=="object"&&(rD=document.all,_w.call(rD)===_w.call(document.all)&&(GE=function(e){if((she||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=_w.call(e);return(r===nhe||r===ihe||r===ahe||r===ehe)&&e("")==null}catch{}return!1}));var rD;iD.exports=L0?function(e){if(GE(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{L0(e,null,KE)}catch(r){if(r!==xw)return!1}return!WE(e)&&zE(e)}:function(e){if(GE(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(ohe)return zE(e);if(WE(e))return!1;var r=_w.call(e);return r!==the&&r!==rhe&&!/^\[object HTML/.test(r)?!1:zE(e)}});var fD=ee(($Be,sD)=>{"use strict";x();var fhe=aD(),uhe=Object.prototype.toString,oD=Object.prototype.hasOwnProperty,che=function(e,r,n){for(var i=0,a=e.length;i<a;i++)oD.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},lhe=function(e,r,n){for(var i=0,a=e.length;i<a;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},hhe=function(e,r,n){for(var i in e)oD.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},dhe=function(e,r,n){if(!fhe(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),uhe.call(e)==="[object Array]"?che(e,r,i):typeof e=="string"?lhe(e,r,i):hhe(e,r,i)};sD.exports=dhe});var cD=ee((ZBe,uD)=>{"use strict";x();var HE=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],phe=typeof globalThis>"u"?D:globalThis;uD.exports=function(){for(var e=[],r=0;r<HE.length;r++)typeof phe[HE[r]]=="function"&&(e[e.length]=HE[r]);return e}});var YE=ee((YBe,pD)=>{"use strict";x();var Sw=fD(),ghe=cD(),lD=qg(),ZE=Ug(),Ew=mw(),vhe=ZE("Object.prototype.toString"),dD=hw()(),hD=typeof globalThis>"u"?D:globalThis,VE=ghe(),JE=ZE("String.prototype.slice"),$E=Object.getPrototypeOf,yhe=ZE("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Aw={__proto__:null};dD&&Ew&&$E?Sw(VE,function(t){var e=new hD[t];if(Symbol.toStringTag in e){var r=$E(e),n=Ew(r,Symbol.toStringTag);if(!n){var i=$E(r);n=Ew(i,Symbol.toStringTag)}Aw["$"+t]=lD(n.get)}}):Sw(VE,function(t){var e=new hD[t],r=e.slice||e.set;r&&(Aw["$"+t]=lD(r))});var mhe=function(e){var r=!1;return Sw(Aw,function(n,i){if(!r)try{"$"+n(e)===i&&(r=JE(i,1))}catch{}}),r},bhe=function(e){var r=!1;return Sw(Aw,function(n,i){if(!r)try{n(e),r=JE(i,1)}catch{}}),r};pD.exports=function(e){if(!e||typeof e!="object")return!1;if(!dD){var r=JE(vhe(e),8,-1);return yhe(VE,r)>-1?r:r!=="Object"?!1:bhe(e)}return Ew?mhe(e):null}});var vD=ee((QBe,gD)=>{"use strict";x();var whe=YE();gD.exports=function(e){return!!whe(e)}});var RD=ee(jt=>{"use strict";x();var xhe=XL(),_he=tD(),wo=YE(),yD=vD();function D0(t){return t.call.bind(t)}var mD=typeof BigInt<"u",bD=typeof Symbol<"u",Ra=D0(Object.prototype.toString),Ehe=D0(Number.prototype.valueOf),She=D0(String.prototype.valueOf),Ahe=D0(Boolean.prototype.valueOf);mD&&(wD=D0(BigInt.prototype.valueOf));var wD;bD&&(xD=D0(Symbol.prototype.valueOf));var xD;function jg(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}jt.isArgumentsObject=xhe;jt.isGeneratorFunction=_he;jt.isTypedArray=yD;function Mhe(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}jt.isPromise=Mhe;function The(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):yD(t)||ED(t)}jt.isArrayBufferView=The;function Ohe(t){return wo(t)==="Uint8Array"}jt.isUint8Array=Ohe;function Ihe(t){return wo(t)==="Uint8ClampedArray"}jt.isUint8ClampedArray=Ihe;function Rhe(t){return wo(t)==="Uint16Array"}jt.isUint16Array=Rhe;function khe(t){return wo(t)==="Uint32Array"}jt.isUint32Array=khe;function Che(t){return wo(t)==="Int8Array"}jt.isInt8Array=Che;function Bhe(t){return wo(t)==="Int16Array"}jt.isInt16Array=Bhe;function Phe(t){return wo(t)==="Int32Array"}jt.isInt32Array=Phe;function Nhe(t){return wo(t)==="Float32Array"}jt.isFloat32Array=Nhe;function Lhe(t){return wo(t)==="Float64Array"}jt.isFloat64Array=Lhe;function Dhe(t){return wo(t)==="BigInt64Array"}jt.isBigInt64Array=Dhe;function qhe(t){return wo(t)==="BigUint64Array"}jt.isBigUint64Array=qhe;function Mw(t){return Ra(t)==="[object Map]"}Mw.working=typeof Map<"u"&&Mw(new Map);function Uhe(t){return typeof Map>"u"?!1:Mw.working?Mw(t):t instanceof Map}jt.isMap=Uhe;function Tw(t){return Ra(t)==="[object Set]"}Tw.working=typeof Set<"u"&&Tw(new Set);function Fhe(t){return typeof Set>"u"?!1:Tw.working?Tw(t):t instanceof Set}jt.isSet=Fhe;function Ow(t){return Ra(t)==="[object WeakMap]"}Ow.working=typeof WeakMap<"u"&&Ow(new WeakMap);function jhe(t){return typeof WeakMap>"u"?!1:Ow.working?Ow(t):t instanceof WeakMap}jt.isWeakMap=jhe;function QE(t){return Ra(t)==="[object WeakSet]"}QE.working=typeof WeakSet<"u"&&QE(new WeakSet);function zhe(t){return QE(t)}jt.isWeakSet=zhe;function Iw(t){return Ra(t)==="[object ArrayBuffer]"}Iw.working=typeof ArrayBuffer<"u"&&Iw(new ArrayBuffer);function _D(t){return typeof ArrayBuffer>"u"?!1:Iw.working?Iw(t):t instanceof ArrayBuffer}jt.isArrayBuffer=_D;function Rw(t){return Ra(t)==="[object DataView]"}Rw.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Rw(new DataView(new ArrayBuffer(1),0,1));function ED(t){return typeof DataView>"u"?!1:Rw.working?Rw(t):t instanceof DataView}jt.isDataView=ED;var XE=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Fg(t){return Ra(t)==="[object SharedArrayBuffer]"}function SD(t){return typeof XE>"u"?!1:(typeof Fg.working>"u"&&(Fg.working=Fg(new XE)),Fg.working?Fg(t):t instanceof XE)}jt.isSharedArrayBuffer=SD;function Khe(t){return Ra(t)==="[object AsyncFunction]"}jt.isAsyncFunction=Khe;function Whe(t){return Ra(t)==="[object Map Iterator]"}jt.isMapIterator=Whe;function Ghe(t){return Ra(t)==="[object Set Iterator]"}jt.isSetIterator=Ghe;function Hhe(t){return Ra(t)==="[object Generator]"}jt.isGeneratorObject=Hhe;function $he(t){return Ra(t)==="[object WebAssembly.Module]"}jt.isWebAssemblyCompiledModule=$he;function AD(t){return jg(t,Ehe)}jt.isNumberObject=AD;function MD(t){return jg(t,She)}jt.isStringObject=MD;function TD(t){return jg(t,Ahe)}jt.isBooleanObject=TD;function OD(t){return mD&&jg(t,wD)}jt.isBigIntObject=OD;function ID(t){return bD&&jg(t,xD)}jt.isSymbolObject=ID;function Vhe(t){return AD(t)||MD(t)||TD(t)||OD(t)||ID(t)}jt.isBoxedPrimitive=Vhe;function Zhe(t){return typeof Uint8Array<"u"&&(_D(t)||SD(t))}jt.isAnyArrayBuffer=Zhe;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(jt,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var CD=ee((nPe,kD)=>{x();kD.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var Mr=ee(zt=>{x();var BD=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(e,r[i]);return n},Jhe=/%[sdj%]/g;zt.format=function(t){if(!Dw(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(bu(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,a=String(t).replace(Jhe,function(f){if(f==="%%")return"%";if(r>=i)return f;switch(f){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return f}}),s=n[r];r<i;s=n[++r])Lw(s)||!q0(s)?a+=" "+s:a+=" "+bu(s);return a};zt.deprecate=function(t,e){if(typeof P.default<"u"&&P.default.noDeprecation===!0)return t;if(typeof P.default>"u")return function(){return zt.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(P.default.throwDeprecation)throw new Error(e);P.default.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n};var kw={},PD=/^$/;P.default.env.NODE_DEBUG&&(Cw=P.default.env.NODE_DEBUG,Cw=Cw.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),PD=new RegExp("^"+Cw+"$","i"));var Cw;zt.debuglog=function(t){if(t=t.toUpperCase(),!kw[t])if(PD.test(t)){var e=P.default.pid;kw[t]=function(){var r=zt.format.apply(zt,arguments);console.error("%s %d: %s",t,e,r)}}else kw[t]=function(){};return kw[t]};function bu(t,e){var r={seen:[],stylize:Xhe};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),nS(e)?r.showHidden=e:e&&zt._extend(r,e),ll(r.showHidden)&&(r.showHidden=!1),ll(r.depth)&&(r.depth=2),ll(r.colors)&&(r.colors=!1),ll(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Yhe),Pw(r,t,r.depth)}zt.inspect=bu;bu.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};bu.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Yhe(t,e){var r=bu.styles[e];return r?"\x1B["+bu.colors[r][0]+"m"+t+"\x1B["+bu.colors[r][1]+"m":t}function Xhe(t,e){return t}function Qhe(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function Pw(t,e,r){if(t.customInspect&&e&&Bw(e.inspect)&&e.inspect!==zt.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return Dw(n)||(n=Pw(t,n,r)),n}var i=e0e(t,e);if(i)return i;var a=Object.keys(e),s=Qhe(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),Kg(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return eS(e);if(a.length===0){if(Bw(e)){var f=e.name?": "+e.name:"";return t.stylize("[Function"+f+"]","special")}if(zg(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Nw(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Kg(e))return eS(e)}var l="",g=!1,m=["{","}"];if(ND(e)&&(g=!0,m=["[","]"]),Bw(e)){var A=e.name?": "+e.name:"";l=" [Function"+A+"]"}if(zg(e)&&(l=" "+RegExp.prototype.toString.call(e)),Nw(e)&&(l=" "+Date.prototype.toUTCString.call(e)),Kg(e)&&(l=" "+eS(e)),a.length===0&&(!g||e.length==0))return m[0]+l+m[1];if(r<0)return zg(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var I;return g?I=t0e(t,e,r,s,a):I=a.map(function(T){return rS(t,e,r,s,T,g)}),t.seen.pop(),r0e(I,l,m)}function e0e(t,e){if(ll(e))return t.stylize("undefined","undefined");if(Dw(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(LD(e))return t.stylize(""+e,"number");if(nS(e))return t.stylize(""+e,"boolean");if(Lw(e))return t.stylize("null","null")}function eS(t){return"["+Error.prototype.toString.call(t)+"]"}function t0e(t,e,r,n,i){for(var a=[],s=0,f=e.length;s<f;++s)DD(e,String(s))?a.push(rS(t,e,r,n,String(s),!0)):a.push("");return i.forEach(function(l){l.match(/^\d+$/)||a.push(rS(t,e,r,n,l,!0))}),a}function rS(t,e,r,n,i,a){var s,f,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?l.set?f=t.stylize("[Getter/Setter]","special"):f=t.stylize("[Getter]","special"):l.set&&(f=t.stylize("[Setter]","special")),DD(n,i)||(s="["+i+"]"),f||(t.seen.indexOf(l.value)<0?(Lw(r)?f=Pw(t,l.value,null):f=Pw(t,l.value,r-1),f.indexOf(`
`)>-1&&(a?f=f.split(`
`).map(function(g){return"  "+g}).join(`
`).slice(2):f=`
`+f.split(`
`).map(function(g){return"   "+g}).join(`
`))):f=t.stylize("[Circular]","special")),ll(s)){if(a&&i.match(/^\d+$/))return f;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+f}function r0e(t,e,r){var n=0,i=t.reduce(function(a,s){return n++,s.indexOf(`
`)>=0&&n++,a+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}zt.types=RD();function ND(t){return Array.isArray(t)}zt.isArray=ND;function nS(t){return typeof t=="boolean"}zt.isBoolean=nS;function Lw(t){return t===null}zt.isNull=Lw;function n0e(t){return t==null}zt.isNullOrUndefined=n0e;function LD(t){return typeof t=="number"}zt.isNumber=LD;function Dw(t){return typeof t=="string"}zt.isString=Dw;function i0e(t){return typeof t=="symbol"}zt.isSymbol=i0e;function ll(t){return t===void 0}zt.isUndefined=ll;function zg(t){return q0(t)&&iS(t)==="[object RegExp]"}zt.isRegExp=zg;zt.types.isRegExp=zg;function q0(t){return typeof t=="object"&&t!==null}zt.isObject=q0;function Nw(t){return q0(t)&&iS(t)==="[object Date]"}zt.isDate=Nw;zt.types.isDate=Nw;function Kg(t){return q0(t)&&(iS(t)==="[object Error]"||t instanceof Error)}zt.isError=Kg;zt.types.isNativeError=Kg;function Bw(t){return typeof t=="function"}zt.isFunction=Bw;function a0e(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}zt.isPrimitive=a0e;zt.isBuffer=CD();function iS(t){return Object.prototype.toString.call(t)}function tS(t){return t<10?"0"+t.toString(10):t.toString(10)}var o0e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function s0e(){var t=new Date,e=[tS(t.getHours()),tS(t.getMinutes()),tS(t.getSeconds())].join(":");return[t.getDate(),o0e[t.getMonth()],e].join(" ")}zt.log=function(){console.log("%s - %s",s0e(),zt.format.apply(zt,arguments))};zt.inherits=pt();zt._extend=function(t,e){if(!e||!q0(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function DD(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var cl=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;zt.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(cl&&e[cl]){var r=e[cl];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,cl,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,a=new Promise(function(l,g){n=l,i=g}),s=[],f=0;f<arguments.length;f++)s.push(arguments[f]);s.push(function(l,g){l?i(l):n(g)});try{e.apply(this,s)}catch(l){i(l)}return a}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),cl&&Object.defineProperty(r,cl,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,BD(e))};zt.promisify.custom=cl;function f0e(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function u0e(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var a=this,s=function(){return i.apply(a,arguments)};t.apply(this,r).then(function(f){P.default.nextTick(s.bind(null,null,f))},function(f){P.default.nextTick(f0e.bind(null,f,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,BD(t)),e}zt.callbackify=u0e});var KD=ee((sPe,zD)=>{"use strict";x();function qD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qD(Object(r),!0).forEach(function(n){c0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c0e(t,e,r){return e=jD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jD(n.key),n)}}function h0e(t,e,r){return e&&FD(t.prototype,e),r&&FD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jD(t){var e=d0e(t,"string");return typeof e=="symbol"?e:String(e)}function d0e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p0e=Sr(),qw=p0e.Buffer,g0e=Mr(),aS=g0e.inspect,v0e=aS&&aS.custom||"inspect";function y0e(t,e,r){qw.prototype.copy.call(t,e,r)}zD.exports=function(){function t(){l0e(this,t),this.head=null,this.tail=null,this.length=0}return h0e(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return qw.alloc(0);for(var n=qw.allocUnsafe(r>>>0),i=this.head,a=0;i;)y0e(i.data,n,a),a+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,a=n.data;for(r-=a.length;n=n.next;){var s=n.data,f=r>s.length?s.length:r;if(f===s.length?a+=s:a+=s.slice(0,r),r-=f,r===0){f===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(f));break}++i}return this.length-=i,a}},{key:"_getBuffer",value:function(r){var n=qw.allocUnsafe(r),i=this.head,a=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,f=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,f),r-=f,r===0){f===s.length?(++a,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(f));break}++a}return this.length-=a,n}},{key:v0e,value:function(r,n){return aS(this,UD(UD({},n),{},{depth:0,customInspect:!1}))}}]),t}()});var sS=ee((uPe,GD)=>{"use strict";x();function m0e(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,P.default.nextTick(oS,this,t)):P.default.nextTick(oS,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(a){!e&&a?r._writableState?r._writableState.errorEmitted?P.default.nextTick(Uw,r):(r._writableState.errorEmitted=!0,P.default.nextTick(WD,r,a)):P.default.nextTick(WD,r,a):e?(P.default.nextTick(Uw,r),e(a)):P.default.nextTick(Uw,r)}),this)}function WD(t,e){oS(t,e),Uw(t)}function Uw(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function b0e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function oS(t,e){t.emit("error",e)}function w0e(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}GD.exports={destroy:m0e,undestroy:b0e,errorOrDestroy:w0e}});var hl=ee((lPe,VD)=>{"use strict";x();function x0e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var $D={};function ka(t,e,r){r||(r=Error);function n(a,s,f){return typeof e=="string"?e:e(a,s,f)}var i=function(a){x0e(s,a);function s(f,l,g){return a.call(this,n(f,l,g))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,$D[t]=i}function HD(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function _0e(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function E0e(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function S0e(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ka("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ka("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&_0e(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(E0e(t," argument"))i="The ".concat(t," ").concat(n," ").concat(HD(e,"type"));else{var a=S0e(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(a," ").concat(n," ").concat(HD(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);ka("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ka("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ka("ERR_STREAM_PREMATURE_CLOSE","Premature close");ka("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ka("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ka("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ka("ERR_STREAM_WRITE_AFTER_END","write after end");ka("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ka("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ka("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");VD.exports.codes=$D});var fS=ee((dPe,ZD)=>{"use strict";x();var A0e=hl().codes.ERR_INVALID_OPT_VALUE;function M0e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function T0e(t,e,r,n){var i=M0e(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new A0e(a,i)}return Math.floor(i)}return t.objectMode?16:16*1024}ZD.exports={getHighWaterMark:T0e}});var Fw=ee((gPe,JD)=>{x();JD.exports=O0e;function O0e(t,e){if(uS("noDeprecation"))return t;var r=!1;function n(){if(!r){if(uS("throwDeprecation"))throw new Error(e);uS("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function uS(t){try{if(!D.localStorage)return!1}catch{return!1}var e=D.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var Kw=ee((yPe,rq)=>{"use strict";x();rq.exports=sn;function XD(t){var e=this;this.next=null,this.entry=null,this.finish=function(){tde(e,t)}}var U0;sn.WritableState=Gg;var I0e={deprecate:Fw()},QD=kE(),zw=Sr().Buffer,R0e=(typeof D<"u"?D:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function k0e(t){return zw.from(t)}function C0e(t){return zw.isBuffer(t)||t instanceof R0e}var lS=sS(),B0e=fS(),P0e=B0e.getHighWaterMark,wu=hl().codes,N0e=wu.ERR_INVALID_ARG_TYPE,L0e=wu.ERR_METHOD_NOT_IMPLEMENTED,D0e=wu.ERR_MULTIPLE_CALLBACK,q0e=wu.ERR_STREAM_CANNOT_PIPE,U0e=wu.ERR_STREAM_DESTROYED,F0e=wu.ERR_STREAM_NULL_VALUES,j0e=wu.ERR_STREAM_WRITE_AFTER_END,z0e=wu.ERR_UNKNOWN_ENCODING,F0=lS.errorOrDestroy;pt()(sn,QD);function K0e(){}function Gg(t,e,r){U0=U0||xu(),t=t||{},typeof r!="boolean"&&(r=e instanceof U0),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=P0e(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){J0e(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new XD(this)}Gg.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Gg.prototype,"buffer",{get:I0e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var jw;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(jw=Function.prototype[Symbol.hasInstance],Object.defineProperty(sn,Symbol.hasInstance,{value:function(e){return jw.call(this,e)?!0:this!==sn?!1:e&&e._writableState instanceof Gg}})):jw=function(e){return e instanceof this};function sn(t){U0=U0||xu();var e=this instanceof U0;if(!e&&!jw.call(sn,this))return new sn(t);this._writableState=new Gg(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),QD.call(this)}sn.prototype.pipe=function(){F0(this,new q0e)};function W0e(t,e){var r=new j0e;F0(t,r),P.default.nextTick(e,r)}function G0e(t,e,r,n){var i;return r===null?i=new F0e:typeof r!="string"&&!e.objectMode&&(i=new N0e("chunk",["string","Buffer"],r)),i?(F0(t,i),P.default.nextTick(n,i),!1):!0}sn.prototype.write=function(t,e,r){var n=this._writableState,i=!1,a=!n.objectMode&&C0e(t);return a&&!zw.isBuffer(t)&&(t=k0e(t)),typeof e=="function"&&(r=e,e=null),a?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=K0e),n.ending?W0e(this,r):(a||G0e(this,n,t,r))&&(n.pendingcb++,i=$0e(this,n,a,t,e,r)),i};sn.prototype.cork=function(){this._writableState.corked++};sn.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&eq(this,t))};sn.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new z0e(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(sn.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function H0e(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=zw.from(e,r)),e}Object.defineProperty(sn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function $0e(t,e,r,n,i,a){if(!r){var s=H0e(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var f=e.objectMode?1:n.length;e.length+=f;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var g=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},g?g.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else cS(t,e,!1,f,n,i,a);return l}function cS(t,e,r,n,i,a,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new U0e("write")):r?t._writev(i,e.onwrite):t._write(i,a,e.onwrite),e.sync=!1}function V0e(t,e,r,n,i){--e.pendingcb,r?(P.default.nextTick(i,n),P.default.nextTick(Wg,t,e),t._writableState.errorEmitted=!0,F0(t,n)):(i(n),t._writableState.errorEmitted=!0,F0(t,n),Wg(t,e))}function Z0e(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function J0e(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new D0e;if(Z0e(r),e)V0e(t,r,n,e,i);else{var a=tq(r)||t.destroyed;!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&eq(t,r),n?P.default.nextTick(YD,t,r,a,i):YD(t,r,a,i)}}function YD(t,e,r,n){r||Y0e(t,e),e.pendingcb--,n(),Wg(t,e)}function Y0e(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function eq(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var s=0,f=!0;r;)i[s]=r,r.isBuf||(f=!1),r=r.next,s+=1;i.allBuffers=f,cS(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new XD(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,g=r.encoding,m=r.callback,A=e.objectMode?1:l.length;if(cS(t,e,!1,A,l,g,m),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}sn.prototype._write=function(t,e,r){r(new L0e("_write()"))};sn.prototype._writev=null;sn.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||ede(this,n,r),this};Object.defineProperty(sn.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function tq(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function X0e(t,e){t._final(function(r){e.pendingcb--,r&&F0(t,r),e.prefinished=!0,t.emit("prefinish"),Wg(t,e)})}function Q0e(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,P.default.nextTick(X0e,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Wg(t,e){var r=tq(e);if(r&&(Q0e(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function ede(t,e,r){e.ending=!0,Wg(t,e),r&&(e.finished?P.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function tde(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(sn.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});sn.prototype.destroy=lS.destroy;sn.prototype._undestroy=lS.undestroy;sn.prototype._destroy=function(t,e){e(t)}});var xu=ee((bPe,iq)=>{"use strict";x();var rde=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};iq.exports=ds;var nq=Hw(),dS=Kw();pt()(ds,nq);for(hS=rde(dS.prototype),Ww=0;Ww<hS.length;Ww++)Gw=hS[Ww],ds.prototype[Gw]||(ds.prototype[Gw]=dS.prototype[Gw]);var hS,Gw,Ww;function ds(t){if(!(this instanceof ds))return new ds(t);nq.call(this,t),dS.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",nde)))}Object.defineProperty(ds.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(ds.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(ds.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function nde(){this._writableState.ended||P.default.nextTick(ide,this)}function ide(t){t.end()}Object.defineProperty(ds.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var $g=ee(oq=>{"use strict";x();var gS=Et().Buffer,aq=gS.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ade(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function ode(t){var e=ade(t);if(typeof e!="string"&&(gS.isEncoding===aq||!aq(t)))throw new Error("Unknown encoding: "+t);return e||t}oq.StringDecoder=Hg;function Hg(t){this.encoding=ode(t);var e;switch(this.encoding){case"utf16le":this.text=hde,this.end=dde,e=4;break;case"utf8":this.fillLast=ude,e=4;break;case"base64":this.text=pde,this.end=gde,e=3;break;default:this.write=vde,this.end=yde;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=gS.allocUnsafe(e)}Hg.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Hg.prototype.end=lde;Hg.prototype.text=cde;Hg.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function pS(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function sde(t,e,r){var n=e.length-1;if(n<r)return 0;var i=pS(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=pS(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=pS(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function fde(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function ude(t){var e=this.lastTotal-this.lastNeed,r=fde(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function cde(t,e){var r=sde(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function lde(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function hde(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function dde(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function pde(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function gde(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function vde(t){return t.toString(this.encoding)}function yde(t){return t&&t.length?this.write(t):""}});var Vg=ee((EPe,uq)=>{"use strict";x();var sq=hl().codes.ERR_STREAM_PREMATURE_CLOSE;function mde(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function bde(){}function wde(t){return t.setHeader&&typeof t.abort=="function"}function fq(t,e,r){if(typeof e=="function")return fq(t,null,e);e||(e={}),r=mde(r||bde);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,a=function(){t.writable||f()},s=t._writableState&&t._writableState.finished,f=function(){i=!1,s=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,g=function(){n=!1,l=!0,i||r.call(t)},m=function(O){r.call(t,O)},A=function(){var O;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(O=new sq),r.call(t,O);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(O=new sq),r.call(t,O)},I=function(){t.req.on("finish",f)};return wde(t)?(t.on("complete",f),t.on("abort",A),t.req?I():t.on("request",I)):i&&!t._writableState&&(t.on("end",a),t.on("close",a)),t.on("end",g),t.on("finish",f),e.error!==!1&&t.on("error",m),t.on("close",A),function(){t.removeListener("complete",f),t.removeListener("abort",A),t.removeListener("request",I),t.req&&t.req.removeListener("finish",f),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",f),t.removeListener("end",g),t.removeListener("error",m),t.removeListener("close",A)}}uq.exports=fq});var lq=ee((APe,cq)=>{"use strict";x();var $w;function _u(t,e,r){return e=xde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xde(t){var e=_de(t,"string");return typeof e=="symbol"?e:String(e)}function _de(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ede=Vg(),Eu=Symbol("lastResolve"),dl=Symbol("lastReject"),Zg=Symbol("error"),Vw=Symbol("ended"),pl=Symbol("lastPromise"),vS=Symbol("handlePromise"),gl=Symbol("stream");function Su(t,e){return{value:t,done:e}}function Sde(t){var e=t[Eu];if(e!==null){var r=t[gl].read();r!==null&&(t[pl]=null,t[Eu]=null,t[dl]=null,e(Su(r,!1)))}}function Ade(t){P.default.nextTick(Sde,t)}function Mde(t,e){return function(r,n){t.then(function(){if(e[Vw]){r(Su(void 0,!0));return}e[vS](r,n)},n)}}var Tde=Object.getPrototypeOf(function(){}),Ode=Object.setPrototypeOf(($w={get stream(){return this[gl]},next:function(){var e=this,r=this[Zg];if(r!==null)return Promise.reject(r);if(this[Vw])return Promise.resolve(Su(void 0,!0));if(this[gl].destroyed)return new Promise(function(s,f){P.default.nextTick(function(){e[Zg]?f(e[Zg]):s(Su(void 0,!0))})});var n=this[pl],i;if(n)i=new Promise(Mde(n,this));else{var a=this[gl].read();if(a!==null)return Promise.resolve(Su(a,!1));i=new Promise(this[vS])}return this[pl]=i,i}},_u($w,Symbol.asyncIterator,function(){return this}),_u($w,"return",function(){var e=this;return new Promise(function(r,n){e[gl].destroy(null,function(i){if(i){n(i);return}r(Su(void 0,!0))})})}),$w),Tde),Ide=function(e){var r,n=Object.create(Ode,(r={},_u(r,gl,{value:e,writable:!0}),_u(r,Eu,{value:null,writable:!0}),_u(r,dl,{value:null,writable:!0}),_u(r,Zg,{value:null,writable:!0}),_u(r,Vw,{value:e._readableState.endEmitted,writable:!0}),_u(r,vS,{value:function(a,s){var f=n[gl].read();f?(n[pl]=null,n[Eu]=null,n[dl]=null,a(Su(f,!1))):(n[Eu]=a,n[dl]=s)},writable:!0}),r));return n[pl]=null,Ede(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var a=n[dl];a!==null&&(n[pl]=null,n[Eu]=null,n[dl]=null,a(i)),n[Zg]=i;return}var s=n[Eu];s!==null&&(n[pl]=null,n[Eu]=null,n[dl]=null,s(Su(void 0,!0))),n[Vw]=!0}),e.on("readable",Ade.bind(null,n)),n};cq.exports=Ide});var dq=ee((TPe,hq)=>{x();hq.exports=function(){throw new Error("Readable.from is not available in the browser")}});var Hw=ee((RPe,Eq)=>{"use strict";x();Eq.exports=or;var j0;or.ReadableState=yq;var IPe=co().EventEmitter,vq=function(e,r){return e.listeners(r).length},Yg=kE(),Zw=Sr().Buffer,Rde=(typeof D<"u"?D:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function kde(t){return Zw.from(t)}function Cde(t){return Zw.isBuffer(t)||t instanceof Rde}var yS=Mr(),Lt;yS&&yS.debuglog?Lt=yS.debuglog("stream"):Lt=function(){};var Bde=KD(),SS=sS(),Pde=fS(),Nde=Pde.getHighWaterMark,Jw=hl().codes,Lde=Jw.ERR_INVALID_ARG_TYPE,Dde=Jw.ERR_STREAM_PUSH_AFTER_EOF,qde=Jw.ERR_METHOD_NOT_IMPLEMENTED,Ude=Jw.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,z0,mS,bS;pt()(or,Yg);var Jg=SS.errorOrDestroy,wS=["error","close","destroy","pause","resume"];function Fde(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function yq(t,e,r){j0=j0||xu(),t=t||{},typeof r!="boolean"&&(r=e instanceof j0),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Nde(this,t,"readableHighWaterMark",r),this.buffer=new Bde,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(z0||(z0=$g().StringDecoder),this.decoder=new z0(t.encoding),this.encoding=t.encoding)}function or(t){if(j0=j0||xu(),!(this instanceof or))return new or(t);var e=this instanceof j0;this._readableState=new yq(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Yg.call(this)}Object.defineProperty(or.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});or.prototype.destroy=SS.destroy;or.prototype._undestroy=SS.undestroy;or.prototype._destroy=function(t,e){e(t)};or.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Zw.from(t,e),e=""),n=!0),mq(this,t,e,!1,n)};or.prototype.unshift=function(t){return mq(this,t,null,!0,!1)};function mq(t,e,r,n,i){Lt("readableAddChunk",e);var a=t._readableState;if(e===null)a.reading=!1,Kde(t,a);else{var s;if(i||(s=jde(a,e)),s)Jg(t,s);else if(a.objectMode||e&&e.length>0)if(typeof e!="string"&&!a.objectMode&&Object.getPrototypeOf(e)!==Zw.prototype&&(e=kde(e)),n)a.endEmitted?Jg(t,new Ude):xS(t,a,e,!0);else if(a.ended)Jg(t,new Dde);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||e.length!==0?xS(t,a,e,!1):ES(t,a)):xS(t,a,e,!1)}else n||(a.reading=!1,ES(t,a))}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function xS(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Yw(t)),ES(t,e)}function jde(t,e){var r;return!Cde(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Lde("chunk",["string","Buffer","Uint8Array"],e)),r}or.prototype.isPaused=function(){return this._readableState.flowing===!1};or.prototype.setEncoding=function(t){z0||(z0=$g().StringDecoder);var e=new z0(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var pq=1073741824;function zde(t){return t>=pq?t=pq:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function gq(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=zde(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}or.prototype.read=function(t){Lt("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Lt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?_S(this):Yw(this),null;if(t=gq(t,e),t===0&&e.ended)return e.length===0&&_S(this),null;var n=e.needReadable;Lt("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Lt("length less than watermark",n)),e.ended||e.reading?(n=!1,Lt("reading or ended",n)):n&&(Lt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=gq(r,e)));var i;return t>0?i=xq(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&_S(this)),i!==null&&this.emit("data",i),i};function Kde(t,e){if(Lt("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Yw(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,bq(t)))}}function Yw(t){var e=t._readableState;Lt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Lt("emitReadable",e.flowing),e.emittedReadable=!0,P.default.nextTick(bq,t))}function bq(t){var e=t._readableState;Lt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,AS(t)}function ES(t,e){e.readingMore||(e.readingMore=!0,P.default.nextTick(Wde,t,e))}function Wde(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Lt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}or.prototype._read=function(t){Jg(this,new qde("_read()"))};or.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Lt("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==P.default.stdout&&t!==P.default.stderr,a=i?f:U;n.endEmitted?P.default.nextTick(a):r.once("end",a),t.on("unpipe",s);function s(Z,Y){Lt("onunpipe"),Z===r&&Y&&Y.hasUnpiped===!1&&(Y.hasUnpiped=!0,m())}function f(){Lt("onend"),t.end()}var l=Gde(r);t.on("drain",l);var g=!1;function m(){Lt("cleanup"),t.removeListener("close",T),t.removeListener("finish",O),t.removeListener("drain",l),t.removeListener("error",I),t.removeListener("unpipe",s),r.removeListener("end",f),r.removeListener("end",U),r.removeListener("data",A),g=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",A);function A(Z){Lt("ondata");var Y=t.write(Z);Lt("dest.write",Y),Y===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&_q(n.pipes,t)!==-1)&&!g&&(Lt("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function I(Z){Lt("onerror",Z),U(),t.removeListener("error",I),vq(t,"error")===0&&Jg(t,Z)}Fde(t,"error",I);function T(){t.removeListener("finish",O),U()}t.once("close",T);function O(){Lt("onfinish"),t.removeListener("close",T),U()}t.once("finish",O);function U(){Lt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Lt("pipe resume"),r.resume()),t};function Gde(t){return function(){var r=t._readableState;Lt("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&vq(t,"data")&&(r.flowing=!0,AS(t))}}or.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=_q(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};or.prototype.on=function(t,e){var r=Yg.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Lt("on readable",n.length,n.reading),n.length?Yw(this):n.reading||P.default.nextTick(Hde,this)),r};or.prototype.addListener=or.prototype.on;or.prototype.removeListener=function(t,e){var r=Yg.prototype.removeListener.call(this,t,e);return t==="readable"&&P.default.nextTick(wq,this),r};or.prototype.removeAllListeners=function(t){var e=Yg.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&P.default.nextTick(wq,this),e};function wq(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Hde(t){Lt("readable nexttick read 0"),t.read(0)}or.prototype.resume=function(){var t=this._readableState;return t.flowing||(Lt("resume"),t.flowing=!t.readableListening,$de(this,t)),t.paused=!1,this};function $de(t,e){e.resumeScheduled||(e.resumeScheduled=!0,P.default.nextTick(Vde,t,e))}function Vde(t,e){Lt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),AS(t),e.flowing&&!e.reading&&t.read(0)}or.prototype.pause=function(){return Lt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Lt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function AS(t){var e=t._readableState;for(Lt("flow",e.flowing);e.flowing&&t.read()!==null;);}or.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Lt("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Lt("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var f=e.push(s);f||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(f){return function(){return t[f].apply(t,arguments)}}(i));for(var a=0;a<wS.length;a++)t.on(wS[a],this.emit.bind(this,wS[a]));return this._read=function(s){Lt("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(or.prototype[Symbol.asyncIterator]=function(){return mS===void 0&&(mS=lq()),mS(this)});Object.defineProperty(or.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(or.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(or.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});or._fromList=xq;Object.defineProperty(or.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function xq(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function _S(t){var e=t._readableState;Lt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,P.default.nextTick(Zde,e,t))}function Zde(t,e){if(Lt("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(or.from=function(t,e){return bS===void 0&&(bS=dq()),bS(or,t,e)});function _q(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var ex=ee((CPe,Aq)=>{"use strict";x();Aq.exports=uf;var Xw=hl().codes,Jde=Xw.ERR_METHOD_NOT_IMPLEMENTED,Yde=Xw.ERR_MULTIPLE_CALLBACK,Xde=Xw.ERR_TRANSFORM_ALREADY_TRANSFORMING,Qde=Xw.ERR_TRANSFORM_WITH_LENGTH_0,Qw=xu();pt()(uf,Qw);function epe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Yde);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function uf(t){if(!(this instanceof uf))return new uf(t);Qw.call(this,t),this._transformState={afterTransform:epe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",tpe)}function tpe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Sq(t,e,r)}):Sq(this,null,null)}uf.prototype.push=function(t,e){return this._transformState.needTransform=!1,Qw.prototype.push.call(this,t,e)};uf.prototype._transform=function(t,e,r){r(new Jde("_transform()"))};uf.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};uf.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};uf.prototype._destroy=function(t,e){Qw.prototype._destroy.call(this,t,function(r){e(r)})};function Sq(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Qde;if(t._transformState.transforming)throw new Xde;return t.push(null)}});var MS=ee((PPe,Tq)=>{"use strict";x();Tq.exports=Xg;var Mq=ex();pt()(Xg,Mq);function Xg(t){if(!(this instanceof Xg))return new Xg(t);Mq.call(this,t)}Xg.prototype._transform=function(t,e,r){r(null,t)}});var OS=ee((LPe,kq)=>{"use strict";x();var TS;function rpe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Rq=hl().codes,npe=Rq.ERR_MISSING_ARGS,ipe=Rq.ERR_STREAM_DESTROYED;function Oq(t){if(t)throw t}function ape(t){return t.setHeader&&typeof t.abort=="function"}function ope(t,e,r,n){n=rpe(n);var i=!1;t.on("close",function(){i=!0}),TS===void 0&&(TS=Vg()),TS(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var a=!1;return function(s){if(!i&&!a){if(a=!0,ape(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new ipe("pipe"))}}}function Iq(t){t()}function spe(t,e){return t.pipe(e)}function fpe(t){return!t.length||typeof t[t.length-1]!="function"?Oq:t.pop()}function upe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=fpe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new npe("streams");var i,a=e.map(function(s,f){var l=f<e.length-1,g=f>0;return ope(s,l,g,function(m){i||(i=m),m&&a.forEach(Iq),!l&&(a.forEach(Iq),n(i))})});return e.reduce(spe)}kq.exports=upe});var ps=ee((qPe,Cq)=>{x();Cq.exports=Ca;var IS=co().EventEmitter,cpe=pt();cpe(Ca,IS);Ca.Readable=Hw();Ca.Writable=Kw();Ca.Duplex=xu();Ca.Transform=ex();Ca.PassThrough=MS();Ca.finished=Vg();Ca.pipeline=OS();Ca.Stream=Ca;function Ca(){IS.call(this)}Ca.prototype.pipe=function(t,e){var r=this;function n(m){t.writable&&t.write(m)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",f));var a=!1;function s(){a||(a=!0,t.end())}function f(){a||(a=!0,typeof t.destroy=="function"&&t.destroy())}function l(m){if(g(),IS.listenerCount(this,"error")===0)throw m}r.on("error",l),t.on("error",l);function g(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",f),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",g),r.removeListener("close",g),t.removeListener("close",g)}return r.on("end",g),r.on("close",g),t.on("close",g),t.emit("pipe",r),t}});var Nq=ee((FPe,Pq)=>{x();var Bq=ps().Stream;Pq.exports=lpe;function lpe(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);Bq.call(this);var a=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var s=Object.keys(i),f=0,l=s.length;f<l;f++){var g=s[f];this[g]=i[g]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){P.default.nextTick(function(){a._read()});return}t.open(this.path,this.flags,this.mode,function(m,A){if(m){a.emit("error",m),a.readable=!1;return}a.fd=A,a.emit("open",A),a._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);Bq.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var a=Object.keys(i),s=0,f=a.length;s<f;s++){var l=a[s];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Dq=ee((zPe,Lq)=>{"use strict";x();Lq.exports=dpe;var hpe=Object.getPrototypeOf||function(t){return t.__proto__};function dpe(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:hpe(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var CS=ee((WPe,jq)=>{"use strict";x();function Au(t){return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function qq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gpe(n.key),n)}}function ppe(t,e,r){return e&&qq(t.prototype,e),r&&qq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gpe(t){var e=vpe(t,"string");return Au(e)==="symbol"?e:String(e)}function vpe(t,e){if(Au(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Au(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ype(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kS(t,e)}function kS(t,e){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kS(t,e)}function bpe(t){var e=_pe();return function(){var n=tx(t),i;if(e){var a=tx(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return wpe(this,i)}}function wpe(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xpe(t)}function xpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _pe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tx(t){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tx(t)}var Fq={},K0,RS;function Qg(t,e,r){r||(r=Error);function n(a,s,f){return typeof e=="string"?e:e(a,s,f)}var i=function(a){mpe(f,a);var s=bpe(f);function f(l,g,m){var A;return ype(this,f),A=s.call(this,n(l,g,m)),A.code=t,A}return ppe(f)}(r);Fq[t]=i}function Uq(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Epe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Spe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Ape(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Qg("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);Qg("ERR_INVALID_ARG_TYPE",function(t,e,r){K0===void 0&&(K0=Mu()),K0(typeof t=="string","'name' must be a string");var n;typeof e=="string"&&Epe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Spe(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Uq(e,"type"));else{var a=Ape(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(a," ").concat(n," ").concat(Uq(e,"type"))}return i+=". Received type ".concat(Au(r)),i},TypeError);Qg("ERR_INVALID_ARG_VALUE",function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";RS===void 0&&(RS=Mr());var n=RS.inspect(e);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(n)},TypeError,RangeError);Qg("ERR_INVALID_RETURN_VALUE",function(t,e,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(Au(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(n,".")},TypeError);Qg("ERR_MISSING_ARGS",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];K0===void 0&&(K0=Mu()),K0(e.length>0,"At least one arg needs to be specified");var n="The ",i=e.length;switch(e=e.map(function(a){return'"'.concat(a,'"')}),i){case 1:n+="".concat(e[0]," argument");break;case 2:n+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:n+=e.slice(0,i-1).join(", "),n+=", and ".concat(e[i-1]," arguments");break}return"".concat(n," must be specified")},TypeError);jq.exports.codes=Fq});var Yq=ee((HPe,Jq)=>{"use strict";x();function zq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zq(Object(r),!0).forEach(function(n){Mpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mpe(t,e,r){return e=$q(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$q(n.key),n)}}function Ope(t,e,r){return e&&Wq(t.prototype,e),r&&Wq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $q(t){var e=Ipe(t,"string");return Ni(e)==="symbol"?e:String(e)}function Ipe(t,e){if(Ni(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ni(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n1(t,e)}function kpe(t){var e=Zq();return function(){var n=i1(t),i;if(e){var a=i1(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Vq(this,i)}}function Vq(t,e){if(e&&(Ni(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BS(t)}function BS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PS(t){var e=typeof Map=="function"?new Map:void 0;return PS=function(n){if(n===null||!Cpe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return rx(n,arguments,i1(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),n1(i,n)},PS(t)}function rx(t,e,r){return Zq()?rx=Reflect.construct.bind():rx=function(i,a,s){var f=[null];f.push.apply(f,a);var l=Function.bind.apply(i,f),g=new l;return s&&n1(g,s.prototype),g},rx.apply(null,arguments)}function Zq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cpe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function n1(t,e){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n1(t,e)}function i1(t){return i1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i1(t)}function Ni(t){return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ni(t)}var Bpe=Mr(),NS=Bpe.inspect,Ppe=CS(),Npe=Ppe.codes.ERR_INVALID_ARG_TYPE;function Gq(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Lpe(t,e){if(e=Math.floor(e),t.length==0||e==0)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,r-t.length),t}var xo="",e1="",t1="",Zn="",vl={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},Dpe=10;function Hq(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach(function(n){r[n]=t[n]}),Object.defineProperty(r,"message",{value:t.message}),r}function r1(t){return NS(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function qpe(t,e,r){var n="",i="",a=0,s="",f=!1,l=r1(t),g=l.split(`
`),m=r1(e).split(`
`),A=0,I="";if(r==="strictEqual"&&Ni(t)==="object"&&Ni(e)==="object"&&t!==null&&e!==null&&(r="strictEqualObject"),g.length===1&&m.length===1&&g[0]!==m[0]){var T=g[0].length+m[0].length;if(T<=Dpe){if((Ni(t)!=="object"||t===null)&&(Ni(e)!=="object"||e===null)&&(t!==0||e!==0))return"".concat(vl[r],`

`)+"".concat(g[0]," !== ").concat(m[0],`
`)}else if(r!=="strictEqualObject"){var O=P.default.stderr&&P.default.stderr.isTTY?P.default.stderr.columns:80;if(T<O){for(;g[0][A]===m[0][A];)A++;A>2&&(I=`
  `.concat(Lpe(" ",A),"^"),A=0)}}}for(var U=g[g.length-1],Z=m[m.length-1];U===Z&&(A++<2?s=`
  `.concat(U).concat(s):n=U,g.pop(),m.pop(),!(g.length===0||m.length===0));)U=g[g.length-1],Z=m[m.length-1];var Y=Math.max(g.length,m.length);if(Y===0){var re=l.split(`
`);if(re.length>30)for(re[26]="".concat(xo,"...").concat(Zn);re.length>27;)re.pop();return"".concat(vl.notIdentical,`

`).concat(re.join(`
`),`
`)}A>3&&(s=`
`.concat(xo,"...").concat(Zn).concat(s),f=!0),n!==""&&(s=`
  `.concat(n).concat(s),n="");var pe=0,he=vl[r]+`
`.concat(e1,"+ actual").concat(Zn," ").concat(t1,"- expected").concat(Zn),se=" ".concat(xo,"...").concat(Zn," Lines skipped");for(A=0;A<Y;A++){var fe=A-a;if(g.length<A+1)fe>1&&A>2&&(fe>4?(i+=`
`.concat(xo,"...").concat(Zn),f=!0):fe>3&&(i+=`
  `.concat(m[A-2]),pe++),i+=`
  `.concat(m[A-1]),pe++),a=A,n+=`
`.concat(t1,"-").concat(Zn," ").concat(m[A]),pe++;else if(m.length<A+1)fe>1&&A>2&&(fe>4?(i+=`
`.concat(xo,"...").concat(Zn),f=!0):fe>3&&(i+=`
  `.concat(g[A-2]),pe++),i+=`
  `.concat(g[A-1]),pe++),a=A,i+=`
`.concat(e1,"+").concat(Zn," ").concat(g[A]),pe++;else{var de=m[A],G=g[A],L=G!==de&&(!Gq(G,",")||G.slice(0,-1)!==de);L&&Gq(de,",")&&de.slice(0,-1)===G&&(L=!1,G+=","),L?(fe>1&&A>2&&(fe>4?(i+=`
`.concat(xo,"...").concat(Zn),f=!0):fe>3&&(i+=`
  `.concat(g[A-2]),pe++),i+=`
  `.concat(g[A-1]),pe++),a=A,i+=`
`.concat(e1,"+").concat(Zn," ").concat(G),n+=`
`.concat(t1,"-").concat(Zn," ").concat(de),pe+=2):(i+=n,n="",(fe===1||A===0)&&(i+=`
  `.concat(G),pe++))}if(pe>20&&A<Y-2)return"".concat(he).concat(se,`
`).concat(i,`
`).concat(xo,"...").concat(Zn).concat(n,`
`)+"".concat(xo,"...").concat(Zn)}return"".concat(he).concat(f?se:"",`
`).concat(i).concat(n).concat(s).concat(I)}var Upe=function(t,e){Rpe(n,t);var r=kpe(n);function n(i){var a;if(Tpe(this,n),Ni(i)!=="object"||i===null)throw new Npe("options","Object",i);var s=i.message,f=i.operator,l=i.stackStartFn,g=i.actual,m=i.expected,A=Error.stackTraceLimit;if(Error.stackTraceLimit=0,s!=null)a=r.call(this,String(s));else if(P.default.stderr&&P.default.stderr.isTTY&&(P.default.stderr&&P.default.stderr.getColorDepth&&P.default.stderr.getColorDepth()!==1?(xo="\x1B[34m",e1="\x1B[32m",Zn="\x1B[39m",t1="\x1B[31m"):(xo="",e1="",Zn="",t1="")),Ni(g)==="object"&&g!==null&&Ni(m)==="object"&&m!==null&&"stack"in g&&g instanceof Error&&"stack"in m&&m instanceof Error&&(g=Hq(g),m=Hq(m)),f==="deepStrictEqual"||f==="strictEqual")a=r.call(this,qpe(g,m,f));else if(f==="notDeepStrictEqual"||f==="notStrictEqual"){var I=vl[f],T=r1(g).split(`
`);if(f==="notStrictEqual"&&Ni(g)==="object"&&g!==null&&(I=vl.notStrictEqualObject),T.length>30)for(T[26]="".concat(xo,"...").concat(Zn);T.length>27;)T.pop();T.length===1?a=r.call(this,"".concat(I," ").concat(T[0])):a=r.call(this,"".concat(I,`

`).concat(T.join(`
`),`
`))}else{var O=r1(g),U="",Z=vl[f];f==="notDeepEqual"||f==="notEqual"?(O="".concat(vl[f],`

`).concat(O),O.length>1024&&(O="".concat(O.slice(0,1021),"..."))):(U="".concat(r1(m)),O.length>512&&(O="".concat(O.slice(0,509),"...")),U.length>512&&(U="".concat(U.slice(0,509),"...")),f==="deepEqual"||f==="equal"?O="".concat(Z,`

`).concat(O,`

should equal

`):U=" ".concat(f," ").concat(U)),a=r.call(this,"".concat(O).concat(U))}return Error.stackTraceLimit=A,a.generatedMessage=!s,Object.defineProperty(BS(a),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),a.code="ERR_ASSERTION",a.actual=g,a.expected=m,a.operator=f,Error.captureStackTrace&&Error.captureStackTrace(BS(a),l),a.stack,a.name="AssertionError",Vq(a)}return Ope(n,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:e,value:function(a,s){return NS(this,Kq(Kq({},s),{},{customInspect:!1,depth:0}))}}]),n}(PS(Error),NS.custom);Jq.exports=Upe});var LS=ee((VPe,Qq)=>{"use strict";x();var Xq=Object.prototype.toString;Qq.exports=function(e){var r=Xq.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Xq.call(e.callee)==="[object Function]"),n}});var fU=ee((JPe,sU)=>{"use strict";x();var oU;Object.keys||(a1=Object.prototype.hasOwnProperty,DS=Object.prototype.toString,eU=LS(),qS=Object.prototype.propertyIsEnumerable,tU=!qS.call({toString:null},"toString"),rU=qS.call(function(){},"prototype"),o1=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],nx=function(t){var e=t.constructor;return e&&e.prototype===t},nU={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},iU=function(){if(typeof window>"u")return!1;for(var t in window)try{if(!nU["$"+t]&&a1.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{nx(window[t])}catch{return!0}}catch{return!0}return!1}(),aU=function(t){if(typeof window>"u"||!iU)return nx(t);try{return nx(t)}catch{return!1}},oU=function(e){var r=e!==null&&typeof e=="object",n=DS.call(e)==="[object Function]",i=eU(e),a=r&&DS.call(e)==="[object String]",s=[];if(!r&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var f=rU&&n;if(a&&e.length>0&&!a1.call(e,0))for(var l=0;l<e.length;++l)s.push(String(l));if(i&&e.length>0)for(var g=0;g<e.length;++g)s.push(String(g));else for(var m in e)!(f&&m==="prototype")&&a1.call(e,m)&&s.push(String(m));if(tU)for(var A=aU(e),I=0;I<o1.length;++I)!(A&&o1[I]==="constructor")&&a1.call(e,o1[I])&&s.push(o1[I]);return s});var a1,DS,eU,qS,tU,rU,o1,nx,nU,iU,aU;sU.exports=oU});var US=ee((XPe,lU)=>{"use strict";x();var Fpe=Array.prototype.slice,jpe=LS(),uU=Object.keys,ix=uU?function(e){return uU(e)}:fU(),cU=Object.keys;ix.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return jpe(n)?cU(Fpe.call(n)):cU(n)})}else Object.keys=ix;return Object.keys||ix};lU.exports=ix});var yU=ee((eNe,vU)=>{"use strict";x();var zpe=US(),pU=lw()(),gU=Ug(),hU=Object,Kpe=gU("Array.prototype.push"),dU=gU("Object.prototype.propertyIsEnumerable"),Wpe=pU?Object.getOwnPropertySymbols:null;vU.exports=function(e,r){if(e==null)throw new TypeError("target must be an object");var n=hU(e);if(arguments.length===1)return n;for(var i=1;i<arguments.length;++i){var a=hU(arguments[i]),s=zpe(a),f=pU&&(Object.getOwnPropertySymbols||Wpe);if(f)for(var l=f(a),g=0;g<l.length;++g){var m=l[g];dU(a,m)&&Kpe(s,m)}for(var A=0;A<s.length;++A){var I=s[A];if(dU(a,I)){var T=a[I];n[I]=T}}}return n}});var bU=ee((rNe,mU)=>{"use strict";x();var FS=yU(),Gpe=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var i=Object.assign({},r),a="";for(var s in i)a+=s;return t!==a},Hpe=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1};mU.exports=function(){return!Object.assign||Gpe()||Hpe()?FS:Object.assign}});var jS=ee((iNe,xU)=>{"use strict";x();var wU=function(t){return t!==t};xU.exports=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||wU(e)&&wU(r))}});var ax=ee((oNe,_U)=>{"use strict";x();var $pe=jS();_U.exports=function(){return typeof Object.is=="function"?Object.is:$pe}});var s1=ee((fNe,MU)=>{"use strict";x();var Vpe=US(),Zpe=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Jpe=Object.prototype.toString,Ype=Array.prototype.concat,EU=DE(),Xpe=function(t){return typeof t=="function"&&Jpe.call(t)==="[object Function]"},SU=vw()(),Qpe=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!Xpe(n)||!n())return}SU?EU(t,e,r,!0):EU(t,e,r)},AU=function(t,e){var r=arguments.length>2?arguments[2]:{},n=Vpe(e);Zpe&&(n=Ype.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Qpe(t,n[i],e[n[i]],r[n[i]])};AU.supportsDescriptors=!!SU;MU.exports=AU});var OU=ee((cNe,TU)=>{"use strict";x();var ege=ax(),tge=s1();TU.exports=function(){var e=ege();return tge(Object,{is:e},{is:function(){return Object.is!==e}}),e}});var CU=ee((hNe,kU)=>{"use strict";x();var rge=s1(),nge=qg(),ige=jS(),IU=ax(),age=OU(),RU=nge(IU(),Object);rge(RU,{getPolyfill:IU,implementation:ige,shim:age});kU.exports=RU});var zS=ee((pNe,BU)=>{"use strict";x();BU.exports=function(e){return e!==e}});var KS=ee((vNe,PU)=>{"use strict";x();var oge=zS();PU.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:oge}});var LU=ee((mNe,NU)=>{"use strict";x();var sge=s1(),fge=KS();NU.exports=function(){var e=fge();return sge(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}});var FU=ee((wNe,UU)=>{"use strict";x();var uge=qg(),cge=s1(),lge=zS(),DU=KS(),hge=LU(),qU=uge(DU(),Number);cge(qU,{getPolyfill:DU,implementation:lge,shim:hge});UU.exports=qU});var oF=ee((_Ne,aF)=>{"use strict";x();function jU(t,e){return vge(t)||gge(t,e)||pge(t,e)||dge()}function dge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pge(t,e){if(!!t){if(typeof t=="string")return zU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zU(t,e)}}function zU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,f=[],l=!0,g=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(f.push(n.value),f.length!==e);l=!0);}catch(m){g=!0,i=m}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(g)throw i}}return f}}function vge(t){if(Array.isArray(t))return t}function Ba(t){return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}var yge=/a/g.flags!==void 0,hx=function(e){var r=[];return e.forEach(function(n){return r.push(n)}),r},KU=function(e){var r=[];return e.forEach(function(n,i){return r.push([i,n])}),r},eF=Object.is?Object.is:CU(),cx=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},WS=Number.isNaN?Number.isNaN:FU();function HS(t){return t.call.bind(t)}var u1=HS(Object.prototype.hasOwnProperty),lx=HS(Object.prototype.propertyIsEnumerable),WU=HS(Object.prototype.toString),xi=Mr().types,mge=xi.isAnyArrayBuffer,bge=xi.isArrayBufferView,GU=xi.isDate,ox=xi.isMap,HU=xi.isRegExp,sx=xi.isSet,wge=xi.isNativeError,xge=xi.isBoxedPrimitive,$U=xi.isNumberObject,VU=xi.isStringObject,ZU=xi.isBooleanObject,JU=xi.isBigIntObject,_ge=xi.isSymbolObject,Ege=xi.isFloat32Array,Sge=xi.isFloat64Array;function Age(t){if(t.length===0||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return t.length===10&&t>=Math.pow(2,32)}function fx(t){return Object.keys(t).filter(Age).concat(cx(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function tF(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}var ux=void 0,Mge=!0,Tge=!1,GS=0,$S=1,rF=2,nF=3;function Oge(t,e){return yge?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}function Ige(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function Rge(t,e){return t.byteLength!==e.byteLength?!1:tF(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function kge(t,e){return t.byteLength===e.byteLength&&tF(new Uint8Array(t),new Uint8Array(e))===0}function Cge(t,e){return $U(t)?$U(e)&&eF(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):VU(t)?VU(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):ZU(t)?ZU(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):JU(t)?JU(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):_ge(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}function Pa(t,e,r,n){if(t===e)return t!==0?!0:r?eF(t,e):!0;if(r){if(Ba(t)!=="object")return typeof t=="number"&&WS(t)&&WS(e);if(Ba(e)!=="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(t===null||Ba(t)!=="object")return e===null||Ba(e)!=="object"?t==e:!1;if(e===null||Ba(e)!=="object")return!1}var i=WU(t),a=WU(e);if(i!==a)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var s=fx(t,ux),f=fx(e,ux);return s.length!==f.length?!1:f1(t,e,r,n,$S,s)}if(i==="[object Object]"&&(!ox(t)&&ox(e)||!sx(t)&&sx(e)))return!1;if(GU(t)){if(!GU(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(HU(t)){if(!HU(e)||!Oge(t,e))return!1}else if(wge(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else if(bge(t)){if(!r&&(Ege(t)||Sge(t))){if(!Ige(t,e))return!1}else if(!Rge(t,e))return!1;var l=fx(t,ux),g=fx(e,ux);return l.length!==g.length?!1:f1(t,e,r,n,GS,l)}else{if(sx(t))return!sx(e)||t.size!==e.size?!1:f1(t,e,r,n,rF);if(ox(t))return!ox(e)||t.size!==e.size?!1:f1(t,e,r,n,nF);if(mge(t)){if(!kge(t,e))return!1}else if(xge(t)&&!Cge(t,e))return!1}return f1(t,e,r,n,GS)}function YU(t,e){return e.filter(function(r){return lx(t,r)})}function f1(t,e,r,n,i,a){if(arguments.length===5){a=Object.keys(t);var s=Object.keys(e);if(a.length!==s.length)return!1}for(var f=0;f<a.length;f++)if(!u1(e,a[f]))return!1;if(r&&arguments.length===5){var l=cx(t);if(l.length!==0){var g=0;for(f=0;f<l.length;f++){var m=l[f];if(lx(t,m)){if(!lx(e,m))return!1;a.push(m),g++}else if(lx(e,m))return!1}var A=cx(e);if(l.length!==A.length&&YU(e,A).length!==g)return!1}else{var I=cx(e);if(I.length!==0&&YU(e,I).length!==0)return!1}}if(a.length===0&&(i===GS||i===$S&&t.length===0||t.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var T=n.val1.get(t);if(T!==void 0){var O=n.val2.get(e);if(O!==void 0)return T===O}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var U=Dge(t,e,r,a,n,i);return n.val1.delete(t),n.val2.delete(e),U}function XU(t,e,r,n){for(var i=hx(t),a=0;a<i.length;a++){var s=i[a];if(Pa(e,s,r,n))return t.delete(s),!0}return!1}function iF(t){switch(Ba(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(WS(t))return!1}return!0}function Bge(t,e,r){var n=iF(r);return n??(e.has(n)&&!t.has(n))}function Pge(t,e,r,n,i){var a=iF(r);if(a!=null)return a;var s=e.get(a);return s===void 0&&!e.has(a)||!Pa(n,s,!1,i)?!1:!t.has(a)&&Pa(n,s,!1,i)}function Nge(t,e,r,n){for(var i=null,a=hx(t),s=0;s<a.length;s++){var f=a[s];if(Ba(f)==="object"&&f!==null)i===null&&(i=new Set),i.add(f);else if(!e.has(f)){if(r||!Bge(t,e,f))return!1;i===null&&(i=new Set),i.add(f)}}if(i!==null){for(var l=hx(e),g=0;g<l.length;g++){var m=l[g];if(Ba(m)==="object"&&m!==null){if(!XU(i,m,r,n))return!1}else if(!r&&!t.has(m)&&!XU(i,m,r,n))return!1}return i.size===0}return!0}function QU(t,e,r,n,i,a){for(var s=hx(t),f=0;f<s.length;f++){var l=s[f];if(Pa(r,l,i,a)&&Pa(n,e.get(l),i,a))return t.delete(l),!0}return!1}function Lge(t,e,r,n){for(var i=null,a=KU(t),s=0;s<a.length;s++){var f=jU(a[s],2),l=f[0],g=f[1];if(Ba(l)==="object"&&l!==null)i===null&&(i=new Set),i.add(l);else{var m=e.get(l);if(m===void 0&&!e.has(l)||!Pa(g,m,r,n)){if(r||!Pge(t,e,l,g,n))return!1;i===null&&(i=new Set),i.add(l)}}}if(i!==null){for(var A=KU(e),I=0;I<A.length;I++){var T=jU(A[I],2),O=T[0],U=T[1];if(Ba(O)==="object"&&O!==null){if(!QU(i,t,O,U,r,n))return!1}else if(!r&&(!t.has(O)||!Pa(t.get(O),U,!1,n))&&!QU(i,t,O,U,!1,n))return!1}return i.size===0}return!0}function Dge(t,e,r,n,i,a){var s=0;if(a===rF){if(!Nge(t,e,r,i))return!1}else if(a===nF){if(!Lge(t,e,r,i))return!1}else if(a===$S)for(;s<t.length;s++)if(u1(t,s)){if(!u1(e,s)||!Pa(t[s],e[s],r,i))return!1}else{if(u1(e,s))return!1;for(var f=Object.keys(t);s<f.length;s++){var l=f[s];if(!u1(e,l)||!Pa(t[l],e[l],r,i))return!1}return f.length===Object.keys(e).length}for(s=0;s<n.length;s++){var g=n[s];if(!Pa(t[g],e[g],r,i))return!1}return!0}function qge(t,e){return Pa(t,e,Tge)}function Uge(t,e){return Pa(t,e,Mge)}aF.exports={isDeepEqual:qge,isDeepStrictEqual:Uge}});var Mu=ee((SNe,SF)=>{"use strict";x();function _o(t){return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(t)}function sF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jge(n.key),n)}}function Fge(t,e,r){return e&&sF(t.prototype,e),r&&sF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jge(t){var e=zge(t,"string");return _o(e)==="symbol"?e:String(e)}function zge(t,e){if(_o(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_o(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Wge=CS(),c1=Wge.codes,fF=c1.ERR_AMBIGUOUS_ARGUMENT,W0=c1.ERR_INVALID_ARG_TYPE,Gge=c1.ERR_INVALID_ARG_VALUE,Hge=c1.ERR_INVALID_RETURN_VALUE,Ou=c1.ERR_MISSING_ARGS,Iu=Yq(),$ge=Mr(),dx=$ge.inspect,hF=Mr().types,Vge=hF.isPromise,px=hF.isRegExp,Zge=bU()(),dF=ax()(),gx=Ug()("RegExp.prototype.test"),Tu,vx;function l1(){var t=oF();Tu=t.isDeepEqual,vx=t.isDeepStrictEqual}var uF=!1,Pr=SF.exports=VS,yx={};function Eo(t){throw t.message instanceof Error?t.message:new Iu(t)}function pF(t,e,r,n,i){var a=arguments.length,s;if(a===0)s="Failed";else if(a===1)r=t,t=void 0;else{if(uF===!1){uF=!0;var f=P.default.emitWarning?P.default.emitWarning:console.warn.bind(console);f("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}a===2&&(n="!=")}if(r instanceof Error)throw r;var l={actual:t,expected:e,operator:n===void 0?"fail":n,stackStartFn:i||pF};r!==void 0&&(l.message=r);var g=new Iu(l);throw s&&(g.message=s,g.generatedMessage=!0),g}Pr.fail=pF;Pr.AssertionError=Iu;function gF(t,e,r,n){if(!r){var i=!1;if(e===0)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var a=new Iu({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw a.generatedMessage=i,a}}function VS(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];gF.apply(void 0,[VS,e.length].concat(e))}Pr.ok=VS;Pr.equal=function t(e,r,n){if(arguments.length<2)throw new Ou("actual","expected");e!=r&&Eo({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})};Pr.notEqual=function t(e,r,n){if(arguments.length<2)throw new Ou("actual","expected");e==r&&Eo({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})};Pr.deepEqual=function t(e,r,n){if(arguments.length<2)throw new Ou("actual","expected");Tu===void 0&&l1(),Tu(e,r)||Eo({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})};Pr.notDeepEqual=function t(e,r,n){if(arguments.length<2)throw new Ou("actual","expected");Tu===void 0&&l1(),Tu(e,r)&&Eo({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})};Pr.deepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new Ou("actual","expected");Tu===void 0&&l1(),vx(e,r)||Eo({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})};Pr.notDeepStrictEqual=vF;function vF(t,e,r){if(arguments.length<2)throw new Ou("actual","expected");Tu===void 0&&l1(),vx(t,e)&&Eo({actual:t,expected:e,message:r,operator:"notDeepStrictEqual",stackStartFn:vF})}Pr.strictEqual=function t(e,r,n){if(arguments.length<2)throw new Ou("actual","expected");dF(e,r)||Eo({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})};Pr.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new Ou("actual","expected");dF(e,r)&&Eo({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var cF=Fge(function t(e,r,n){var i=this;Kge(this,t),r.forEach(function(a){a in e&&(n!==void 0&&typeof n[a]=="string"&&px(e[a])&&gx(e[a],n[a])?i[a]=n[a]:i[a]=e[a])})});function Jge(t,e,r,n,i,a){if(!(r in t)||!vx(t[r],e[r])){if(!n){var s=new cF(t,i),f=new cF(e,i,t),l=new Iu({actual:s,expected:f,operator:"deepStrictEqual",stackStartFn:a});throw l.actual=t,l.expected=e,l.operator=a.name,l}Eo({actual:t,expected:e,message:n,operator:a.name,stackStartFn:a})}}function yF(t,e,r,n){if(typeof e!="function"){if(px(e))return gx(e,t);if(arguments.length===2)throw new W0("expected",["Function","RegExp"],e);if(_o(t)!=="object"||t===null){var i=new Iu({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw i.operator=n.name,i}var a=Object.keys(e);if(e instanceof Error)a.push("name","message");else if(a.length===0)throw new Gge("error",e,"may not be an empty object");return Tu===void 0&&l1(),a.forEach(function(s){typeof t[s]=="string"&&px(e[s])&&gx(e[s],t[s])||Jge(t,e,s,r,a,n)}),!0}return e.prototype!==void 0&&t instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function mF(t){if(typeof t!="function")throw new W0("fn","Function",t);try{t()}catch(e){return e}return yx}function lF(t){return Vge(t)||t!==null&&_o(t)==="object"&&typeof t.then=="function"&&typeof t.catch=="function"}function bF(t){return Promise.resolve().then(function(){var e;if(typeof t=="function"){if(e=t(),!lF(e))throw new Hge("instance of Promise","promiseFn",e)}else if(lF(t))e=t;else throw new W0("promiseFn",["Function","Promise"],t);return Promise.resolve().then(function(){return e}).then(function(){return yx}).catch(function(r){return r})})}function wF(t,e,r,n){if(typeof r=="string"){if(arguments.length===4)throw new W0("error",["Object","Error","Function","RegExp"],r);if(_o(e)==="object"&&e!==null){if(e.message===r)throw new fF("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new fF("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&_o(r)!=="object"&&typeof r!="function")throw new W0("error",["Object","Error","Function","RegExp"],r);if(e===yx){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var a=t.name==="rejects"?"rejection":"exception";Eo({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(a).concat(i),stackStartFn:t})}if(r&&!yF(e,r,n,t))throw e}function xF(t,e,r,n){if(e!==yx){if(typeof r=="string"&&(n=r,r=void 0),!r||yF(e,r)){var i=n?": ".concat(n):".",a=t.name==="doesNotReject"?"rejection":"exception";Eo({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(a).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}Pr.throws=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];wF.apply(void 0,[t,mF(e)].concat(n))};Pr.rejects=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return bF(e).then(function(a){return wF.apply(void 0,[t,a].concat(n))})};Pr.doesNotThrow=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];xF.apply(void 0,[t,mF(e)].concat(n))};Pr.doesNotReject=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return bF(e).then(function(a){return xF.apply(void 0,[t,a].concat(n))})};Pr.ifError=function t(e){if(e!=null){var r="ifError got unwanted exception: ";_o(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?r+=e.constructor.name:r+=e.message:r+=dx(e);var n=new Iu({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),i=e.stack;if(typeof i=="string"){var a=i.split(`
`);a.shift();for(var s=n.stack.split(`
`),f=0;f<a.length;f++){var l=s.indexOf(a[f]);if(l!==-1){s=s.slice(0,l);break}}n.stack="".concat(s.join(`
`),`
`).concat(a.join(`
`))}throw n}};function _F(t,e,r,n,i){if(!px(e))throw new W0("regexp","RegExp",e);var a=i==="match";if(typeof t!="string"||gx(e,t)!==a){if(r instanceof Error)throw r;var s=!r;r=r||(typeof t!="string"?'The "string" argument must be of type string. Received type '+"".concat(_o(t)," (").concat(dx(t),")"):(a?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(dx(e),`. Input:

`).concat(dx(t),`
`));var f=new Iu({actual:t,expected:e,message:r,operator:i,stackStartFn:n});throw f.generatedMessage=s,f}}Pr.match=function t(e,r,n){_F(e,r,n,t,"match")};Pr.doesNotMatch=function t(e,r,n){_F(e,r,n,t,"doesNotMatch")};function EF(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];gF.apply(void 0,[EF,e.length].concat(e))}Pr.strict=Zge(EF,Pr,{equal:Pr.strictEqual,deepEqual:Pr.deepStrictEqual,notEqual:Pr.notStrictEqual,notDeepEqual:Pr.notDeepStrictEqual});Pr.strict.strict=Pr.strict});var h1=ee((MNe,YS)=>{x();var Xr=vu(),Yge=hL(),Xge=Nq(),Qge=Dq(),mx=Mr(),Jn,wx;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Jn=Symbol.for("graceful-fs.queue"),wx=Symbol.for("graceful-fs.previous")):(Jn="___graceful-fs.queue",wx="___graceful-fs.previous");function e1e(){}function TF(t,e){Object.defineProperty(t,Jn,{get:function(){return e}})}var yl=e1e;mx.debuglog?yl=mx.debuglog("gfs4"):/\bgfs4\b/i.test(P.default.env.NODE_DEBUG||"")&&(yl=function(){var t=mx.format.apply(mx,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});Xr[Jn]||(AF=D[Jn]||[],TF(Xr,AF),Xr.close=function(t){function e(r,n){return t.call(Xr,r,function(i){i||MF(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,wx,{value:t}),e}(Xr.close),Xr.closeSync=function(t){function e(r){t.apply(Xr,arguments),MF()}return Object.defineProperty(e,wx,{value:t}),e}(Xr.closeSync),/\bgfs4\b/i.test(P.default.env.NODE_DEBUG||"")&&P.default.on("exit",function(){yl(Xr[Jn]),Mu().equal(Xr[Jn].length,0)}));var AF;D[Jn]||TF(D,Xr[Jn]);YS.exports=ZS(Qge(Xr));P.default.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Xr.__patched&&(YS.exports=ZS(Xr),Xr.__patched=!0);function ZS(t){Yge(t),t.gracefulify=ZS,t.createReadStream=se,t.createWriteStream=fe;var e=t.readFile;t.readFile=r;function r(L,q,S){return typeof q=="function"&&(S=q,q=null),B(L,q,S);function B(y,o,u,h){return e(y,o,function(p){p&&(p.code==="EMFILE"||p.code==="ENFILE")?G0([B,[y,o,u],p,h||Date.now(),Date.now()]):typeof u=="function"&&u.apply(this,arguments)})}}var n=t.writeFile;t.writeFile=i;function i(L,q,S,B){return typeof S=="function"&&(B=S,S=null),y(L,q,S,B);function y(o,u,h,p,v){return n(o,u,h,function(d){d&&(d.code==="EMFILE"||d.code==="ENFILE")?G0([y,[o,u,h,p],d,v||Date.now(),Date.now()]):typeof p=="function"&&p.apply(this,arguments)})}}var a=t.appendFile;a&&(t.appendFile=s);function s(L,q,S,B){return typeof S=="function"&&(B=S,S=null),y(L,q,S,B);function y(o,u,h,p,v){return a(o,u,h,function(d){d&&(d.code==="EMFILE"||d.code==="ENFILE")?G0([y,[o,u,h,p],d,v||Date.now(),Date.now()]):typeof p=="function"&&p.apply(this,arguments)})}}var f=t.copyFile;f&&(t.copyFile=l);function l(L,q,S,B){return typeof S=="function"&&(B=S,S=0),y(L,q,S,B);function y(o,u,h,p,v){return f(o,u,h,function(d){d&&(d.code==="EMFILE"||d.code==="ENFILE")?G0([y,[o,u,h,p],d,v||Date.now(),Date.now()]):typeof p=="function"&&p.apply(this,arguments)})}}var g=t.readdir;t.readdir=A;var m=/^v[0-5]\./;function A(L,q,S){typeof q=="function"&&(S=q,q=null);var B=m.test(P.default.version)?function(u,h,p,v){return g(u,y(u,h,p,v))}:function(u,h,p,v){return g(u,h,y(u,h,p,v))};return B(L,q,S);function y(o,u,h,p){return function(v,d){v&&(v.code==="EMFILE"||v.code==="ENFILE")?G0([B,[o,u,h],v,p||Date.now(),Date.now()]):(d&&d.sort&&d.sort(),typeof h=="function"&&h.call(this,v,d))}}}if(P.default.version.substr(0,4)==="v0.8"){var I=Xge(t);Y=I.ReadStream,pe=I.WriteStream}var T=t.ReadStream;T&&(Y.prototype=Object.create(T.prototype),Y.prototype.open=re);var O=t.WriteStream;O&&(pe.prototype=Object.create(O.prototype),pe.prototype.open=he),Object.defineProperty(t,"ReadStream",{get:function(){return Y},set:function(L){Y=L},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return pe},set:function(L){pe=L},enumerable:!0,configurable:!0});var U=Y;Object.defineProperty(t,"FileReadStream",{get:function(){return U},set:function(L){U=L},enumerable:!0,configurable:!0});var Z=pe;Object.defineProperty(t,"FileWriteStream",{get:function(){return Z},set:function(L){Z=L},enumerable:!0,configurable:!0});function Y(L,q){return this instanceof Y?(T.apply(this,arguments),this):Y.apply(Object.create(Y.prototype),arguments)}function re(){var L=this;G(L.path,L.flags,L.mode,function(q,S){q?(L.autoClose&&L.destroy(),L.emit("error",q)):(L.fd=S,L.emit("open",S),L.read())})}function pe(L,q){return this instanceof pe?(O.apply(this,arguments),this):pe.apply(Object.create(pe.prototype),arguments)}function he(){var L=this;G(L.path,L.flags,L.mode,function(q,S){q?(L.destroy(),L.emit("error",q)):(L.fd=S,L.emit("open",S))})}function se(L,q){return new t.ReadStream(L,q)}function fe(L,q){return new t.WriteStream(L,q)}var de=t.open;t.open=G;function G(L,q,S,B){return typeof S=="function"&&(B=S,S=null),y(L,q,S,B);function y(o,u,h,p,v){return de(o,u,h,function(d,E){d&&(d.code==="EMFILE"||d.code==="ENFILE")?G0([y,[o,u,h,p],d,v||Date.now(),Date.now()]):typeof p=="function"&&p.apply(this,arguments)})}}return t}function G0(t){yl("ENQUEUE",t[0].name,t[1]),Xr[Jn].push(t),JS()}var bx;function MF(){for(var t=Date.now(),e=0;e<Xr[Jn].length;++e)Xr[Jn][e].length>2&&(Xr[Jn][e][3]=t,Xr[Jn][e][4]=t);JS()}function JS(){if(clearTimeout(bx),bx=void 0,Xr[Jn].length!==0){var t=Xr[Jn].shift(),e=t[0],r=t[1],n=t[2],i=t[3],a=t[4];if(i===void 0)yl("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){yl("TIMEOUT",e.name,r);var s=r.pop();typeof s=="function"&&s.call(null,n)}else{var f=Date.now()-a,l=Math.max(a-i,1),g=Math.min(l*1.2,100);f>=g?(yl("RETRY",e.name,r),e.apply(null,r.concat([i]))):Xr[Jn].push(t)}bx===void 0&&(bx=setTimeout(JS,0))}}});var cf=ee((ONe,XS)=>{"use strict";x();typeof P.default>"u"||!P.default.version||P.default.version.indexOf("v0.")===0||P.default.version.indexOf("v1.")===0&&P.default.version.indexOf("v1.8.")!==0?XS.exports={nextTick:t1e}:XS.exports=P.default;function t1e(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,a,s;switch(i){case 0:case 1:return P.default.nextTick(t);case 2:return P.default.nextTick(function(){t.call(null,e)});case 3:return P.default.nextTick(function(){t.call(null,e,r)});case 4:return P.default.nextTick(function(){t.call(null,e,r,n)});default:for(a=new Array(i-1),s=0;s<a.length;)a[s++]=arguments[s];return P.default.nextTick(function(){t.apply(null,a)})}}});var QS=ee((RNe,OF)=>{x();var r1e={}.toString;OF.exports=Array.isArray||function(t){return r1e.call(t)=="[object Array]"}});var e7=ee((CNe,IF)=>{x();IF.exports=co().EventEmitter});var d1=ee((t7,kF)=>{x();var xx=Sr(),lf=xx.Buffer;function RF(t,e){for(var r in t)e[r]=t[r]}lf.from&&lf.alloc&&lf.allocUnsafe&&lf.allocUnsafeSlow?kF.exports=xx:(RF(xx,t7),t7.Buffer=H0);function H0(t,e,r){return lf(t,e,r)}RF(lf,H0);H0.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return lf(t,e,r)};H0.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=lf(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};H0.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return lf(t)};H0.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return xx.SlowBuffer(t)}});var So=ee(ai=>{x();function n1e(t){return Array.isArray?Array.isArray(t):_x(t)==="[object Array]"}ai.isArray=n1e;function i1e(t){return typeof t=="boolean"}ai.isBoolean=i1e;function a1e(t){return t===null}ai.isNull=a1e;function o1e(t){return t==null}ai.isNullOrUndefined=o1e;function s1e(t){return typeof t=="number"}ai.isNumber=s1e;function f1e(t){return typeof t=="string"}ai.isString=f1e;function u1e(t){return typeof t=="symbol"}ai.isSymbol=u1e;function c1e(t){return t===void 0}ai.isUndefined=c1e;function l1e(t){return _x(t)==="[object RegExp]"}ai.isRegExp=l1e;function h1e(t){return typeof t=="object"&&t!==null}ai.isObject=h1e;function d1e(t){return _x(t)==="[object Date]"}ai.isDate=d1e;function p1e(t){return _x(t)==="[object Error]"||t instanceof Error}ai.isError=p1e;function g1e(t){return typeof t=="function"}ai.isFunction=g1e;function v1e(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}ai.isPrimitive=v1e;ai.isBuffer=Sr().Buffer.isBuffer;function _x(t){return Object.prototype.toString.call(t)}});var BF=ee((DNe,r7)=>{"use strict";x();function y1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var CF=d1().Buffer,p1=Mr();function m1e(t,e,r){t.copy(e,r)}r7.exports=function(){function t(){y1e(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return CF.alloc(0);for(var n=CF.allocUnsafe(r>>>0),i=this.head,a=0;i;)m1e(i.data,n,a),a+=i.data.length,i=i.next;return n},t}();p1&&p1.inspect&&p1.inspect.custom&&(r7.exports.prototype[p1.inspect.custom]=function(){var t=p1.inspect({length:this.length});return this.constructor.name+" "+t})});var n7=ee((UNe,PF)=>{"use strict";x();var Ex=cf();function b1e(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ex.nextTick(Sx,this,t)):Ex.nextTick(Sx,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(a){!e&&a?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,Ex.nextTick(Sx,r,a)):Ex.nextTick(Sx,r,a):e&&e(a)}),this)}function w1e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Sx(t,e){t.emit("error",e)}PF.exports={destroy:b1e,undestroy:w1e}});var a7=ee((jNe,zF)=>{"use strict";x();var ml=cf();zF.exports=mn;function LF(t){var e=this;this.next=null,this.entry=null,this.finish=function(){q1e(e,t)}}var x1e=!P.default.browser&&["v0.10","v0.9."].indexOf(P.default.version.slice(0,5))>-1?setImmediate:ml.nextTick,$0;mn.WritableState=v1;var DF=Object.create(So());DF.inherits=pt();var _1e={deprecate:Fw()},qF=e7(),Mx=d1().Buffer,E1e=(typeof D<"u"?D:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function S1e(t){return Mx.from(t)}function A1e(t){return Mx.isBuffer(t)||t instanceof E1e}var UF=n7();DF.inherits(mn,qF);function M1e(){}function v1(t,e){$0=$0||bl(),t=t||{};var r=e instanceof $0;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,a=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(f){B1e(e,f)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new LF(this)}v1.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(v1.prototype,"buffer",{get:_1e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Ax;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ax=Function.prototype[Symbol.hasInstance],Object.defineProperty(mn,Symbol.hasInstance,{value:function(t){return Ax.call(this,t)?!0:this!==mn?!1:t&&t._writableState instanceof v1}})):Ax=function(t){return t instanceof this};function mn(t){if($0=$0||bl(),!Ax.call(mn,this)&&!(this instanceof $0))return new mn(t);this._writableState=new v1(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),qF.call(this)}mn.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function T1e(t,e){var r=new Error("write after end");t.emit("error",r),ml.nextTick(e,r)}function O1e(t,e,r,n){var i=!0,a=!1;return r===null?a=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),ml.nextTick(n,a),i=!1),i}mn.prototype.write=function(t,e,r){var n=this._writableState,i=!1,a=!n.objectMode&&A1e(t);return a&&!Mx.isBuffer(t)&&(t=S1e(t)),typeof e=="function"&&(r=e,e=null),a?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=M1e),n.ended?T1e(this,r):(a||O1e(this,n,t,r))&&(n.pendingcb++,i=R1e(this,n,a,t,e,r)),i};mn.prototype.cork=function(){var t=this._writableState;t.corked++};mn.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&FF(this,t))};mn.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function I1e(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Mx.from(e,r)),e}Object.defineProperty(mn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R1e(t,e,r,n,i,a){if(!r){var s=I1e(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var f=e.objectMode?1:n.length;e.length+=f;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var g=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},g?g.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else i7(t,e,!1,f,n,i,a);return l}function i7(t,e,r,n,i,a,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,a,e.onwrite),e.sync=!1}function k1e(t,e,r,n,i){--e.pendingcb,r?(ml.nextTick(i,n),ml.nextTick(g1,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),g1(t,e))}function C1e(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function B1e(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(C1e(r),e)k1e(t,r,n,e,i);else{var a=jF(r);!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&FF(t,r),n?x1e(NF,t,r,a,i):NF(t,r,a,i)}}function NF(t,e,r,n){r||P1e(t,e),e.pendingcb--,n(),g1(t,e)}function P1e(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function FF(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var s=0,f=!0;r;)i[s]=r,r.isBuf||(f=!1),r=r.next,s+=1;i.allBuffers=f,i7(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new LF(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,g=r.encoding,m=r.callback,A=e.objectMode?1:l.length;if(i7(t,e,!1,A,l,g,m),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}mn.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};mn.prototype._writev=null;mn.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||D1e(this,n,r)};function jF(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function N1e(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),g1(t,e)})}function L1e(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,ml.nextTick(N1e,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function g1(t,e){var r=jF(e);return r&&(L1e(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function D1e(t,e,r){e.ending=!0,g1(t,e),r&&(e.finished?ml.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function q1e(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(mn.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}});mn.prototype.destroy=UF.destroy;mn.prototype._undestroy=UF.undestroy;mn.prototype._destroy=function(t,e){this.end(),e(t)}});var bl=ee((KNe,HF)=>{"use strict";x();var KF=cf(),U1e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};HF.exports=hf;var WF=Object.create(So());WF.inherits=pt();var GF=f7(),s7=a7();WF.inherits(hf,GF);for(o7=U1e(s7.prototype),Tx=0;Tx<o7.length;Tx++)Ox=o7[Tx],hf.prototype[Ox]||(hf.prototype[Ox]=s7.prototype[Ox]);var o7,Ox,Tx;function hf(t){if(!(this instanceof hf))return new hf(t);GF.call(this,t),s7.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",F1e)}Object.defineProperty(hf.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function F1e(){this.allowHalfOpen||this._writableState.ended||KF.nextTick(j1e,this)}function j1e(t){t.end()}Object.defineProperty(hf.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});hf.prototype._destroy=function(t,e){this.push(null),this.end(),KF.nextTick(e,t)}});var l7=ee(VF=>{"use strict";x();var c7=d1().Buffer,$F=c7.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function z1e(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function K1e(t){var e=z1e(t);if(typeof e!="string"&&(c7.isEncoding===$F||!$F(t)))throw new Error("Unknown encoding: "+t);return e||t}VF.StringDecoder=y1;function y1(t){this.encoding=K1e(t);var e;switch(this.encoding){case"utf16le":this.text=Z1e,this.end=J1e,e=4;break;case"utf8":this.fillLast=H1e,e=4;break;case"base64":this.text=Y1e,this.end=X1e,e=3;break;default:this.write=Q1e,this.end=eve;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=c7.allocUnsafe(e)}y1.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};y1.prototype.end=V1e;y1.prototype.text=$1e;y1.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function u7(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function W1e(t,e,r){var n=e.length-1;if(n<r)return 0;var i=u7(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=u7(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=u7(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function G1e(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function H1e(t){var e=this.lastTotal-this.lastNeed,r=G1e(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function $1e(t,e){var r=W1e(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function V1e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Z1e(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function J1e(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Y1e(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function X1e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Q1e(t){return t.toString(this.encoding)}function eve(t){return t&&t.length?this.write(t):""}});var f7=ee((VNe,oj)=>{"use strict";x();var Z0=cf();oj.exports=zr;var tve=QS(),m1;zr.ReadableState=tj;var $Ne=co().EventEmitter,XF=function(t,e){return t.listeners(e).length},v7=e7(),b1=d1().Buffer,rve=(typeof D<"u"?D:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function nve(t){return b1.from(t)}function ive(t){return b1.isBuffer(t)||t instanceof rve}var QF=Object.create(So());QF.inherits=pt();var h7=Mr(),gr=void 0;h7&&h7.debuglog?gr=h7.debuglog("stream"):gr=function(){};var ave=BF(),ej=n7(),V0;QF.inherits(zr,v7);var d7=["error","close","destroy","pause","resume"];function ove(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):tve(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function tj(t,e){m1=m1||bl(),t=t||{};var r=e instanceof m1;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,a=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new ave,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(V0||(V0=l7().StringDecoder),this.decoder=new V0(t.encoding),this.encoding=t.encoding)}function zr(t){if(m1=m1||bl(),!(this instanceof zr))return new zr(t);this._readableState=new tj(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),v7.call(this)}Object.defineProperty(zr.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}});zr.prototype.destroy=ej.destroy;zr.prototype._undestroy=ej.undestroy;zr.prototype._destroy=function(t,e){this.push(null),e(t)};zr.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=b1.from(t,e),e=""),n=!0),rj(this,t,e,!1,n)};zr.prototype.unshift=function(t){return rj(this,t,null,!0,!1)};function rj(t,e,r,n,i){var a=t._readableState;if(e===null)a.reading=!1,cve(t,a);else{var s;i||(s=sve(a,e)),s?t.emit("error",s):a.objectMode||e&&e.length>0?(typeof e!="string"&&!a.objectMode&&Object.getPrototypeOf(e)!==b1.prototype&&(e=nve(e)),n?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):p7(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||e.length!==0?p7(t,a,e,!1):nj(t,a)):p7(t,a,e,!1))):n||(a.reading=!1)}return fve(a)}function p7(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Ix(t)),nj(t,e)}function sve(t,e){var r;return!ive(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function fve(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}zr.prototype.isPaused=function(){return this._readableState.flowing===!1};zr.prototype.setEncoding=function(t){return V0||(V0=l7().StringDecoder),this._readableState.decoder=new V0(t),this._readableState.encoding=t,this};var ZF=8388608;function uve(t){return t>=ZF?t=ZF:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function JF(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=uve(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}zr.prototype.read=function(t){gr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return gr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?g7(this):Ix(this),null;if(t=JF(t,e),t===0&&e.ended)return e.length===0&&g7(this),null;var n=e.needReadable;gr("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,gr("length less than watermark",n)),e.ended||e.reading?(n=!1,gr("reading or ended",n)):n&&(gr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=JF(r,e)));var i;return t>0?i=ij(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&g7(this)),i!==null&&this.emit("data",i),i};function cve(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,Ix(t)}}function Ix(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(gr("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Z0.nextTick(YF,t):YF(t))}function YF(t){gr("emit readable"),t.emit("readable"),y7(t)}function nj(t,e){e.readingMore||(e.readingMore=!0,Z0.nextTick(lve,t,e))}function lve(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(gr("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}zr.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};zr.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,gr("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==P.default.stdout&&t!==P.default.stderr,a=i?f:Z;n.endEmitted?Z0.nextTick(a):r.once("end",a),t.on("unpipe",s);function s(Y,re){gr("onunpipe"),Y===r&&re&&re.hasUnpiped===!1&&(re.hasUnpiped=!0,m())}function f(){gr("onend"),t.end()}var l=hve(r);t.on("drain",l);var g=!1;function m(){gr("cleanup"),t.removeListener("close",O),t.removeListener("finish",U),t.removeListener("drain",l),t.removeListener("error",T),t.removeListener("unpipe",s),r.removeListener("end",f),r.removeListener("end",Z),r.removeListener("data",I),g=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}var A=!1;r.on("data",I);function I(Y){gr("ondata"),A=!1;var re=t.write(Y);re===!1&&!A&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&aj(n.pipes,t)!==-1)&&!g&&(gr("false write response, pause",n.awaitDrain),n.awaitDrain++,A=!0),r.pause())}function T(Y){gr("onerror",Y),Z(),t.removeListener("error",T),XF(t,"error")===0&&t.emit("error",Y)}ove(t,"error",T);function O(){t.removeListener("finish",U),Z()}t.once("close",O);function U(){gr("onfinish"),t.removeListener("close",O),Z()}t.once("finish",U);function Z(){gr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(gr("pipe resume"),r.resume()),t};function hve(t){return function(){var e=t._readableState;gr("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&XF(t,"data")&&(e.flowing=!0,y7(t))}}zr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=aj(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};zr.prototype.on=function(t,e){var r=v7.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Ix(this):Z0.nextTick(dve,this))}return r};zr.prototype.addListener=zr.prototype.on;function dve(t){gr("readable nexttick read 0"),t.read(0)}zr.prototype.resume=function(){var t=this._readableState;return t.flowing||(gr("resume"),t.flowing=!0,pve(this,t)),this};function pve(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Z0.nextTick(gve,t,e))}function gve(t,e){e.reading||(gr("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),y7(t),e.flowing&&!e.reading&&t.read(0)}zr.prototype.pause=function(){return gr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(gr("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function y7(t){var e=t._readableState;for(gr("flow",e.flowing);e.flowing&&t.read()!==null;);}zr.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(gr("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(gr("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var f=e.push(s);f||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(s){return function(){return t[s].apply(t,arguments)}}(i));for(var a=0;a<d7.length;a++)t.on(d7[a],this.emit.bind(this,d7[a]));return this._read=function(s){gr("wrapped _read",s),n&&(n=!1,t.resume())},this};Object.defineProperty(zr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});zr._fromList=ij;function ij(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=vve(t,e.buffer,e.decoder),r}function vve(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?yve(t,e):mve(t,e),n}function yve(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var a=r.data,s=t>a.length?a.length:t;if(s===a.length?i+=a:i+=a.slice(0,t),t-=s,t===0){s===a.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=a.slice(s));break}++n}return e.length-=n,i}function mve(t,e){var r=b1.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var a=n.data,s=t>a.length?a.length:t;if(a.copy(r,r.length-t,0,s),t-=s,t===0){s===a.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=a.slice(s));break}++i}return e.length-=i,r}function g7(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Z0.nextTick(bve,e,t))}function bve(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function aj(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var m7=ee((JNe,uj)=>{"use strict";x();uj.exports=df;var Rx=bl(),fj=Object.create(So());fj.inherits=pt();fj.inherits(df,Rx);function wve(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function df(t){if(!(this instanceof df))return new df(t);Rx.call(this,t),this._transformState={afterTransform:wve.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",xve)}function xve(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){sj(t,e,r)}):sj(this,null,null)}df.prototype.push=function(t,e){return this._transformState.needTransform=!1,Rx.prototype.push.call(this,t,e)};df.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};df.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};df.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};df.prototype._destroy=function(t,e){var r=this;Rx.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function sj(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var dj=ee((XNe,hj)=>{"use strict";x();hj.exports=w1;var cj=m7(),lj=Object.create(So());lj.inherits=pt();lj.inherits(w1,cj);function w1(t){if(!(this instanceof w1))return new w1(t);cj.call(this,t)}w1.prototype._transform=function(t,e,r){r(null,t)}});var gj=ee((gs,pj)=>{x();gs=pj.exports=f7();gs.Stream=gs;gs.Readable=gs;gs.Writable=a7();gs.Duplex=bl();gs.Transform=m7();gs.PassThrough=dj()});var yj=ee((tLe,vj)=>{x();vj.exports=gj().PassThrough});var b7=ee((nLe,wj)=>{x();var mj=Mr(),Bx=yj();wj.exports={Readable:kx,Writable:Cx};mj.inherits(kx,Bx);mj.inherits(Cx,Bx);function bj(t,e,r){t[e]=function(){return delete t[e],r.apply(this,arguments),this[e].apply(this,arguments)}}function kx(t,e){if(!(this instanceof kx))return new kx(t,e);Bx.call(this,e),bj(this,"_read",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),r.pipe(this)}),this.emit("readable")}function Cx(t,e){if(!(this instanceof Cx))return new Cx(t,e);Bx.call(this,e),bj(this,"_write",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),this.pipe(r)}),this.emit("writable")}});var Px=ee((aLe,xj)=>{x();xj.exports=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return"/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&t[3]==="\\"){var i=t[2];(i==="?"||i===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),n="//")}var a=t.split(/[/\\]+/);return e!==!1&&a[a.length-1]===""&&a.pop(),n+a.join("/")}});var E7=ee((sLe,Oj)=>{x();var Ej=9007199254740991,_ve="[object Arguments]",Eve="[object Function]",Sve="[object GeneratorFunction]",Ave=/^(?:0|[1-9]\d*)$/;function Sj(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Mve(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var x1=Object.prototype,_1=x1.hasOwnProperty,Aj=x1.toString,Tve=x1.propertyIsEnumerable,_j=Math.max;function Ove(t,e){var r=qve(t)||Dve(t)?Mve(t.length,String):[],n=r.length,i=!!n;for(var a in t)(e||_1.call(t,a))&&!(i&&(a=="length"||Tj(a,n)))&&r.push(a);return r}function Ive(t,e,r,n){return t===void 0||w7(t,x1[r])&&!_1.call(n,r)?e:t}function Rve(t,e,r){var n=t[e];(!(_1.call(t,e)&&w7(n,r))||r===void 0&&!(e in t))&&(t[e]=r)}function kve(t){if(!_7(t))return Lve(t);var e=Nve(t),r=[];for(var n in t)n=="constructor"&&(e||!_1.call(t,n))||r.push(n);return r}function Mj(t,e){return e=_j(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=_j(r.length-e,0),a=Array(i);++n<i;)a[n]=r[e+n];n=-1;for(var s=Array(e+1);++n<e;)s[n]=r[n];return s[e]=a,Sj(t,this,s)}}function Cve(t,e,r,n){r||(r={});for(var i=-1,a=e.length;++i<a;){var s=e[i],f=n?n(r[s],t[s],s,r,t):void 0;Rve(r,s,f===void 0?t[s]:f)}return r}function Bve(t){return Mj(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,s&&Pve(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var f=r[n];f&&t(e,f,n,a)}return e})}function Tj(t,e){return e=e??Ej,!!e&&(typeof t=="number"||Ave.test(t))&&t>-1&&t%1==0&&t<e}function Pve(t,e,r){if(!_7(r))return!1;var n=typeof e;return(n=="number"?x7(r)&&Tj(e,r.length):n=="string"&&e in r)?w7(r[e],t):!1}function Nve(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||x1;return t===r}function Lve(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}function w7(t,e){return t===e||t!==t&&e!==e}function Dve(t){return Uve(t)&&_1.call(t,"callee")&&(!Tve.call(t,"callee")||Aj.call(t)==_ve)}var qve=Array.isArray;function x7(t){return t!=null&&jve(t.length)&&!Fve(t)}function Uve(t){return zve(t)&&x7(t)}function Fve(t){var e=_7(t)?Aj.call(t):"";return e==Eve||e==Sve}function jve(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ej}function _7(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function zve(t){return!!t&&typeof t=="object"}var Kve=Bve(function(t,e,r,n){Cve(e,Gve(e),t,n)}),Wve=Mj(function(t){return t.push(void 0,Ive),Sj(Kve,void 0,t)});function Gve(t){return x7(t)?Ove(t,!0):kve(t)}Oj.exports=Wve});var S7=ee((uLe,Ij)=>{x();Ij.exports=co().EventEmitter});var E1=ee((A7,kj)=>{x();var Nx=Sr(),pf=Nx.Buffer;function Rj(t,e){for(var r in t)e[r]=t[r]}pf.from&&pf.alloc&&pf.allocUnsafe&&pf.allocUnsafeSlow?kj.exports=Nx:(Rj(Nx,A7),A7.Buffer=J0);function J0(t,e,r){return pf(t,e,r)}Rj(pf,J0);J0.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return pf(t,e,r)};J0.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=pf(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};J0.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return pf(t)};J0.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Nx.SlowBuffer(t)}});var Bj=ee((hLe,M7)=>{"use strict";x();function Hve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Cj=E1().Buffer,S1=Mr();function $ve(t,e,r){t.copy(e,r)}M7.exports=function(){function t(){Hve(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return Cj.alloc(0);for(var n=Cj.allocUnsafe(r>>>0),i=this.head,a=0;i;)$ve(i.data,n,a),a+=i.data.length,i=i.next;return n},t}();S1&&S1.inspect&&S1.inspect.custom&&(M7.exports.prototype[S1.inspect.custom]=function(){var t=S1.inspect({length:this.length});return this.constructor.name+" "+t})});var T7=ee((pLe,Pj)=>{"use strict";x();var Lx=cf();function Vve(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Lx.nextTick(Dx,this,t)):Lx.nextTick(Dx,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(a){!e&&a?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,Lx.nextTick(Dx,r,a)):Lx.nextTick(Dx,r,a):e&&e(a)}),this)}function Zve(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Dx(t,e){t.emit("error",e)}Pj.exports={destroy:Vve,undestroy:Zve}});var I7=ee((vLe,zj)=>{"use strict";x();var wl=cf();zj.exports=bn;function Lj(t){var e=this;this.next=null,this.entry=null,this.finish=function(){dye(e,t)}}var Jve=!P.default.browser&&["v0.10","v0.9."].indexOf(P.default.version.slice(0,5))>-1?setImmediate:wl.nextTick,Y0;bn.WritableState=M1;var Dj=Object.create(So());Dj.inherits=pt();var Yve={deprecate:Fw()},qj=S7(),Ux=E1().Buffer,Xve=(typeof D<"u"?D:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Qve(t){return Ux.from(t)}function eye(t){return Ux.isBuffer(t)||t instanceof Xve}var Uj=T7();Dj.inherits(bn,qj);function tye(){}function M1(t,e){Y0=Y0||xl(),t=t||{};var r=e instanceof Y0;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,a=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(f){fye(e,f)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Lj(this)}M1.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(M1.prototype,"buffer",{get:Yve.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var qx;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(qx=Function.prototype[Symbol.hasInstance],Object.defineProperty(bn,Symbol.hasInstance,{value:function(t){return qx.call(this,t)?!0:this!==bn?!1:t&&t._writableState instanceof M1}})):qx=function(t){return t instanceof this};function bn(t){if(Y0=Y0||xl(),!qx.call(bn,this)&&!(this instanceof Y0))return new bn(t);this._writableState=new M1(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),qj.call(this)}bn.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function rye(t,e){var r=new Error("write after end");t.emit("error",r),wl.nextTick(e,r)}function nye(t,e,r,n){var i=!0,a=!1;return r===null?a=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),wl.nextTick(n,a),i=!1),i}bn.prototype.write=function(t,e,r){var n=this._writableState,i=!1,a=!n.objectMode&&eye(t);return a&&!Ux.isBuffer(t)&&(t=Qve(t)),typeof e=="function"&&(r=e,e=null),a?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=tye),n.ended?rye(this,r):(a||nye(this,n,t,r))&&(n.pendingcb++,i=aye(this,n,a,t,e,r)),i};bn.prototype.cork=function(){var t=this._writableState;t.corked++};bn.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Fj(this,t))};bn.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function iye(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Ux.from(e,r)),e}Object.defineProperty(bn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function aye(t,e,r,n,i,a){if(!r){var s=iye(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var f=e.objectMode?1:n.length;e.length+=f;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var g=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},g?g.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else O7(t,e,!1,f,n,i,a);return l}function O7(t,e,r,n,i,a,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,a,e.onwrite),e.sync=!1}function oye(t,e,r,n,i){--e.pendingcb,r?(wl.nextTick(i,n),wl.nextTick(A1,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),A1(t,e))}function sye(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function fye(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(sye(r),e)oye(t,r,n,e,i);else{var a=jj(r);!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Fj(t,r),n?Jve(Nj,t,r,a,i):Nj(t,r,a,i)}}function Nj(t,e,r,n){r||uye(t,e),e.pendingcb--,n(),A1(t,e)}function uye(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Fj(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var s=0,f=!0;r;)i[s]=r,r.isBuf||(f=!1),r=r.next,s+=1;i.allBuffers=f,O7(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new Lj(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,g=r.encoding,m=r.callback,A=e.objectMode?1:l.length;if(O7(t,e,!1,A,l,g,m),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}bn.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};bn.prototype._writev=null;bn.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||hye(this,n,r)};function jj(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function cye(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),A1(t,e)})}function lye(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,wl.nextTick(cye,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function A1(t,e){var r=jj(e);return r&&(lye(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function hye(t,e,r){e.ending=!0,A1(t,e),r&&(e.finished?wl.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function dye(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(bn.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}});bn.prototype.destroy=Uj.destroy;bn.prototype._undestroy=Uj.undestroy;bn.prototype._destroy=function(t,e){this.end(),e(t)}});var xl=ee((mLe,Hj)=>{"use strict";x();var Kj=cf(),pye=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Hj.exports=gf;var Wj=Object.create(So());Wj.inherits=pt();var Gj=C7(),k7=I7();Wj.inherits(gf,Gj);for(R7=pye(k7.prototype),Fx=0;Fx<R7.length;Fx++)jx=R7[Fx],gf.prototype[jx]||(gf.prototype[jx]=k7.prototype[jx]);var R7,jx,Fx;function gf(t){if(!(this instanceof gf))return new gf(t);Gj.call(this,t),k7.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",gye)}Object.defineProperty(gf.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function gye(){this.allowHalfOpen||this._writableState.ended||Kj.nextTick(vye,this)}function vye(t){t.end()}Object.defineProperty(gf.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});gf.prototype._destroy=function(t,e){this.push(null),this.end(),Kj.nextTick(e,t)}});var N7=ee(Vj=>{"use strict";x();var P7=E1().Buffer,$j=P7.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function yye(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function mye(t){var e=yye(t);if(typeof e!="string"&&(P7.isEncoding===$j||!$j(t)))throw new Error("Unknown encoding: "+t);return e||t}Vj.StringDecoder=T1;function T1(t){this.encoding=mye(t);var e;switch(this.encoding){case"utf16le":this.text=Sye,this.end=Aye,e=4;break;case"utf8":this.fillLast=xye,e=4;break;case"base64":this.text=Mye,this.end=Tye,e=3;break;default:this.write=Oye,this.end=Iye;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=P7.allocUnsafe(e)}T1.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};T1.prototype.end=Eye;T1.prototype.text=_ye;T1.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function B7(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function bye(t,e,r){var n=e.length-1;if(n<r)return 0;var i=B7(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=B7(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=B7(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function wye(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function xye(t){var e=this.lastTotal-this.lastNeed,r=wye(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function _ye(t,e){var r=bye(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Eye(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Sye(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Aye(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Mye(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Tye(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Oye(t){return t.toString(this.encoding)}function Iye(t){return t&&t.length?this.write(t):""}});var C7=ee((ELe,oz)=>{"use strict";x();var Q0=cf();oz.exports=Kr;var Rye=QS(),O1;Kr.ReadableState=tz;var _Le=co().EventEmitter,Xj=function(t,e){return t.listeners(e).length},F7=S7(),I1=E1().Buffer,kye=(typeof D<"u"?D:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Cye(t){return I1.from(t)}function Bye(t){return I1.isBuffer(t)||t instanceof kye}var Qj=Object.create(So());Qj.inherits=pt();var L7=Mr(),vr=void 0;L7&&L7.debuglog?vr=L7.debuglog("stream"):vr=function(){};var Pye=Bj(),ez=T7(),X0;Qj.inherits(Kr,F7);var D7=["error","close","destroy","pause","resume"];function Nye(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Rye(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function tz(t,e){O1=O1||xl(),t=t||{};var r=e instanceof O1;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,a=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Pye,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(X0||(X0=N7().StringDecoder),this.decoder=new X0(t.encoding),this.encoding=t.encoding)}function Kr(t){if(O1=O1||xl(),!(this instanceof Kr))return new Kr(t);this._readableState=new tz(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),F7.call(this)}Object.defineProperty(Kr.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}});Kr.prototype.destroy=ez.destroy;Kr.prototype._undestroy=ez.undestroy;Kr.prototype._destroy=function(t,e){this.push(null),e(t)};Kr.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=I1.from(t,e),e=""),n=!0),rz(this,t,e,!1,n)};Kr.prototype.unshift=function(t){return rz(this,t,null,!0,!1)};function rz(t,e,r,n,i){var a=t._readableState;if(e===null)a.reading=!1,Uye(t,a);else{var s;i||(s=Lye(a,e)),s?t.emit("error",s):a.objectMode||e&&e.length>0?(typeof e!="string"&&!a.objectMode&&Object.getPrototypeOf(e)!==I1.prototype&&(e=Cye(e)),n?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):q7(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||e.length!==0?q7(t,a,e,!1):nz(t,a)):q7(t,a,e,!1))):n||(a.reading=!1)}return Dye(a)}function q7(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&zx(t)),nz(t,e)}function Lye(t,e){var r;return!Bye(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Dye(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Kr.prototype.isPaused=function(){return this._readableState.flowing===!1};Kr.prototype.setEncoding=function(t){return X0||(X0=N7().StringDecoder),this._readableState.decoder=new X0(t),this._readableState.encoding=t,this};var Zj=8388608;function qye(t){return t>=Zj?t=Zj:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Jj(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=qye(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Kr.prototype.read=function(t){vr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return vr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?U7(this):zx(this),null;if(t=Jj(t,e),t===0&&e.ended)return e.length===0&&U7(this),null;var n=e.needReadable;vr("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,vr("length less than watermark",n)),e.ended||e.reading?(n=!1,vr("reading or ended",n)):n&&(vr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Jj(r,e)));var i;return t>0?i=iz(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&U7(this)),i!==null&&this.emit("data",i),i};function Uye(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,zx(t)}}function zx(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(vr("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Q0.nextTick(Yj,t):Yj(t))}function Yj(t){vr("emit readable"),t.emit("readable"),j7(t)}function nz(t,e){e.readingMore||(e.readingMore=!0,Q0.nextTick(Fye,t,e))}function Fye(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(vr("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Kr.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};Kr.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,vr("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==P.default.stdout&&t!==P.default.stderr,a=i?f:Z;n.endEmitted?Q0.nextTick(a):r.once("end",a),t.on("unpipe",s);function s(Y,re){vr("onunpipe"),Y===r&&re&&re.hasUnpiped===!1&&(re.hasUnpiped=!0,m())}function f(){vr("onend"),t.end()}var l=jye(r);t.on("drain",l);var g=!1;function m(){vr("cleanup"),t.removeListener("close",O),t.removeListener("finish",U),t.removeListener("drain",l),t.removeListener("error",T),t.removeListener("unpipe",s),r.removeListener("end",f),r.removeListener("end",Z),r.removeListener("data",I),g=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}var A=!1;r.on("data",I);function I(Y){vr("ondata"),A=!1;var re=t.write(Y);re===!1&&!A&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&az(n.pipes,t)!==-1)&&!g&&(vr("false write response, pause",n.awaitDrain),n.awaitDrain++,A=!0),r.pause())}function T(Y){vr("onerror",Y),Z(),t.removeListener("error",T),Xj(t,"error")===0&&t.emit("error",Y)}Nye(t,"error",T);function O(){t.removeListener("finish",U),Z()}t.once("close",O);function U(){vr("onfinish"),t.removeListener("close",O),Z()}t.once("finish",U);function Z(){vr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(vr("pipe resume"),r.resume()),t};function jye(t){return function(){var e=t._readableState;vr("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&Xj(t,"data")&&(e.flowing=!0,j7(t))}}Kr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=az(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Kr.prototype.on=function(t,e){var r=F7.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&zx(this):Q0.nextTick(zye,this))}return r};Kr.prototype.addListener=Kr.prototype.on;function zye(t){vr("readable nexttick read 0"),t.read(0)}Kr.prototype.resume=function(){var t=this._readableState;return t.flowing||(vr("resume"),t.flowing=!0,Kye(this,t)),this};function Kye(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Q0.nextTick(Wye,t,e))}function Wye(t,e){e.reading||(vr("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),j7(t),e.flowing&&!e.reading&&t.read(0)}Kr.prototype.pause=function(){return vr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(vr("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function j7(t){var e=t._readableState;for(vr("flow",e.flowing);e.flowing&&t.read()!==null;);}Kr.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(vr("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(vr("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var f=e.push(s);f||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(s){return function(){return t[s].apply(t,arguments)}}(i));for(var a=0;a<D7.length;a++)t.on(D7[a],this.emit.bind(this,D7[a]));return this._read=function(s){vr("wrapped _read",s),n&&(n=!1,t.resume())},this};Object.defineProperty(Kr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Kr._fromList=iz;function iz(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=Gye(t,e.buffer,e.decoder),r}function Gye(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?Hye(t,e):$ye(t,e),n}function Hye(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var a=r.data,s=t>a.length?a.length:t;if(s===a.length?i+=a:i+=a.slice(0,t),t-=s,t===0){s===a.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=a.slice(s));break}++n}return e.length-=n,i}function $ye(t,e){var r=I1.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var a=n.data,s=t>a.length?a.length:t;if(a.copy(r,r.length-t,0,s),t-=s,t===0){s===a.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=a.slice(s));break}++i}return e.length-=i,r}function U7(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Q0.nextTick(Vye,e,t))}function Vye(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function az(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var z7=ee((ALe,uz)=>{"use strict";x();uz.exports=vf;var Kx=xl(),fz=Object.create(So());fz.inherits=pt();fz.inherits(vf,Kx);function Zye(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function vf(t){if(!(this instanceof vf))return new vf(t);Kx.call(this,t),this._transformState={afterTransform:Zye.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Jye)}function Jye(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){sz(t,e,r)}):sz(this,null,null)}vf.prototype.push=function(t,e){return this._transformState.needTransform=!1,Kx.prototype.push.call(this,t,e)};vf.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};vf.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};vf.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};vf.prototype._destroy=function(t,e){var r=this;Kx.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function sz(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var dz=ee((TLe,hz)=>{"use strict";x();hz.exports=R1;var cz=z7(),lz=Object.create(So());lz.inherits=pt();lz.inherits(R1,cz);function R1(t){if(!(this instanceof R1))return new R1(t);cz.call(this,t)}R1.prototype._transform=function(t,e,r){r(null,t)}});var gz=ee((vs,pz)=>{x();vs=pz.exports=C7();vs.Stream=vs;vs.Readable=vs;vs.Writable=I7();vs.Duplex=xl();vs.Transform=z7();vs.PassThrough=dz()});var W7=ee((RLe,wz)=>{x();var Yye=9007199254740991,Xye="[object Arguments]",Qye="[object Function]",eme="[object GeneratorFunction]",tme=typeof D=="object"&&D&&D.Object===Object&&D,rme=typeof self=="object"&&self&&self.Object===Object&&self,nme=tme||rme||Function("return this")();function ime(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var K7=Object.prototype,ame=K7.hasOwnProperty,mz=K7.toString,vz=nme.Symbol,ome=K7.propertyIsEnumerable,yz=vz?vz.isConcatSpreadable:void 0;function bz(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=sme),i||(i=[]);++a<s;){var f=t[a];e>0&&r(f)?e>1?bz(f,e-1,r,n,i):ime(i,f):n||(i[i.length]=f)}return i}function sme(t){return cme(t)||ume(t)||!!(yz&&t&&t[yz])}function fme(t){var e=t?t.length:0;return e?bz(t,1):[]}function ume(t){return hme(t)&&ame.call(t,"callee")&&(!ome.call(t,"callee")||mz.call(t)==Xye)}var cme=Array.isArray;function lme(t){return t!=null&&pme(t.length)&&!dme(t)}function hme(t){return vme(t)&&lme(t)}function dme(t){var e=gme(t)?mz.call(t):"";return e==Qye||e==eme}function pme(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Yye}function gme(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function vme(t){return!!t&&typeof t=="object"}wz.exports=fme});var J7=ee((CLe,kz)=>{x();var yme=200,$7="__lodash_hash_undefined__",mme=9007199254740991,bme="[object Arguments]",wme="[object Function]",xme="[object GeneratorFunction]",_me=/[\\^$.*+?()[\]{}|]/g,Eme=/^\[object .+?Constructor\]$/,Sme=typeof D=="object"&&D&&D.Object===Object&&D,Ame=typeof self=="object"&&self&&self.Object===Object&&self,V7=Sme||Ame||Function("return this")();function Mme(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Tme(t,e){var r=t?t.length:0;return!!r&&Cme(t,e,0)>-1}function Ome(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function Ime(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Rme(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function kme(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function Cme(t,e,r){if(e!==e)return kme(t,Bme,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function Bme(t){return t!==t}function Pme(t){return function(e){return t(e)}}function Nme(t,e){return t.has(e)}function Lme(t,e){return t?.[e]}function Dme(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var qme=Array.prototype,Ume=Function.prototype,Z7=Object.prototype,G7=V7["__core-js_shared__"],xz=function(){var t=/[^.]+$/.exec(G7&&G7.keys&&G7.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Az=Ume.toString,Gx=Z7.hasOwnProperty,Mz=Z7.toString,Fme=RegExp("^"+Az.call(Gx).replace(_me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_z=V7.Symbol,jme=Z7.propertyIsEnumerable,zme=qme.splice,Ez=_z?_z.isConcatSpreadable:void 0,Sz=Math.max,Kme=Oz(V7,"Map"),k1=Oz(Object,"create");function _l(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Wme(){this.__data__=k1?k1(null):{}}function Gme(t){return this.has(t)&&delete this.__data__[t]}function Hme(t){var e=this.__data__;if(k1){var r=e[t];return r===$7?void 0:r}return Gx.call(e,t)?e[t]:void 0}function $me(t){var e=this.__data__;return k1?e[t]!==void 0:Gx.call(e,t)}function Vme(t,e){var r=this.__data__;return r[t]=k1&&e===void 0?$7:e,this}_l.prototype.clear=Wme;_l.prototype.delete=Gme;_l.prototype.get=Hme;_l.prototype.has=$me;_l.prototype.set=Vme;function ed(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Zme(){this.__data__=[]}function Jme(t){var e=this.__data__,r=Hx(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():zme.call(e,r,1),!0}function Yme(t){var e=this.__data__,r=Hx(e,t);return r<0?void 0:e[r][1]}function Xme(t){return Hx(this.__data__,t)>-1}function Qme(t,e){var r=this.__data__,n=Hx(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}ed.prototype.clear=Zme;ed.prototype.delete=Jme;ed.prototype.get=Yme;ed.prototype.has=Xme;ed.prototype.set=Qme;function td(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ebe(){this.__data__={hash:new _l,map:new(Kme||ed),string:new _l}}function tbe(t){return $x(this,t).delete(t)}function rbe(t){return $x(this,t).get(t)}function nbe(t){return $x(this,t).has(t)}function ibe(t,e){return $x(this,t).set(t,e),this}td.prototype.clear=ebe;td.prototype.delete=tbe;td.prototype.get=rbe;td.prototype.has=nbe;td.prototype.set=ibe;function Wx(t){var e=-1,r=t?t.length:0;for(this.__data__=new td;++e<r;)this.add(t[e])}function abe(t){return this.__data__.set(t,$7),this}function obe(t){return this.__data__.has(t)}Wx.prototype.add=Wx.prototype.push=abe;Wx.prototype.has=obe;function Hx(t,e){for(var r=t.length;r--;)if(gbe(t[r][0],e))return r;return-1}function sbe(t,e,r,n){var i=-1,a=Tme,s=!0,f=t.length,l=[],g=e.length;if(!f)return l;r&&(e=Ime(e,Pme(r))),n?(a=Ome,s=!1):e.length>=yme&&(a=Nme,s=!1,e=new Wx(e));e:for(;++i<f;){var m=t[i],A=r?r(m):m;if(m=n||m!==0?m:0,s&&A===A){for(var I=g;I--;)if(e[I]===A)continue e;l.push(m)}else a(e,A,n)||l.push(m)}return l}function Tz(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=cbe),i||(i=[]);++a<s;){var f=t[a];e>0&&r(f)?e>1?Tz(f,e-1,r,n,i):Rme(i,f):n||(i[i.length]=f)}return i}function fbe(t){if(!Rz(t)||hbe(t))return!1;var e=Iz(t)||Dme(t)?Fme:Eme;return e.test(dbe(t))}function ube(t,e){return e=Sz(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=Sz(r.length-e,0),a=Array(i);++n<i;)a[n]=r[e+n];n=-1;for(var s=Array(e+1);++n<e;)s[n]=r[n];return s[e]=a,Mme(t,this,s)}}function $x(t,e){var r=t.__data__;return lbe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Oz(t,e){var r=Lme(t,e);return fbe(r)?r:void 0}function cbe(t){return ybe(t)||vbe(t)||!!(Ez&&t&&t[Ez])}function lbe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function hbe(t){return!!xz&&xz in t}function dbe(t){if(t!=null){try{return Az.call(t)}catch{}try{return t+""}catch{}}return""}var pbe=ube(function(t,e){return H7(t)?sbe(t,Tz(e,1,H7,!0)):[]});function gbe(t,e){return t===e||t!==t&&e!==e}function vbe(t){return H7(t)&&Gx.call(t,"callee")&&(!jme.call(t,"callee")||Mz.call(t)==bme)}var ybe=Array.isArray;function mbe(t){return t!=null&&bbe(t.length)&&!Iz(t)}function H7(t){return wbe(t)&&mbe(t)}function Iz(t){var e=Rz(t)?Mz.call(t):"";return e==wme||e==xme}function bbe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=mme}function Rz(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function wbe(t){return!!t&&typeof t=="object"}kz.exports=pbe});var r9=ee((PLe,Kz)=>{x();var xbe=200,Q7="__lodash_hash_undefined__",_be=1/0,Ebe=9007199254740991,Sbe="[object Arguments]",Abe="[object Function]",Mbe="[object GeneratorFunction]",Tbe=/[\\^$.*+?()[\]{}|]/g,Obe=/^\[object .+?Constructor\]$/,Ibe=typeof D=="object"&&D&&D.Object===Object&&D,Rbe=typeof self=="object"&&self&&self.Object===Object&&self,Zx=Ibe||Rbe||Function("return this")();function kbe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Cbe(t,e){var r=t?t.length:0;return!!r&&Lbe(t,e,0)>-1}function Bbe(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function Pbe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Nbe(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function Lbe(t,e,r){if(e!==e)return Nbe(t,Dbe,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function Dbe(t){return t!==t}function qbe(t,e){return t.has(e)}function Ube(t,e){return t?.[e]}function Fbe(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function Lz(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var jbe=Array.prototype,zbe=Function.prototype,e9=Object.prototype,Y7=Zx["__core-js_shared__"],Cz=function(){var t=/[^.]+$/.exec(Y7&&Y7.keys&&Y7.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Dz=zbe.toString,Jx=e9.hasOwnProperty,qz=e9.toString,Kbe=RegExp("^"+Dz.call(Jx).replace(Tbe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bz=Zx.Symbol,Wbe=e9.propertyIsEnumerable,Gbe=jbe.splice,Pz=Bz?Bz.isConcatSpreadable:void 0,Nz=Math.max,Hbe=t9(Zx,"Map"),X7=t9(Zx,"Set"),C1=t9(Object,"create");function El(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function $be(){this.__data__=C1?C1(null):{}}function Vbe(t){return this.has(t)&&delete this.__data__[t]}function Zbe(t){var e=this.__data__;if(C1){var r=e[t];return r===Q7?void 0:r}return Jx.call(e,t)?e[t]:void 0}function Jbe(t){var e=this.__data__;return C1?e[t]!==void 0:Jx.call(e,t)}function Ybe(t,e){var r=this.__data__;return r[t]=C1&&e===void 0?Q7:e,this}El.prototype.clear=$be;El.prototype.delete=Vbe;El.prototype.get=Zbe;El.prototype.has=Jbe;El.prototype.set=Ybe;function rd(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Xbe(){this.__data__=[]}function Qbe(t){var e=this.__data__,r=Yx(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Gbe.call(e,r,1),!0}function ewe(t){var e=this.__data__,r=Yx(e,t);return r<0?void 0:e[r][1]}function twe(t){return Yx(this.__data__,t)>-1}function rwe(t,e){var r=this.__data__,n=Yx(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}rd.prototype.clear=Xbe;rd.prototype.delete=Qbe;rd.prototype.get=ewe;rd.prototype.has=twe;rd.prototype.set=rwe;function nd(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function nwe(){this.__data__={hash:new El,map:new(Hbe||rd),string:new El}}function iwe(t){return Xx(this,t).delete(t)}function awe(t){return Xx(this,t).get(t)}function owe(t){return Xx(this,t).has(t)}function swe(t,e){return Xx(this,t).set(t,e),this}nd.prototype.clear=nwe;nd.prototype.delete=iwe;nd.prototype.get=awe;nd.prototype.has=owe;nd.prototype.set=swe;function Vx(t){var e=-1,r=t?t.length:0;for(this.__data__=new nd;++e<r;)this.add(t[e])}function fwe(t){return this.__data__.set(t,Q7),this}function uwe(t){return this.__data__.has(t)}Vx.prototype.add=Vx.prototype.push=fwe;Vx.prototype.has=uwe;function Yx(t,e){for(var r=t.length;r--;)if(bwe(t[r][0],e))return r;return-1}function Uz(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=pwe),i||(i=[]);++a<s;){var f=t[a];e>0&&r(f)?e>1?Uz(f,e-1,r,n,i):Pbe(i,f):n||(i[i.length]=f)}return i}function cwe(t){if(!zz(t)||vwe(t))return!1;var e=jz(t)||Fbe(t)?Kbe:Obe;return e.test(ywe(t))}function lwe(t,e){return e=Nz(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=Nz(r.length-e,0),a=Array(i);++n<i;)a[n]=r[e+n];n=-1;for(var s=Array(e+1);++n<e;)s[n]=r[n];return s[e]=a,kbe(t,this,s)}}function hwe(t,e,r){var n=-1,i=Cbe,a=t.length,s=!0,f=[],l=f;if(r)s=!1,i=Bbe;else if(a>=xbe){var g=e?null:dwe(t);if(g)return Lz(g);s=!1,i=qbe,l=new Vx}else l=e?[]:f;e:for(;++n<a;){var m=t[n],A=e?e(m):m;if(m=r||m!==0?m:0,s&&A===A){for(var I=l.length;I--;)if(l[I]===A)continue e;e&&l.push(A),f.push(m)}else i(l,A,r)||(l!==f&&l.push(A),f.push(m))}return f}var dwe=X7&&1/Lz(new X7([,-0]))[1]==_be?function(t){return new X7(t)}:Awe;function Xx(t,e){var r=t.__data__;return gwe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function t9(t,e){var r=Ube(t,e);return cwe(r)?r:void 0}function pwe(t){return xwe(t)||wwe(t)||!!(Pz&&t&&t[Pz])}function gwe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function vwe(t){return!!Cz&&Cz in t}function ywe(t){if(t!=null){try{return Dz.call(t)}catch{}try{return t+""}catch{}}return""}var mwe=lwe(function(t){return hwe(Uz(t,1,Fz,!0))});function bwe(t,e){return t===e||t!==t&&e!==e}function wwe(t){return Fz(t)&&Jx.call(t,"callee")&&(!Wbe.call(t,"callee")||qz.call(t)==Sbe)}var xwe=Array.isArray;function _we(t){return t!=null&&Ewe(t.length)&&!jz(t)}function Fz(t){return Swe(t)&&_we(t)}function jz(t){var e=zz(t)?qz.call(t):"";return e==Abe||e==Mbe}function Ewe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ebe}function zz(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Swe(t){return!!t&&typeof t=="object"}function Awe(){}Kz.exports=mwe});var n9=ee((LLe,Hz)=>{x();var Mwe="[object Object]";function Twe(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function Owe(t,e){return function(r){return t(e(r))}}var Iwe=Function.prototype,Wz=Object.prototype,Gz=Iwe.toString,Rwe=Wz.hasOwnProperty,kwe=Gz.call(Object),Cwe=Wz.toString,Bwe=Owe(Object.getPrototypeOf,Object);function Pwe(t){return!!t&&typeof t=="object"}function Nwe(t){if(!Pwe(t)||Cwe.call(t)!=Mwe||Twe(t))return!1;var e=Bwe(t);if(e===null)return!0;var r=Rwe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Gz.call(r)==kwe}Hz.exports=Nwe});var $z=ee(i9=>{x();var Sl=Ia(),ku=P.default.platform==="win32",Ru=vu(),Lwe=P.default.env.NODE_DEBUG&&/fs/.test(P.default.env.NODE_DEBUG);function Dwe(){var t;if(Lwe){var e=new Error;t=r}else t=n;return t;function r(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(P.default.throwDeprecation)throw i;if(!P.default.noDeprecation){var a="fs: missing callback "+(i.stack||i.message);P.default.traceDeprecation?console.trace(a):console.error(a)}}}}function qwe(t){return typeof t=="function"?t:Dwe()}var qLe=Sl.normalize;ku?yf=/(.*?)(?:[\/\\]+|$)/g:yf=/(.*?)(?:[\/]+|$)/g;var yf;ku?B1=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:B1=/^[\/]*/;var B1;i9.realpathSync=function(e,r){if(e=Sl.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var n=e,i={},a={},s,f,l,g;m();function m(){var Z=B1.exec(e);s=Z[0].length,f=Z[0],l=Z[0],g="",ku&&!a[l]&&(Ru.lstatSync(l),a[l]=!0)}for(;s<e.length;){yf.lastIndex=s;var A=yf.exec(e);if(g=f,f+=A[0],l=g+A[1],s=yf.lastIndex,!(a[l]||r&&r[l]===l)){var I;if(r&&Object.prototype.hasOwnProperty.call(r,l))I=r[l];else{var T=Ru.lstatSync(l);if(!T.isSymbolicLink()){a[l]=!0,r&&(r[l]=l);continue}var O=null;if(!ku){var U=T.dev.toString(32)+":"+T.ino.toString(32);i.hasOwnProperty(U)&&(O=i[U])}O===null&&(Ru.statSync(l),O=Ru.readlinkSync(l)),I=Sl.resolve(g,O),r&&(r[l]=I),ku||(i[U]=O)}e=Sl.resolve(I,e.slice(s)),m()}}return r&&(r[n]=e),e};i9.realpath=function(e,r,n){if(typeof n!="function"&&(n=qwe(r),r=null),e=Sl.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return P.default.nextTick(n.bind(null,null,r[e]));var i=e,a={},s={},f,l,g,m;A();function A(){var Z=B1.exec(e);f=Z[0].length,l=Z[0],g=Z[0],m="",ku&&!s[g]?Ru.lstat(g,function(Y){if(Y)return n(Y);s[g]=!0,I()}):P.default.nextTick(I)}function I(){if(f>=e.length)return r&&(r[i]=e),n(null,e);yf.lastIndex=f;var Z=yf.exec(e);return m=l,l+=Z[0],g=m+Z[1],f=yf.lastIndex,s[g]||r&&r[g]===g?P.default.nextTick(I):r&&Object.prototype.hasOwnProperty.call(r,g)?U(r[g]):Ru.lstat(g,T)}function T(Z,Y){if(Z)return n(Z);if(!Y.isSymbolicLink())return s[g]=!0,r&&(r[g]=g),P.default.nextTick(I);if(!ku){var re=Y.dev.toString(32)+":"+Y.ino.toString(32);if(a.hasOwnProperty(re))return O(null,a[re],g)}Ru.stat(g,function(pe){if(pe)return n(pe);Ru.readlink(g,function(he,se){ku||(a[re]=se),O(he,se)})})}function O(Z,Y,re){if(Z)return n(Z);var pe=Sl.resolve(m,Y);r&&(r[re]=pe),U(pe)}function U(Z){e=Sl.resolve(Z,e.slice(f)),A()}}});var f9=ee((jLe,Yz)=>{x();Yz.exports=Cu;Cu.realpath=Cu;Cu.sync=s9;Cu.realpathSync=s9;Cu.monkeypatch=Fwe;Cu.unmonkeypatch=jwe;var id=vu(),a9=id.realpath,o9=id.realpathSync,Uwe=P.default.version,Vz=/^v[0-5]\./.test(Uwe),Zz=$z();function Jz(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function Cu(t,e,r){if(Vz)return a9(t,e,r);typeof e=="function"&&(r=e,e=null),a9(t,e,function(n,i){Jz(n)?Zz.realpath(t,e,r):r(n,i)})}function s9(t,e){if(Vz)return o9(t,e);try{return o9(t,e)}catch(r){if(Jz(r))return Zz.realpathSync(t,e);throw r}}function Fwe(){id.realpath=Cu,id.realpathSync=s9}function jwe(){id.realpath=a9,id.realpathSync=o9}});var Qz=ee((KLe,Xz)=>{x();Xz.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);zwe(i)?r.push.apply(r,i):r.push(i)}return r};var zwe=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var sK=ee((GLe,oK)=>{x();var Kwe=Qz(),eK=mE();oK.exports=Hwe;var tK="\0SLASH"+Math.random()+"\0",rK="\0OPEN"+Math.random()+"\0",c9="\0CLOSE"+Math.random()+"\0",nK="\0COMMA"+Math.random()+"\0",iK="\0PERIOD"+Math.random()+"\0";function u9(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Wwe(t){return t.split("\\\\").join(tK).split("\\{").join(rK).split("\\}").join(c9).split("\\,").join(nK).split("\\.").join(iK)}function Gwe(t){return t.split(tK).join("\\").split(rK).join("{").split(c9).join("}").split(nK).join(",").split(iK).join(".")}function aK(t){if(!t)return[""];var e=[],r=eK("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,a=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var f=aK(a);return a.length&&(s[s.length-1]+=f.shift(),s.push.apply(s,f)),e.push.apply(e,s),e}function Hwe(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),ad(Wwe(t),!0).map(Gwe)):[]}function $we(t){return"{"+t+"}"}function Vwe(t){return/^-?0\d/.test(t)}function Zwe(t,e){return t<=e}function Jwe(t,e){return t>=e}function ad(t,e){var r=[],n=eK("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||a,f=n.body.indexOf(",")>=0;if(!s&&!f)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+c9+n.post,ad(t)):[t];var l;if(s)l=n.body.split(/\.\./);else if(l=aK(n.body),l.length===1&&(l=ad(l[0],!1).map($we),l.length===1)){var m=n.post.length?ad(n.post,!1):[""];return m.map(function(S){return n.pre+l[0]+S})}var g=n.pre,m=n.post.length?ad(n.post,!1):[""],A;if(s){var I=u9(l[0]),T=u9(l[1]),O=Math.max(l[0].length,l[1].length),U=l.length==3?Math.abs(u9(l[2])):1,Z=Zwe,Y=T<I;Y&&(U*=-1,Z=Jwe);var re=l.some(Vwe);A=[];for(var pe=I;Z(pe,T);pe+=U){var he;if(a)he=String.fromCharCode(pe),he==="\\"&&(he="");else if(he=String(pe),re){var se=O-he.length;if(se>0){var fe=new Array(se+1).join("0");pe<0?he="-"+fe+he.slice(1):he=fe+he}}A.push(he)}}else A=Kwe(l,function(q){return ad(q,!1)});for(var de=0;de<A.length;de++)for(var G=0;G<m.length;G++){var L=g+A[de]+m[G];(!e||s||L)&&r.push(L)}return r}});var t2=ee(($Le,hK)=>{x();hK.exports=ta;ta.Minimatch=Yn;var P1=function(){try{return Ia()}catch{}}()||{sep:"/"};ta.sep=P1.sep;var d9=ta.GLOBSTAR=Yn.GLOBSTAR={},Ywe=sK(),fK={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},l9="[^/]",h9=l9+"*?",Xwe="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Qwe="(?:(?!(?:\\/|^)\\.).)*?",uK=exe("().*{}+?[]^$\\!");function exe(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var cK=/\/+/;ta.filter=txe;function txe(t,e){return e=e||{},function(r,n,i){return ta(r,t,e)}}function Bu(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}ta.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return ta;var e=ta,r=function(i,a,s){return e(i,a,Bu(t,s))};return r.Minimatch=function(i,a){return new e.Minimatch(i,Bu(t,a))},r.Minimatch.defaults=function(i){return e.defaults(Bu(t,i)).Minimatch},r.filter=function(i,a){return e.filter(i,Bu(t,a))},r.defaults=function(i){return e.defaults(Bu(t,i))},r.makeRe=function(i,a){return e.makeRe(i,Bu(t,a))},r.braceExpand=function(i,a){return e.braceExpand(i,Bu(t,a))},r.match=function(n,i,a){return e.match(n,i,Bu(t,a))},r};Yn.defaults=function(t){return ta.defaults(t).Minimatch};function ta(t,e,r){return e2(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new Yn(e,r).match(t)}function Yn(t,e){if(!(this instanceof Yn))return new Yn(t,e);e2(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&P1.sep!=="/"&&(t=t.split(P1.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}Yn.prototype.debug=function(){};Yn.prototype.make=rxe;function rxe(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(cK)}),this.debug(this.pattern,r),r=r.map(function(n,i,a){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}Yn.prototype.parseNegate=nxe;function nxe(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,a=t.length;i<a&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}ta.braceExpand=function(t,e){return lK(t,e)};Yn.prototype.braceExpand=lK;function lK(t,e){return e||(this instanceof Yn?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,e2(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Ywe(t)}var ixe=1024*64,e2=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>ixe)throw new TypeError("pattern is too long")};Yn.prototype.parse=axe;var Qx={};function axe(t,e){e2(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return d9;if(t==="")return"";var n="",i=!!r.nocase,a=!1,s=[],f=[],l,g=!1,m=-1,A=-1,I=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",T=this;function O(){if(l){switch(l){case"*":n+=h9,i=!0;break;case"?":n+=l9,i=!0;break;default:n+="\\"+l;break}T.debug("clearStateChar %j %j",l,n),l=!1}}for(var U=0,Z=t.length,Y;U<Z&&(Y=t.charAt(U));U++){if(this.debug("%s	%s %s %j",t,U,n,Y),a&&uK[Y]){n+="\\"+Y,a=!1;continue}switch(Y){case"/":return!1;case"\\":O(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,U,n,Y),g){this.debug("  in class"),Y==="!"&&U===A+1&&(Y="^"),n+=Y;continue}T.debug("call clearStateChar %j",l),O(),l=Y,r.noext&&O();continue;case"(":if(g){n+="(";continue}if(!l){n+="\\(";continue}s.push({type:l,start:U-1,reStart:n.length,open:fK[l].open,close:fK[l].close}),n+=l==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",l,n),l=!1;continue;case")":if(g||!s.length){n+="\\)";continue}O(),i=!0;var re=s.pop();n+=re.close,re.type==="!"&&f.push(re),re.reEnd=n.length;continue;case"|":if(g||!s.length||a){n+="\\|",a=!1;continue}O(),n+="|";continue;case"[":if(O(),g){n+="\\"+Y;continue}g=!0,A=U,m=n.length,n+=Y;continue;case"]":if(U===A+1||!g){n+="\\"+Y,a=!1;continue}var pe=t.substring(A+1,U);try{RegExp("["+pe+"]")}catch{var he=this.parse(pe,Qx);n=n.substr(0,m)+"\\["+he[0]+"\\]",i=i||he[1],g=!1;continue}i=!0,g=!1,n+=Y;continue;default:O(),a?a=!1:uK[Y]&&!(Y==="^"&&g)&&(n+="\\"),n+=Y}}for(g&&(pe=t.substr(A+1),he=this.parse(pe,Qx),n=n.substr(0,m)+"\\["+he[0],i=i||he[1]),re=s.pop();re;re=s.pop()){var se=n.slice(re.reStart+re.open.length);this.debug("setting tail",n,re),se=se.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(E,w,c){return c||(c="\\"),w+w+c+"|"}),this.debug(`tail=%j
   %s`,se,se,re,n);var fe=re.type==="*"?h9:re.type==="?"?l9:"\\"+re.type;i=!0,n=n.slice(0,re.reStart)+fe+"\\("+se}O(),a&&(n+="\\\\");var de=!1;switch(n.charAt(0)){case"[":case".":case"(":de=!0}for(var G=f.length-1;G>-1;G--){var L=f[G],q=n.slice(0,L.reStart),S=n.slice(L.reStart,L.reEnd-8),B=n.slice(L.reEnd-8,L.reEnd),y=n.slice(L.reEnd);B+=y;var o=q.split("(").length-1,u=y;for(U=0;U<o;U++)u=u.replace(/\)[+*?]?/,"");y=u;var h="";y===""&&e!==Qx&&(h="$");var p=q+S+y+h+B;n=p}if(n!==""&&i&&(n="(?=.)"+n),de&&(n=I+n),e===Qx)return[n,i];if(!i)return sxe(t);var v=r.nocase?"i":"";try{var d=new RegExp("^"+n+"$",v)}catch{return new RegExp("$.")}return d._glob=t,d._src=n,d}ta.makeRe=function(t,e){return new Yn(t,e||{}).makeRe()};Yn.prototype.makeRe=oxe;function oxe(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?h9:e.dot?Xwe:Qwe,n=e.nocase?"i":"",i=t.map(function(a){return a.map(function(s){return s===d9?r:typeof s=="string"?fxe(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}ta.match=function(t,e,r){r=r||{};var n=new Yn(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};Yn.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var n=this.options;P1.sep!=="/"&&(e=e.split(P1.sep).join("/")),e=e.split(cK),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var a,s;for(s=e.length-1;s>=0&&(a=e[s],!a);s--);for(s=0;s<i.length;s++){var f=i[s],l=e;n.matchBase&&f.length===1&&(l=[a]);var g=this.matchOne(l,f,r);if(g)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};Yn.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,a=0,s=t.length,f=e.length;i<s&&a<f;i++,a++){this.debug("matchOne loop");var l=e[a],g=t[i];if(this.debug(e,l,g),l===!1)return!1;if(l===d9){this.debug("GLOBSTAR",[e,l,g]);var m=i,A=a+1;if(A===f){for(this.debug("** at the end");i<s;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;m<s;){var I=t[m];if(this.debug(`
globstar while`,t,m,e,A,I),this.matchOne(t.slice(m),e.slice(A),r))return this.debug("globstar found match!",m,s,I),!0;if(I==="."||I===".."||!n.dot&&I.charAt(0)==="."){this.debug("dot detected!",t,m,e,A);break}this.debug("globstar swallow a segment, and continue"),m++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,m,e,A),m===s))}var T;if(typeof l=="string"?(T=g===l,this.debug("string match",l,g,T)):(T=g.match(l),this.debug("pattern match",l,g,T)),!T)return!1}if(i===s&&a===f)return!0;if(i===s)return r;if(a===f)return i===s-1&&t[i]==="";throw new Error("wtf?")};function sxe(t){return t.replace(/\\(.)/g,"$1")}function fxe(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var n2=ee((ZLe,r2)=>{"use strict";x();function dK(t){return t.charAt(0)==="/"}function pK(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}r2.exports=P.default.platform==="win32"?pK:dK;r2.exports.posix=dK;r2.exports.win32=pK});var g9=ee(Pu=>{x();Pu.setopts=pxe;Pu.ownProp=gK;Pu.makeAbs=N1;Pu.finish=gxe;Pu.mark=vxe;Pu.isIgnored=yK;Pu.childrenIgnored=yxe;function gK(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var uxe=vu(),od=Ia(),cxe=t2(),vK=n2(),p9=cxe.Minimatch;function lxe(t,e){return t.localeCompare(e,"en")}function hxe(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(dxe))}function dxe(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new p9(r,{dot:!0})}return{matcher:new p9(t,{dot:!0}),gmatcher:e}}function pxe(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||uxe,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),hxe(t,r),t.changedCwd=!1;var n=P.default.cwd();gK(r,"cwd")?(t.cwd=od.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n,t.root=r.root||od.resolve(t.cwd,"/"),t.root=od.resolve(t.root),P.default.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=vK(t.cwd)?t.cwd:N1(t,t.cwd),P.default.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!1,t.minimatch=new p9(e,r),t.options=t.minimatch.options}function gxe(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var a=t.matches[n];if(!a||Object.keys(a).length===0){if(t.nonull){var s=t.minimatch.globSet[n];e?r.push(s):r[s]=!0}}else{var f=Object.keys(a);e?r.push.apply(r,f):f.forEach(function(l){r[l]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(lxe)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(l){var g=!/\/$/.test(l),m=t.cache[l]||t.cache[N1(t,l)];return g&&m&&(g=m!=="DIR"&&!Array.isArray(m)),g}))}t.ignore.length&&(r=r.filter(function(l){return!yK(t,l)})),t.found=r}function vxe(t,e){var r=N1(t,e),n=t.cache[r],i=e;if(n){var a=n==="DIR"||Array.isArray(n),s=e.slice(-1)==="/";if(a&&!s?i+="/":!a&&s&&(i=i.slice(0,-1)),i!==e){var f=N1(t,i);t.statCache[f]=t.statCache[r],t.cache[f]=t.cache[r]}}return i}function N1(t,e){var r=e;return e.charAt(0)==="/"?r=od.join(t.root,e):vK(e)||e===""?r=e:t.changedCwd?r=od.resolve(t.cwd,e):r=od.resolve(e),P.default.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function yK(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function yxe(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var _K=ee((rDe,xK)=>{x();xK.exports=wK;wK.GlobSync=En;var mxe=f9(),mK=t2(),QLe=mK.Minimatch,eDe=a2().Glob,tDe=Mr(),v9=Ia(),bK=Mu(),i2=n2(),Al=g9(),bxe=Al.setopts,y9=Al.ownProp,wxe=Al.childrenIgnored,xxe=Al.isIgnored;function wK(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new En(t,e).found}function En(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof En))return new En(t,e);if(bxe(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}En.prototype._finish=function(){if(bK.ok(this instanceof En),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var a=mxe.realpathSync(i,t.realpathCache);n[a]=!0}catch(s){if(s.syscall==="stat")n[t._makeAbs(i)]=!0;else throw s}})}Al.finish(this)};En.prototype._process=function(t,e,r){bK.ok(this instanceof En);for(var n=0;typeof t[n]=="string";)n++;var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var a=t.slice(n),s;i===null?s=".":((i2(i)||i2(t.map(function(g){return typeof g=="string"?g:"[*]"}).join("/")))&&(!i||!i2(i))&&(i="/"+i),s=i);var f=this._makeAbs(s);if(!wxe(this,s)){var l=a[0]===mK.GLOBSTAR;l?this._processGlobStar(i,s,f,a,e,r):this._processReaddir(i,s,f,a,e,r)}};En.prototype._processReaddir=function(t,e,r,n,i,a){var s=this._readdir(r,a);if(!!s){for(var f=n[0],l=!!this.minimatch.negate,g=f._glob,m=this.dot||g.charAt(0)===".",A=[],I=0;I<s.length;I++){var T=s[I];if(T.charAt(0)!=="."||m){var O;l&&!t?O=!T.match(f):O=T.match(f),O&&A.push(T)}}var U=A.length;if(U!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var I=0;I<U;I++){var T=A[I];t&&(t.slice(-1)!=="/"?T=t+"/"+T:T=t+T),T.charAt(0)==="/"&&!this.nomount&&(T=v9.join(this.root,T)),this._emitMatch(i,T)}return}n.shift();for(var I=0;I<U;I++){var T=A[I],Z;t?Z=[t,T]:Z=[T],this._process(Z.concat(n),i,a)}}}};En.prototype._emitMatch=function(t,e){if(!xxe(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};En.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,n;try{r=this.fs.lstatSync(t)}catch(a){if(a.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,!i&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};En.prototype._readdir=function(t,e){var r;if(e&&!y9(this.symlinks,t))return this._readdirInGlobStar(t);if(y9(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(i){return this._readdirError(t,i),null}};En.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e};En.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};En.prototype._processGlobStar=function(t,e,r,n,i,a){var s=this._readdir(r,a);if(!!s){var f=n.slice(1),l=t?[t]:[],g=l.concat(f);this._process(g,i,!1);var m=s.length,A=this.symlinks[r];if(!(A&&a))for(var I=0;I<m;I++){var T=s[I];if(!(T.charAt(0)==="."&&!this.dot)){var O=l.concat(s[I],f);this._process(O,i,!0);var U=l.concat(s[I],n);this._process(U,i,!0)}}}};En.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&i2(t)&&!this.nomount){var n=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=v9.join(this.root,t):(t=v9.resolve(this.root,t),n&&(t+="/"))}P.default.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};En.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&y9(this.cache,e)){var s=this.cache[e];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return s;if(r&&s==="FILE")return!1}var n,i=this.statCache[e];if(!i){var a;try{a=this.fs.lstatSync(e)}catch(f){if(f&&(f.code==="ENOENT"||f.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(a&&a.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=a}else i=a}this.statCache[e]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,r&&s==="FILE"?!1:s};En.prototype._mark=function(t){return Al.mark(this,t)};En.prototype._makeAbs=function(t){return Al.makeAbs(this,t)}});var m9=ee((iDe,SK)=>{x();SK.exports=EK;function EK(t,e){if(t&&e)return EK(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var a=t.apply(this,n),s=n[n.length-1];return typeof a=="function"&&a!==s&&Object.keys(s).forEach(function(f){a[f]=s[f]}),a}}});var s2=ee((oDe,b9)=>{x();var AK=m9();b9.exports=AK(o2);b9.exports.strict=AK(MK);o2.proto=o2(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o2(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return MK(this)},configurable:!0})});function o2(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function MK(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var OK=ee((fDe,TK)=>{x();var _xe=m9(),L1=Object.create(null),Exe=s2();TK.exports=_xe(Sxe);function Sxe(t,e){return L1[t]?(L1[t].push(e),null):(L1[t]=[e],Axe(t))}function Axe(t){return Exe(function e(){var r=L1[t],n=r.length,i=Mxe(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,i)}finally{r.length>n?(r.splice(0,n),P.default.nextTick(function(){e.apply(null,i)})):delete L1[t]}})}function Mxe(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}});var a2=ee((hDe,RK)=>{x();RK.exports=Ml;var Txe=f9(),IK=t2(),cDe=IK.Minimatch,Oxe=pt(),Ixe=co().EventEmitter,w9=Ia(),x9=Mu(),D1=n2(),E9=_K(),Tl=g9(),Rxe=Tl.setopts,_9=Tl.ownProp,S9=OK(),lDe=Mr(),kxe=Tl.childrenIgnored,Cxe=Tl.isIgnored,Bxe=s2();function Ml(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return E9(t,e)}return new mr(t,e,r)}Ml.sync=E9;var Pxe=Ml.GlobSync=E9.GlobSync;Ml.glob=Ml;function Nxe(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}Ml.hasMagic=function(t,e){var r=Nxe({},e);r.noprocess=!0;var n=new mr(t,r),i=n.minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var a=0;a<i[0].length;a++)if(typeof i[0][a]!="string")return!0;return!1};Ml.Glob=mr;Oxe(mr,Ixe);function mr(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new Pxe(t,e)}if(!(this instanceof mr))return new mr(t,e,r);Rxe(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=Bxe(r),this.on("error",r),this.on("end",function(l){r(null,l)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return f();for(var a=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,f);a=!1;function f(){--i._processing,i._processing<=0&&(a?P.default.nextTick(function(){i._finish()}):i._finish())}}mr.prototype._finish=function(){if(x9(this instanceof mr),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Tl.finish(this),this.emit("end",this.found)}};mr.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--t===0&&e._finish()}};mr.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,a=n.length;if(a===0)return e();var s=this.matches[t]=Object.create(null);n.forEach(function(f,l){f=i._makeAbs(f),Txe.realpath(f,i.realpathCache,function(g,m){g?g.syscall==="stat"?s[f]=!0:i.emit("error",g):s[m]=!0,--a===0&&(i.matches[t]=s,e())})})};mr.prototype._mark=function(t){return Tl.mark(this,t)};mr.prototype._makeAbs=function(t){return Tl.makeAbs(this,t)};mr.prototype.abort=function(){this.aborted=!0,this.emit("abort")};mr.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};mr.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};mr.prototype._process=function(t,e,r,n){if(x9(this instanceof mr),x9(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,n]);return}for(var i=0;typeof t[i]=="string";)i++;var a;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:a=null;break;default:a=t.slice(0,i).join("/");break}var s=t.slice(i),f;a===null?f=".":((D1(a)||D1(t.map(function(m){return typeof m=="string"?m:"[*]"}).join("/")))&&(!a||!D1(a))&&(a="/"+a),f=a);var l=this._makeAbs(f);if(kxe(this,f))return n();var g=s[0]===IK.GLOBSTAR;g?this._processGlobStar(a,f,l,s,e,r,n):this._processReaddir(a,f,l,s,e,r,n)}};mr.prototype._processReaddir=function(t,e,r,n,i,a,s){var f=this;this._readdir(r,a,function(l,g){return f._processReaddir2(t,e,r,n,i,a,g,s)})};mr.prototype._processReaddir2=function(t,e,r,n,i,a,s,f){if(!s)return f();for(var l=n[0],g=!!this.minimatch.negate,m=l._glob,A=this.dot||m.charAt(0)===".",I=[],T=0;T<s.length;T++){var O=s[T];if(O.charAt(0)!=="."||A){var U;g&&!t?U=!O.match(l):U=O.match(l),U&&I.push(O)}}var Z=I.length;if(Z===0)return f();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var T=0;T<Z;T++){var O=I[T];t&&(t!=="/"?O=t+"/"+O:O=t+O),O.charAt(0)==="/"&&!this.nomount&&(O=w9.join(this.root,O)),this._emitMatch(i,O)}return f()}n.shift();for(var T=0;T<Z;T++){var O=I[T],Y;t&&(t!=="/"?O=t+"/"+O:O=t+O),this._process([O].concat(n),i,a,f)}f()};mr.prototype._emitMatch=function(t,e){if(!this.aborted&&!Cxe(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=D1(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}};mr.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,n=this,i=S9(r,a);i&&n.fs.lstat(t,i);function a(s,f){if(s&&s.code==="ENOENT")return e();var l=f&&f.isSymbolicLink();n.symlinks[t]=l,!l&&f&&!f.isDirectory()?(n.cache[t]="FILE",e()):n._readdir(t,!1,e)}};mr.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=S9("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!_9(this.symlinks,t))return this._readdirInGlobStar(t,r);if(_9(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(t,Lxe(this,t,r))}};function Lxe(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}mr.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}};mr.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};mr.prototype._processGlobStar=function(t,e,r,n,i,a,s){var f=this;this._readdir(r,a,function(l,g){f._processGlobStar2(t,e,r,n,i,a,g,s)})};mr.prototype._processGlobStar2=function(t,e,r,n,i,a,s,f){if(!s)return f();var l=n.slice(1),g=t?[t]:[],m=g.concat(l);this._process(m,i,!1,f);var A=this.symlinks[r],I=s.length;if(A&&a)return f();for(var T=0;T<I;T++){var O=s[T];if(!(O.charAt(0)==="."&&!this.dot)){var U=g.concat(s[T],l);this._process(U,i,!0,f);var Z=g.concat(s[T],n);this._process(Z,i,!0,f)}}f()};mr.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,a){n._processSimple2(t,e,i,a,r)})};mr.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&D1(t)&&!this.nomount){var a=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=w9.join(this.root,t):(t=w9.resolve(this.root,t),a&&(t+="/"))}P.default.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()};mr.prototype._stat=function(t,e){var r=this._makeAbs(t),n=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&_9(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var a,s=this.statCache[r];if(s!==void 0){if(s===!1)return e(null,s);var f=s.isDirectory()?"DIR":"FILE";return n&&f==="FILE"?e():e(null,f,s)}var l=this,g=S9("stat\0"+r,m);g&&l.fs.lstat(r,g);function m(A,I){if(I&&I.isSymbolicLink())return l.fs.stat(r,function(T,O){T?l._stat2(t,r,null,I,e):l._stat2(t,r,T,O,e)});l._stat2(t,r,A,I,e)}};mr.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,i();var a=t.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,a&&s==="FILE"?i():i(null,s,n)}});var PK=ee((pDe,BK)=>{x();var CK=h1(),sd=Ia(),A9=W7(),Dxe=J7(),qxe=r9(),Uxe=n9(),Fxe=a2(),Ol=BK.exports={},kK=/[\/\\]/g,jxe=function(t,e){var r=[];return A9(t).forEach(function(n){var i=n.indexOf("!")===0;i&&(n=n.slice(1));var a=e(n);i?r=Dxe(r,a):r=qxe(r,a)}),r};Ol.exists=function(){var t=sd.join.apply(sd,arguments);return CK.existsSync(t)};Ol.expand=function(...t){var e=Uxe(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(r.length===0)return[];var n=jxe(r,function(i){return Fxe.sync(i,e)});return e.filter&&(n=n.filter(function(i){i=sd.join(e.cwd||"",i);try{return typeof e.filter=="function"?e.filter(i):CK.statSync(i)[e.filter]()}catch{return!1}})),n};Ol.expandMapping=function(t,e,r){r=Object.assign({rename:function(a,s){return sd.join(a||"",s)}},r);var n=[],i={};return Ol.expand(r,t).forEach(function(a){var s=a;r.flatten&&(s=sd.basename(s)),r.ext&&(s=s.replace(/(\.[^\/]*)?$/,r.ext));var f=r.rename(e,s,r);r.cwd&&(a=sd.join(r.cwd,a)),f=f.replace(kK,"/"),a=a.replace(kK,"/"),i[f]?i[f].src.push(a):(n.push({src:[a],dest:f}),i[f]=n[n.length-1])}),n};Ol.normalizeFilesArray=function(t){var e=[];return t.forEach(function(r){var n;("src"in r||"dest"in r)&&e.push(r)}),e.length===0?[]:(e=_(e).chain().forEach(function(r){!("src"in r)||!r.src||(Array.isArray(r.src)?r.src=A9(r.src):r.src=[r.src])}).map(function(r){var n=Object.assign({},r);if(delete n.src,delete n.dest,r.expand)return Ol.expandMapping(r.src,r.dest,n).map(function(a){var s=Object.assign({},r);return s.orig=Object.assign({},r),s.src=a.src,s.dest=a.dest,["expand","cwd","flatten","rename","ext"].forEach(function(f){delete s[f]}),s});var i=Object.assign({},r);return i.orig=Object.assign({},r),"src"in i&&Object.defineProperty(i,"src",{enumerable:!0,get:function a(){var s;return"result"in a||(s=r.src,s=Array.isArray(s)?A9(s):[s],a.result=Ol.expand(n,s)),a.result}}),"dest"in i&&(i.dest=r.dest),i}).flatten().value(),e)}});var q1=ee((yDe,DK)=>{x();var M9=h1(),NK=Ia(),vDe=Mr(),zxe=b7(),LK=Px(),Kxe=E7(),Wxe=ps().Stream,Gxe=gz().PassThrough,ra=DK.exports={};ra.file=PK();ra.collectStream=function(t,e){var r=[],n=0;t.on("error",e),t.on("data",function(i){r.push(i),n+=i.length}),t.on("end",function(){var i=new N.Buffer(n),a=0;r.forEach(function(s){s.copy(i,a),a+=s.length}),e(null,i)})};ra.dateify=function(t){return t=t||new Date,t instanceof Date?t=t:typeof t=="string"?t=new Date(t):t=new Date,t};ra.defaults=function(t,e,r){var n=arguments;return n[0]=n[0]||{},Kxe(...n)};ra.isStream=function(t){return t instanceof Wxe};ra.lazyReadStream=function(t){return new zxe.Readable(function(){return M9.createReadStream(t)})};ra.normalizeInputSource=function(t){if(t===null)return new N.Buffer(0);if(typeof t=="string")return new N.Buffer(t);if(ra.isStream(t)&&!t._readableState){var e=new Gxe;return t.pipe(e),e}return t};ra.sanitizePath=function(t){return LK(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")};ra.trailingSlashIt=function(t){return t.slice(-1)!=="/"?t+"/":t};ra.unixifyPath=function(t){return LK(t,!1).replace(/^\w+:/,"")};ra.walkdir=function(t,e,r){var n=[];typeof e=="function"&&(r=e,e=t),M9.readdir(t,function(i,a){var s=0,f,l;if(i)return r(i);(function g(){if(f=a[s++],!f)return r(null,n);l=NK.join(t,f),M9.stat(l,function(m,A){n.push({path:l,relative:NK.relative(e,l).replace(/\\/g,"/"),stats:A}),A&&A.isDirectory()?ra.walkdir(l,e,function(I,T){T.forEach(function(O){n.push(O)}),g()}):g()})})()})}});var jK=ee((UK,FK)=>{x();var Hxe=Mr(),$xe={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function qK(t,e){Error.captureStackTrace(this,this.constructor),this.message=$xe[t]||t,this.code=t,this.data=e}Hxe.inherits(qK,Error);UK=FK.exports=qK});var oi=ee((Na,zK)=>{x();Na=zK.exports=Hw();Na.Stream=Na;Na.Readable=Na;Na.Writable=Kw();Na.Duplex=xu();Na.Transform=ex();Na.PassThrough=MS();Na.finished=Vg();Na.pipeline=OS()});var $K=ee((xDe,HK)=>{x();var I9=vu(),WK=fL(),KK=cL(),T9=Ia(),ys=q1(),Vxe=Mr().inherits,fn=jK(),GK=oi().Transform,O9=P.default.platform==="win32",cr=function(t,e){if(!(this instanceof cr))return new cr(t,e);typeof t!="string"&&(e=t,t="zip"),e=this.options=ys.defaults(e,{highWaterMark:1024*1024,statConcurrency:4}),GK.call(this,e),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=KK.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=KK.queue(this._onStatQueueTask.bind(this),e.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};Vxe(cr,GK);cr.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()};cr.prototype._append=function(t,e){e=e||{};var r={source:null,filepath:t};e.name||(e.name=t),e.sourcePath=t,r.data=e,this._entriesCount++,e.stats&&e.stats instanceof I9.Stats?(r=this._updateQueueTaskWithStats(r,e.stats),r&&(e.stats.size&&(this._fsEntriesTotalBytes+=e.stats.size),this._queue.push(r))):this._statQueue.push(r)};cr.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)};cr.prototype._maybeFinalize=function(){return this._state.finalizing||this._state.finalized||this._state.aborted?!1:this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()?(this._finalize(),!0):!1};cr.prototype._moduleAppend=function(t,e,r){if(this._state.aborted){r();return}this._module.append(t,e,function(n){if(this._task=null,this._state.aborted){this._shutdown();return}if(n){this.emit("error",n),setImmediate(r);return}this.emit("entry",e),this._entriesProcessedCount++,e.stats&&e.stats.size&&(this._fsEntriesProcessedBytes+=e.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(r)}.bind(this))};cr.prototype._moduleFinalize=function(){typeof this._module.finalize=="function"?this._module.finalize():typeof this._module.end=="function"?this._module.end():this.emit("error",new fn("NOENDMETHOD"))};cr.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0};cr.prototype._moduleSupports=function(t){return!this._module.supports||!this._module.supports[t]?!1:this._module.supports[t]};cr.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1};cr.prototype._normalizeEntryData=function(t,e){t=ys.defaults(t,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),e&&t.stats===!1&&(t.stats=e);var r=t.type==="directory";return t.name&&(typeof t.prefix=="string"&&t.prefix!==""&&(t.name=t.prefix+"/"+t.name,t.prefix=null),t.name=ys.sanitizePath(t.name),t.type!=="symlink"&&t.name.slice(-1)==="/"?(r=!0,t.type="directory"):r&&(t.name+="/")),typeof t.mode=="number"?O9?t.mode&=511:t.mode&=4095:t.stats&&t.mode===null?(O9?t.mode=t.stats.mode&511:t.mode=t.stats.mode&4095,O9&&r&&(t.mode=493)):t.mode===null&&(t.mode=r?493:420),t.stats&&t.date===null?t.date=t.stats.mtime:t.date=ys.dateify(t.date),t};cr.prototype._onModuleError=function(t){this.emit("error",t)};cr.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()};cr.prototype._onQueueTask=function(t,e){var r=()=>{t.data.callback&&t.data.callback(),e()};if(this._state.finalizing||this._state.finalized||this._state.aborted){r();return}this._task=t,this._moduleAppend(t.source,t.data,r)};cr.prototype._onStatQueueTask=function(t,e){if(this._state.finalizing||this._state.finalized||this._state.aborted){e();return}I9.lstat(t.filepath,function(r,n){if(this._state.aborted){setImmediate(e);return}if(r){this._entriesCount--,this.emit("warning",r),setImmediate(e);return}t=this._updateQueueTaskWithStats(t,n),t&&(n.size&&(this._fsEntriesTotalBytes+=n.size),this._queue.push(t)),setImmediate(e)}.bind(this))};cr.prototype._shutdown=function(){this._moduleUnpipe(),this.end()};cr.prototype._transform=function(t,e,r){t&&(this._pointer+=t.length),r(null,t)};cr.prototype._updateQueueTaskWithStats=function(t,e){if(e.isFile())t.data.type="file",t.data.sourceType="stream",t.source=ys.lazyReadStream(t.filepath);else if(e.isDirectory()&&this._moduleSupports("directory"))t.data.name=ys.trailingSlashIt(t.data.name),t.data.type="directory",t.data.sourcePath=ys.trailingSlashIt(t.filepath),t.data.sourceType="buffer",t.source=N.Buffer.concat([]);else if(e.isSymbolicLink()&&this._moduleSupports("symlink")){var r=I9.readlinkSync(t.filepath),n=T9.dirname(t.filepath);t.data.type="symlink",t.data.linkname=T9.relative(n,T9.resolve(n,r)),t.data.sourceType="buffer",t.source=N.Buffer.concat([])}else return e.isDirectory()?this.emit("warning",new fn("DIRECTORYNOTSUPPORTED",t.data)):e.isSymbolicLink()?this.emit("warning",new fn("SYMLINKNOTSUPPORTED",t.data)):this.emit("warning",new fn("ENTRYNOTSUPPORTED",t.data)),null;return t.data=this._normalizeEntryData(t.data,e),t};cr.prototype.abort=function(){return this._state.aborted||this._state.finalized?this:(this._abort(),this)};cr.prototype.append=function(t,e){if(this._state.finalize||this._state.aborted)return this.emit("error",new fn("QUEUECLOSED")),this;if(e=this._normalizeEntryData(e),typeof e.name!="string"||e.name.length===0)return this.emit("error",new fn("ENTRYNAMEREQUIRED")),this;if(e.type==="directory"&&!this._moduleSupports("directory"))return this.emit("error",new fn("DIRECTORYNOTSUPPORTED",{name:e.name})),this;if(t=ys.normalizeInputSource(t),N.Buffer.isBuffer(t))e.sourceType="buffer";else if(ys.isStream(t))e.sourceType="stream";else return this.emit("error",new fn("INPUTSTEAMBUFFERREQUIRED",{name:e.name})),this;return this._entriesCount++,this._queue.push({data:e,source:t}),this};cr.prototype.directory=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new fn("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new fn("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,e===!1?e="":typeof e!="string"&&(e=t);var n=!1;typeof r=="function"?(n=r,r={}):typeof r!="object"&&(r={});var i={stat:!0,dot:!0};function a(){this._pending--,this._maybeFinalize()}function s(g){this.emit("error",g)}function f(g){l.pause();var m=!1,A=Object.assign({},r);A.name=g.relative,A.prefix=e,A.stats=g.stat,A.callback=l.resume.bind(l);try{if(n){if(A=n(A),A===!1)m=!0;else if(typeof A!="object")throw new fn("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:t})}}catch(I){this.emit("error",I);return}if(m){l.resume();return}this._append(g.absolute,A)}var l=WK(t,i);return l.on("error",s.bind(this)),l.on("match",f.bind(this)),l.on("end",a.bind(this)),this};cr.prototype.file=function(t,e){return this._state.finalize||this._state.aborted?(this.emit("error",new fn("QUEUECLOSED")),this):typeof t!="string"||t.length===0?(this.emit("error",new fn("FILEFILEPATHREQUIRED")),this):(this._append(t,e),this)};cr.prototype.glob=function(t,e,r){this._pending++,e=ys.defaults(e,{stat:!0,pattern:t});function n(){this._pending--,this._maybeFinalize()}function i(f){this.emit("error",f)}function a(f){s.pause();var l=Object.assign({},r);l.callback=s.resume.bind(s),l.stats=f.stat,l.name=f.relative,this._append(f.absolute,l)}var s=WK(e.cwd||".",e);return s.on("error",i.bind(this)),s.on("match",a.bind(this)),s.on("end",n.bind(this)),this};cr.prototype.finalize=function(){if(this._state.aborted){var t=new fn("ABORTED");return this.emit("error",t),Promise.reject(t)}if(this._state.finalize){var e=new fn("FINALIZING");return this.emit("error",e),Promise.reject(e)}this._state.finalize=!0,this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var r=this;return new Promise(function(n,i){var a;r._module.on("end",function(){a||n()}),r._module.on("error",function(s){a=!0,i(s)})})};cr.prototype.setFormat=function(t){return this._format?(this.emit("error",new fn("FORMATSET")),this):(this._format=t,this)};cr.prototype.setModule=function(t){return this._state.aborted?(this.emit("error",new fn("ABORTED")),this):this._state.module?(this.emit("error",new fn("MODULESET")),this):(this._module=t,this._modulePipe(),this)};cr.prototype.symlink=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new fn("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new fn("SYMLINKFILEPATHREQUIRED")),this;if(typeof e!="string"||e.length===0)return this.emit("error",new fn("SYMLINKTARGETREQUIRED",{filepath:t})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new fn("SYMLINKNOTSUPPORTED",{filepath:t})),this;var n={};return n.type="symlink",n.name=t.replace(/\\/g,"/"),n.linkname=e.replace(/\\/g,"/"),n.sourceType="buffer",typeof r=="number"&&(n.mode=r),this._entriesCount++,this._queue.push({data:n,source:N.Buffer.concat([])}),this};cr.prototype.pointer=function(){return this._pointer};cr.prototype.use=function(t){return this._streams.push(t),this};HK.exports=cr});var u2=ee((EDe,VK)=>{x();var f2=VK.exports=function(){};f2.prototype.getName=function(){};f2.prototype.getSize=function(){};f2.prototype.getLastModifiedDate=function(){};f2.prototype.isDirectory=function(){}});var c2=ee((ADe,ZK)=>{x();var La=ZK.exports={};La.dateToDos=function(t,e){e=e||!1;var r=e?t.getFullYear():t.getUTCFullYear();if(r<1980)return 2162688;if(r>=2044)return 2141175677;var n={year:r,month:e?t.getMonth():t.getUTCMonth(),date:e?t.getDate():t.getUTCDate(),hours:e?t.getHours():t.getUTCHours(),minutes:e?t.getMinutes():t.getUTCMinutes(),seconds:e?t.getSeconds():t.getUTCSeconds()};return n.year-1980<<25|n.month+1<<21|n.date<<16|n.hours<<11|n.minutes<<5|n.seconds/2};La.dosToDate=function(t){return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(t&31)<<1)};La.fromDosTime=function(t){return La.dosToDate(t.readUInt32LE(0))};La.getEightBytes=function(t){var e=N.Buffer.alloc(8);return e.writeUInt32LE(t%4294967296,0),e.writeUInt32LE(t/4294967296|0,4),e};La.getShortBytes=function(t){var e=N.Buffer.alloc(2);return e.writeUInt16LE((t&65535)>>>0,0),e};La.getShortBytesValue=function(t,e){return t.readUInt16LE(e)};La.getLongBytes=function(t){var e=N.Buffer.alloc(4);return e.writeUInt32LE((t&4294967295)>>>0,0),e};La.getLongBytesValue=function(t,e){return t.readUInt32LE(e)};La.toDosTime=function(t){return La.getLongBytes(La.dateToDos(t))}});var R9=ee((TDe,tW)=>{x();var JK=c2(),YK=1<<3,XK=1<<0,Zxe=1<<2,Jxe=1<<1,QK=1<<6,eW=1<<11,Xn=tW.exports=function(){return this instanceof Xn?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new Xn};Xn.prototype.encode=function(){return JK.getShortBytes((this.descriptor?YK:0)|(this.utf8?eW:0)|(this.encryption?XK:0)|(this.strongEncryption?QK:0))};Xn.prototype.parse=function(t,e){var r=JK.getShortBytesValue(t,e),n=new Xn;return n.useDataDescriptor((r&YK)!==0),n.useUTF8ForNames((r&eW)!==0),n.useStrongEncryption((r&QK)!==0),n.useEncryption((r&XK)!==0),n.setSlidingDictionarySize((r&Jxe)!==0?8192:4096),n.setNumberOfShannonFanoTrees((r&Zxe)!==0?3:2),n};Xn.prototype.setNumberOfShannonFanoTrees=function(t){this.numberOfShannonFanoTrees=t};Xn.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees};Xn.prototype.setSlidingDictionarySize=function(t){this.slidingDictionarySize=t};Xn.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize};Xn.prototype.useDataDescriptor=function(t){this.descriptor=t};Xn.prototype.usesDataDescriptor=function(){return this.descriptor};Xn.prototype.useEncryption=function(t){this.encryption=t};Xn.prototype.usesEncryption=function(){return this.encryption};Xn.prototype.useStrongEncryption=function(t){this.strongEncryption=t};Xn.prototype.usesStrongEncryption=function(){return this.strongEncryption};Xn.prototype.useUTF8ForNames=function(t){this.utf8=t};Xn.prototype.usesUTF8ForNames=function(){return this.utf8}});var nW=ee((IDe,rW)=>{x();rW.exports={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420}});var k9=ee((kDe,iW)=>{x();iW.exports={WORD:4,DWORD:8,EMPTY:N.Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:N.Buffer.from(Array(2)),LONG:4,LONG_ZERO:N.Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1}});var C9=ee((BDe,uW)=>{x();var Yxe=Mr().inherits,Xxe=Px(),oW=u2(),sW=R9(),aW=nW(),_i=k9(),fW=c2(),Dt=uW.exports=function(t){if(!(this instanceof Dt))return new Dt(t);oW.call(this),this.platform=_i.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new sW,this.crc=0,this.time=-1,this.minver=_i.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,t&&this.setName(t)};Yxe(Dt,oW);Dt.prototype.getCentralDirectoryExtra=function(){return this.getExtra()};Dt.prototype.getComment=function(){return this.comment!==null?this.comment:""};Dt.prototype.getCompressedSize=function(){return this.csize};Dt.prototype.getCrc=function(){return this.crc};Dt.prototype.getExternalAttributes=function(){return this.exattr};Dt.prototype.getExtra=function(){return this.extra!==null?this.extra:_i.EMPTY};Dt.prototype.getGeneralPurposeBit=function(){return this.gpb};Dt.prototype.getInternalAttributes=function(){return this.inattr};Dt.prototype.getLastModifiedDate=function(){return this.getTime()};Dt.prototype.getLocalFileDataExtra=function(){return this.getExtra()};Dt.prototype.getMethod=function(){return this.method};Dt.prototype.getName=function(){return this.name};Dt.prototype.getPlatform=function(){return this.platform};Dt.prototype.getSize=function(){return this.size};Dt.prototype.getTime=function(){return this.time!==-1?fW.dosToDate(this.time):-1};Dt.prototype.getTimeDos=function(){return this.time!==-1?this.time:0};Dt.prototype.getUnixMode=function(){return this.platform!==_i.PLATFORM_UNIX?0:this.getExternalAttributes()>>_i.SHORT_SHIFT&_i.SHORT_MASK};Dt.prototype.getVersionNeededToExtract=function(){return this.minver};Dt.prototype.setComment=function(t){N.Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=t};Dt.prototype.setCompressedSize=function(t){if(t<0)throw new Error("invalid entry compressed size");this.csize=t};Dt.prototype.setCrc=function(t){if(t<0)throw new Error("invalid entry crc32");this.crc=t};Dt.prototype.setExternalAttributes=function(t){this.exattr=t>>>0};Dt.prototype.setExtra=function(t){this.extra=t};Dt.prototype.setGeneralPurposeBit=function(t){if(!(t instanceof sW))throw new Error("invalid entry GeneralPurposeBit");this.gpb=t};Dt.prototype.setInternalAttributes=function(t){this.inattr=t};Dt.prototype.setMethod=function(t){if(t<0)throw new Error("invalid entry compression method");this.method=t};Dt.prototype.setName=function(t,e=!1){t=Xxe(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),e&&(t=`/${t}`),N.Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=t};Dt.prototype.setPlatform=function(t){this.platform=t};Dt.prototype.setSize=function(t){if(t<0)throw new Error("invalid entry size");this.size=t};Dt.prototype.setTime=function(t,e){if(!(t instanceof Date))throw new Error("invalid entry time");this.time=fW.dateToDos(t,e)};Dt.prototype.setUnixMode=function(t){t|=this.isDirectory()?_i.S_IFDIR:_i.S_IFREG;var e=0;e|=t<<_i.SHORT_SHIFT|(this.isDirectory()?_i.S_DOS_D:_i.S_DOS_A),this.setExternalAttributes(e),this.mode=t&_i.MODE_MASK,this.platform=_i.PLATFORM_UNIX};Dt.prototype.setVersionNeededToExtract=function(t){this.minver=t};Dt.prototype.isDirectory=function(){return this.getName().slice(-1)==="/"};Dt.prototype.isUnixSymlink=function(){return(this.getUnixMode()&aW.FILE_TYPE_FLAG)===aW.LINK_FLAG};Dt.prototype.isZip64=function(){return this.csize>_i.ZIP64_MAGIC||this.size>_i.ZIP64_MAGIC}});var P9=ee((NDe,cW)=>{x();var Qxe=ps().Stream,e2e=oi().PassThrough,B9=cW.exports={};B9.isStream=function(t){return t instanceof Qxe};B9.normalizeInputSource=function(t){if(t===null)return N.Buffer.alloc(0);if(typeof t=="string")return N.Buffer.from(t);if(B9.isStream(t)&&!t._readableState){var e=new e2e;return t.pipe(e),e}return t}});var L9=ee((DDe,hW)=>{x();var t2e=Mr().inherits,N9=oi().Transform,r2e=u2(),lW=P9(),na=hW.exports=function(t){if(!(this instanceof na))return new na(t);N9.call(this,t),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};t2e(na,N9);na.prototype._appendBuffer=function(t,e,r){};na.prototype._appendStream=function(t,e,r){};na.prototype._emitErrorCallback=function(t){t&&this.emit("error",t)};na.prototype._finish=function(t){};na.prototype._normalizeEntry=function(t){};na.prototype._transform=function(t,e,r){r(null,t)};na.prototype.entry=function(t,e,r){if(e=e||null,typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),!(t instanceof r2e)){r(new Error("not a valid instance of ArchiveEntry"));return}if(this._archive.finish||this._archive.finished){r(new Error("unacceptable entry after finish"));return}if(this._archive.processing){r(new Error("already processing an entry"));return}if(this._archive.processing=!0,this._normalizeEntry(t),this._entry=t,e=lW.normalizeInputSource(e),N.Buffer.isBuffer(e))this._appendBuffer(t,e,r);else if(lW.isStream(e))this._appendStream(t,e,r);else{this._archive.processing=!1,r(new Error("input source must be valid Stream or Buffer instance"));return}return this};na.prototype.finish=function(){if(this._archive.processing){this._archive.finish=!0;return}this._finish()};na.prototype.getBytesWritten=function(){return this.offset};na.prototype.write=function(t,e){return t&&(this.offset+=t.length),N9.prototype.write.call(this,t,e)}});var F9=ee((UDe,pW)=>{x();var Nu=Sr().Buffer,D9=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(D9=new Int32Array(D9));function dW(t){if(Nu.isBuffer(t))return t;var e=typeof Nu.alloc=="function"&&typeof Nu.from=="function";if(typeof t=="number")return e?Nu.alloc(t):new Nu(t);if(typeof t=="string")return e?Nu.from(t):new Nu(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function n2e(t){var e=dW(4);return e.writeInt32BE(t,0),e}function q9(t,e){t=dW(t),Nu.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,n=0;n<t.length;n++)r=D9[(r^t[n])&255]^r>>>8;return r^-1}function U9(){return n2e(q9.apply(null,arguments))}U9.signed=function(){return q9.apply(null,arguments)};U9.unsigned=function(){return q9.apply(null,arguments)>>>0};pW.exports=U9});var z9=ee(j9=>{x();var gW;(function(t){typeof DO_NOT_EXPORT_CRC>"u"?typeof j9=="object"?t(j9):typeof define=="function"&&define.amd?define(function(){var e={};return t(e),e}):t(gW={}):t(gW={})})(function(t){t.version="1.2.2";function e(){for(var de=0,G=new Array(256),L=0;L!=256;++L)de=L,de=de&1?-306674912^de>>>1:de>>>1,de=de&1?-306674912^de>>>1:de>>>1,de=de&1?-306674912^de>>>1:de>>>1,de=de&1?-306674912^de>>>1:de>>>1,de=de&1?-306674912^de>>>1:de>>>1,de=de&1?-306674912^de>>>1:de>>>1,de=de&1?-306674912^de>>>1:de>>>1,de=de&1?-306674912^de>>>1:de>>>1,G[L]=de;return typeof Int32Array<"u"?new Int32Array(G):G}var r=e();function n(de){var G=0,L=0,q=0,S=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(q=0;q!=256;++q)S[q]=de[q];for(q=0;q!=256;++q)for(L=de[q],G=256+q;G<4096;G+=256)L=S[G]=L>>>8^de[L&255];var B=[];for(q=1;q!=16;++q)B[q-1]=typeof Int32Array<"u"?S.subarray(q*256,q*256+256):S.slice(q*256,q*256+256);return B}var i=n(r),a=i[0],s=i[1],f=i[2],l=i[3],g=i[4],m=i[5],A=i[6],I=i[7],T=i[8],O=i[9],U=i[10],Z=i[11],Y=i[12],re=i[13],pe=i[14];function he(de,G){for(var L=G^-1,q=0,S=de.length;q<S;)L=L>>>8^r[(L^de.charCodeAt(q++))&255];return~L}function se(de,G){for(var L=G^-1,q=de.length-15,S=0;S<q;)L=pe[de[S++]^L&255]^re[de[S++]^L>>8&255]^Y[de[S++]^L>>16&255]^Z[de[S++]^L>>>24]^U[de[S++]]^O[de[S++]]^T[de[S++]]^I[de[S++]]^A[de[S++]]^m[de[S++]]^g[de[S++]]^l[de[S++]]^f[de[S++]]^s[de[S++]]^a[de[S++]]^r[de[S++]];for(q+=15;S<q;)L=L>>>8^r[(L^de[S++])&255];return~L}function fe(de,G){for(var L=G^-1,q=0,S=de.length,B=0,y=0;q<S;)B=de.charCodeAt(q++),B<128?L=L>>>8^r[(L^B)&255]:B<2048?(L=L>>>8^r[(L^(192|B>>6&31))&255],L=L>>>8^r[(L^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,y=de.charCodeAt(q++)&1023,L=L>>>8^r[(L^(240|B>>8&7))&255],L=L>>>8^r[(L^(128|B>>2&63))&255],L=L>>>8^r[(L^(128|y>>6&15|(B&3)<<4))&255],L=L>>>8^r[(L^(128|y&63))&255]):(L=L>>>8^r[(L^(224|B>>12&15))&255],L=L>>>8^r[(L^(128|B>>6&63))&255],L=L>>>8^r[(L^(128|B&63))&255]);return~L}t.table=r,t.bstr=he,t.buf=se,t.str=fe})});var yW=ee((KDe,vW)=>{"use strict";x();var{Transform:i2e}=oi(),a2e=z9(),K9=class extends i2e{constructor(e){super(e),this.checksum=N.Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(e,r,n){e&&(this.checksum=a2e.buf(e,this.checksum)>>>0,this.rawSize+=e.length),n(null,e)}digest(e){let r=N.Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};vW.exports=K9});var bW=ee((GDe,mW)=>{"use strict";x();function o2e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}mW.exports=o2e});var U1=ee(Ei=>{"use strict";x();var s2e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function f2e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}Ei.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(!!r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var n in r)f2e(r,n)&&(t[n]=r[n])}}return t};Ei.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var u2e={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray){t.set(e.subarray(r,r+n),i);return}for(var a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){var e,r,n,i,a,s;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(s=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)a=t[e],s.set(a,i),i+=a.length;return s}},c2e={arraySet:function(t,e,r,n,i){for(var a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}};Ei.setTyped=function(t){t?(Ei.Buf8=Uint8Array,Ei.Buf16=Uint16Array,Ei.Buf32=Int32Array,Ei.assign(Ei,u2e)):(Ei.Buf8=Array,Ei.Buf16=Array,Ei.Buf32=Array,Ei.assign(Ei,c2e))};Ei.setTyped(s2e)});var zW=ee(cd=>{"use strict";x();var l2e=U1(),h2e=4,wW=0,xW=1,d2e=2;function ud(t){for(var e=t.length;--e>=0;)t[e]=0}var p2e=0,TW=1,g2e=2,v2e=3,y2e=258,J9=29,G1=256,j1=G1+1+J9,fd=30,Y9=19,OW=2*j1+1,Il=15,W9=16,m2e=7,X9=256,IW=16,RW=17,kW=18,V9=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],l2=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],b2e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],CW=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],w2e=512,mf=new Array((j1+2)*2);ud(mf);var F1=new Array(fd*2);ud(F1);var z1=new Array(w2e);ud(z1);var K1=new Array(y2e-v2e+1);ud(K1);var Q9=new Array(J9);ud(Q9);var h2=new Array(fd);ud(h2);function G9(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}var BW,PW,NW;function H9(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function LW(t){return t<256?z1[t]:z1[256+(t>>>7)]}function W1(t,e){t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255}function Li(t,e,r){t.bi_valid>W9-r?(t.bi_buf|=e<<t.bi_valid&65535,W1(t,t.bi_buf),t.bi_buf=e>>W9-t.bi_valid,t.bi_valid+=r-W9):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function ms(t,e,r){Li(t,r[e*2],r[e*2+1])}function DW(t,e){var r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1}function x2e(t){t.bi_valid===16?(W1(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)}function _2e(t,e){var r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,a=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,l=e.stat_desc.max_length,g,m,A,I,T,O,U=0;for(I=0;I<=Il;I++)t.bl_count[I]=0;for(r[t.heap[t.heap_max]*2+1]=0,g=t.heap_max+1;g<OW;g++)m=t.heap[g],I=r[r[m*2+1]*2+1]+1,I>l&&(I=l,U++),r[m*2+1]=I,!(m>n)&&(t.bl_count[I]++,T=0,m>=f&&(T=s[m-f]),O=r[m*2],t.opt_len+=O*(I+T),a&&(t.static_len+=O*(i[m*2+1]+T)));if(U!==0){do{for(I=l-1;t.bl_count[I]===0;)I--;t.bl_count[I]--,t.bl_count[I+1]+=2,t.bl_count[l]--,U-=2}while(U>0);for(I=l;I!==0;I--)for(m=t.bl_count[I];m!==0;)A=t.heap[--g],!(A>n)&&(r[A*2+1]!==I&&(t.opt_len+=(I-r[A*2+1])*r[A*2],r[A*2+1]=I),m--)}}function qW(t,e,r){var n=new Array(Il+1),i=0,a,s;for(a=1;a<=Il;a++)n[a]=i=i+r[a-1]<<1;for(s=0;s<=e;s++){var f=t[s*2+1];f!==0&&(t[s*2]=DW(n[f]++,f))}}function E2e(){var t,e,r,n,i,a=new Array(Il+1);for(r=0,n=0;n<J9-1;n++)for(Q9[n]=r,t=0;t<1<<V9[n];t++)K1[r++]=n;for(K1[r-1]=n,i=0,n=0;n<16;n++)for(h2[n]=i,t=0;t<1<<l2[n];t++)z1[i++]=n;for(i>>=7;n<fd;n++)for(h2[n]=i<<7,t=0;t<1<<l2[n]-7;t++)z1[256+i++]=n;for(e=0;e<=Il;e++)a[e]=0;for(t=0;t<=143;)mf[t*2+1]=8,t++,a[8]++;for(;t<=255;)mf[t*2+1]=9,t++,a[9]++;for(;t<=279;)mf[t*2+1]=7,t++,a[7]++;for(;t<=287;)mf[t*2+1]=8,t++,a[8]++;for(qW(mf,j1+1,a),t=0;t<fd;t++)F1[t*2+1]=5,F1[t*2]=DW(t,5);BW=new G9(mf,V9,G1+1,j1,Il),PW=new G9(F1,l2,0,fd,Il),NW=new G9(new Array(0),b2e,0,Y9,m2e)}function UW(t){var e;for(e=0;e<j1;e++)t.dyn_ltree[e*2]=0;for(e=0;e<fd;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Y9;e++)t.bl_tree[e*2]=0;t.dyn_ltree[X9*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function FW(t){t.bi_valid>8?W1(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function S2e(t,e,r,n){FW(t),n&&(W1(t,r),W1(t,~r)),l2e.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function _W(t,e,r,n){var i=e*2,a=r*2;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]}function $9(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&_W(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!_W(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function EW(t,e,r){var n,i,a=0,s,f;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+a*2]<<8|t.pending_buf[t.d_buf+a*2+1],i=t.pending_buf[t.l_buf+a],a++,n===0?ms(t,i,e):(s=K1[i],ms(t,s+G1+1,e),f=V9[s],f!==0&&(i-=Q9[s],Li(t,i,f)),n--,s=LW(n),ms(t,s,r),f=l2[s],f!==0&&(n-=h2[s],Li(t,n,f)));while(a<t.last_lit);ms(t,X9,e)}function Z9(t,e){var r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,a=e.stat_desc.elems,s,f,l=-1,g;for(t.heap_len=0,t.heap_max=OW,s=0;s<a;s++)r[s*2]!==0?(t.heap[++t.heap_len]=l=s,t.depth[s]=0):r[s*2+1]=0;for(;t.heap_len<2;)g=t.heap[++t.heap_len]=l<2?++l:0,r[g*2]=1,t.depth[g]=0,t.opt_len--,i&&(t.static_len-=n[g*2+1]);for(e.max_code=l,s=t.heap_len>>1;s>=1;s--)$9(t,r,s);g=a;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],$9(t,r,1),f=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=f,r[g*2]=r[s*2]+r[f*2],t.depth[g]=(t.depth[s]>=t.depth[f]?t.depth[s]:t.depth[f])+1,r[s*2+1]=r[f*2+1]=g,t.heap[1]=g++,$9(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],_2e(t,e),qW(r,l,t.bl_count)}function SW(t,e,r){var n,i=-1,a,s=e[0*2+1],f=0,l=7,g=4;for(s===0&&(l=138,g=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)a=s,s=e[(n+1)*2+1],!(++f<l&&a===s)&&(f<g?t.bl_tree[a*2]+=f:a!==0?(a!==i&&t.bl_tree[a*2]++,t.bl_tree[IW*2]++):f<=10?t.bl_tree[RW*2]++:t.bl_tree[kW*2]++,f=0,i=a,s===0?(l=138,g=3):a===s?(l=6,g=3):(l=7,g=4))}function AW(t,e,r){var n,i=-1,a,s=e[0*2+1],f=0,l=7,g=4;for(s===0&&(l=138,g=3),n=0;n<=r;n++)if(a=s,s=e[(n+1)*2+1],!(++f<l&&a===s)){if(f<g)do ms(t,a,t.bl_tree);while(--f!==0);else a!==0?(a!==i&&(ms(t,a,t.bl_tree),f--),ms(t,IW,t.bl_tree),Li(t,f-3,2)):f<=10?(ms(t,RW,t.bl_tree),Li(t,f-3,3)):(ms(t,kW,t.bl_tree),Li(t,f-11,7));f=0,i=a,s===0?(l=138,g=3):a===s?(l=6,g=3):(l=7,g=4)}}function A2e(t){var e;for(SW(t,t.dyn_ltree,t.l_desc.max_code),SW(t,t.dyn_dtree,t.d_desc.max_code),Z9(t,t.bl_desc),e=Y9-1;e>=3&&t.bl_tree[CW[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e}function M2e(t,e,r,n){var i;for(Li(t,e-257,5),Li(t,r-1,5),Li(t,n-4,4),i=0;i<n;i++)Li(t,t.bl_tree[CW[i]*2+1],3);AW(t,t.dyn_ltree,e-1),AW(t,t.dyn_dtree,r-1)}function T2e(t){var e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return wW;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return xW;for(r=32;r<G1;r++)if(t.dyn_ltree[r*2]!==0)return xW;return wW}var MW=!1;function O2e(t){MW||(E2e(),MW=!0),t.l_desc=new H9(t.dyn_ltree,BW),t.d_desc=new H9(t.dyn_dtree,PW),t.bl_desc=new H9(t.bl_tree,NW),t.bi_buf=0,t.bi_valid=0,UW(t)}function jW(t,e,r,n){Li(t,(p2e<<1)+(n?1:0),3),S2e(t,e,r,!0)}function I2e(t){Li(t,TW<<1,3),ms(t,X9,mf),x2e(t)}function R2e(t,e,r,n){var i,a,s=0;t.level>0?(t.strm.data_type===d2e&&(t.strm.data_type=T2e(t)),Z9(t,t.l_desc),Z9(t,t.d_desc),s=A2e(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&e!==-1?jW(t,e,r,n):t.strategy===h2e||a===i?(Li(t,(TW<<1)+(n?1:0),3),EW(t,mf,F1)):(Li(t,(g2e<<1)+(n?1:0),3),M2e(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),EW(t,t.dyn_ltree,t.dyn_dtree)),UW(t),n&&FW(t)}function k2e(t,e,r){return t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=r&255,t.last_lit++,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(K1[r]+G1+1)*2]++,t.dyn_dtree[LW(e)*2]++),t.last_lit===t.lit_bufsize-1}cd._tr_init=O2e;cd._tr_stored_block=jW;cd._tr_flush_block=R2e;cd._tr_tally=k2e;cd._tr_align=I2e});var eA=ee((YDe,KW)=>{"use strict";x();function C2e(t,e,r,n){for(var i=t&65535|0,a=t>>>16&65535|0,s=0;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0}KW.exports=C2e});var tA=ee((QDe,WW)=>{"use strict";x();function B2e(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e}var P2e=B2e();function N2e(t,e,r,n){var i=P2e,a=n+r;t^=-1;for(var s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1}WW.exports=N2e});var HW=ee((tqe,GW)=>{"use strict";x();GW.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var tG=ee(xs=>{"use strict";x();var Si=U1(),Da=zW(),JW=eA(),Lu=tA(),L2e=HW(),Bl=0,D2e=1,q2e=3,ju=4,$W=5,ws=0,VW=1,qa=-2,U2e=-3,rA=-5,F2e=-1,j2e=1,d2=2,z2e=3,K2e=4,W2e=0,G2e=2,y2=8,H2e=9,$2e=15,V2e=8,Z2e=29,J2e=256,iA=J2e+1+Z2e,Y2e=30,X2e=19,Q2e=2*iA+1,e_e=15,$t=3,Uu=258,Ao=Uu+$t+1,t_e=32,m2=42,aA=69,p2=73,g2=91,v2=103,Rl=113,$1=666,Sn=1,V1=2,kl=3,dd=4,r_e=3;function Fu(t,e){return t.msg=L2e[e],e}function ZW(t){return(t<<1)-(t>4?9:0)}function qu(t){for(var e=t.length;--e>=0;)t[e]=0}function Du(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(Si.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))}function Qn(t,e){Da._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Du(t.strm)}function lr(t,e){t.pending_buf[t.pending++]=e}function H1(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255}function n_e(t,e,r,n){var i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,Si.arraySet(e,t.input,t.next_in,i,r),t.state.wrap===1?t.adler=JW(t.adler,e,i,r):t.state.wrap===2&&(t.adler=Lu(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function YW(t,e){var r=t.max_chain_length,n=t.strstart,i,a,s=t.prev_length,f=t.nice_match,l=t.strstart>t.w_size-Ao?t.strstart-(t.w_size-Ao):0,g=t.window,m=t.w_mask,A=t.prev,I=t.strstart+Uu,T=g[n+s-1],O=g[n+s];t.prev_length>=t.good_match&&(r>>=2),f>t.lookahead&&(f=t.lookahead);do if(i=e,!(g[i+s]!==O||g[i+s-1]!==T||g[i]!==g[n]||g[++i]!==g[n+1])){n+=2,i++;do;while(g[++n]===g[++i]&&g[++n]===g[++i]&&g[++n]===g[++i]&&g[++n]===g[++i]&&g[++n]===g[++i]&&g[++n]===g[++i]&&g[++n]===g[++i]&&g[++n]===g[++i]&&n<I);if(a=Uu-(I-n),n=I-Uu,a>s){if(t.match_start=e,s=a,a>=f)break;T=g[n+s-1],O=g[n+s]}}while((e=A[e&m])>l&&--r!==0);return s<=t.lookahead?s:t.lookahead}function Cl(t){var e=t.w_size,r,n,i,a,s;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Ao)){Si.arraySet(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do i=t.head[--r],t.head[r]=i>=e?i-e:0;while(--n);n=e,r=n;do i=t.prev[--r],t.prev[r]=i>=e?i-e:0;while(--n);a+=e}if(t.strm.avail_in===0)break;if(n=n_e(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=n,t.lookahead+t.insert>=$t)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+$t-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<$t)););}while(t.lookahead<Ao&&t.strm.avail_in!==0)}function i_e(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Cl(t),t.lookahead===0&&e===Bl)return Sn;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Qn(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Ao&&(Qn(t,!1),t.strm.avail_out===0))return Sn}return t.insert=0,e===ju?(Qn(t,!0),t.strm.avail_out===0?kl:dd):(t.strstart>t.block_start&&(Qn(t,!1),t.strm.avail_out===0),Sn)}function nA(t,e){for(var r,n;;){if(t.lookahead<Ao){if(Cl(t),t.lookahead<Ao&&e===Bl)return Sn;if(t.lookahead===0)break}if(r=0,t.lookahead>=$t&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+$t-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-Ao&&(t.match_length=YW(t,r)),t.match_length>=$t)if(n=Da._tr_tally(t,t.strstart-t.match_start,t.match_length-$t),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=$t){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+$t-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=Da._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Qn(t,!1),t.strm.avail_out===0))return Sn}return t.insert=t.strstart<$t-1?t.strstart:$t-1,e===ju?(Qn(t,!0),t.strm.avail_out===0?kl:dd):t.last_lit&&(Qn(t,!1),t.strm.avail_out===0)?Sn:V1}function ld(t,e){for(var r,n,i;;){if(t.lookahead<Ao){if(Cl(t),t.lookahead<Ao&&e===Bl)return Sn;if(t.lookahead===0)break}if(r=0,t.lookahead>=$t&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+$t-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=$t-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Ao&&(t.match_length=YW(t,r),t.match_length<=5&&(t.strategy===j2e||t.match_length===$t&&t.strstart-t.match_start>4096)&&(t.match_length=$t-1)),t.prev_length>=$t&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-$t,n=Da._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-$t),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+$t-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=$t-1,t.strstart++,n&&(Qn(t,!1),t.strm.avail_out===0))return Sn}else if(t.match_available){if(n=Da._tr_tally(t,0,t.window[t.strstart-1]),n&&Qn(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Sn}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Da._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<$t-1?t.strstart:$t-1,e===ju?(Qn(t,!0),t.strm.avail_out===0?kl:dd):t.last_lit&&(Qn(t,!1),t.strm.avail_out===0)?Sn:V1}function a_e(t,e){for(var r,n,i,a,s=t.window;;){if(t.lookahead<=Uu){if(Cl(t),t.lookahead<=Uu&&e===Bl)return Sn;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=$t&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=t.strstart+Uu;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);t.match_length=Uu-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=$t?(r=Da._tr_tally(t,1,t.match_length-$t),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Da._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Qn(t,!1),t.strm.avail_out===0))return Sn}return t.insert=0,e===ju?(Qn(t,!0),t.strm.avail_out===0?kl:dd):t.last_lit&&(Qn(t,!1),t.strm.avail_out===0)?Sn:V1}function o_e(t,e){for(var r;;){if(t.lookahead===0&&(Cl(t),t.lookahead===0)){if(e===Bl)return Sn;break}if(t.match_length=0,r=Da._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Qn(t,!1),t.strm.avail_out===0))return Sn}return t.insert=0,e===ju?(Qn(t,!0),t.strm.avail_out===0?kl:dd):t.last_lit&&(Qn(t,!1),t.strm.avail_out===0)?Sn:V1}function bs(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}var hd;hd=[new bs(0,0,0,0,i_e),new bs(4,4,8,4,nA),new bs(4,5,16,8,nA),new bs(4,6,32,32,nA),new bs(4,4,16,16,ld),new bs(8,16,32,32,ld),new bs(8,16,128,128,ld),new bs(8,32,128,256,ld),new bs(32,128,258,1024,ld),new bs(32,258,258,4096,ld)];function s_e(t){t.window_size=2*t.w_size,qu(t.head),t.max_lazy_match=hd[t.level].max_lazy,t.good_match=hd[t.level].good_length,t.nice_match=hd[t.level].nice_length,t.max_chain_length=hd[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=$t-1,t.match_available=0,t.ins_h=0}function f_e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Si.Buf16(Q2e*2),this.dyn_dtree=new Si.Buf16((2*Y2e+1)*2),this.bl_tree=new Si.Buf16((2*X2e+1)*2),qu(this.dyn_ltree),qu(this.dyn_dtree),qu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Si.Buf16(e_e+1),this.heap=new Si.Buf16(2*iA+1),qu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Si.Buf16(2*iA+1),qu(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function XW(t){var e;return!t||!t.state?Fu(t,qa):(t.total_in=t.total_out=0,t.data_type=G2e,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?m2:Rl,t.adler=e.wrap===2?0:1,e.last_flush=Bl,Da._tr_init(e),ws)}function QW(t){var e=XW(t);return e===ws&&s_e(t.state),e}function u_e(t,e){return!t||!t.state||t.state.wrap!==2?qa:(t.state.gzhead=e,ws)}function eG(t,e,r,n,i,a){if(!t)return qa;var s=1;if(e===F2e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>H2e||r!==y2||n<8||n>15||e<0||e>9||a<0||a>K2e)return Fu(t,qa);n===8&&(n=9);var f=new f_e;return t.state=f,f.strm=t,f.wrap=s,f.gzhead=null,f.w_bits=n,f.w_size=1<<f.w_bits,f.w_mask=f.w_size-1,f.hash_bits=i+7,f.hash_size=1<<f.hash_bits,f.hash_mask=f.hash_size-1,f.hash_shift=~~((f.hash_bits+$t-1)/$t),f.window=new Si.Buf8(f.w_size*2),f.head=new Si.Buf16(f.hash_size),f.prev=new Si.Buf16(f.w_size),f.lit_bufsize=1<<i+6,f.pending_buf_size=f.lit_bufsize*4,f.pending_buf=new Si.Buf8(f.pending_buf_size),f.d_buf=1*f.lit_bufsize,f.l_buf=(1+2)*f.lit_bufsize,f.level=e,f.strategy=a,f.method=r,QW(t)}function c_e(t,e){return eG(t,e,y2,$2e,V2e,W2e)}function l_e(t,e){var r,n,i,a;if(!t||!t.state||e>$W||e<0)return t?Fu(t,qa):qa;if(n=t.state,!t.output||!t.input&&t.avail_in!==0||n.status===$1&&e!==ju)return Fu(t,t.avail_out===0?rA:qa);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===m2)if(n.wrap===2)t.adler=0,lr(n,31),lr(n,139),lr(n,8),n.gzhead?(lr(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),lr(n,n.gzhead.time&255),lr(n,n.gzhead.time>>8&255),lr(n,n.gzhead.time>>16&255),lr(n,n.gzhead.time>>24&255),lr(n,n.level===9?2:n.strategy>=d2||n.level<2?4:0),lr(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(lr(n,n.gzhead.extra.length&255),lr(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Lu(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=aA):(lr(n,0),lr(n,0),lr(n,0),lr(n,0),lr(n,0),lr(n,n.level===9?2:n.strategy>=d2||n.level<2?4:0),lr(n,r_e),n.status=Rl);else{var s=y2+(n.w_bits-8<<4)<<8,f=-1;n.strategy>=d2||n.level<2?f=0:n.level<6?f=1:n.level===6?f=2:f=3,s|=f<<6,n.strstart!==0&&(s|=t_e),s+=31-s%31,n.status=Rl,H1(n,s),n.strstart!==0&&(H1(n,t.adler>>>16),H1(n,t.adler&65535)),t.adler=1}if(n.status===aA)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Lu(t.adler,n.pending_buf,n.pending-i,i)),Du(t),i=n.pending,n.pending===n.pending_buf_size));)lr(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(t.adler=Lu(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=p2)}else n.status=p2;if(n.status===p2)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Lu(t.adler,n.pending_buf,n.pending-i,i)),Du(t),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}n.gzindex<n.gzhead.name.length?a=n.gzhead.name.charCodeAt(n.gzindex++)&255:a=0,lr(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Lu(t.adler,n.pending_buf,n.pending-i,i)),a===0&&(n.gzindex=0,n.status=g2)}else n.status=g2;if(n.status===g2)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Lu(t.adler,n.pending_buf,n.pending-i,i)),Du(t),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}n.gzindex<n.gzhead.comment.length?a=n.gzhead.comment.charCodeAt(n.gzindex++)&255:a=0,lr(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Lu(t.adler,n.pending_buf,n.pending-i,i)),a===0&&(n.status=v2)}else n.status=v2;if(n.status===v2&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Du(t),n.pending+2<=n.pending_buf_size&&(lr(n,t.adler&255),lr(n,t.adler>>8&255),t.adler=0,n.status=Rl)):n.status=Rl),n.pending!==0){if(Du(t),t.avail_out===0)return n.last_flush=-1,ws}else if(t.avail_in===0&&ZW(e)<=ZW(r)&&e!==ju)return Fu(t,rA);if(n.status===$1&&t.avail_in!==0)return Fu(t,rA);if(t.avail_in!==0||n.lookahead!==0||e!==Bl&&n.status!==$1){var l=n.strategy===d2?o_e(n,e):n.strategy===z2e?a_e(n,e):hd[n.level].func(n,e);if((l===kl||l===dd)&&(n.status=$1),l===Sn||l===kl)return t.avail_out===0&&(n.last_flush=-1),ws;if(l===V1&&(e===D2e?Da._tr_align(n):e!==$W&&(Da._tr_stored_block(n,0,0,!1),e===q2e&&(qu(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Du(t),t.avail_out===0))return n.last_flush=-1,ws}return e!==ju?ws:n.wrap<=0?VW:(n.wrap===2?(lr(n,t.adler&255),lr(n,t.adler>>8&255),lr(n,t.adler>>16&255),lr(n,t.adler>>24&255),lr(n,t.total_in&255),lr(n,t.total_in>>8&255),lr(n,t.total_in>>16&255),lr(n,t.total_in>>24&255)):(H1(n,t.adler>>>16),H1(n,t.adler&65535)),Du(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?ws:VW)}function h_e(t){var e;return!t||!t.state?qa:(e=t.state.status,e!==m2&&e!==aA&&e!==p2&&e!==g2&&e!==v2&&e!==Rl&&e!==$1?Fu(t,qa):(t.state=null,e===Rl?Fu(t,U2e):ws))}function d_e(t,e){var r=e.length,n,i,a,s,f,l,g,m;if(!t||!t.state||(n=t.state,s=n.wrap,s===2||s===1&&n.status!==m2||n.lookahead))return qa;for(s===1&&(t.adler=JW(t.adler,e,r,0)),n.wrap=0,r>=n.w_size&&(s===0&&(qu(n.head),n.strstart=0,n.block_start=0,n.insert=0),m=new Si.Buf8(n.w_size),Si.arraySet(m,e,r-n.w_size,n.w_size,0),e=m,r=n.w_size),f=t.avail_in,l=t.next_in,g=t.input,t.avail_in=r,t.next_in=0,t.input=e,Cl(n);n.lookahead>=$t;){i=n.strstart,a=n.lookahead-($t-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+$t-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--a);n.strstart=i,n.lookahead=$t-1,Cl(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=$t-1,n.match_available=0,t.next_in=l,t.input=g,t.avail_in=f,n.wrap=s,ws}xs.deflateInit=c_e;xs.deflateInit2=eG;xs.deflateReset=QW;xs.deflateResetKeep=XW;xs.deflateSetHeader=u_e;xs.deflate=l_e;xs.deflateEnd=h_e;xs.deflateSetDictionary=d_e;xs.deflateInfo="pako deflate (from Nodeca project)"});var nG=ee((aqe,rG)=>{"use strict";x();var b2=30,p_e=12;rG.exports=function(e,r){var n,i,a,s,f,l,g,m,A,I,T,O,U,Z,Y,re,pe,he,se,fe,de,G,L,q,S;n=e.state,i=e.next_in,q=e.input,a=i+(e.avail_in-5),s=e.next_out,S=e.output,f=s-(r-e.avail_out),l=s+(e.avail_out-257),g=n.dmax,m=n.wsize,A=n.whave,I=n.wnext,T=n.window,O=n.hold,U=n.bits,Z=n.lencode,Y=n.distcode,re=(1<<n.lenbits)-1,pe=(1<<n.distbits)-1;e:do{U<15&&(O+=q[i++]<<U,U+=8,O+=q[i++]<<U,U+=8),he=Z[O&re];t:for(;;){if(se=he>>>24,O>>>=se,U-=se,se=he>>>16&255,se===0)S[s++]=he&65535;else if(se&16){fe=he&65535,se&=15,se&&(U<se&&(O+=q[i++]<<U,U+=8),fe+=O&(1<<se)-1,O>>>=se,U-=se),U<15&&(O+=q[i++]<<U,U+=8,O+=q[i++]<<U,U+=8),he=Y[O&pe];r:for(;;){if(se=he>>>24,O>>>=se,U-=se,se=he>>>16&255,se&16){if(de=he&65535,se&=15,U<se&&(O+=q[i++]<<U,U+=8,U<se&&(O+=q[i++]<<U,U+=8)),de+=O&(1<<se)-1,de>g){e.msg="invalid distance too far back",n.mode=b2;break e}if(O>>>=se,U-=se,se=s-f,de>se){if(se=de-se,se>A&&n.sane){e.msg="invalid distance too far back",n.mode=b2;break e}if(G=0,L=T,I===0){if(G+=m-se,se<fe){fe-=se;do S[s++]=T[G++];while(--se);G=s-de,L=S}}else if(I<se){if(G+=m+I-se,se-=I,se<fe){fe-=se;do S[s++]=T[G++];while(--se);if(G=0,I<fe){se=I,fe-=se;do S[s++]=T[G++];while(--se);G=s-de,L=S}}}else if(G+=I-se,se<fe){fe-=se;do S[s++]=T[G++];while(--se);G=s-de,L=S}for(;fe>2;)S[s++]=L[G++],S[s++]=L[G++],S[s++]=L[G++],fe-=3;fe&&(S[s++]=L[G++],fe>1&&(S[s++]=L[G++]))}else{G=s-de;do S[s++]=S[G++],S[s++]=S[G++],S[s++]=S[G++],fe-=3;while(fe>2);fe&&(S[s++]=S[G++],fe>1&&(S[s++]=S[G++]))}}else if((se&64)===0){he=Y[(he&65535)+(O&(1<<se)-1)];continue r}else{e.msg="invalid distance code",n.mode=b2;break e}break}}else if((se&64)===0){he=Z[(he&65535)+(O&(1<<se)-1)];continue t}else if(se&32){n.mode=p_e;break e}else{e.msg="invalid literal/length code",n.mode=b2;break e}break}}while(i<a&&s<l);fe=U>>3,i-=fe,U-=fe<<3,O&=(1<<U)-1,e.next_in=i,e.next_out=s,e.avail_in=i<a?5+(a-i):5-(i-a),e.avail_out=s<l?257+(l-s):257-(s-l),n.hold=O,n.bits=U}});var cG=ee((sqe,uG)=>{"use strict";x();var iG=U1(),pd=15,aG=852,oG=592,sG=0,oA=1,fG=2,g_e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v_e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],y_e=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m_e=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];uG.exports=function(e,r,n,i,a,s,f,l){var g=l.bits,m=0,A=0,I=0,T=0,O=0,U=0,Z=0,Y=0,re=0,pe=0,he,se,fe,de,G,L=null,q=0,S,B=new iG.Buf16(pd+1),y=new iG.Buf16(pd+1),o=null,u=0,h,p,v;for(m=0;m<=pd;m++)B[m]=0;for(A=0;A<i;A++)B[r[n+A]]++;for(O=g,T=pd;T>=1&&B[T]===0;T--);if(O>T&&(O=T),T===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(I=1;I<T&&B[I]===0;I++);for(O<I&&(O=I),Y=1,m=1;m<=pd;m++)if(Y<<=1,Y-=B[m],Y<0)return-1;if(Y>0&&(e===sG||T!==1))return-1;for(y[1]=0,m=1;m<pd;m++)y[m+1]=y[m]+B[m];for(A=0;A<i;A++)r[n+A]!==0&&(f[y[r[n+A]]++]=A);if(e===sG?(L=o=f,S=19):e===oA?(L=g_e,q-=257,o=v_e,u-=257,S=256):(L=y_e,o=m_e,S=-1),pe=0,A=0,m=I,G=s,U=O,Z=0,fe=-1,re=1<<O,de=re-1,e===oA&&re>aG||e===fG&&re>oG)return 1;for(;;){h=m-Z,f[A]<S?(p=0,v=f[A]):f[A]>S?(p=o[u+f[A]],v=L[q+f[A]]):(p=32+64,v=0),he=1<<m-Z,se=1<<U,I=se;do se-=he,a[G+(pe>>Z)+se]=h<<24|p<<16|v|0;while(se!==0);for(he=1<<m-1;pe&he;)he>>=1;if(he!==0?(pe&=he-1,pe+=he):pe=0,A++,--B[m]===0){if(m===T)break;m=r[n+f[A]]}if(m>O&&(pe&de)!==fe){for(Z===0&&(Z=O),G+=I,U=m-Z,Y=1<<U;U+Z<T&&(Y-=B[U+Z],!(Y<=0));)U++,Y<<=1;if(re+=1<<U,e===oA&&re>aG||e===fG&&re>oG)return 1;fe=pe&de,a[fe]=O<<24|U<<16|G-s|0}}return pe!==0&&(a[G+pe]=m-Z<<24|64<<16|0),l.bits=O,0}});var GG=ee(Mo=>{"use strict";x();var ia=U1(),hA=eA(),_s=tA(),b_e=nG(),Z1=cG(),w_e=0,LG=1,DG=2,lG=4,x_e=5,w2=6,Pl=0,__e=1,E_e=2,Ua=-2,qG=-3,dA=-4,S_e=-5,hG=8,UG=1,dG=2,pG=3,gG=4,vG=5,yG=6,mG=7,bG=8,wG=9,xG=10,E2=11,bf=12,sA=13,_G=14,fA=15,EG=16,SG=17,AG=18,MG=19,x2=20,_2=21,TG=22,OG=23,IG=24,RG=25,kG=26,uA=27,CG=28,BG=29,$r=30,pA=31,A_e=32,M_e=852,T_e=592,O_e=15,I_e=O_e;function PG(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}function R_e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ia.Buf16(320),this.work=new ia.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function FG(t){var e;return!t||!t.state?Ua:(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=UG,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new ia.Buf32(M_e),e.distcode=e.distdyn=new ia.Buf32(T_e),e.sane=1,e.back=-1,Pl)}function jG(t){var e;return!t||!t.state?Ua:(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,FG(t))}function zG(t,e){var r,n;return!t||!t.state||(n=t.state,e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?Ua:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,jG(t))}function KG(t,e){var r,n;return t?(n=new R_e,t.state=n,n.window=null,r=zG(t,e),r!==Pl&&(t.state=null),r):Ua}function k_e(t){return KG(t,I_e)}var NG=!0,cA,lA;function C_e(t){if(NG){var e;for(cA=new ia.Buf32(512),lA=new ia.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Z1(LG,t.lens,0,288,cA,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Z1(DG,t.lens,0,32,lA,0,t.work,{bits:5}),NG=!1}t.lencode=cA,t.lenbits=9,t.distcode=lA,t.distbits=5}function WG(t,e,r,n){var i,a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new ia.Buf8(a.wsize)),n>=a.wsize?(ia.arraySet(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),ia.arraySet(a.window,e,r-n,i,a.wnext),n-=i,n?(ia.arraySet(a.window,e,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function B_e(t,e){var r,n,i,a,s,f,l,g,m,A,I,T,O,U,Z=0,Y,re,pe,he,se,fe,de,G,L=new ia.Buf8(4),q,S,B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return Ua;r=t.state,r.mode===bf&&(r.mode=sA),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,f=t.avail_in,g=r.hold,m=r.bits,A=f,I=l,G=Pl;e:for(;;)switch(r.mode){case UG:if(r.wrap===0){r.mode=sA;break}for(;m<16;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}if(r.wrap&2&&g===35615){r.check=0,L[0]=g&255,L[1]=g>>>8&255,r.check=_s(r.check,L,2,0),g=0,m=0,r.mode=dG;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((g&255)<<8)+(g>>8))%31){t.msg="incorrect header check",r.mode=$r;break}if((g&15)!==hG){t.msg="unknown compression method",r.mode=$r;break}if(g>>>=4,m-=4,de=(g&15)+8,r.wbits===0)r.wbits=de;else if(de>r.wbits){t.msg="invalid window size",r.mode=$r;break}r.dmax=1<<de,t.adler=r.check=1,r.mode=g&512?xG:bf,g=0,m=0;break;case dG:for(;m<16;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}if(r.flags=g,(r.flags&255)!==hG){t.msg="unknown compression method",r.mode=$r;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=$r;break}r.head&&(r.head.text=g>>8&1),r.flags&512&&(L[0]=g&255,L[1]=g>>>8&255,r.check=_s(r.check,L,2,0)),g=0,m=0,r.mode=pG;case pG:for(;m<32;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}r.head&&(r.head.time=g),r.flags&512&&(L[0]=g&255,L[1]=g>>>8&255,L[2]=g>>>16&255,L[3]=g>>>24&255,r.check=_s(r.check,L,4,0)),g=0,m=0,r.mode=gG;case gG:for(;m<16;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}r.head&&(r.head.xflags=g&255,r.head.os=g>>8),r.flags&512&&(L[0]=g&255,L[1]=g>>>8&255,r.check=_s(r.check,L,2,0)),g=0,m=0,r.mode=vG;case vG:if(r.flags&1024){for(;m<16;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}r.length=g,r.head&&(r.head.extra_len=g),r.flags&512&&(L[0]=g&255,L[1]=g>>>8&255,r.check=_s(r.check,L,2,0)),g=0,m=0}else r.head&&(r.head.extra=null);r.mode=yG;case yG:if(r.flags&1024&&(T=r.length,T>f&&(T=f),T&&(r.head&&(de=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),ia.arraySet(r.head.extra,n,a,T,de)),r.flags&512&&(r.check=_s(r.check,n,T,a)),f-=T,a+=T,r.length-=T),r.length))break e;r.length=0,r.mode=mG;case mG:if(r.flags&2048){if(f===0)break e;T=0;do de=n[a+T++],r.head&&de&&r.length<65536&&(r.head.name+=String.fromCharCode(de));while(de&&T<f);if(r.flags&512&&(r.check=_s(r.check,n,T,a)),f-=T,a+=T,de)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=bG;case bG:if(r.flags&4096){if(f===0)break e;T=0;do de=n[a+T++],r.head&&de&&r.length<65536&&(r.head.comment+=String.fromCharCode(de));while(de&&T<f);if(r.flags&512&&(r.check=_s(r.check,n,T,a)),f-=T,a+=T,de)break e}else r.head&&(r.head.comment=null);r.mode=wG;case wG:if(r.flags&512){for(;m<16;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}if(g!==(r.check&65535)){t.msg="header crc mismatch",r.mode=$r;break}g=0,m=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=bf;break;case xG:for(;m<32;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}t.adler=r.check=PG(g),g=0,m=0,r.mode=E2;case E2:if(r.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=f,r.hold=g,r.bits=m,E_e;t.adler=r.check=1,r.mode=bf;case bf:if(e===x_e||e===w2)break e;case sA:if(r.last){g>>>=m&7,m-=m&7,r.mode=uA;break}for(;m<3;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}switch(r.last=g&1,g>>>=1,m-=1,g&3){case 0:r.mode=_G;break;case 1:if(C_e(r),r.mode=x2,e===w2){g>>>=2,m-=2;break e}break;case 2:r.mode=SG;break;case 3:t.msg="invalid block type",r.mode=$r}g>>>=2,m-=2;break;case _G:for(g>>>=m&7,m-=m&7;m<32;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}if((g&65535)!==(g>>>16^65535)){t.msg="invalid stored block lengths",r.mode=$r;break}if(r.length=g&65535,g=0,m=0,r.mode=fA,e===w2)break e;case fA:r.mode=EG;case EG:if(T=r.length,T){if(T>f&&(T=f),T>l&&(T=l),T===0)break e;ia.arraySet(i,n,a,T,s),f-=T,a+=T,l-=T,s+=T,r.length-=T;break}r.mode=bf;break;case SG:for(;m<14;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}if(r.nlen=(g&31)+257,g>>>=5,m-=5,r.ndist=(g&31)+1,g>>>=5,m-=5,r.ncode=(g&15)+4,g>>>=4,m-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=$r;break}r.have=0,r.mode=AG;case AG:for(;r.have<r.ncode;){for(;m<3;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}r.lens[B[r.have++]]=g&7,g>>>=3,m-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,q={bits:r.lenbits},G=Z1(w_e,r.lens,0,19,r.lencode,0,r.work,q),r.lenbits=q.bits,G){t.msg="invalid code lengths set",r.mode=$r;break}r.have=0,r.mode=MG;case MG:for(;r.have<r.nlen+r.ndist;){for(;Z=r.lencode[g&(1<<r.lenbits)-1],Y=Z>>>24,re=Z>>>16&255,pe=Z&65535,!(Y<=m);){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}if(pe<16)g>>>=Y,m-=Y,r.lens[r.have++]=pe;else{if(pe===16){for(S=Y+2;m<S;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}if(g>>>=Y,m-=Y,r.have===0){t.msg="invalid bit length repeat",r.mode=$r;break}de=r.lens[r.have-1],T=3+(g&3),g>>>=2,m-=2}else if(pe===17){for(S=Y+3;m<S;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}g>>>=Y,m-=Y,de=0,T=3+(g&7),g>>>=3,m-=3}else{for(S=Y+7;m<S;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}g>>>=Y,m-=Y,de=0,T=11+(g&127),g>>>=7,m-=7}if(r.have+T>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=$r;break}for(;T--;)r.lens[r.have++]=de}}if(r.mode===$r)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=$r;break}if(r.lenbits=9,q={bits:r.lenbits},G=Z1(LG,r.lens,0,r.nlen,r.lencode,0,r.work,q),r.lenbits=q.bits,G){t.msg="invalid literal/lengths set",r.mode=$r;break}if(r.distbits=6,r.distcode=r.distdyn,q={bits:r.distbits},G=Z1(DG,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,q),r.distbits=q.bits,G){t.msg="invalid distances set",r.mode=$r;break}if(r.mode=x2,e===w2)break e;case x2:r.mode=_2;case _2:if(f>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=f,r.hold=g,r.bits=m,b_e(t,I),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,f=t.avail_in,g=r.hold,m=r.bits,r.mode===bf&&(r.back=-1);break}for(r.back=0;Z=r.lencode[g&(1<<r.lenbits)-1],Y=Z>>>24,re=Z>>>16&255,pe=Z&65535,!(Y<=m);){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}if(re&&(re&240)===0){for(he=Y,se=re,fe=pe;Z=r.lencode[fe+((g&(1<<he+se)-1)>>he)],Y=Z>>>24,re=Z>>>16&255,pe=Z&65535,!(he+Y<=m);){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}g>>>=he,m-=he,r.back+=he}if(g>>>=Y,m-=Y,r.back+=Y,r.length=pe,re===0){r.mode=kG;break}if(re&32){r.back=-1,r.mode=bf;break}if(re&64){t.msg="invalid literal/length code",r.mode=$r;break}r.extra=re&15,r.mode=TG;case TG:if(r.extra){for(S=r.extra;m<S;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}r.length+=g&(1<<r.extra)-1,g>>>=r.extra,m-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=OG;case OG:for(;Z=r.distcode[g&(1<<r.distbits)-1],Y=Z>>>24,re=Z>>>16&255,pe=Z&65535,!(Y<=m);){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}if((re&240)===0){for(he=Y,se=re,fe=pe;Z=r.distcode[fe+((g&(1<<he+se)-1)>>he)],Y=Z>>>24,re=Z>>>16&255,pe=Z&65535,!(he+Y<=m);){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}g>>>=he,m-=he,r.back+=he}if(g>>>=Y,m-=Y,r.back+=Y,re&64){t.msg="invalid distance code",r.mode=$r;break}r.offset=pe,r.extra=re&15,r.mode=IG;case IG:if(r.extra){for(S=r.extra;m<S;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}r.offset+=g&(1<<r.extra)-1,g>>>=r.extra,m-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=$r;break}r.mode=RG;case RG:if(l===0)break e;if(T=I-l,r.offset>T){if(T=r.offset-T,T>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=$r;break}T>r.wnext?(T-=r.wnext,O=r.wsize-T):O=r.wnext-T,T>r.length&&(T=r.length),U=r.window}else U=i,O=s-r.offset,T=r.length;T>l&&(T=l),l-=T,r.length-=T;do i[s++]=U[O++];while(--T);r.length===0&&(r.mode=_2);break;case kG:if(l===0)break e;i[s++]=r.length,l--,r.mode=_2;break;case uA:if(r.wrap){for(;m<32;){if(f===0)break e;f--,g|=n[a++]<<m,m+=8}if(I-=l,t.total_out+=I,r.total+=I,I&&(t.adler=r.check=r.flags?_s(r.check,i,I,s-I):hA(r.check,i,I,s-I)),I=l,(r.flags?g:PG(g))!==r.check){t.msg="incorrect data check",r.mode=$r;break}g=0,m=0}r.mode=CG;case CG:if(r.wrap&&r.flags){for(;m<32;){if(f===0)break e;f--,g+=n[a++]<<m,m+=8}if(g!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=$r;break}g=0,m=0}r.mode=BG;case BG:G=__e;break e;case $r:G=qG;break e;case pA:return dA;case A_e:default:return Ua}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=f,r.hold=g,r.bits=m,(r.wsize||I!==t.avail_out&&r.mode<$r&&(r.mode<uA||e!==lG))&&WG(t,t.output,t.next_out,I-t.avail_out)?(r.mode=pA,dA):(A-=t.avail_in,I-=t.avail_out,t.total_in+=A,t.total_out+=I,r.total+=I,r.wrap&&I&&(t.adler=r.check=r.flags?_s(r.check,i,I,t.next_out-I):hA(r.check,i,I,t.next_out-I)),t.data_type=r.bits+(r.last?64:0)+(r.mode===bf?128:0)+(r.mode===x2||r.mode===fA?256:0),(A===0&&I===0||e===lG)&&G===Pl&&(G=S_e),G)}function P_e(t){if(!t||!t.state)return Ua;var e=t.state;return e.window&&(e.window=null),t.state=null,Pl}function N_e(t,e){var r;return!t||!t.state||(r=t.state,(r.wrap&2)===0)?Ua:(r.head=e,e.done=!1,Pl)}function L_e(t,e){var r=e.length,n,i,a;return!t||!t.state||(n=t.state,n.wrap!==0&&n.mode!==E2)?Ua:n.mode===E2&&(i=1,i=hA(i,e,r,0),i!==n.check)?qG:(a=WG(t,e,r,r),a?(n.mode=pA,dA):(n.havedict=1,Pl))}Mo.inflateReset=jG;Mo.inflateReset2=zG;Mo.inflateResetKeep=FG;Mo.inflateInit=k_e;Mo.inflateInit2=KG;Mo.inflate=B_e;Mo.inflateEnd=P_e;Mo.inflateGetHeader=N_e;Mo.inflateSetDictionary=L_e;Mo.inflateInfo="pako inflate (from Nodeca project)"});var $G=ee((lqe,HG)=>{"use strict";x();HG.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var ZG=ee(nt=>{"use strict";x();var aa=Mu(),D_e=bW(),J1=tG(),Nl=GG(),VG=$G();for(gA in VG)nt[gA]=VG[gA];var gA;nt.NONE=0;nt.DEFLATE=1;nt.INFLATE=2;nt.GZIP=3;nt.GUNZIP=4;nt.DEFLATERAW=5;nt.INFLATERAW=6;nt.UNZIP=7;var q_e=31,U_e=139;function si(t){if(typeof t!="number"||t<nt.DEFLATE||t>nt.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}si.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,aa(this.init_done,"close before init"),aa(this.mode<=nt.UNZIP),this.mode===nt.DEFLATE||this.mode===nt.GZIP||this.mode===nt.DEFLATERAW?J1.deflateEnd(this.strm):(this.mode===nt.INFLATE||this.mode===nt.GUNZIP||this.mode===nt.INFLATERAW||this.mode===nt.UNZIP)&&Nl.inflateEnd(this.strm),this.mode=nt.NONE,this.dictionary=null};si.prototype.write=function(t,e,r,n,i,a,s){return this._write(!0,t,e,r,n,i,a,s)};si.prototype.writeSync=function(t,e,r,n,i,a,s){return this._write(!1,t,e,r,n,i,a,s)};si.prototype._write=function(t,e,r,n,i,a,s,f){if(aa.equal(arguments.length,8),aa(this.init_done,"write before init"),aa(this.mode!==nt.NONE,"already finalized"),aa.equal(!1,this.write_in_progress,"write already in progress"),aa.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,aa.equal(!1,e===void 0,"must provide flush value"),this.write_in_progress=!0,e!==nt.Z_NO_FLUSH&&e!==nt.Z_PARTIAL_FLUSH&&e!==nt.Z_SYNC_FLUSH&&e!==nt.Z_FULL_FLUSH&&e!==nt.Z_FINISH&&e!==nt.Z_BLOCK)throw new Error("Invalid flush value");if(r==null&&(r=N.Buffer.alloc(0),i=0,n=0),this.strm.avail_in=i,this.strm.input=r,this.strm.next_in=n,this.strm.avail_out=f,this.strm.output=a,this.strm.next_out=s,this.flush=e,!t)return this._process(),this._checkError()?this._afterSync():void 0;var l=this;return P.default.nextTick(function(){l._process(),l._after()}),this};si.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]};si.prototype._process=function(){var t=null;switch(this.mode){case nt.DEFLATE:case nt.GZIP:case nt.DEFLATERAW:this.err=J1.deflate(this.strm,this.flush);break;case nt.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(t===null)break;if(this.strm.input[t]===q_e){if(this.gzip_id_bytes_read=1,t++,this.strm.avail_in===1)break}else{this.mode=nt.INFLATE;break}case 1:if(t===null)break;this.strm.input[t]===U_e?(this.gzip_id_bytes_read=2,this.mode=nt.GUNZIP):this.mode=nt.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case nt.INFLATE:case nt.GUNZIP:case nt.INFLATERAW:for(this.err=Nl.inflate(this.strm,this.flush),this.err===nt.Z_NEED_DICT&&this.dictionary&&(this.err=Nl.inflateSetDictionary(this.strm,this.dictionary),this.err===nt.Z_OK?this.err=Nl.inflate(this.strm,this.flush):this.err===nt.Z_DATA_ERROR&&(this.err=nt.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===nt.GUNZIP&&this.err===nt.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=Nl.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}};si.prototype._checkError=function(){switch(this.err){case nt.Z_OK:case nt.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===nt.Z_FINISH)return this._error("unexpected end of file"),!1;break;case nt.Z_STREAM_END:break;case nt.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0};si.prototype._after=function(){if(!!this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}};si.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()};si.prototype.init=function(t,e,r,n,i){aa(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),aa(t>=8&&t<=15,"invalid windowBits"),aa(e>=-1&&e<=9,"invalid compression level"),aa(r>=1&&r<=9,"invalid memlevel"),aa(n===nt.Z_FILTERED||n===nt.Z_HUFFMAN_ONLY||n===nt.Z_RLE||n===nt.Z_FIXED||n===nt.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(e,t,r,n,i),this._setDictionary()};si.prototype.params=function(){throw new Error("deflateParams Not supported")};si.prototype.reset=function(){this._reset(),this._setDictionary()};si.prototype._init=function(t,e,r,n,i){switch(this.level=t,this.windowBits=e,this.memLevel=r,this.strategy=n,this.flush=nt.Z_NO_FLUSH,this.err=nt.Z_OK,(this.mode===nt.GZIP||this.mode===nt.GUNZIP)&&(this.windowBits+=16),this.mode===nt.UNZIP&&(this.windowBits+=32),(this.mode===nt.DEFLATERAW||this.mode===nt.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new D_e,this.mode){case nt.DEFLATE:case nt.GZIP:case nt.DEFLATERAW:this.err=J1.deflateInit2(this.strm,this.level,nt.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case nt.INFLATE:case nt.GUNZIP:case nt.INFLATERAW:case nt.UNZIP:this.err=Nl.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==nt.Z_OK&&this._error("Init error"),this.dictionary=i,this.write_in_progress=!1,this.init_done=!0};si.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=nt.Z_OK,this.mode){case nt.DEFLATE:case nt.DEFLATERAW:this.err=J1.deflateSetDictionary(this.strm,this.dictionary);break;default:break}this.err!==nt.Z_OK&&this._error("Failed to set dictionary")}};si.prototype._reset=function(){switch(this.err=nt.Z_OK,this.mode){case nt.DEFLATE:case nt.DEFLATERAW:case nt.GZIP:this.err=J1.deflateReset(this.strm);break;case nt.INFLATE:case nt.INFLATERAW:case nt.GUNZIP:this.err=Nl.inflateReset(this.strm);break;default:break}this.err!==nt.Z_OK&&this._error("Failed to reset stream")};nt.Zlib=si});var mA=ee(ht=>{"use strict";x();var Es=Sr().Buffer,QG=ps().Transform,St=ZG(),zu=Mr(),Y1=Mu().ok,yA=Sr().kMaxLength,eH="Cannot create final Buffer. It would be larger than 0x"+yA.toString(16)+" bytes";St.Z_MIN_WINDOWBITS=8;St.Z_MAX_WINDOWBITS=15;St.Z_DEFAULT_WINDOWBITS=15;St.Z_MIN_CHUNK=64;St.Z_MAX_CHUNK=1/0;St.Z_DEFAULT_CHUNK=16*1024;St.Z_MIN_MEMLEVEL=1;St.Z_MAX_MEMLEVEL=9;St.Z_DEFAULT_MEMLEVEL=8;St.Z_MIN_LEVEL=-1;St.Z_MAX_LEVEL=9;St.Z_DEFAULT_LEVEL=St.Z_DEFAULT_COMPRESSION;var JG=Object.keys(St);for(S2=0;S2<JG.length;S2++)A2=JG[S2],A2.match(/^Z/)&&Object.defineProperty(ht,A2,{enumerable:!0,value:St[A2],writable:!1});var A2,S2,T2={Z_OK:St.Z_OK,Z_STREAM_END:St.Z_STREAM_END,Z_NEED_DICT:St.Z_NEED_DICT,Z_ERRNO:St.Z_ERRNO,Z_STREAM_ERROR:St.Z_STREAM_ERROR,Z_DATA_ERROR:St.Z_DATA_ERROR,Z_MEM_ERROR:St.Z_MEM_ERROR,Z_BUF_ERROR:St.Z_BUF_ERROR,Z_VERSION_ERROR:St.Z_VERSION_ERROR},YG=Object.keys(T2);for(M2=0;M2<YG.length;M2++)vA=YG[M2],T2[T2[vA]]=vA;var vA,M2;Object.defineProperty(ht,"codes",{enumerable:!0,value:Object.freeze(T2),writable:!1});ht.Deflate=Ll;ht.Inflate=Dl;ht.Gzip=ql;ht.Gunzip=Ul;ht.DeflateRaw=Fl;ht.InflateRaw=jl;ht.Unzip=zl;ht.createDeflate=function(t){return new Ll(t)};ht.createInflate=function(t){return new Dl(t)};ht.createDeflateRaw=function(t){return new Fl(t)};ht.createInflateRaw=function(t){return new jl(t)};ht.createGzip=function(t){return new ql(t)};ht.createGunzip=function(t){return new Ul(t)};ht.createUnzip=function(t){return new zl(t)};ht.deflate=function(t,e,r){return typeof e=="function"&&(r=e,e={}),Kl(new Ll(e),t,r)};ht.deflateSync=function(t,e){return Wl(new Ll(e),t)};ht.gzip=function(t,e,r){return typeof e=="function"&&(r=e,e={}),Kl(new ql(e),t,r)};ht.gzipSync=function(t,e){return Wl(new ql(e),t)};ht.deflateRaw=function(t,e,r){return typeof e=="function"&&(r=e,e={}),Kl(new Fl(e),t,r)};ht.deflateRawSync=function(t,e){return Wl(new Fl(e),t)};ht.unzip=function(t,e,r){return typeof e=="function"&&(r=e,e={}),Kl(new zl(e),t,r)};ht.unzipSync=function(t,e){return Wl(new zl(e),t)};ht.inflate=function(t,e,r){return typeof e=="function"&&(r=e,e={}),Kl(new Dl(e),t,r)};ht.inflateSync=function(t,e){return Wl(new Dl(e),t)};ht.gunzip=function(t,e,r){return typeof e=="function"&&(r=e,e={}),Kl(new Ul(e),t,r)};ht.gunzipSync=function(t,e){return Wl(new Ul(e),t)};ht.inflateRaw=function(t,e,r){return typeof e=="function"&&(r=e,e={}),Kl(new jl(e),t,r)};ht.inflateRawSync=function(t,e){return Wl(new jl(e),t)};function Kl(t,e,r){var n=[],i=0;t.on("error",s),t.on("end",f),t.end(e),a();function a(){for(var l;(l=t.read())!==null;)n.push(l),i+=l.length;t.once("readable",a)}function s(l){t.removeListener("end",f),t.removeListener("readable",a),r(l)}function f(){var l,g=null;i>=yA?g=new RangeError(eH):l=Es.concat(n,i),n=[],t.close(),r(g,l)}}function Wl(t,e){if(typeof e=="string"&&(e=Es.from(e)),!Es.isBuffer(e))throw new TypeError("Not a string or buffer");var r=t._finishFlushFlag;return t._processChunk(e,r)}function Ll(t){if(!(this instanceof Ll))return new Ll(t);un.call(this,t,St.DEFLATE)}function Dl(t){if(!(this instanceof Dl))return new Dl(t);un.call(this,t,St.INFLATE)}function ql(t){if(!(this instanceof ql))return new ql(t);un.call(this,t,St.GZIP)}function Ul(t){if(!(this instanceof Ul))return new Ul(t);un.call(this,t,St.GUNZIP)}function Fl(t){if(!(this instanceof Fl))return new Fl(t);un.call(this,t,St.DEFLATERAW)}function jl(t){if(!(this instanceof jl))return new jl(t);un.call(this,t,St.INFLATERAW)}function zl(t){if(!(this instanceof zl))return new zl(t);un.call(this,t,St.UNZIP)}function XG(t){return t===St.Z_NO_FLUSH||t===St.Z_PARTIAL_FLUSH||t===St.Z_SYNC_FLUSH||t===St.Z_FULL_FLUSH||t===St.Z_FINISH||t===St.Z_BLOCK}function un(t,e){var r=this;if(this._opts=t=t||{},this._chunkSize=t.chunkSize||ht.Z_DEFAULT_CHUNK,QG.call(this,t),t.flush&&!XG(t.flush))throw new Error("Invalid flush flag: "+t.flush);if(t.finishFlush&&!XG(t.finishFlush))throw new Error("Invalid flush flag: "+t.finishFlush);if(this._flushFlag=t.flush||St.Z_NO_FLUSH,this._finishFlushFlag=typeof t.finishFlush<"u"?t.finishFlush:St.Z_FINISH,t.chunkSize&&(t.chunkSize<ht.Z_MIN_CHUNK||t.chunkSize>ht.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<ht.Z_MIN_WINDOWBITS||t.windowBits>ht.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<ht.Z_MIN_LEVEL||t.level>ht.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<ht.Z_MIN_MEMLEVEL||t.memLevel>ht.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=ht.Z_FILTERED&&t.strategy!=ht.Z_HUFFMAN_ONLY&&t.strategy!=ht.Z_RLE&&t.strategy!=ht.Z_FIXED&&t.strategy!=ht.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!Es.isBuffer(t.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new St.Zlib(e);var n=this;this._hadError=!1,this._handle.onerror=function(s,f){O2(n),n._hadError=!0;var l=new Error(s);l.errno=f,l.code=ht.codes[f],n.emit("error",l)};var i=ht.Z_DEFAULT_COMPRESSION;typeof t.level=="number"&&(i=t.level);var a=ht.Z_DEFAULT_STRATEGY;typeof t.strategy=="number"&&(a=t.strategy),this._handle.init(t.windowBits||ht.Z_DEFAULT_WINDOWBITS,i,t.memLevel||ht.Z_DEFAULT_MEMLEVEL,a,t.dictionary),this._buffer=Es.allocUnsafe(this._chunkSize),this._offset=0,this._level=i,this._strategy=a,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!r._handle},configurable:!0,enumerable:!0})}zu.inherits(un,QG);un.prototype.params=function(t,e,r){if(t<ht.Z_MIN_LEVEL||t>ht.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+t);if(e!=ht.Z_FILTERED&&e!=ht.Z_HUFFMAN_ONLY&&e!=ht.Z_RLE&&e!=ht.Z_FIXED&&e!=ht.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+e);if(this._level!==t||this._strategy!==e){var n=this;this.flush(St.Z_SYNC_FLUSH,function(){Y1(n._handle,"zlib binding closed"),n._handle.params(t,e),n._hadError||(n._level=t,n._strategy=e,r&&r())})}else P.default.nextTick(r)};un.prototype.reset=function(){return Y1(this._handle,"zlib binding closed"),this._handle.reset()};un.prototype._flush=function(t){this._transform(Es.alloc(0),"",t)};un.prototype.flush=function(t,e){var r=this,n=this._writableState;(typeof t=="function"||t===void 0&&!e)&&(e=t,t=St.Z_FULL_FLUSH),n.ended?e&&P.default.nextTick(e):n.ending?e&&this.once("end",e):n.needDrain?e&&this.once("drain",function(){return r.flush(t,e)}):(this._flushFlag=t,this.write(Es.alloc(0),"",e))};un.prototype.close=function(t){O2(this,t),P.default.nextTick(F_e,this)};function O2(t,e){e&&P.default.nextTick(e),t._handle&&(t._handle.close(),t._handle=null)}function F_e(t){t.emit("close")}un.prototype._transform=function(t,e,r){var n,i=this._writableState,a=i.ending||i.ended,s=a&&(!t||i.length===t.length);if(t!==null&&!Es.isBuffer(t))return r(new Error("invalid input"));if(!this._handle)return r(new Error("zlib binding closed"));s?n=this._finishFlushFlag:(n=this._flushFlag,t.length>=i.length&&(this._flushFlag=this._opts.flush||St.Z_NO_FLUSH)),this._processChunk(t,n,r)};un.prototype._processChunk=function(t,e,r){var n=t&&t.length,i=this._chunkSize-this._offset,a=0,s=this,f=typeof r=="function";if(!f){var l=[],g=0,m;this.on("error",function(U){m=U}),Y1(this._handle,"zlib binding closed");do var A=this._handle.writeSync(e,t,a,n,this._buffer,this._offset,i);while(!this._hadError&&O(A[0],A[1]));if(this._hadError)throw m;if(g>=yA)throw O2(this),new RangeError(eH);var I=Es.concat(l,g);return O2(this),I}Y1(this._handle,"zlib binding closed");var T=this._handle.write(e,t,a,n,this._buffer,this._offset,i);T.buffer=t,T.callback=O;function O(U,Z){if(this&&(this.buffer=null,this.callback=null),!s._hadError){var Y=i-Z;if(Y1(Y>=0,"have should not go down"),Y>0){var re=s._buffer.slice(s._offset,s._offset+Y);s._offset+=Y,f?s.push(re):(l.push(re),g+=re.length)}if((Z===0||s._offset>=s._chunkSize)&&(i=s._chunkSize,s._offset=0,s._buffer=Es.allocUnsafe(s._chunkSize)),Z===0){if(a+=n-U,n=U,!f)return!0;var pe=s._handle.write(e,t,a,n,s._buffer,s._offset,s._chunkSize);pe.callback=O,pe.buffer=t;return}if(!f)return!1;r()}}};zu.inherits(Ll,un);zu.inherits(Dl,un);zu.inherits(ql,un);zu.inherits(Ul,un);zu.inherits(Fl,un);zu.inherits(jl,un);zu.inherits(zl,un)});var rH=ee((yqe,tH)=>{"use strict";x();var{DeflateRaw:j_e}=mA(),z_e=z9(),bA=class extends j_e{constructor(e){super(e),this.checksum=N.Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(e,r){return e&&(this.compressedSize+=e.length),super.push(e,r)}_transform(e,r,n){e&&(this.checksum=z_e.buf(e,this.checksum)>>>0,this.rawSize+=e.length),super._transform(e,r,n)}digest(e){let r=N.Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(e=!1){return e?this.compressedSize:this.rawSize}};tH.exports=bA});var wA=ee((bqe,nH)=>{"use strict";x();nH.exports={CRC32Stream:yW(),DeflateCRC32Stream:rH()}});var oH=ee((Sqe,aH)=>{x();var K_e=Mr().inherits,W_e=F9(),{CRC32Stream:G_e}=wA(),{DeflateCRC32Stream:H_e}=wA(),iH=L9(),xqe=C9(),_qe=R9(),Tt=k9(),Eqe=P9(),vt=c2(),Pn=aH.exports=function(t){if(!(this instanceof Pn))return new Pn(t);t=this.options=this._defaults(t),iH.call(this,t),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:t.forceZip64,forceLocalTime:t.forceLocalTime}};K_e(Pn,iH);Pn.prototype._afterAppend=function(t){this._entries.push(t),t.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(t),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()};Pn.prototype._appendBuffer=function(t,e,r){e.length===0&&t.setMethod(Tt.METHOD_STORED);var n=t.getMethod();if(n===Tt.METHOD_STORED&&(t.setSize(e.length),t.setCompressedSize(e.length),t.setCrc(W_e.unsigned(e))),this._writeLocalFileHeader(t),n===Tt.METHOD_STORED){this.write(e),this._afterAppend(t),r(null,t);return}else if(n===Tt.METHOD_DEFLATED){this._smartStream(t,r).end(e);return}else{r(new Error("compression method "+n+" not implemented"));return}};Pn.prototype._appendStream=function(t,e,r){t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(Tt.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(t);var n=this._smartStream(t,r);e.once("error",function(i){n.emit("error",i),n.end()}),e.pipe(n)};Pn.prototype._defaults=function(t){return typeof t!="object"&&(t={}),typeof t.zlib!="object"&&(t.zlib={}),typeof t.zlib.level!="number"&&(t.zlib.level=Tt.ZLIB_BEST_SPEED),t.forceZip64=!!t.forceZip64,t.forceLocalTime=!!t.forceLocalTime,t};Pn.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(t){this._writeCentralFileHeader(t)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()};Pn.prototype._normalizeEntry=function(t){t.getMethod()===-1&&t.setMethod(Tt.METHOD_DEFLATED),t.getMethod()===Tt.METHOD_DEFLATED&&(t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(Tt.MIN_VERSION_DATA_DESCRIPTOR)),t.getTime()===-1&&t.setTime(new Date,this._archive.forceLocalTime),t._offsets={file:0,data:0,contents:0}};Pn.prototype._smartStream=function(t,e){var r=t.getMethod()===Tt.METHOD_DEFLATED,n=r?new H_e(this.options.zlib):new G_e,i=null;function a(){var s=n.digest().readUInt32BE(0);t.setCrc(s),t.setSize(n.size()),t.setCompressedSize(n.size(!0)),this._afterAppend(t),e(i,t)}return n.once("end",a.bind(this)),n.once("error",function(s){i=s}),n.pipe(this,{end:!1}),n};Pn.prototype._writeCentralDirectoryEnd=function(){var t=this._entries.length,e=this._archive.centralLength,r=this._archive.centralOffset;this.isZip64()&&(t=Tt.ZIP64_MAGIC_SHORT,e=Tt.ZIP64_MAGIC,r=Tt.ZIP64_MAGIC),this.write(vt.getLongBytes(Tt.SIG_EOCD)),this.write(Tt.SHORT_ZERO),this.write(Tt.SHORT_ZERO),this.write(vt.getShortBytes(t)),this.write(vt.getShortBytes(t)),this.write(vt.getLongBytes(e)),this.write(vt.getLongBytes(r));var n=this.getComment(),i=N.Buffer.byteLength(n);this.write(vt.getShortBytes(i)),this.write(n)};Pn.prototype._writeCentralDirectoryZip64=function(){this.write(vt.getLongBytes(Tt.SIG_ZIP64_EOCD)),this.write(vt.getEightBytes(44)),this.write(vt.getShortBytes(Tt.MIN_VERSION_ZIP64)),this.write(vt.getShortBytes(Tt.MIN_VERSION_ZIP64)),this.write(Tt.LONG_ZERO),this.write(Tt.LONG_ZERO),this.write(vt.getEightBytes(this._entries.length)),this.write(vt.getEightBytes(this._entries.length)),this.write(vt.getEightBytes(this._archive.centralLength)),this.write(vt.getEightBytes(this._archive.centralOffset)),this.write(vt.getLongBytes(Tt.SIG_ZIP64_EOCD_LOC)),this.write(Tt.LONG_ZERO),this.write(vt.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(vt.getLongBytes(1))};Pn.prototype._writeCentralFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t._offsets,i=t.getSize(),a=t.getCompressedSize();if(t.isZip64()||n.file>Tt.ZIP64_MAGIC){i=Tt.ZIP64_MAGIC,a=Tt.ZIP64_MAGIC,t.setVersionNeededToExtract(Tt.MIN_VERSION_ZIP64);var s=N.Buffer.concat([vt.getShortBytes(Tt.ZIP64_EXTRA_ID),vt.getShortBytes(24),vt.getEightBytes(t.getSize()),vt.getEightBytes(t.getCompressedSize()),vt.getEightBytes(n.file)],28);t.setExtra(s)}this.write(vt.getLongBytes(Tt.SIG_CFH)),this.write(vt.getShortBytes(t.getPlatform()<<8|Tt.VERSION_MADEBY)),this.write(vt.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(vt.getShortBytes(r)),this.write(vt.getLongBytes(t.getTimeDos())),this.write(vt.getLongBytes(t.getCrc())),this.write(vt.getLongBytes(a)),this.write(vt.getLongBytes(i));var f=t.getName(),l=t.getComment(),g=t.getCentralDirectoryExtra();e.usesUTF8ForNames()&&(f=N.Buffer.from(f),l=N.Buffer.from(l)),this.write(vt.getShortBytes(f.length)),this.write(vt.getShortBytes(g.length)),this.write(vt.getShortBytes(l.length)),this.write(Tt.SHORT_ZERO),this.write(vt.getShortBytes(t.getInternalAttributes())),this.write(vt.getLongBytes(t.getExternalAttributes())),n.file>Tt.ZIP64_MAGIC?this.write(vt.getLongBytes(Tt.ZIP64_MAGIC)):this.write(vt.getLongBytes(n.file)),this.write(f),this.write(g),this.write(l)};Pn.prototype._writeDataDescriptor=function(t){this.write(vt.getLongBytes(Tt.SIG_DD)),this.write(vt.getLongBytes(t.getCrc())),t.isZip64()?(this.write(vt.getEightBytes(t.getCompressedSize())),this.write(vt.getEightBytes(t.getSize()))):(this.write(vt.getLongBytes(t.getCompressedSize())),this.write(vt.getLongBytes(t.getSize())))};Pn.prototype._writeLocalFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t.getName(),i=t.getLocalFileDataExtra();t.isZip64()&&(e.useDataDescriptor(!0),t.setVersionNeededToExtract(Tt.MIN_VERSION_ZIP64)),e.usesUTF8ForNames()&&(n=N.Buffer.from(n)),t._offsets.file=this.offset,this.write(vt.getLongBytes(Tt.SIG_LFH)),this.write(vt.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(vt.getShortBytes(r)),this.write(vt.getLongBytes(t.getTimeDos())),t._offsets.data=this.offset,e.usesDataDescriptor()?(this.write(Tt.LONG_ZERO),this.write(Tt.LONG_ZERO),this.write(Tt.LONG_ZERO)):(this.write(vt.getLongBytes(t.getCrc())),this.write(vt.getLongBytes(t.getCompressedSize())),this.write(vt.getLongBytes(t.getSize()))),this.write(vt.getShortBytes(n.length)),this.write(vt.getShortBytes(i.length)),this.write(n),this.write(i),t._offsets.contents=this.offset};Pn.prototype.getComment=function(t){return this._archive.comment!==null?this._archive.comment:""};Pn.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>Tt.ZIP64_MAGIC_SHORT||this._archive.centralLength>Tt.ZIP64_MAGIC||this._archive.centralOffset>Tt.ZIP64_MAGIC};Pn.prototype.setComment=function(t){this._archive.comment=t}});var xA=ee((Mqe,sH)=>{x();sH.exports={ArchiveEntry:u2(),ZipArchiveEntry:C9(),ArchiveOutputStream:L9(),ZipArchiveOutputStream:oH()}});var lH=ee((Oqe,cH)=>{x();var uH=h1(),gd=Ia(),_A=W7(),$_e=J7(),V_e=r9(),Z_e=n9(),J_e=a2(),Gl=cH.exports={},fH=/[\/\\]/g,Y_e=function(t,e){var r=[];return _A(t).forEach(function(n){var i=n.indexOf("!")===0;i&&(n=n.slice(1));var a=e(n);i?r=$_e(r,a):r=V_e(r,a)}),r};Gl.exists=function(){var t=gd.join.apply(gd,arguments);return uH.existsSync(t)};Gl.expand=function(...t){var e=Z_e(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(r.length===0)return[];var n=Y_e(r,function(i){return J_e.sync(i,e)});return e.filter&&(n=n.filter(function(i){i=gd.join(e.cwd||"",i);try{return typeof e.filter=="function"?e.filter(i):uH.statSync(i)[e.filter]()}catch{return!1}})),n};Gl.expandMapping=function(t,e,r){r=Object.assign({rename:function(a,s){return gd.join(a||"",s)}},r);var n=[],i={};return Gl.expand(r,t).forEach(function(a){var s=a;r.flatten&&(s=gd.basename(s)),r.ext&&(s=s.replace(/(\.[^\/]*)?$/,r.ext));var f=r.rename(e,s,r);r.cwd&&(a=gd.join(r.cwd,a)),f=f.replace(fH,"/"),a=a.replace(fH,"/"),i[f]?i[f].src.push(a):(n.push({src:[a],dest:f}),i[f]=n[n.length-1])}),n};Gl.normalizeFilesArray=function(t){var e=[];return t.forEach(function(r){var n;("src"in r||"dest"in r)&&e.push(r)}),e.length===0?[]:(e=_(e).chain().forEach(function(r){!("src"in r)||!r.src||(Array.isArray(r.src)?r.src=_A(r.src):r.src=[r.src])}).map(function(r){var n=Object.assign({},r);if(delete n.src,delete n.dest,r.expand)return Gl.expandMapping(r.src,r.dest,n).map(function(a){var s=Object.assign({},r);return s.orig=Object.assign({},r),s.src=a.src,s.dest=a.dest,["expand","cwd","flatten","rename","ext"].forEach(function(f){delete s[f]}),s});var i=Object.assign({},r);return i.orig=Object.assign({},r),"src"in i&&Object.defineProperty(i,"src",{enumerable:!0,get:function a(){var s;return"result"in a||(s=r.src,s=Array.isArray(s)?_A(s):[s],a.result=Gl.expand(n,s)),a.result}}),"dest"in i&&(i.dest=r.dest),i}).flatten().value(),e)}});var gH=ee((Rqe,pH)=>{x();var EA=h1(),hH=Ia(),X_e=b7(),dH=Px(),Q_e=E7(),e6e=ps().Stream,t6e=oi().PassThrough,oa=pH.exports={};oa.file=lH();oa.collectStream=function(t,e){var r=[],n=0;t.on("error",e),t.on("data",function(i){r.push(i),n+=i.length}),t.on("end",function(){var i=N.Buffer.alloc(n),a=0;r.forEach(function(s){s.copy(i,a),a+=s.length}),e(null,i)})};oa.dateify=function(t){return t=t||new Date,t instanceof Date?t=t:typeof t=="string"?t=new Date(t):t=new Date,t};oa.defaults=function(t,e,r){var n=arguments;return n[0]=n[0]||{},Q_e(...n)};oa.isStream=function(t){return t instanceof e6e};oa.lazyReadStream=function(t){return new X_e.Readable(function(){return EA.createReadStream(t)})};oa.normalizeInputSource=function(t){return t===null?N.Buffer.alloc(0):typeof t=="string"?N.Buffer.from(t):oa.isStream(t)?t.pipe(new t6e):t};oa.sanitizePath=function(t){return dH(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")};oa.trailingSlashIt=function(t){return t.slice(-1)!=="/"?t+"/":t};oa.unixifyPath=function(t){return dH(t,!1).replace(/^\w+:/,"")};oa.walkdir=function(t,e,r){var n=[];typeof e=="function"&&(r=e,e=t),EA.readdir(t,function(i,a){var s=0,f,l;if(i)return r(i);(function g(){if(f=a[s++],!f)return r(null,n);l=hH.join(t,f),EA.stat(l,function(m,A){n.push({path:l,relative:hH.relative(e,l).replace(/\\/g,"/"),stats:A}),A&&A.isDirectory()?oa.walkdir(l,e,function(I,T){T.forEach(function(O){n.push(O)}),g()}):g()})})()})}});var yH=ee((Cqe,vH)=>{x();var r6e=Mr().inherits,AA=xA().ZipArchiveOutputStream,n6e=xA().ZipArchiveEntry,SA=gH(),vd=vH.exports=function(t){if(!(this instanceof vd))return new vd(t);t=this.options=t||{},t.zlib=t.zlib||{},AA.call(this,t),typeof t.level=="number"&&t.level>=0&&(t.zlib.level=t.level,delete t.level),!t.forceZip64&&typeof t.zlib.level=="number"&&t.zlib.level===0&&(t.store=!0),t.namePrependSlash=t.namePrependSlash||!1,t.comment&&t.comment.length>0&&this.setComment(t.comment)};r6e(vd,AA);vd.prototype._normalizeFileData=function(t){t=SA.defaults(t,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""});var e=t.type==="directory",r=t.type==="symlink";return t.name&&(t.name=SA.sanitizePath(t.name),!r&&t.name.slice(-1)==="/"?(e=!0,t.type="directory"):e&&(t.name+="/")),(e||r)&&(t.store=!0),t.date=SA.dateify(t.date),t};vd.prototype.entry=function(t,e,r){if(typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),e=this._normalizeFileData(e),e.type!=="file"&&e.type!=="directory"&&e.type!=="symlink"){r(new Error(e.type+" entries not currently supported"));return}if(typeof e.name!="string"||e.name.length===0){r(new Error("entry name must be a non-empty string value"));return}if(e.type==="symlink"&&typeof e.linkname!="string"){r(new Error("entry linkname must be a non-empty string value when type equals symlink"));return}var n=new n6e(e.name);return n.setTime(e.date,this.options.forceLocalTime),e.namePrependSlash&&n.setName(e.name,!0),e.store&&n.setMethod(0),e.comment.length>0&&n.setComment(e.comment),e.type==="symlink"&&typeof e.mode!="number"&&(e.mode=40960),typeof e.mode=="number"&&(e.type==="symlink"&&(e.mode|=40960),n.setUnixMode(e.mode)),e.type==="symlink"&&typeof e.linkname=="string"&&(t=N.Buffer.from(e.linkname)),AA.prototype.entry.call(this,n,t,r)};vd.prototype.finalize=function(){this.finish()}});var bH=ee((Pqe,mH)=>{x();var i6e=yH(),a6e=q1(),Ku=function(t){if(!(this instanceof Ku))return new Ku(t);t=this.options=a6e.defaults(t,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new i6e(t)};Ku.prototype.append=function(t,e,r){this.engine.entry(t,e,r)};Ku.prototype.finalize=function(){this.engine.finalize()};Ku.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};Ku.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)};Ku.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};mH.exports=Ku});var _H=ee((Lqe,xH)=>{"use strict";x();var{Buffer:To}=Sr(),wH=Symbol.for("BufferList");function Nr(t){if(!(this instanceof Nr))return new Nr(t);Nr._init.call(this,t)}Nr._init=function(e){Object.defineProperty(this,wH,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};Nr.prototype._new=function(e){return new Nr(e)};Nr.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let i=r+this._bufs[n].length;if(e<i||n===this._bufs.length-1)return[n,e-r];r=i}};Nr.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let n=0;n<e;n++)r+=this._bufs[n].length;return r};Nr.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};Nr.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};Nr.prototype.copy=function(e,r,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||To.alloc(0);let a=!!e,s=this._offset(n),f=i-n,l=f,g=a&&r||0,m=s[1];if(n===0&&i===this.length){if(!a)return this._bufs.length===1?this._bufs[0]:To.concat(this._bufs,this.length);for(let A=0;A<this._bufs.length;A++)this._bufs[A].copy(e,g),g+=this._bufs[A].length;return e}if(l<=this._bufs[s[0]].length-m)return a?this._bufs[s[0]].copy(e,r,m,m+l):this._bufs[s[0]].slice(m,m+l);a||(e=To.allocUnsafe(f));for(let A=s[0];A<this._bufs.length;A++){let I=this._bufs[A].length-m;if(l>I)this._bufs[A].copy(e,g,m),g+=I;else{this._bufs[A].copy(e,g,m,m+l),g+=I;break}l-=I,m&&(m=0)}return e.length>g?e.slice(0,g):e};Nr.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let n=this._offset(e),i=this._offset(r),a=this._bufs.slice(n[0],i[0]+1);return i[1]===0?a.pop():a[a.length-1]=a[a.length-1].slice(0,i[1]),n[1]!==0&&(a[0]=a[0].slice(n[1])),this._new(a)};Nr.prototype.toString=function(e,r,n){return this.slice(r,n).toString(e)};Nr.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};Nr.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};Nr.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(To.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(To.from(e));return this};Nr.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};Nr.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=To.from([t]):typeof t=="string"?t=To.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=To.from(t.buffer,t.byteOffset,t.byteLength):To.isBuffer(t)||(t=To.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let n=this._offset(e),i=n[0],a=n[1];for(;i<this._bufs.length;i++){let s=this._bufs[i];for(;a<s.length;)if(s.length-a>=t.length){let l=s.indexOf(t,a);if(l!==-1)return this._reverseOffset([i,l]);a=s.length-t.length+1}else{let l=this._reverseOffset([i,a]);if(this._match(l,t))return l;a++}a=0}return-1};Nr.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?Nr.prototype[r]=function(n,i){return this.slice(n,n+i)[r](0,i)}:Nr.prototype[r]=function(n=0){return this.slice(n,n+t[r])[r](0)}})(e)})();Nr.prototype._isBufferList=function(e){return e instanceof Nr||Nr.isBufferList(e)};Nr.isBufferList=function(e){return e!=null&&e[wH]};xH.exports=Nr});var EH=ee((qqe,I2)=>{"use strict";x();var MA=oi().Duplex,o6e=pt(),X1=_H();function fi(t){if(!(this instanceof fi))return new fi(t);if(typeof t=="function"){this._callback=t;let e=function(n){this._callback&&(this._callback(n),this._callback=null)}.bind(this);this.on("pipe",function(n){n.on("error",e)}),this.on("unpipe",function(n){n.removeListener("error",e)}),t=null}X1._init.call(this,t),MA.call(this)}o6e(fi,MA);Object.assign(fi.prototype,X1.prototype);fi.prototype._new=function(e){return new fi(e)};fi.prototype._write=function(e,r,n){this._appendBuffer(e),typeof n=="function"&&n()};fi.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)};fi.prototype.end=function(e){MA.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)};fi.prototype._destroy=function(e,r){this._bufs.length=0,this.length=0,r(e)};fi.prototype._isBufferList=function(e){return e instanceof fi||e instanceof X1||fi.isBufferList(e)};fi.isBufferList=X1.isBufferList;I2.exports=fi;I2.exports.BufferListStream=fi;I2.exports.BufferList=X1});var IA=ee(md=>{x();var s6e=N.Buffer.alloc,f6e="0000000000000000000",u6e="7777777777777777777",SH="0".charCodeAt(0),AH=N.Buffer.from("ustar\0","binary"),c6e=N.Buffer.from("00","binary"),l6e=N.Buffer.from("ustar ","binary"),h6e=N.Buffer.from(" \0","binary"),d6e=parseInt("7777",8),Q1=257,OA=263,p6e=function(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)},g6e=function(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null},v6e=function(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0},MH=function(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n},TH=function(t){for(var e=256,r=0;r<148;r++)e+=t[r];for(var n=156;n<512;n++)e+=t[n];return e},Wu=function(t,e){return t=t.toString(8),t.length>e?u6e.slice(0,e)+" ":f6e.slice(0,e-t.length)+t+" "};function y6e(t){var e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;for(var r=[],n=t.length-1;n>0;n--){var i=t[n];e?r.push(i):r.push(255-i)}var a=0,s=r.length;for(n=0;n<s;n++)a+=r[n]*Math.pow(256,n);return e?a:-1*a}var Gu=function(t,e,r){if(t=t.slice(e,e+r),e=0,t[e]&128)return y6e(t);for(;e<t.length&&t[e]===32;)e++;for(var n=p6e(MH(t,32,e,t.length),t.length,t.length);e<n&&t[e]===0;)e++;return n===e?0:parseInt(t.slice(e,n).toString(),8)},yd=function(t,e,r,n){return t.slice(e,MH(t,0,e,e+r)).toString(n)},TA=function(t){var e=N.Buffer.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t};md.decodeLongPath=function(t,e){return yd(t,0,t.length,e)};md.encodePax=function(t){var e="";t.name&&(e+=TA(" path="+t.name+`
`)),t.linkname&&(e+=TA(" linkpath="+t.linkname+`
`));var r=t.pax;if(r)for(var n in r)e+=TA(" "+n+"="+r[n]+`
`);return N.Buffer.from(e)};md.decodePax=function(t){for(var e={};t.length;){for(var r=0;r<t.length&&t[r]!==32;)r++;var n=parseInt(t.slice(0,r).toString(),10);if(!n)return e;var i=t.slice(r+1,n-1).toString(),a=i.indexOf("=");if(a===-1)return e;e[i.slice(0,a)]=i.slice(a+1),t=t.slice(n)}return e};md.encode=function(t){var e=s6e(512),r=t.name,n="";if(t.typeflag===5&&r[r.length-1]!=="/"&&(r+="/"),N.Buffer.byteLength(r)!==r.length)return null;for(;N.Buffer.byteLength(r)>100;){var i=r.indexOf("/");if(i===-1)return null;n+=n?"/"+r.slice(0,i):r.slice(0,i),r=r.slice(i+1)}return N.Buffer.byteLength(r)>100||N.Buffer.byteLength(n)>155||t.linkname&&N.Buffer.byteLength(t.linkname)>100?null:(e.write(r),e.write(Wu(t.mode&d6e,6),100),e.write(Wu(t.uid,6),108),e.write(Wu(t.gid,6),116),e.write(Wu(t.size,11),124),e.write(Wu(t.mtime.getTime()/1e3|0,11),136),e[156]=SH+v6e(t.type),t.linkname&&e.write(t.linkname,157),AH.copy(e,Q1),c6e.copy(e,OA),t.uname&&e.write(t.uname,265),t.gname&&e.write(t.gname,297),e.write(Wu(t.devmajor||0,6),329),e.write(Wu(t.devminor||0,6),337),n&&e.write(n,345),e.write(Wu(TH(e),6),148),e)};md.decode=function(t,e,r){var n=t[156]===0?0:t[156]-SH,i=yd(t,0,100,e),a=Gu(t,100,8),s=Gu(t,108,8),f=Gu(t,116,8),l=Gu(t,124,12),g=Gu(t,136,12),m=g6e(n),A=t[157]===0?null:yd(t,157,100,e),I=yd(t,265,32),T=yd(t,297,32),O=Gu(t,329,8),U=Gu(t,337,8),Z=TH(t);if(Z===8*32)return null;if(Z!==Gu(t,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(AH.compare(t,Q1,Q1+6)===0)t[345]&&(i=yd(t,345,155,e)+"/"+i);else if(!(l6e.compare(t,Q1,Q1+6)===0&&h6e.compare(t,OA,OA+2)===0)){if(!r)throw new Error("Invalid tar header: unknown format.")}return n===0&&i&&i[i.length-1]==="/"&&(n=5),{name:i,mode:a,uid:s,gid:f,size:l,mtime:new Date(1e3*g),type:m,linkname:A,uname:I,gname:T,devmajor:O,devminor:U}}});var PH=ee((zqe,BH)=>{x();var IH=Mr(),m6e=EH(),ev=IA(),RH=oi().Writable,kH=oi().PassThrough,CH=function(){},OH=function(t){return t&=511,t&&512-t},b6e=function(t,e){var r=new R2(t,e);return r.end(),r},w6e=function(t,e){return e.path&&(t.name=e.path),e.linkpath&&(t.linkname=e.linkpath),e.size&&(t.size=parseInt(e.size,10)),t.pax=e,t},R2=function(t,e){this._parent=t,this.offset=e,kH.call(this,{autoDestroy:!1})};IH.inherits(R2,kH);R2.prototype.destroy=function(t){this._parent.destroy(t)};var wf=function(t){if(!(this instanceof wf))return new wf(t);RH.call(this,t),t=t||{},this._offset=0,this._buffer=m6e(),this._missing=0,this._partial=!1,this._onparse=CH,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var e=this,r=e._buffer,n=function(){e._continue()},i=function(I){if(e._locked=!1,I)return e.destroy(I);e._stream||n()},a=function(){e._stream=null;var I=OH(e._header.size);I?e._parse(I,s):e._parse(512,A),e._locked||n()},s=function(){e._buffer.consume(OH(e._header.size)),e._parse(512,A),n()},f=function(){var I=e._header.size;e._paxGlobal=ev.decodePax(r.slice(0,I)),r.consume(I),a()},l=function(){var I=e._header.size;e._pax=ev.decodePax(r.slice(0,I)),e._paxGlobal&&(e._pax=Object.assign({},e._paxGlobal,e._pax)),r.consume(I),a()},g=function(){var I=e._header.size;this._gnuLongPath=ev.decodeLongPath(r.slice(0,I),t.filenameEncoding),r.consume(I),a()},m=function(){var I=e._header.size;this._gnuLongLinkPath=ev.decodeLongPath(r.slice(0,I),t.filenameEncoding),r.consume(I),a()},A=function(){var I=e._offset,T;try{T=e._header=ev.decode(r.slice(0,512),t.filenameEncoding,t.allowUnknownFormat)}catch(O){e.emit("error",O)}if(r.consume(512),!T){e._parse(512,A),n();return}if(T.type==="gnu-long-path"){e._parse(T.size,g),n();return}if(T.type==="gnu-long-link-path"){e._parse(T.size,m),n();return}if(T.type==="pax-global-header"){e._parse(T.size,f),n();return}if(T.type==="pax-header"){e._parse(T.size,l),n();return}if(e._gnuLongPath&&(T.name=e._gnuLongPath,e._gnuLongPath=null),e._gnuLongLinkPath&&(T.linkname=e._gnuLongLinkPath,e._gnuLongLinkPath=null),e._pax&&(e._header=T=w6e(T,e._pax),e._pax=null),e._locked=!0,!T.size||T.type==="directory"){e._parse(512,A),e.emit("entry",T,b6e(e,I),i);return}e._stream=new R2(e,I),e.emit("entry",T,e._stream,i),e._parse(T.size,a),n()};this._onheader=A,this._parse(512,A)};IH.inherits(wf,RH);wf.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.emit("close"))};wf.prototype._parse=function(t,e){this._destroyed||(this._offset+=t,this._missing=t,e===this._onheader&&(this._partial=!1),this._onparse=e)};wf.prototype._continue=function(){if(!this._destroyed){var t=this._cb;this._cb=CH,this._overflow?this._write(this._overflow,void 0,t):t()}};wf.prototype._write=function(t,e,r){if(!this._destroyed){var n=this._stream,i=this._buffer,a=this._missing;if(t.length&&(this._partial=!0),t.length<a)return this._missing-=t.length,this._overflow=null,n?n.write(t,r):(i.append(t),r());this._cb=r,this._missing=0;var s=null;t.length>a&&(s=t.slice(a),t=t.slice(0,a)),n?n.end(t):i.append(t),this._overflow=s,this._onparse()}};wf.prototype._final=function(t){if(this._partial)return this.destroy(new Error("Unexpected end of data"));t()};BH.exports=wf});var LH=ee((Wqe,NH)=>{x();NH.exports=OE()});var UH=ee((Hqe,qH)=>{x();var x6e=s2(),_6e=function(){},E6e=function(t){return t.setHeader&&typeof t.abort=="function"},S6e=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},DH=function(t,e,r){if(typeof e=="function")return DH(t,null,e);e||(e={}),r=x6e(r||_6e);var n=t._writableState,i=t._readableState,a=e.readable||e.readable!==!1&&t.readable,s=e.writable||e.writable!==!1&&t.writable,f=!1,l=function(){t.writable||g()},g=function(){s=!1,a||r.call(t)},m=function(){a=!1,s||r.call(t)},A=function(Z){r.call(t,Z?new Error("exited with error code: "+Z):null)},I=function(Z){r.call(t,Z)},T=function(){P.default.nextTick(O)},O=function(){if(!f){if(a&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"));if(s&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"))}},U=function(){t.req.on("finish",g)};return E6e(t)?(t.on("complete",g),t.on("abort",T),t.req?U():t.on("request",U)):s&&!n&&(t.on("end",l),t.on("close",l)),S6e(t)&&t.on("exit",A),t.on("end",m),t.on("finish",g),e.error!==!1&&t.on("error",I),t.on("close",T),function(){f=!0,t.removeListener("complete",g),t.removeListener("abort",T),t.removeListener("request",U),t.req&&t.req.removeListener("finish",g),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",g),t.removeListener("exit",A),t.removeListener("end",m),t.removeListener("error",I),t.removeListener("close",T)}};qH.exports=DH});var WH=ee((Vqe,KH)=>{x();var bd=LH(),FH=UH(),C2=pt(),A6e=N.Buffer.alloc,jH=oi().Readable,wd=oi().Writable,M6e=$g().StringDecoder,k2=IA(),T6e=parseInt("755",8),O6e=parseInt("644",8),zH=A6e(1024),kA=function(){},RA=function(t,e){e&=511,e&&t.push(zH.slice(0,512-e))};function I6e(t){switch(t&bd.S_IFMT){case bd.S_IFBLK:return"block-device";case bd.S_IFCHR:return"character-device";case bd.S_IFDIR:return"directory";case bd.S_IFIFO:return"fifo";case bd.S_IFLNK:return"symlink"}return"file"}var B2=function(t){wd.call(this),this.written=0,this._to=t,this._destroyed=!1};C2(B2,wd);B2.prototype._write=function(t,e,r){if(this.written+=t.length,this._to.push(t))return r();this._to._drain=r};B2.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var P2=function(){wd.call(this),this.linkname="",this._decoder=new M6e("utf-8"),this._destroyed=!1};C2(P2,wd);P2.prototype._write=function(t,e,r){this.linkname+=this._decoder.write(t),r()};P2.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var tv=function(){wd.call(this),this._destroyed=!1};C2(tv,wd);tv.prototype._write=function(t,e,r){r(new Error("No body allowed for this entry"))};tv.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var Ss=function(t){if(!(this instanceof Ss))return new Ss(t);jH.call(this,t),this._drain=kA,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};C2(Ss,jH);Ss.prototype.entry=function(t,e,r){if(this._stream)throw new Error("already piping an entry");if(!(this._finalized||this._destroyed)){typeof e=="function"&&(r=e,e=null),r||(r=kA);var n=this;if((!t.size||t.type==="symlink")&&(t.size=0),t.type||(t.type=I6e(t.mode)),t.mode||(t.mode=t.type==="directory"?T6e:O6e),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),typeof e=="string"&&(e=N.Buffer.from(e)),N.Buffer.isBuffer(e)){t.size=e.length,this._encode(t);var i=this.push(e);return RA(n,t.size),i?P.default.nextTick(r):this._drain=r,new tv}if(t.type==="symlink"&&!t.linkname){var a=new P2;return FH(a,function(f){if(f)return n.destroy(),r(f);t.linkname=a.linkname,n._encode(t),r()}),a}if(this._encode(t),t.type!=="file"&&t.type!=="contiguous-file")return P.default.nextTick(r),new tv;var s=new B2(this);return this._stream=s,FH(s,function(f){if(n._stream=null,f)return n.destroy(),r(f);if(s.written!==t.size)return n.destroy(),r(new Error("size mismatch"));RA(n,t.size),n._finalizing&&n.finalize(),r()}),s}};Ss.prototype.finalize=function(){if(this._stream){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(zH),this.push(null))};Ss.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())};Ss.prototype._encode=function(t){if(!t.pax){var e=k2.encode(t);if(e){this.push(e);return}}this._encodePax(t)};Ss.prototype._encodePax=function(t){var e=k2.encodePax({name:t.name,linkname:t.linkname,pax:t.pax}),r={name:"PaxHeader",mode:t.mode,uid:t.uid,gid:t.gid,size:e.length,mtime:t.mtime,type:"pax-header",linkname:t.linkname&&"PaxHeader",uname:t.uname,gname:t.gname,devmajor:t.devmajor,devminor:t.devminor};this.push(k2.encode(r)),this.push(e),RA(this,e.length),r.size=t.size,r.type=t.type,this.push(k2.encode(r))};Ss.prototype._read=function(t){var e=this._drain;this._drain=kA,e()};KH.exports=Ss});var GH=ee(CA=>{x();CA.extract=PH();CA.pack=WH()});var VH=ee((Xqe,$H)=>{x();var R6e=mA(),k6e=GH(),HH=q1(),xf=function(t){if(!(this instanceof xf))return new xf(t);t=this.options=HH.defaults(t,{gzip:!1}),typeof t.gzipOptions!="object"&&(t.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=k6e.pack(t),this.compressor=!1,t.gzip&&(this.compressor=R6e.createGzip(t.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};xf.prototype._onCompressorError=function(t){this.engine.emit("error",t)};xf.prototype.append=function(t,e,r){var n=this;e.mtime=e.date;function i(s,f){if(s){r(s);return}n.engine.entry(e,f,function(l){r(l,e)})}if(e.sourceType==="buffer")i(null,t);else if(e.sourceType==="stream"&&e.stats){e.size=e.stats.size;var a=n.engine.entry(e,function(s){r(s,e)});t.pipe(a)}else e.sourceType==="stream"&&HH.collectStream(t,i)};xf.prototype.finalize=function(){this.engine.finalize()};xf.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};xf.prototype.pipe=function(t,e){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(t,e):this.engine.pipe.apply(this.engine,arguments)};xf.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)};$H.exports=xf});var XH=ee((eUe,YH)=>{x();var C6e=Mr().inherits,ZH=oi().Transform,B6e=F9(),JH=q1(),Hu=function(t){if(!(this instanceof Hu))return new Hu(t);t=this.options=JH.defaults(t,{}),ZH.call(this,t),this.supports={directory:!0,symlink:!0},this.files=[]};C6e(Hu,ZH);Hu.prototype._transform=function(t,e,r){r(null,t)};Hu.prototype._writeStringified=function(){var t=JSON.stringify(this.files);this.write(t)};Hu.prototype.append=function(t,e,r){var n=this;e.crc32=0;function i(a,s){if(a){r(a);return}e.size=s.length||0,e.crc32=B6e.unsigned(s),n.files.push(e),r(null,e)}e.sourceType==="buffer"?i(null,t):e.sourceType==="stream"&&JH.collectStream(t,i)};Hu.prototype.finalize=function(){this._writeStringified(),this.end()};YH.exports=Hu});var e$=ee((rUe,QH)=>{x();var P6e=$K(),rv={},$u=function(t,e){return $u.create(t,e)};$u.create=function(t,e){if(rv[t]){var r=new P6e(t,e);return r.setFormat(t),r.setModule(new rv[t](e)),r}else throw new Error("create("+t+"): format not registered")};$u.registerFormat=function(t,e){if(rv[t])throw new Error("register("+t+"): format already registered");if(typeof e!="function")throw new Error("register("+t+"): format module invalid");if(typeof e.prototype.append!="function"||typeof e.prototype.finalize!="function")throw new Error("register("+t+"): format module missing methods");rv[t]=e};$u.isRegisteredFormat=function(t){return!!rv[t]};$u.registerFormat("zip",bH());$u.registerFormat("tar",VH());$u.registerFormat("json",XH());QH.exports=$u});var N2=ee((iUe,t$)=>{"use strict";x();t$.exports={DEFAULT_INITIAL_SIZE:8*1024,DEFAULT_INCREMENT_AMOUNT:8*1024,DEFAULT_FREQUENCY:1,DEFAULT_CHUNK_SIZE:1024}});var i$=ee((oUe,n$)=>{"use strict";x();var r$=ps(),L2=N2(),N6e=Mr(),L6e=n$.exports=function(t){var e=this;t=t||{},r$.Readable.call(this,t),this.stopped=!1;var r=t.hasOwnProperty("frequency")?t.frequency:L2.DEFAULT_FREQUENCY,n=t.chunkSize||L2.DEFAULT_CHUNK_SIZE,i=t.initialSize||L2.DEFAULT_INITIAL_SIZE,a=t.incrementAmount||L2.DEFAULT_INCREMENT_AMOUNT,s=0,f=new N.Buffer(i),l=!1,g=function(){var I=Math.min(n,s),T=!1;if(I>0){var O=null;O=new N.Buffer(I),f.copy(O,0,0,I),T=e.push(O)!==!1,l=T,f.copy(f,0,I,s),s-=I}s===0&&e.stopped&&e.push(null),T?g.timeout=setTimeout(g,r):g.timeout=null};this.stop=function(){if(this.stopped)throw new Error("stop() called on already stopped ReadableStreamBuffer");this.stopped=!0,s===0&&this.push(null)},this.size=function(){return s},this.maxSize=function(){return f.length};var m=function(I){if(f.length-s<I){var T=Math.ceil((I-(f.length-s))/a),O=new N.Buffer(f.length+a*T);f.copy(O,0,0,s),f=O}},A=function(){!g.timeout&&l&&(g.timeout=setTimeout(g,r))};this.put=function(I,T){if(e.stopped)throw new Error("Tried to write data to a stopped ReadableStreamBuffer");if(N.Buffer.isBuffer(I))m(I.length),I.copy(f,s,0),s+=I.length;else{I=I+"";var O=N.Buffer.byteLength(I);m(O),f.write(I,s,T||"utf8"),s+=O}A()},this._read=function(){l=!0,A()}};N6e.inherits(L6e,r$.Readable)});var f$=ee((fUe,s$)=>{"use strict";x();var D6e=Mr(),o$=ps(),a$=N2(),q6e=s$.exports=function(t){t=t||{},t.decodeStrings=!0,o$.Writable.call(this,t);var e=t.initialSize||a$.DEFAULT_INITIAL_SIZE,r=t.incrementAmount||a$.DEFAULT_INCREMENT_AMOUNT,n=new N.Buffer(e),i=0;this.size=function(){return i},this.maxSize=function(){return n.length},this.getContents=function(s){if(!i)return!1;var f=new N.Buffer(Math.min(s||i,i));return n.copy(f,0,0,f.length),f.length<i&&n.copy(n,0,f.length),i-=f.length,f},this.getContentsAsString=function(s,f){if(!i)return!1;var l=n.toString(s||"utf8",0,Math.min(f||i,i)),g=N.Buffer.byteLength(l);return g<i&&n.copy(n,0,g),i-=g,l};var a=function(s){if(n.length-i<s){var f=Math.ceil((s-(n.length-i))/r),l=new N.Buffer(n.length+r*f);n.copy(l,0,0,i),n=l}};this._write=function(s,f,l){a(s.length),s.copy(n,i,0),i+=s.length,l()}};D6e.inherits(q6e,o$.Writable)});var u$=ee((cUe,D2)=>{"use strict";x();D2.exports=N2();D2.exports.ReadableStreamBuffer=i$();D2.exports.WritableStreamBuffer=f$()});var g$=ee(PA=>{"use strict";x();Object.defineProperty(PA,"__esModule",{value:!0});function F6e(t){var e=4,r=t.length,n=r%e;if(!n)return t;var i=r,a=e-n,s=r+a,f=N.Buffer.alloc(s);for(f.write(t);a--;)f.write("=",i++);return f.toString()}PA.default=F6e});var y$=ee(DA=>{"use strict";x();Object.defineProperty(DA,"__esModule",{value:!0});var j6e=g$();function v$(t,e){return e===void 0&&(e="utf8"),N.Buffer.isBuffer(t)?NA(t.toString("base64")):NA(N.Buffer.from(t,e).toString("base64"))}function z6e(t,e){return e===void 0&&(e="utf8"),N.Buffer.from(LA(t),"base64").toString(e)}function LA(t){return t=t.toString(),j6e.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function NA(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function K6e(t){return N.Buffer.from(LA(t),"base64")}var _d=v$;_d.encode=v$;_d.decode=z6e;_d.toBase64=LA;_d.fromBase64=NA;_d.toBuffer=K6e;DA.default=_d});var sa=ee((eFe,j2)=>{x();j2.exports=y$().default;j2.exports.default=j2.exports});var Hl=ee((iFe,UA)=>{"use strict";x();var qA=65536,W6e=4294967295;function G6e(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var H6e=Et().Buffer,z2=D.crypto||D.msCrypto;z2&&z2.getRandomValues?UA.exports=$6e:UA.exports=G6e;function $6e(t,e){if(t>W6e)throw new RangeError("requested too many random bytes");var r=H6e.allocUnsafe(t);if(t>0)if(t>qA)for(var n=0;n<t;n+=qA)z2.getRandomValues(r.slice(n,n+qA));else z2.getRandomValues(r);return typeof e=="function"?P.default.nextTick(function(){e(null,r)}):r}});var FA=ee((oFe,b$)=>{"use strict";x();var K2=Et().Buffer,m$=oi().Transform,V6e=pt();function Z6e(t,e){if(!K2.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Vu(t){m$.call(this),this._block=K2.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}V6e(Vu,m$);Vu.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};Vu.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Vu.prototype.update=function(t,e){if(Z6e(t,"Data"),this._finalized)throw new Error("Digest already called");K2.isBuffer(t)||(t=K2.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var a=0,s=t.length*8;s>0;++a)this._length[a]+=s,s=this._length[a]/4294967296|0,s>0&&(this._length[a]-=4294967296*s);return this};Vu.prototype._update=function(){throw new Error("_update is not implemented")};Vu.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Vu.prototype._digest=function(){throw new Error("_digest is not implemented")};b$.exports=Vu});var H2=ee((fFe,x$)=>{"use strict";x();var J6e=pt(),w$=FA(),Y6e=Et().Buffer,X6e=new Array(16);function W2(){w$.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}J6e(W2,w$);W2.prototype._update=function(){for(var t=X6e,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,a=this._d;r=ui(r,n,i,a,t[0],3614090360,7),a=ui(a,r,n,i,t[1],3905402710,12),i=ui(i,a,r,n,t[2],606105819,17),n=ui(n,i,a,r,t[3],3250441966,22),r=ui(r,n,i,a,t[4],4118548399,7),a=ui(a,r,n,i,t[5],1200080426,12),i=ui(i,a,r,n,t[6],2821735955,17),n=ui(n,i,a,r,t[7],4249261313,22),r=ui(r,n,i,a,t[8],1770035416,7),a=ui(a,r,n,i,t[9],2336552879,12),i=ui(i,a,r,n,t[10],4294925233,17),n=ui(n,i,a,r,t[11],2304563134,22),r=ui(r,n,i,a,t[12],1804603682,7),a=ui(a,r,n,i,t[13],4254626195,12),i=ui(i,a,r,n,t[14],2792965006,17),n=ui(n,i,a,r,t[15],1236535329,22),r=ci(r,n,i,a,t[1],4129170786,5),a=ci(a,r,n,i,t[6],3225465664,9),i=ci(i,a,r,n,t[11],643717713,14),n=ci(n,i,a,r,t[0],3921069994,20),r=ci(r,n,i,a,t[5],3593408605,5),a=ci(a,r,n,i,t[10],38016083,9),i=ci(i,a,r,n,t[15],3634488961,14),n=ci(n,i,a,r,t[4],3889429448,20),r=ci(r,n,i,a,t[9],568446438,5),a=ci(a,r,n,i,t[14],3275163606,9),i=ci(i,a,r,n,t[3],4107603335,14),n=ci(n,i,a,r,t[8],1163531501,20),r=ci(r,n,i,a,t[13],2850285829,5),a=ci(a,r,n,i,t[2],4243563512,9),i=ci(i,a,r,n,t[7],1735328473,14),n=ci(n,i,a,r,t[12],2368359562,20),r=li(r,n,i,a,t[5],4294588738,4),a=li(a,r,n,i,t[8],2272392833,11),i=li(i,a,r,n,t[11],1839030562,16),n=li(n,i,a,r,t[14],4259657740,23),r=li(r,n,i,a,t[1],2763975236,4),a=li(a,r,n,i,t[4],1272893353,11),i=li(i,a,r,n,t[7],4139469664,16),n=li(n,i,a,r,t[10],3200236656,23),r=li(r,n,i,a,t[13],681279174,4),a=li(a,r,n,i,t[0],3936430074,11),i=li(i,a,r,n,t[3],3572445317,16),n=li(n,i,a,r,t[6],76029189,23),r=li(r,n,i,a,t[9],3654602809,4),a=li(a,r,n,i,t[12],3873151461,11),i=li(i,a,r,n,t[15],530742520,16),n=li(n,i,a,r,t[2],3299628645,23),r=hi(r,n,i,a,t[0],4096336452,6),a=hi(a,r,n,i,t[7],1126891415,10),i=hi(i,a,r,n,t[14],2878612391,15),n=hi(n,i,a,r,t[5],4237533241,21),r=hi(r,n,i,a,t[12],1700485571,6),a=hi(a,r,n,i,t[3],2399980690,10),i=hi(i,a,r,n,t[10],4293915773,15),n=hi(n,i,a,r,t[1],2240044497,21),r=hi(r,n,i,a,t[8],1873313359,6),a=hi(a,r,n,i,t[15],4264355552,10),i=hi(i,a,r,n,t[6],2734768916,15),n=hi(n,i,a,r,t[13],1309151649,21),r=hi(r,n,i,a,t[4],4149444226,6),a=hi(a,r,n,i,t[11],3174756917,10),i=hi(i,a,r,n,t[2],718787259,15),n=hi(n,i,a,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+a|0};W2.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Y6e.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function G2(t,e){return t<<e|t>>>32-e}function ui(t,e,r,n,i,a,s){return G2(t+(e&r|~e&n)+i+a|0,s)+e|0}function ci(t,e,r,n,i,a,s){return G2(t+(e&n|r&~n)+i+a|0,s)+e|0}function li(t,e,r,n,i,a,s){return G2(t+(e^r^n)+i+a|0,s)+e|0}function hi(t,e,r,n,i,a,s){return G2(t+(r^(e|~n))+i+a|0,s)+e|0}x$.exports=W2});var V2=ee((cFe,O$)=>{"use strict";x();var jA=Sr().Buffer,Q6e=pt(),T$=FA(),e3e=new Array(16),nv=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],iv=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],av=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ov=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],sv=[0,1518500249,1859775393,2400959708,2840853838],fv=[1352829926,1548603684,1836072691,2053994217,0];function $2(){T$.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}Q6e($2,T$);$2.prototype._update=function(){for(var t=e3e,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,f=this._a|0,l=this._b|0,g=this._c|0,m=this._d|0,A=this._e|0,I=0;I<80;I+=1){var T,O;I<16?(T=_$(r,n,i,a,s,t[nv[I]],sv[0],av[I]),O=M$(f,l,g,m,A,t[iv[I]],fv[0],ov[I])):I<32?(T=E$(r,n,i,a,s,t[nv[I]],sv[1],av[I]),O=A$(f,l,g,m,A,t[iv[I]],fv[1],ov[I])):I<48?(T=S$(r,n,i,a,s,t[nv[I]],sv[2],av[I]),O=S$(f,l,g,m,A,t[iv[I]],fv[2],ov[I])):I<64?(T=A$(r,n,i,a,s,t[nv[I]],sv[3],av[I]),O=E$(f,l,g,m,A,t[iv[I]],fv[3],ov[I])):(T=M$(r,n,i,a,s,t[nv[I]],sv[4],av[I]),O=_$(f,l,g,m,A,t[iv[I]],fv[4],ov[I])),r=s,s=a,a=$l(i,10),i=n,n=T,f=A,A=m,m=$l(g,10),g=l,l=O}var U=this._b+i+m|0;this._b=this._c+a+A|0,this._c=this._d+s+f|0,this._d=this._e+r+l|0,this._e=this._a+n+g|0,this._a=U};$2.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=jA.alloc?jA.alloc(20):new jA(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function $l(t,e){return t<<e|t>>>32-e}function _$(t,e,r,n,i,a,s,f){return $l(t+(e^r^n)+a+s|0,f)+i|0}function E$(t,e,r,n,i,a,s,f){return $l(t+(e&r|~e&n)+a+s|0,f)+i|0}function S$(t,e,r,n,i,a,s,f){return $l(t+((e|~r)^n)+a+s|0,f)+i|0}function A$(t,e,r,n,i,a,s,f){return $l(t+(e&n|r&~n)+a+s|0,f)+i|0}function M$(t,e,r,n,i,a,s,f){return $l(t+(e^(r|~n))+a+s|0,f)+i|0}O$.exports=$2});var Vl=ee((hFe,R$)=>{x();var I$=Et().Buffer;function Z2(t,e){this._block=I$.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Z2.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=I$.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,a=this._len,s=0;s<i;){for(var f=a%n,l=Math.min(i-s,n-f),g=0;g<l;g++)r[f+g]=t[s+g];a+=l,s+=l,a%n===0&&this._update(r)}return this._len+=i,this};Z2.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return t?a.toString(t):a};Z2.prototype._update=function(){throw new Error("_update must be implemented by subclass")};R$.exports=Z2});var B$=ee((pFe,C$)=>{x();var t3e=pt(),k$=Vl(),r3e=Et().Buffer,n3e=[1518500249,1859775393,-1894007588,-899497514],i3e=new Array(80);function uv(){this.init(),this._w=i3e,k$.call(this,64,56)}t3e(uv,k$);uv.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function a3e(t){return t<<5|t>>>27}function o3e(t){return t<<30|t>>>2}function s3e(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}uv.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,f=0;f<16;++f)e[f]=t.readInt32BE(f*4);for(;f<80;++f)e[f]=e[f-3]^e[f-8]^e[f-14]^e[f-16];for(var l=0;l<80;++l){var g=~~(l/20),m=a3e(r)+s3e(g,n,i,a)+s+e[l]+n3e[g]|0;s=a,a=i,i=o3e(n),n=r,r=m}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};uv.prototype._hash=function(){var t=r3e.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};C$.exports=uv});var L$=ee((vFe,N$)=>{x();var f3e=pt(),P$=Vl(),u3e=Et().Buffer,c3e=[1518500249,1859775393,-1894007588,-899497514],l3e=new Array(80);function cv(){this.init(),this._w=l3e,P$.call(this,64,56)}f3e(cv,P$);cv.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function h3e(t){return t<<1|t>>>31}function d3e(t){return t<<5|t>>>27}function p3e(t){return t<<30|t>>>2}function g3e(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}cv.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,f=0;f<16;++f)e[f]=t.readInt32BE(f*4);for(;f<80;++f)e[f]=h3e(e[f-3]^e[f-8]^e[f-14]^e[f-16]);for(var l=0;l<80;++l){var g=~~(l/20),m=d3e(r)+g3e(g,n,i,a)+s+e[l]+c3e[g]|0;s=a,a=i,i=p3e(n),n=r,r=m}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};cv.prototype._hash=function(){var t=u3e.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};N$.exports=cv});var zA=ee((mFe,q$)=>{x();var v3e=pt(),D$=Vl(),y3e=Et().Buffer,m3e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],b3e=new Array(64);function lv(){this.init(),this._w=b3e,D$.call(this,64,56)}v3e(lv,D$);lv.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function w3e(t,e,r){return r^t&(e^r)}function x3e(t,e,r){return t&e|r&(t|e)}function _3e(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function E3e(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function S3e(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function A3e(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}lv.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,f=this._f|0,l=this._g|0,g=this._h|0,m=0;m<16;++m)e[m]=t.readInt32BE(m*4);for(;m<64;++m)e[m]=A3e(e[m-2])+e[m-7]+S3e(e[m-15])+e[m-16]|0;for(var A=0;A<64;++A){var I=g+E3e(s)+w3e(s,f,l)+m3e[A]+e[A]|0,T=_3e(r)+x3e(r,n,i)|0;g=l,l=f,f=s,s=a+I|0,a=i,i=n,n=r,r=I+T|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=f+this._f|0,this._g=l+this._g|0,this._h=g+this._h|0};lv.prototype._hash=function(){var t=y3e.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};q$.exports=lv});var F$=ee((wFe,U$)=>{x();var M3e=pt(),T3e=zA(),O3e=Vl(),I3e=Et().Buffer,R3e=new Array(64);function J2(){this.init(),this._w=R3e,O3e.call(this,64,56)}M3e(J2,T3e);J2.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};J2.prototype._hash=function(){var t=I3e.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};U$.exports=J2});var KA=ee((_Fe,$$)=>{x();var k3e=pt(),H$=Vl(),C3e=Et().Buffer,j$=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],B3e=new Array(160);function hv(){this.init(),this._w=B3e,H$.call(this,128,112)}k3e(hv,H$);hv.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function z$(t,e,r){return r^t&(e^r)}function K$(t,e,r){return t&e|r&(t|e)}function W$(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function G$(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function P3e(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function N3e(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function L3e(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function D3e(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Nn(t,e){return t>>>0<e>>>0?1:0}hv.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,a=this._dh|0,s=this._eh|0,f=this._fh|0,l=this._gh|0,g=this._hh|0,m=this._al|0,A=this._bl|0,I=this._cl|0,T=this._dl|0,O=this._el|0,U=this._fl|0,Z=this._gl|0,Y=this._hl|0,re=0;re<32;re+=2)e[re]=t.readInt32BE(re*4),e[re+1]=t.readInt32BE(re*4+4);for(;re<160;re+=2){var pe=e[re-30],he=e[re-15*2+1],se=P3e(pe,he),fe=N3e(he,pe);pe=e[re-2*2],he=e[re-2*2+1];var de=L3e(pe,he),G=D3e(he,pe),L=e[re-7*2],q=e[re-7*2+1],S=e[re-16*2],B=e[re-16*2+1],y=fe+q|0,o=se+L+Nn(y,fe)|0;y=y+G|0,o=o+de+Nn(y,G)|0,y=y+B|0,o=o+S+Nn(y,B)|0,e[re]=o,e[re+1]=y}for(var u=0;u<160;u+=2){o=e[u],y=e[u+1];var h=K$(r,n,i),p=K$(m,A,I),v=W$(r,m),d=W$(m,r),E=G$(s,O),w=G$(O,s),c=j$[u],b=j$[u+1],ue=z$(s,f,l),F=z$(O,U,Z),ne=Y+w|0,ce=g+E+Nn(ne,Y)|0;ne=ne+F|0,ce=ce+ue+Nn(ne,F)|0,ne=ne+b|0,ce=ce+c+Nn(ne,b)|0,ne=ne+y|0,ce=ce+o+Nn(ne,y)|0;var xe=d+p|0,M=v+h+Nn(xe,d)|0;g=l,Y=Z,l=f,Z=U,f=s,U=O,O=T+ne|0,s=a+ce+Nn(O,T)|0,a=i,T=I,i=n,I=A,n=r,A=m,m=ne+xe|0,r=ce+M+Nn(m,ne)|0}this._al=this._al+m|0,this._bl=this._bl+A|0,this._cl=this._cl+I|0,this._dl=this._dl+T|0,this._el=this._el+O|0,this._fl=this._fl+U|0,this._gl=this._gl+Z|0,this._hl=this._hl+Y|0,this._ah=this._ah+r+Nn(this._al,m)|0,this._bh=this._bh+n+Nn(this._bl,A)|0,this._ch=this._ch+i+Nn(this._cl,I)|0,this._dh=this._dh+a+Nn(this._dl,T)|0,this._eh=this._eh+s+Nn(this._el,O)|0,this._fh=this._fh+f+Nn(this._fl,U)|0,this._gh=this._gh+l+Nn(this._gl,Z)|0,this._hh=this._hh+g+Nn(this._hl,Y)|0};hv.prototype._hash=function(){var t=C3e.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};$$.exports=hv});var Z$=ee((SFe,V$)=>{x();var q3e=pt(),U3e=KA(),F3e=Vl(),j3e=Et().Buffer,z3e=new Array(160);function Y2(){this.init(),this._w=z3e,F3e.call(this,128,112)}q3e(Y2,U3e);Y2.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Y2.prototype._hash=function(){var t=j3e.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};V$.exports=Y2});var X2=ee((_f,J$)=>{x();var _f=J$.exports=function(e){e=e.toLowerCase();var r=_f[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};_f.sha=B$();_f.sha1=L$();_f.sha224=F$();_f.sha256=zA();_f.sha384=Z$();_f.sha512=KA()});var Ef=ee((TFe,Q$)=>{x();var Y$=Et().Buffer,X$=ps().Transform,K3e=$g().StringDecoder,W3e=pt();function Oo(t){X$.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}W3e(Oo,X$);Oo.prototype.update=function(t,e,r){typeof t=="string"&&(t=Y$.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};Oo.prototype.setAutoPadding=function(){};Oo.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Oo.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Oo.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Oo.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};Oo.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Oo.prototype._finalOrDigest=function(t){var e=this.__final()||Y$.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Oo.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new K3e(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};Q$.exports=Oo});var Ed=ee((IFe,tV)=>{"use strict";x();var G3e=pt(),H3e=H2(),$3e=V2(),V3e=X2(),eV=Ef();function Q2(t){eV.call(this,"digest"),this._hash=t}G3e(Q2,eV);Q2.prototype._update=function(t){this._hash.update(t)};Q2.prototype._final=function(){return this._hash.digest()};tV.exports=function(e){return e=e.toLowerCase(),e==="md5"?new H3e:e==="rmd160"||e==="ripemd160"?new $3e:new Q2(V3e(e))}});var iV=ee((kFe,nV)=>{"use strict";x();var Z3e=pt(),Zl=Et().Buffer,rV=Ef(),J3e=Zl.alloc(128),Sd=64;function e_(t,e){rV.call(this,"digest"),typeof e=="string"&&(e=Zl.from(e)),this._alg=t,this._key=e,e.length>Sd?e=t(e):e.length<Sd&&(e=Zl.concat([e,J3e],Sd));for(var r=this._ipad=Zl.allocUnsafe(Sd),n=this._opad=Zl.allocUnsafe(Sd),i=0;i<Sd;i++)r[i]=e[i]^54,n[i]=e[i]^92;this._hash=[r]}Z3e(e_,rV);e_.prototype._update=function(t){this._hash.push(t)};e_.prototype._final=function(){var t=this._alg(Zl.concat(this._hash));return this._alg(Zl.concat([this._opad,t]))};nV.exports=e_});var WA=ee((BFe,aV)=>{x();var Y3e=H2();aV.exports=function(t){return new Y3e().update(t).digest()}});var $A=ee((NFe,sV)=>{"use strict";x();var X3e=pt(),Q3e=iV(),oV=Ef(),dv=Et().Buffer,e4e=WA(),GA=V2(),HA=X2(),t4e=dv.alloc(128);function pv(t,e){oV.call(this,"digest"),typeof e=="string"&&(e=dv.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new GA:HA(t);e=n.update(e).digest()}else e.length<r&&(e=dv.concat([e,t4e],r));for(var i=this._ipad=dv.allocUnsafe(r),a=this._opad=dv.allocUnsafe(r),s=0;s<r;s++)i[s]=e[s]^54,a[s]=e[s]^92;this._hash=t==="rmd160"?new GA:HA(t),this._hash.update(i)}X3e(pv,oV);pv.prototype._update=function(t){this._hash.update(t)};pv.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new GA:HA(this._alg);return e.update(this._opad).update(t).digest()};sV.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new pv("rmd160",r):e==="md5"?new Q3e(e4e,r):new pv(e,r)}});var VA=ee((DFe,r4e)=>{r4e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var uV=ee((qFe,fV)=>{"use strict";x();fV.exports=VA()});var ZA=ee((FFe,cV)=>{x();var n4e=Math.pow(2,30)-1;cV.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>n4e||e!==e)throw new TypeError("Bad key length")}});var JA=ee((zFe,hV)=>{x();var t_;D.process&&D.process.browser?t_="utf-8":D.process&&D.process.version?(lV=parseInt(P.default.version.split(".")[0].slice(1),10),t_=lV>=6?"utf-8":"binary"):t_="utf-8";var lV;hV.exports=t_});var XA=ee((WFe,dV)=>{x();var YA=Et().Buffer;dV.exports=function(t,e,r){if(YA.isBuffer(t))return t;if(typeof t=="string")return YA.from(t,e);if(ArrayBuffer.isView(t))return YA.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var QA=ee((HFe,yV)=>{x();var i4e=WA(),a4e=V2(),o4e=X2(),Jl=Et().Buffer,s4e=ZA(),pV=JA(),gV=XA(),f4e=Jl.alloc(128),r_={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function vV(t,e,r){var n=u4e(t),i=t==="sha512"||t==="sha384"?128:64;e.length>i?e=n(e):e.length<i&&(e=Jl.concat([e,f4e],i));for(var a=Jl.allocUnsafe(i+r_[t]),s=Jl.allocUnsafe(i+r_[t]),f=0;f<i;f++)a[f]=e[f]^54,s[f]=e[f]^92;var l=Jl.allocUnsafe(i+r+4);a.copy(l,0,0,i),this.ipad1=l,this.ipad2=a,this.opad=s,this.alg=t,this.blocksize=i,this.hash=n,this.size=r_[t]}vV.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function u4e(t){function e(n){return o4e(t).update(n).digest()}function r(n){return new a4e().update(n).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?i4e:e}function c4e(t,e,r,n,i){s4e(r,n),t=gV(t,pV,"Password"),e=gV(e,pV,"Salt"),i=i||"sha1";var a=new vV(i,t,e.length),s=Jl.allocUnsafe(n),f=Jl.allocUnsafe(e.length+4);e.copy(f,0,0,e.length);for(var l=0,g=r_[i],m=Math.ceil(n/g),A=1;A<=m;A++){f.writeUInt32BE(A,e.length);for(var I=a.run(f,a.ipad1),T=I,O=1;O<r;O++){T=a.run(T,a.ipad2);for(var U=0;U<g;U++)I[U]^=T[U]}I.copy(s,l),l+=g}return s}yV.exports=c4e});var SV=ee((VFe,EV)=>{x();var xV=Et().Buffer,l4e=ZA(),mV=JA(),bV=QA(),wV=XA(),n_,gv=D.crypto&&D.crypto.subtle,h4e={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},eM=[];function d4e(t){if(D.process&&!D.process.browser||!gv||!gv.importKey||!gv.deriveBits)return Promise.resolve(!1);if(eM[t]!==void 0)return eM[t];n_=n_||xV.alloc(8);var e=_V(n_,n_,10,128,t).then(function(){return!0}).catch(function(){return!1});return eM[t]=e,e}var Yl;function tM(){return Yl||(D.process&&D.process.nextTick?Yl=D.process.nextTick:D.queueMicrotask?Yl=D.queueMicrotask:D.setImmediate?Yl=D.setImmediate:Yl=D.setTimeout,Yl)}function _V(t,e,r,n,i){return gv.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(a){return gv.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},a,n<<3)}).then(function(a){return xV.from(a)})}function p4e(t,e){t.then(function(r){tM()(function(){e(null,r)})},function(r){tM()(function(){e(r)})})}EV.exports=function(t,e,r,n,i,a){typeof i=="function"&&(a=i,i=void 0),i=i||"sha1";var s=h4e[i.toLowerCase()];if(!s||typeof D.Promise!="function"){tM()(function(){var f;try{f=bV(t,e,r,n,i)}catch(l){return a(l)}a(null,f)});return}if(l4e(r,n),t=wV(t,mV,"Password"),e=wV(e,mV,"Salt"),typeof a!="function")throw new Error("No callback provided to pbkdf2");p4e(d4e(s).then(function(f){return f?_V(t,e,r,n,s):bV(t,e,r,n,i)}),a)}});var nM=ee(rM=>{x();rM.pbkdf2=SV();rM.pbkdf2Sync=QA()});var iM=ee(Fa=>{"use strict";x();Fa.readUInt32BE=function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0};Fa.writeUInt32BE=function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255};Fa.ip=function(e,r,n,i){for(var a=0,s=0,f=6;f>=0;f-=2){for(var l=0;l<=24;l+=8)a<<=1,a|=r>>>l+f&1;for(var l=0;l<=24;l+=8)a<<=1,a|=e>>>l+f&1}for(var f=6;f>=0;f-=2){for(var l=1;l<=25;l+=8)s<<=1,s|=r>>>l+f&1;for(var l=1;l<=25;l+=8)s<<=1,s|=e>>>l+f&1}n[i+0]=a>>>0,n[i+1]=s>>>0};Fa.rip=function(e,r,n,i){for(var a=0,s=0,f=0;f<4;f++)for(var l=24;l>=0;l-=8)a<<=1,a|=r>>>l+f&1,a<<=1,a|=e>>>l+f&1;for(var f=4;f<8;f++)for(var l=24;l>=0;l-=8)s<<=1,s|=r>>>l+f&1,s<<=1,s|=e>>>l+f&1;n[i+0]=a>>>0,n[i+1]=s>>>0};Fa.pc1=function(e,r,n,i){for(var a=0,s=0,f=7;f>=5;f--){for(var l=0;l<=24;l+=8)a<<=1,a|=r>>l+f&1;for(var l=0;l<=24;l+=8)a<<=1,a|=e>>l+f&1}for(var l=0;l<=24;l+=8)a<<=1,a|=r>>l+f&1;for(var f=1;f<=3;f++){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+f&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+f&1}for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+f&1;n[i+0]=a>>>0,n[i+1]=s>>>0};Fa.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var i_=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Fa.pc2=function(e,r,n,i){for(var a=0,s=0,f=i_.length>>>1,l=0;l<f;l++)a<<=1,a|=e>>>i_[l]&1;for(var l=f;l<i_.length;l++)s<<=1,s|=r>>>i_[l]&1;n[i+0]=a>>>0,n[i+1]=s>>>0};Fa.expand=function(e,r,n){var i=0,a=0;i=(e&1)<<5|e>>>27;for(var s=23;s>=15;s-=4)i<<=6,i|=e>>>s&63;for(var s=11;s>=3;s-=4)a|=e>>>s&63,a<<=6;a|=(e&31)<<1|e>>>31,r[n+0]=i>>>0,r[n+1]=a>>>0};var AV=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Fa.substitute=function(e,r){for(var n=0,i=0;i<4;i++){var a=e>>>18-i*6&63,s=AV[i*64+a];n<<=4,n|=s}for(var i=0;i<4;i++){var a=r>>>18-i*6&63,s=AV[4*64+i*64+a];n<<=4,n|=s}return n>>>0};var MV=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Fa.permute=function(e){for(var r=0,n=0;n<MV.length;n++)r<<=1,r|=e>>>MV[n]&1;return r>>>0};Fa.padSplit=function(e,r,n){for(var i=e.toString(2);i.length<r;)i="0"+i;for(var a=[],s=0;s<r;s+=n)a.push(i.slice(s,s+n));return a.join(" ")}});var fa=ee((eje,OV)=>{x();OV.exports=TV;function TV(t,e){if(!t)throw new Error(e||"Assertion failed")}TV.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}});var a_=ee((rje,IV)=>{"use strict";x();var g4e=fa();function ja(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=t.padding!==!1}IV.exports=ja;ja.prototype._init=function(){};ja.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};ja.prototype._buffer=function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[r+i];return this.bufferOff+=n,n};ja.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};ja.prototype._updateEncrypt=function(e){var r=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,a=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(a,n)));for(var s=e.length-(e.length-r)%this.blockSize;r<s;r+=this.blockSize)this._update(e,r,a,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return a};ja.prototype._updateDecrypt=function(e){for(var r=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,a=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(e,r),n+=this._flushBuffer(a,n);return r+=this._buffer(e,r),a};ja.prototype.final=function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};ja.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};ja.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};ja.prototype._unpad=function(e){return e};ja.prototype._finalDecrypt=function(){g4e.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var aM=ee((ije,CV)=>{"use strict";x();var RV=fa(),v4e=pt(),An=iM(),kV=a_();function y4e(){this.tmp=new Array(2),this.keys=null}function As(t){kV.call(this,t);var e=new y4e;this._desState=e,this.deriveKeys(e,t.key)}v4e(As,kV);CV.exports=As;As.create=function(e){return new As(e)};var m4e=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];As.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),RV.equal(r.length,this.blockSize,"Invalid key length");var n=An.readUInt32BE(r,0),i=An.readUInt32BE(r,4);An.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var s=m4e[a>>>1];n=An.r28shl(n,s),i=An.r28shl(i,s),An.pc2(n,i,e.keys,a)}};As.prototype._update=function(e,r,n,i){var a=this._desState,s=An.readUInt32BE(e,r),f=An.readUInt32BE(e,r+4);An.ip(s,f,a.tmp,0),s=a.tmp[0],f=a.tmp[1],this.type==="encrypt"?this._encrypt(a,s,f,a.tmp,0):this._decrypt(a,s,f,a.tmp,0),s=a.tmp[0],f=a.tmp[1],An.writeUInt32BE(n,s,i),An.writeUInt32BE(n,f,i+4)};As.prototype._pad=function(e,r){if(this.padding===!1)return!1;for(var n=e.length-r,i=r;i<e.length;i++)e[i]=n;return!0};As.prototype._unpad=function(e){if(this.padding===!1)return e;for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)RV.equal(e[n],r);return e.slice(0,e.length-r)};As.prototype._encrypt=function(e,r,n,i,a){for(var s=r,f=n,l=0;l<e.keys.length;l+=2){var g=e.keys[l],m=e.keys[l+1];An.expand(f,e.tmp,0),g^=e.tmp[0],m^=e.tmp[1];var A=An.substitute(g,m),I=An.permute(A),T=f;f=(s^I)>>>0,s=T}An.rip(f,s,i,a)};As.prototype._decrypt=function(e,r,n,i,a){for(var s=n,f=r,l=e.keys.length-2;l>=0;l-=2){var g=e.keys[l],m=e.keys[l+1];An.expand(s,e.tmp,0),g^=e.tmp[0],m^=e.tmp[1];var A=An.substitute(g,m),I=An.permute(A),T=s;s=(f^I)>>>0,f=T}An.rip(s,f,i,a)}});var PV=ee(BV=>{"use strict";x();var b4e=fa(),w4e=pt(),o_={};function x4e(t){b4e.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function _4e(t){function e(a){t.call(this,a),this._cbcInit()}w4e(e,t);for(var r=Object.keys(o_),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=o_[i]}return e.create=function(s){return new e(s)},e}BV.instantiate=_4e;o_._cbcInit=function(){var e=new x4e(this.options.iv);this._cbcState=e};o_._update=function(e,r,n,i){var a=this._cbcState,s=this.constructor.super_.prototype,f=a.iv;if(this.type==="encrypt"){for(var l=0;l<this.blockSize;l++)f[l]^=e[r+l];s._update.call(this,f,0,n,i);for(var l=0;l<this.blockSize;l++)f[l]=n[i+l]}else{s._update.call(this,e,r,n,i);for(var l=0;l<this.blockSize;l++)n[i+l]^=f[l];for(var l=0;l<this.blockSize;l++)f[l]=e[r+l]}}});var DV=ee((fje,LV)=>{"use strict";x();var E4e=fa(),S4e=pt(),NV=a_(),Zu=aM();function A4e(t,e){E4e.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);t==="encrypt"?this.ciphers=[Zu.create({type:"encrypt",key:r}),Zu.create({type:"decrypt",key:n}),Zu.create({type:"encrypt",key:i})]:this.ciphers=[Zu.create({type:"decrypt",key:i}),Zu.create({type:"encrypt",key:n}),Zu.create({type:"decrypt",key:r})]}function Xl(t){NV.call(this,t);var e=new A4e(this.type,this.options.key);this._edeState=e}S4e(Xl,NV);LV.exports=Xl;Xl.create=function(e){return new Xl(e)};Xl.prototype._update=function(e,r,n,i){var a=this._edeState;a.ciphers[0]._update(e,r,n,i),a.ciphers[1]._update(n,i,n,i),a.ciphers[2]._update(n,i,n,i)};Xl.prototype._pad=Zu.prototype._pad;Xl.prototype._unpad=Zu.prototype._unpad});var qV=ee(Ad=>{"use strict";x();Ad.utils=iM();Ad.Cipher=a_();Ad.DES=aM();Ad.CBC=PV();Ad.EDE=DV()});var jV=ee((hje,FV)=>{x();var UV=Ef(),Sf=qV(),M4e=pt(),Ql=Et().Buffer,vv={"des-ede3-cbc":Sf.CBC.instantiate(Sf.EDE),"des-ede3":Sf.EDE,"des-ede-cbc":Sf.CBC.instantiate(Sf.EDE),"des-ede":Sf.EDE,"des-cbc":Sf.CBC.instantiate(Sf.DES),"des-ecb":Sf.DES};vv.des=vv["des-cbc"];vv.des3=vv["des-ede3-cbc"];FV.exports=s_;M4e(s_,UV);function s_(t){UV.call(this);var e=t.mode.toLowerCase(),r=vv[e],n;t.decrypt?n="decrypt":n="encrypt";var i=t.key;Ql.isBuffer(i)||(i=Ql.from(i)),(e==="des-ede"||e==="des-ede-cbc")&&(i=Ql.concat([i,i.slice(0,8)]));var a=t.iv;Ql.isBuffer(a)||(a=Ql.from(a)),this._des=r.create({key:i,iv:a,type:n})}s_.prototype._update=function(t){return Ql.from(this._des.update(t))};s_.prototype._final=function(){return Ql.from(this._des.final())}});var zV=ee(oM=>{x();oM.encrypt=function(t,e){return t._cipher.encryptBlock(e)};oM.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var Md=ee((vje,KV)=>{x();KV.exports=function(e,r){for(var n=Math.min(e.length,r.length),i=new N.Buffer(n),a=0;a<n;++a)i[a]=e[a]^r[a];return i}});var GV=ee(sM=>{x();var WV=Md();sM.encrypt=function(t,e){var r=WV(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};sM.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return WV(n,r)}});var VV=ee($V=>{x();var yv=Et().Buffer,T4e=Md();function HV(t,e,r){var n=e.length,i=T4e(e,t._cache);return t._cache=t._cache.slice(n),t._prev=yv.concat([t._prev,r?e:i]),i}$V.encrypt=function(t,e,r){for(var n=yv.allocUnsafe(0),i;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=yv.allocUnsafe(0)),t._cache.length<=e.length)i=t._cache.length,n=yv.concat([n,HV(t,e.slice(0,i),r)]),e=e.slice(i);else{n=yv.concat([n,HV(t,e,r)]);break}return n}});var JV=ee(ZV=>{x();var fM=Et().Buffer;function O4e(t,e,r){var n=t._cipher.encryptBlock(t._prev),i=n[0]^e;return t._prev=fM.concat([t._prev.slice(1),fM.from([r?e:i])]),i}ZV.encrypt=function(t,e,r){for(var n=e.length,i=fM.allocUnsafe(n),a=-1;++a<n;)i[a]=O4e(t,e[a],r);return i}});var XV=ee(YV=>{x();var f_=Et().Buffer;function I4e(t,e,r){for(var n,i=-1,a=8,s=0,f,l;++i<a;)n=t._cipher.encryptBlock(t._prev),f=e&1<<7-i?128:0,l=n[0]^f,s+=(l&128)>>i%8,t._prev=R4e(t._prev,r?f:l);return s}function R4e(t,e){var r=t.length,n=-1,i=f_.allocUnsafe(t.length);for(t=f_.concat([t,f_.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}YV.encrypt=function(t,e,r){for(var n=e.length,i=f_.allocUnsafe(n),a=-1;++a<n;)i[a]=I4e(t,e[a],r);return i}});var eZ=ee(QV=>{x();var k4e=Md();function C4e(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}QV.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=N.Buffer.concat([t._cache,C4e(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),k4e(e,r)}});var uM=ee((Oje,tZ)=>{x();function B4e(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}tZ.exports=B4e});var lM=ee(nZ=>{x();var P4e=Md(),rZ=Et().Buffer,N4e=uM();function L4e(t){var e=t._cipher.encryptBlockRaw(t._prev);return N4e(t._prev),e}var cM=16;nZ.encrypt=function(t,e){var r=Math.ceil(e.length/cM),n=t._cache.length;t._cache=rZ.concat([t._cache,rZ.allocUnsafe(r*cM)]);for(var i=0;i<r;i++){var a=L4e(t),s=n+i*cM;t._cache.writeUInt32BE(a[0],s+0),t._cache.writeUInt32BE(a[1],s+4),t._cache.writeUInt32BE(a[2],s+8),t._cache.writeUInt32BE(a[3],s+12)}var f=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),P4e(e,f)}});var hM=ee((Cje,D4e)=>{D4e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var c_=ee((Bje,iZ)=>{x();var q4e={ECB:zV(),CBC:GV(),CFB:VV(),CFB8:JV(),CFB1:XV(),OFB:eZ(),CTR:lM(),GCM:lM()},u_=hM();for(dM in u_)u_[dM].module=q4e[u_[dM].mode];var dM;iZ.exports=u_});var mv=ee((Nje,oZ)=>{x();var l_=Et().Buffer;function gM(t){l_.isBuffer(t)||(t=l_.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}function pM(t){for(var e=0;e<t.length;t++)t[e]=0}function aZ(t,e,r,n,i){for(var a=r[0],s=r[1],f=r[2],l=r[3],g=t[0]^e[0],m=t[1]^e[1],A=t[2]^e[2],I=t[3]^e[3],T,O,U,Z,Y=4,re=1;re<i;re++)T=a[g>>>24]^s[m>>>16&255]^f[A>>>8&255]^l[I&255]^e[Y++],O=a[m>>>24]^s[A>>>16&255]^f[I>>>8&255]^l[g&255]^e[Y++],U=a[A>>>24]^s[I>>>16&255]^f[g>>>8&255]^l[m&255]^e[Y++],Z=a[I>>>24]^s[g>>>16&255]^f[m>>>8&255]^l[A&255]^e[Y++],g=T,m=O,A=U,I=Z;return T=(n[g>>>24]<<24|n[m>>>16&255]<<16|n[A>>>8&255]<<8|n[I&255])^e[Y++],O=(n[m>>>24]<<24|n[A>>>16&255]<<16|n[I>>>8&255]<<8|n[g&255])^e[Y++],U=(n[A>>>24]<<24|n[I>>>16&255]<<16|n[g>>>8&255]<<8|n[m&255])^e[Y++],Z=(n[I>>>24]<<24|n[g>>>16&255]<<16|n[m>>>8&255]<<8|n[A&255])^e[Y++],T=T>>>0,O=O>>>0,U=U>>>0,Z=Z>>>0,[T,O,U,Z]}var U4e=[0,1,2,4,8,16,32,64,128,27,54],wn=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],a=[[],[],[],[]],s=0,f=0,l=0;l<256;++l){var g=f^f<<1^f<<2^f<<3^f<<4;g=g>>>8^g&255^99,r[s]=g,n[g]=s;var m=t[s],A=t[m],I=t[A],T=t[g]*257^g*16843008;i[0][s]=T<<24|T>>>8,i[1][s]=T<<16|T>>>16,i[2][s]=T<<8|T>>>24,i[3][s]=T,T=I*16843009^A*65537^m*257^s*16843008,a[0][g]=T<<24|T>>>8,a[1][g]=T<<16|T>>>16,a[2][g]=T<<8|T>>>24,a[3][g]=T,s===0?s=f=1:(s=m^t[t[t[I^m]]],f^=t[t[f]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:a}}();function za(t){this._key=gM(t),this._reset()}za.blockSize=4*4;za.keySize=256/8;za.prototype.blockSize=za.blockSize;za.prototype.keySize=za.keySize;za.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,i=[],a=0;a<e;a++)i[a]=t[a];for(a=e;a<n;a++){var s=i[a-1];a%e===0?(s=s<<8|s>>>24,s=wn.SBOX[s>>>24]<<24|wn.SBOX[s>>>16&255]<<16|wn.SBOX[s>>>8&255]<<8|wn.SBOX[s&255],s^=U4e[a/e|0]<<24):e>6&&a%e===4&&(s=wn.SBOX[s>>>24]<<24|wn.SBOX[s>>>16&255]<<16|wn.SBOX[s>>>8&255]<<8|wn.SBOX[s&255]),i[a]=i[a-e]^s}for(var f=[],l=0;l<n;l++){var g=n-l,m=i[g-(l%4?0:4)];l<4||g<=4?f[l]=m:f[l]=wn.INV_SUB_MIX[0][wn.SBOX[m>>>24]]^wn.INV_SUB_MIX[1][wn.SBOX[m>>>16&255]]^wn.INV_SUB_MIX[2][wn.SBOX[m>>>8&255]]^wn.INV_SUB_MIX[3][wn.SBOX[m&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=f};za.prototype.encryptBlockRaw=function(t){return t=gM(t),aZ(t,this._keySchedule,wn.SUB_MIX,wn.SBOX,this._nRounds)};za.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=l_.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};za.prototype.decryptBlock=function(t){t=gM(t);var e=t[1];t[1]=t[3],t[3]=e;var r=aZ(t,this._invKeySchedule,wn.INV_SUB_MIX,wn.INV_SBOX,this._nRounds),n=l_.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};za.prototype.scrub=function(){pM(this._keySchedule),pM(this._invKeySchedule),pM(this._key)};oZ.exports.AES=za});var uZ=ee((Dje,fZ)=>{x();var Td=Et().Buffer,F4e=Td.alloc(16,0);function j4e(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function sZ(t){var e=Td.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function bv(t){this.h=t,this.state=Td.alloc(16,0),this.cache=Td.allocUnsafe(0)}bv.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};bv.prototype._multiply=function(){for(var t=j4e(this.h),e=[0,0,0,0],r,n,i,a=-1;++a<128;){for(n=(this.state[~~(a/8)]&1<<7-a%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),i=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,i&&(t[0]=t[0]^225<<24)}this.state=sZ(e)};bv.prototype.update=function(t){this.cache=Td.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};bv.prototype.final=function(t,e){return this.cache.length&&this.ghash(Td.concat([this.cache,F4e],16)),this.ghash(sZ([0,t,0,e])),this.state};fZ.exports=bv});var vM=ee((Uje,hZ)=>{x();var z4e=mv(),Di=Et().Buffer,cZ=Ef(),K4e=pt(),lZ=uZ(),W4e=Md(),G4e=uM();function H4e(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}function $4e(t,e,r){if(e.length===12)return t._finID=Di.concat([e,Di.from([0,0,0,1])]),Di.concat([e,Di.from([0,0,0,2])]);var n=new lZ(r),i=e.length,a=i%16;n.update(e),a&&(a=16-a,n.update(Di.alloc(a,0))),n.update(Di.alloc(8,0));var s=i*8,f=Di.alloc(8);f.writeUIntBE(s,0,8),n.update(f),t._finID=n.state;var l=Di.from(t._finID);return G4e(l),l}function eh(t,e,r,n){cZ.call(this);var i=Di.alloc(4,0);this._cipher=new z4e.AES(e);var a=this._cipher.encryptBlock(i);this._ghash=new lZ(a),r=$4e(this,r,a),this._prev=Di.from(r),this._cache=Di.allocUnsafe(0),this._secCache=Di.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}K4e(eh,cZ);eh.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Di.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};eh.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=W4e(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&H4e(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};eh.prototype.getAuthTag=function(){if(this._decrypt||!Di.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};eh.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};eh.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};hZ.exports=eh});var mM=ee((jje,pZ)=>{x();var V4e=mv(),yM=Et().Buffer,dZ=Ef(),Z4e=pt();function h_(t,e,r,n){dZ.call(this),this._cipher=new V4e.AES(e),this._prev=yM.from(r),this._cache=yM.allocUnsafe(0),this._secCache=yM.allocUnsafe(0),this._decrypt=n,this._mode=t}Z4e(h_,dZ);h_.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};h_.prototype._final=function(){this._cipher.scrub()};pZ.exports=h_});var wv=ee((Kje,gZ)=>{x();var th=Et().Buffer,J4e=H2();function Y4e(t,e,r,n){if(th.isBuffer(t)||(t=th.from(t,"binary")),e&&(th.isBuffer(e)||(e=th.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,a=th.alloc(i),s=th.alloc(n||0),f=th.alloc(0);i>0||n>0;){var l=new J4e;l.update(f),l.update(t),e&&l.update(e),f=l.digest();var g=0;if(i>0){var m=a.length-i;g=Math.min(i,f.length),f.copy(a,m,0,g),i-=g}if(g<f.length&&n>0){var A=s.length-n,I=Math.min(n,f.length-g);f.copy(s,A,g,g+I),n-=I}}return f.fill(0),{key:a,iv:s}}gZ.exports=Y4e});var bZ=ee(bM=>{x();var vZ=c_(),X4e=vM(),Af=Et().Buffer,Q4e=mM(),yZ=Ef(),e8e=mv(),t8e=wv(),r8e=pt();function xv(t,e,r){yZ.call(this),this._cache=new d_,this._cipher=new e8e.AES(e),this._prev=Af.from(r),this._mode=t,this._autopadding=!0}r8e(xv,yZ);xv.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return Af.concat(n)};var n8e=Af.alloc(16,16);xv.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(n8e))throw this._cipher.scrub(),new Error("data not multiple of block length")};xv.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function d_(){this.cache=Af.allocUnsafe(0)}d_.prototype.add=function(t){this.cache=Af.concat([this.cache,t])};d_.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};d_.prototype.flush=function(){for(var t=16-this.cache.length,e=Af.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return Af.concat([this.cache,e])};function mZ(t,e,r){var n=vZ[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Af.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=Af.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new Q4e(n.module,e,r):n.type==="auth"?new X4e(n.module,e,r):new xv(n.module,e,r)}function i8e(t,e){var r=vZ[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=t8e(e,!1,r.key,r.iv);return mZ(t,n.key,n.iv)}bM.createCipheriv=mZ;bM.createCipher=i8e});var EZ=ee(wM=>{x();var a8e=vM(),Od=Et().Buffer,wZ=c_(),o8e=mM(),xZ=Ef(),s8e=mv(),f8e=wv(),u8e=pt();function _v(t,e,r){xZ.call(this),this._cache=new p_,this._last=void 0,this._cipher=new s8e.AES(e),this._prev=Od.from(r),this._mode=t,this._autopadding=!0}u8e(_v,xZ);_v.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return Od.concat(n)};_v.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return c8e(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};_v.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function p_(){this.cache=Od.allocUnsafe(0)}p_.prototype.add=function(t){this.cache=Od.concat([this.cache,t])};p_.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};p_.prototype.flush=function(){if(this.cache.length)return this.cache};function c8e(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function _Z(t,e,r){var n=wZ[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=Od.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=Od.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new o8e(n.module,e,r,!0):n.type==="auth"?new a8e(n.module,e,r,!0):new _v(n.module,e,r)}function l8e(t,e){var r=wZ[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=f8e(e,!1,r.key,r.iv);return _Z(t,n.key,n.iv)}wM.createDecipher=l8e;wM.createDecipheriv=_Z});var g_=ee(Io=>{x();var SZ=bZ(),AZ=EZ(),h8e=hM();function d8e(){return Object.keys(h8e)}Io.createCipher=Io.Cipher=SZ.createCipher;Io.createCipheriv=Io.Cipheriv=SZ.createCipheriv;Io.createDecipher=Io.Decipher=AZ.createDecipher;Io.createDecipheriv=Io.Decipheriv=AZ.createDecipheriv;Io.listCiphers=Io.getCiphers=d8e});var MZ=ee(Mf=>{x();Mf["des-ecb"]={key:8,iv:0};Mf["des-cbc"]=Mf.des={key:8,iv:8};Mf["des-ede3-cbc"]=Mf.des3={key:24,iv:8};Mf["des-ede3"]={key:24,iv:0};Mf["des-ede-cbc"]={key:16,iv:8};Mf["des-ede"]={key:16,iv:0}});var kZ=ee(Ro=>{x();var TZ=jV(),xM=g_(),Ju=c_(),Tf=MZ(),OZ=wv();function p8e(t,e){t=t.toLowerCase();var r,n;if(Ju[t])r=Ju[t].key,n=Ju[t].iv;else if(Tf[t])r=Tf[t].key*8,n=Tf[t].iv;else throw new TypeError("invalid suite type");var i=OZ(e,!1,r,n);return IZ(t,i.key,i.iv)}function g8e(t,e){t=t.toLowerCase();var r,n;if(Ju[t])r=Ju[t].key,n=Ju[t].iv;else if(Tf[t])r=Tf[t].key*8,n=Tf[t].iv;else throw new TypeError("invalid suite type");var i=OZ(e,!1,r,n);return RZ(t,i.key,i.iv)}function IZ(t,e,r){if(t=t.toLowerCase(),Ju[t])return xM.createCipheriv(t,e,r);if(Tf[t])return new TZ({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function RZ(t,e,r){if(t=t.toLowerCase(),Ju[t])return xM.createDecipheriv(t,e,r);if(Tf[t])return new TZ({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function v8e(){return Object.keys(Tf).concat(xM.getCiphers())}Ro.createCipher=Ro.Cipher=p8e;Ro.createCipheriv=Ro.Cipheriv=IZ;Ro.createDecipher=Ro.Decipher=g8e;Ro.createDecipheriv=Ro.Decipheriv=RZ;Ro.listCiphers=Ro.getCiphers=v8e});var v_=ee((tze,SM)=>{x();var _M;SM.exports=function(e){return _M||(_M=new Yu(null)),_M.generate(e)};function Yu(t){this.rand=t}SM.exports.Rand=Yu;Yu.prototype.generate=function(e){return this._rand(e)};Yu.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Yu.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Yu.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Yu.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(EM=Xu(),typeof EM.randomBytes!="function")throw new Error("Not supported");Yu.prototype._rand=function(e){return EM.randomBytes(e)}}catch{}var EM});var AM=ee((nze,CZ)=>{x();var rh=Yr(),y8e=v_();function nh(t){this.rand=t||new y8e.Rand}CZ.exports=nh;nh.create=function(e){return new nh(e)};nh.prototype._randbelow=function(e){var r=e.bitLength(),n=Math.ceil(r/8);do var i=new rh(this.rand.generate(n));while(i.cmp(e)>=0);return i};nh.prototype._randrange=function(e,r){var n=r.sub(e);return e.add(this._randbelow(n))};nh.prototype.test=function(e,r,n){var i=e.bitLength(),a=rh.mont(e),s=new rh(1).toRed(a);r||(r=Math.max(1,i/48|0));for(var f=e.subn(1),l=0;!f.testn(l);l++);for(var g=e.shrn(l),m=f.toRed(a),A=!0;r>0;r--){var I=this._randrange(new rh(2),f);n&&n(I);var T=I.toRed(a).redPow(g);if(!(T.cmp(s)===0||T.cmp(m)===0)){for(var O=1;O<l;O++){if(T=T.redSqr(),T.cmp(s)===0)return!1;if(T.cmp(m)===0)break}if(O===l)return!1}}return A};nh.prototype.getDivisor=function(e,r){var n=e.bitLength(),i=rh.mont(e),a=new rh(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var s=e.subn(1),f=0;!s.testn(f);f++);for(var l=e.shrn(f),g=s.toRed(i);r>0;r--){var m=this._randrange(new rh(2),s),A=e.gcd(m);if(A.cmpn(1)!==0)return A;var I=m.toRed(i).redPow(l);if(!(I.cmp(a)===0||I.cmp(g)===0)){for(var T=1;T<f;T++){if(I=I.redSqr(),I.cmp(a)===0)return I.fromRed().subn(1).gcd(e);if(I.cmp(g)===0)break}if(T===f)return I=I.redSqr(),I.fromRed().subn(1).gcd(e)}}return!1}});var kM=ee((uze,NZ)=>{x();var m8e=Hl();NZ.exports=RM;RM.simpleSieve=OM;RM.fermatTest=IM;var ei=Yr(),b8e=new ei(24),w8e=AM(),BZ=new w8e,x8e=new ei(1),TM=new ei(2),_8e=new ei(5),aze=new ei(16),oze=new ei(8),E8e=new ei(10),S8e=new ei(3),sze=new ei(7),A8e=new ei(11),PZ=new ei(4),fze=new ei(12),MM=null;function M8e(){if(MM!==null)return MM;var t=1048576,e=[];e[0]=2;for(var r=1,n=3;n<t;n+=2){for(var i=Math.ceil(Math.sqrt(n)),a=0;a<r&&e[a]<=i&&n%e[a]!==0;a++);r!==a&&e[a]<=i||(e[r++]=n)}return MM=e,e}function OM(t){for(var e=M8e(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function IM(t){var e=ei.mont(t);return TM.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function RM(t,e){if(t<16)return e===2||e===5?new ei([140,123]):new ei([140,39]);e=new ei(e);for(var r,n;;){for(r=new ei(m8e(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(x8e),r.testn(1)||r.iadd(TM),e.cmp(TM)){if(!e.cmp(_8e))for(;r.mod(E8e).cmp(S8e);)r.iadd(PZ)}else for(;r.mod(b8e).cmp(A8e);)r.iadd(PZ);if(n=r.shrn(1),OM(n)&&OM(r)&&IM(n)&&IM(r)&&BZ.test(n)&&BZ.test(r))return r}}});var LZ=ee((lze,T8e)=>{T8e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var FZ=ee((hze,UZ)=>{x();var Ka=Yr(),O8e=AM(),DZ=new O8e,I8e=new Ka(24),R8e=new Ka(11),k8e=new Ka(10),C8e=new Ka(3),B8e=new Ka(7),qZ=kM(),P8e=Hl();UZ.exports=Of;function N8e(t,e){return e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e)),this._pub=new Ka(t),this}function L8e(t,e){return e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e)),this._priv=new Ka(t),this}var y_={};function D8e(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in y_)return y_[n];var i=0;if(t.isEven()||!qZ.simpleSieve||!qZ.fermatTest(t)||!DZ.test(t))return i+=1,r==="02"||r==="05"?i+=8:i+=4,y_[n]=i,i;DZ.test(t.shrn(1))||(i+=2);var a;switch(r){case"02":t.mod(I8e).cmp(R8e)&&(i+=8);break;case"05":a=t.mod(k8e),a.cmp(C8e)&&a.cmp(B8e)&&(i+=8);break;default:i+=4}return y_[n]=i,i}function Of(t,e,r){this.setGenerator(e),this.__prime=new Ka(t),this._prime=Ka.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=N8e,this.setPrivateKey=L8e):this._primeCode=8}Object.defineProperty(Of.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=D8e(this.__prime,this.__gen)),this._primeCode}});Of.prototype.generateKeys=function(){return this._priv||(this._priv=new Ka(P8e(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};Of.prototype.computeSecret=function(t){t=new Ka(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new N.Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var i=new N.Buffer(n.length-r.length);i.fill(0),r=N.Buffer.concat([i,r])}return r};Of.prototype.getPublicKey=function(e){return m_(this._pub,e)};Of.prototype.getPrivateKey=function(e){return m_(this._priv,e)};Of.prototype.getPrime=function(t){return m_(this.__prime,t)};Of.prototype.getGenerator=function(t){return m_(this._gen,t)};Of.prototype.setGenerator=function(t,e){return e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e)),this.__gen=t,this._gen=new Ka(t),this};function m_(t,e){var r=new N.Buffer(t.toArray());return e?r.toString(e):r}});var KZ=ee(Id=>{x();var q8e=kM(),jZ=LZ(),CM=FZ();function U8e(t){var e=new N.Buffer(jZ[t].prime,"hex"),r=new N.Buffer(jZ[t].gen,"hex");return new CM(e,r)}var F8e={binary:!0,hex:!0,base64:!0};function zZ(t,e,r,n){return N.Buffer.isBuffer(e)||F8e[e]===void 0?zZ(t,"binary",e,r):(e=e||"binary",n=n||"binary",r=r||new N.Buffer([2]),N.Buffer.isBuffer(r)||(r=new N.Buffer(r,n)),typeof t=="number"?new CM(q8e(t,r),r,!0):(N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e)),new CM(t,r,!0)))}Id.DiffieHellmanGroup=Id.createDiffieHellmanGroup=Id.getDiffieHellman=U8e;Id.createDiffieHellman=Id.DiffieHellman=zZ});var GZ=ee((WZ,BM)=>{x();(function(t,e){"use strict";function r(y,o){if(!y)throw new Error(o||"Assertion failed")}function n(y,o){y.super_=o;var u=function(){};u.prototype=o.prototype,y.prototype=new u,y.prototype.constructor=y}function i(y,o,u){if(i.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(y||0,o||10,u||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Sr().Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,u){return o.cmp(u)>0?o:u},i.min=function(o,u){return o.cmp(u)<0?o:u},i.prototype._init=function(o,u,h){if(typeof o=="number")return this._initNumber(o,u,h);if(typeof o=="object")return this._initArray(o,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var p=0;o[0]==="-"&&(p++,this.negative=1),p<o.length&&(u===16?this._parseHex(o,p,h):(this._parseBase(o,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(o,u,h){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(r(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(o,u,h){if(r(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v,d,E=0;if(h==="be")for(p=o.length-1,v=0;p>=0;p-=3)d=o[p]|o[p-1]<<8|o[p-2]<<16,this.words[v]|=d<<E&67108863,this.words[v+1]=d>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);else if(h==="le")for(p=0,v=0;p<o.length;p+=3)d=o[p]|o[p+1]<<8|o[p+2]<<16,this.words[v]|=d<<E&67108863,this.words[v+1]=d>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);return this._strip()};function s(y,o){var u=y.charCodeAt(o);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;r(!1,"Invalid character in "+y)}function f(y,o,u){var h=s(y,u);return u-1>=o&&(h|=s(y,u-1)<<4),h}i.prototype._parseHex=function(o,u,h){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v=0,d=0,E;if(h==="be")for(p=o.length-1;p>=u;p-=2)E=f(o,u,p)<<v,this.words[d]|=E&67108863,v>=18?(v-=18,d+=1,this.words[d]|=E>>>26):v+=8;else{var w=o.length-u;for(p=w%2===0?u+1:u;p<o.length;p+=2)E=f(o,u,p)<<v,this.words[d]|=E&67108863,v>=18?(v-=18,d+=1,this.words[d]|=E>>>26):v+=8}this._strip()};function l(y,o,u,h){for(var p=0,v=0,d=Math.min(y.length,u),E=o;E<d;E++){var w=y.charCodeAt(E)-48;p*=h,w>=49?v=w-49+10:w>=17?v=w-17+10:v=w,r(w>=0&&v<h,"Invalid character"),p+=v}return p}i.prototype._parseBase=function(o,u,h){this.words=[0],this.length=1;for(var p=0,v=1;v<=67108863;v*=u)p++;p--,v=v/u|0;for(var d=o.length-h,E=d%p,w=Math.min(d,d-E)+h,c=0,b=h;b<w;b+=p)c=l(o,b,b+p,u),this.imuln(v),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(E!==0){var ue=1;for(c=l(o,b,o.length,u),b=0;b<E;b++)ue*=u;this.imuln(ue),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red};function g(y,o){y.words=o.words,y.length=o.length,y.negative=o.negative,y.red=o.red}if(i.prototype._move=function(o){g(o,this)},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=m}catch{i.prototype.inspect=m}else i.prototype.inspect=m;function m(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,u){o=o||10,u=u|0||1;var h;if(o===16||o==="hex"){h="";for(var p=0,v=0,d=0;d<this.length;d++){var E=this.words[d],w=((E<<p|v)&16777215).toString(16);v=E>>>24-p&16777215,p+=2,p>=26&&(p-=26,d--),v!==0||d!==this.length-1?h=A[6-w.length]+w+h:h=w+h}for(v!==0&&(h=v.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(o===(o|0)&&o>=2&&o<=36){var c=I[o],b=T[o];h="";var ue=this.clone();for(ue.negative=0;!ue.isZero();){var F=ue.modrn(b).toString(o);ue=ue.idivn(b),ue.isZero()?h=F+h:h=A[c-F.length]+F+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(o,u){return this.toArrayLike(a,o,u)}),i.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)};var O=function(o,u){return o.allocUnsafe?o.allocUnsafe(u):new o(u)};i.prototype.toArrayLike=function(o,u,h){this._strip();var p=this.byteLength(),v=h||Math.max(1,p);r(p<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0");var d=O(o,v),E=u==="le"?"LE":"BE";return this["_toArrayLike"+E](d,p),d},i.prototype._toArrayLikeLE=function(o,u){for(var h=0,p=0,v=0,d=0;v<this.length;v++){var E=this.words[v]<<d|p;o[h++]=E&255,h<o.length&&(o[h++]=E>>8&255),h<o.length&&(o[h++]=E>>16&255),d===6?(h<o.length&&(o[h++]=E>>24&255),p=0,d=0):(p=E>>>24,d+=2)}if(h<o.length)for(o[h++]=p;h<o.length;)o[h++]=0},i.prototype._toArrayLikeBE=function(o,u){for(var h=o.length-1,p=0,v=0,d=0;v<this.length;v++){var E=this.words[v]<<d|p;o[h--]=E&255,h>=0&&(o[h--]=E>>8&255),h>=0&&(o[h--]=E>>16&255),d===6?(h>=0&&(o[h--]=E>>24&255),p=0,d=0):(p=E>>>24,d+=2)}if(h>=0)for(o[h--]=p;h>=0;)o[h--]=0},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var u=o,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,h=0;return(u&8191)===0&&(h+=13,u>>>=13),(u&127)===0&&(h+=7,u>>>=7),(u&15)===0&&(h+=4,u>>>=4),(u&3)===0&&(h+=2,u>>>=2),(u&1)===0&&h++,h},i.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function U(y){for(var o=new Array(y.bitLength()),u=0;u<o.length;u++){var h=u/26|0,p=u%26;o[u]=y.words[h]>>>p&1}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(o+=h,h!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this._strip()},i.prototype.ior=function(o){return r((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&o.words[h];return this.length=u.length,this._strip()},i.prototype.iand=function(o){return r((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var u,h;this.length>o.length?(u=this,h=o):(u=o,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this._strip()},i.prototype.ixor=function(o){return r((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){r(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,h=o%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this._strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,u){r(typeof o=="number"&&o>=0);var h=o/26|0,p=o%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this._strip()},i.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var h,p;this.length>o.length?(h=this,p=o):(h=o,p=this);for(var v=0,d=0;d<p.length;d++)u=(h.words[d]|0)+(p.words[d]|0)+v,this.words[d]=u&67108863,v=u>>>26;for(;v!==0&&d<h.length;d++)u=(h.words[d]|0)+v,this.words[d]=u&67108863,v=u>>>26;if(this.length=h.length,v!==0)this.words[this.length]=v,this.length++;else if(h!==this)for(;d<h.length;d++)this.words[d]=h.words[d];return this},i.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var h=this.cmp(o);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,v;h>0?(p=this,v=o):(p=o,v=this);for(var d=0,E=0;E<v.length;E++)u=(p.words[E]|0)-(v.words[E]|0)+d,d=u>>26,this.words[E]=u&67108863;for(;d!==0&&E<p.length;E++)u=(p.words[E]|0)+d,d=u>>26,this.words[E]=u&67108863;if(d===0&&E<p.length&&p!==this)for(;E<p.length;E++)this.words[E]=p.words[E];return this.length=Math.max(this.length,E),p!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function Z(y,o,u){u.negative=o.negative^y.negative;var h=y.length+o.length|0;u.length=h,h=h-1|0;var p=y.words[0]|0,v=o.words[0]|0,d=p*v,E=d&67108863,w=d/67108864|0;u.words[0]=E;for(var c=1;c<h;c++){for(var b=w>>>26,ue=w&67108863,F=Math.min(c,o.length-1),ne=Math.max(0,c-y.length+1);ne<=F;ne++){var ce=c-ne|0;p=y.words[ce]|0,v=o.words[ne]|0,d=p*v+ue,b+=d/67108864|0,ue=d&67108863}u.words[c]=ue|0,w=b|0}return w!==0?u.words[c]=w|0:u.length--,u._strip()}var Y=function(o,u,h){var p=o.words,v=u.words,d=h.words,E=0,w,c,b,ue=p[0]|0,F=ue&8191,ne=ue>>>13,ce=p[1]|0,xe=ce&8191,M=ce>>>13,k=p[2]|0,C=k&8191,z=k>>>13,H=p[3]|0,j=H&8191,J=H>>>13,W=p[4]|0,K=W&8191,X=W>>>13,te=p[5]|0,ae=te&8191,$=te>>>13,oe=p[6]|0,le=oe&8191,Ee=oe>>>13,Be=p[7]|0,Ae=Be&8191,R=Be>>>13,V=p[8]|0,Q=V&8191,ve=V>>>13,Te=p[9]|0,Se=Te&8191,ie=Te>>>13,be=v[0]|0,ye=be&8191,me=be>>>13,qe=v[1]|0,Oe=qe&8191,Ie=qe>>>13,ot=v[2]|0,ke=ot&8191,Le=ot>>>13,gt=v[3]|0,Ce=gt&8191,Ue=gt>>>13,at=v[4]|0,Ke=at&8191,Ne=at>>>13,lt=v[5]|0,We=lt&8191,He=lt>>>13,wt=v[6]|0,ze=wt&8191,De=wt>>>13,Ut=v[7]|0,$e=Ut&8191,Ze=Ut>>>13,wr=v[8]|0,Je=wr&8191,Ve=wr>>>13,nr=v[9]|0,et=nr&8191,Xe=nr>>>13;h.negative=o.negative^u.negative,h.length=19,w=Math.imul(F,ye),c=Math.imul(F,me),c=c+Math.imul(ne,ye)|0,b=Math.imul(ne,me);var sr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(sr>>>26)|0,sr&=67108863,w=Math.imul(xe,ye),c=Math.imul(xe,me),c=c+Math.imul(M,ye)|0,b=Math.imul(M,me),w=w+Math.imul(F,Oe)|0,c=c+Math.imul(F,Ie)|0,c=c+Math.imul(ne,Oe)|0,b=b+Math.imul(ne,Ie)|0;var Jt=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,w=Math.imul(C,ye),c=Math.imul(C,me),c=c+Math.imul(z,ye)|0,b=Math.imul(z,me),w=w+Math.imul(xe,Oe)|0,c=c+Math.imul(xe,Ie)|0,c=c+Math.imul(M,Oe)|0,b=b+Math.imul(M,Ie)|0,w=w+Math.imul(F,ke)|0,c=c+Math.imul(F,Le)|0,c=c+Math.imul(ne,ke)|0,b=b+Math.imul(ne,Le)|0;var Bt=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,w=Math.imul(j,ye),c=Math.imul(j,me),c=c+Math.imul(J,ye)|0,b=Math.imul(J,me),w=w+Math.imul(C,Oe)|0,c=c+Math.imul(C,Ie)|0,c=c+Math.imul(z,Oe)|0,b=b+Math.imul(z,Ie)|0,w=w+Math.imul(xe,ke)|0,c=c+Math.imul(xe,Le)|0,c=c+Math.imul(M,ke)|0,b=b+Math.imul(M,Le)|0,w=w+Math.imul(F,Ce)|0,c=c+Math.imul(F,Ue)|0,c=c+Math.imul(ne,Ce)|0,b=b+Math.imul(ne,Ue)|0;var yr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(yr>>>26)|0,yr&=67108863,w=Math.imul(K,ye),c=Math.imul(K,me),c=c+Math.imul(X,ye)|0,b=Math.imul(X,me),w=w+Math.imul(j,Oe)|0,c=c+Math.imul(j,Ie)|0,c=c+Math.imul(J,Oe)|0,b=b+Math.imul(J,Ie)|0,w=w+Math.imul(C,ke)|0,c=c+Math.imul(C,Le)|0,c=c+Math.imul(z,ke)|0,b=b+Math.imul(z,Le)|0,w=w+Math.imul(xe,Ce)|0,c=c+Math.imul(xe,Ue)|0,c=c+Math.imul(M,Ce)|0,b=b+Math.imul(M,Ue)|0,w=w+Math.imul(F,Ke)|0,c=c+Math.imul(F,Ne)|0,c=c+Math.imul(ne,Ke)|0,b=b+Math.imul(ne,Ne)|0;var ir=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,w=Math.imul(ae,ye),c=Math.imul(ae,me),c=c+Math.imul($,ye)|0,b=Math.imul($,me),w=w+Math.imul(K,Oe)|0,c=c+Math.imul(K,Ie)|0,c=c+Math.imul(X,Oe)|0,b=b+Math.imul(X,Ie)|0,w=w+Math.imul(j,ke)|0,c=c+Math.imul(j,Le)|0,c=c+Math.imul(J,ke)|0,b=b+Math.imul(J,Le)|0,w=w+Math.imul(C,Ce)|0,c=c+Math.imul(C,Ue)|0,c=c+Math.imul(z,Ce)|0,b=b+Math.imul(z,Ue)|0,w=w+Math.imul(xe,Ke)|0,c=c+Math.imul(xe,Ne)|0,c=c+Math.imul(M,Ke)|0,b=b+Math.imul(M,Ne)|0,w=w+Math.imul(F,We)|0,c=c+Math.imul(F,He)|0,c=c+Math.imul(ne,We)|0,b=b+Math.imul(ne,He)|0;var Dr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,w=Math.imul(le,ye),c=Math.imul(le,me),c=c+Math.imul(Ee,ye)|0,b=Math.imul(Ee,me),w=w+Math.imul(ae,Oe)|0,c=c+Math.imul(ae,Ie)|0,c=c+Math.imul($,Oe)|0,b=b+Math.imul($,Ie)|0,w=w+Math.imul(K,ke)|0,c=c+Math.imul(K,Le)|0,c=c+Math.imul(X,ke)|0,b=b+Math.imul(X,Le)|0,w=w+Math.imul(j,Ce)|0,c=c+Math.imul(j,Ue)|0,c=c+Math.imul(J,Ce)|0,b=b+Math.imul(J,Ue)|0,w=w+Math.imul(C,Ke)|0,c=c+Math.imul(C,Ne)|0,c=c+Math.imul(z,Ke)|0,b=b+Math.imul(z,Ne)|0,w=w+Math.imul(xe,We)|0,c=c+Math.imul(xe,He)|0,c=c+Math.imul(M,We)|0,b=b+Math.imul(M,He)|0,w=w+Math.imul(F,ze)|0,c=c+Math.imul(F,De)|0,c=c+Math.imul(ne,ze)|0,b=b+Math.imul(ne,De)|0;var xr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(xr>>>26)|0,xr&=67108863,w=Math.imul(Ae,ye),c=Math.imul(Ae,me),c=c+Math.imul(R,ye)|0,b=Math.imul(R,me),w=w+Math.imul(le,Oe)|0,c=c+Math.imul(le,Ie)|0,c=c+Math.imul(Ee,Oe)|0,b=b+Math.imul(Ee,Ie)|0,w=w+Math.imul(ae,ke)|0,c=c+Math.imul(ae,Le)|0,c=c+Math.imul($,ke)|0,b=b+Math.imul($,Le)|0,w=w+Math.imul(K,Ce)|0,c=c+Math.imul(K,Ue)|0,c=c+Math.imul(X,Ce)|0,b=b+Math.imul(X,Ue)|0,w=w+Math.imul(j,Ke)|0,c=c+Math.imul(j,Ne)|0,c=c+Math.imul(J,Ke)|0,b=b+Math.imul(J,Ne)|0,w=w+Math.imul(C,We)|0,c=c+Math.imul(C,He)|0,c=c+Math.imul(z,We)|0,b=b+Math.imul(z,He)|0,w=w+Math.imul(xe,ze)|0,c=c+Math.imul(xe,De)|0,c=c+Math.imul(M,ze)|0,b=b+Math.imul(M,De)|0,w=w+Math.imul(F,$e)|0,c=c+Math.imul(F,Ze)|0,c=c+Math.imul(ne,$e)|0,b=b+Math.imul(ne,Ze)|0;var qr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,w=Math.imul(Q,ye),c=Math.imul(Q,me),c=c+Math.imul(ve,ye)|0,b=Math.imul(ve,me),w=w+Math.imul(Ae,Oe)|0,c=c+Math.imul(Ae,Ie)|0,c=c+Math.imul(R,Oe)|0,b=b+Math.imul(R,Ie)|0,w=w+Math.imul(le,ke)|0,c=c+Math.imul(le,Le)|0,c=c+Math.imul(Ee,ke)|0,b=b+Math.imul(Ee,Le)|0,w=w+Math.imul(ae,Ce)|0,c=c+Math.imul(ae,Ue)|0,c=c+Math.imul($,Ce)|0,b=b+Math.imul($,Ue)|0,w=w+Math.imul(K,Ke)|0,c=c+Math.imul(K,Ne)|0,c=c+Math.imul(X,Ke)|0,b=b+Math.imul(X,Ne)|0,w=w+Math.imul(j,We)|0,c=c+Math.imul(j,He)|0,c=c+Math.imul(J,We)|0,b=b+Math.imul(J,He)|0,w=w+Math.imul(C,ze)|0,c=c+Math.imul(C,De)|0,c=c+Math.imul(z,ze)|0,b=b+Math.imul(z,De)|0,w=w+Math.imul(xe,$e)|0,c=c+Math.imul(xe,Ze)|0,c=c+Math.imul(M,$e)|0,b=b+Math.imul(M,Ze)|0,w=w+Math.imul(F,Je)|0,c=c+Math.imul(F,Ve)|0,c=c+Math.imul(ne,Je)|0,b=b+Math.imul(ne,Ve)|0;var _r=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(_r>>>26)|0,_r&=67108863,w=Math.imul(Se,ye),c=Math.imul(Se,me),c=c+Math.imul(ie,ye)|0,b=Math.imul(ie,me),w=w+Math.imul(Q,Oe)|0,c=c+Math.imul(Q,Ie)|0,c=c+Math.imul(ve,Oe)|0,b=b+Math.imul(ve,Ie)|0,w=w+Math.imul(Ae,ke)|0,c=c+Math.imul(Ae,Le)|0,c=c+Math.imul(R,ke)|0,b=b+Math.imul(R,Le)|0,w=w+Math.imul(le,Ce)|0,c=c+Math.imul(le,Ue)|0,c=c+Math.imul(Ee,Ce)|0,b=b+Math.imul(Ee,Ue)|0,w=w+Math.imul(ae,Ke)|0,c=c+Math.imul(ae,Ne)|0,c=c+Math.imul($,Ke)|0,b=b+Math.imul($,Ne)|0,w=w+Math.imul(K,We)|0,c=c+Math.imul(K,He)|0,c=c+Math.imul(X,We)|0,b=b+Math.imul(X,He)|0,w=w+Math.imul(j,ze)|0,c=c+Math.imul(j,De)|0,c=c+Math.imul(J,ze)|0,b=b+Math.imul(J,De)|0,w=w+Math.imul(C,$e)|0,c=c+Math.imul(C,Ze)|0,c=c+Math.imul(z,$e)|0,b=b+Math.imul(z,Ze)|0,w=w+Math.imul(xe,Je)|0,c=c+Math.imul(xe,Ve)|0,c=c+Math.imul(M,Je)|0,b=b+Math.imul(M,Ve)|0,w=w+Math.imul(F,et)|0,c=c+Math.imul(F,Xe)|0,c=c+Math.imul(ne,et)|0,b=b+Math.imul(ne,Xe)|0;var Ur=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,w=Math.imul(Se,Oe),c=Math.imul(Se,Ie),c=c+Math.imul(ie,Oe)|0,b=Math.imul(ie,Ie),w=w+Math.imul(Q,ke)|0,c=c+Math.imul(Q,Le)|0,c=c+Math.imul(ve,ke)|0,b=b+Math.imul(ve,Le)|0,w=w+Math.imul(Ae,Ce)|0,c=c+Math.imul(Ae,Ue)|0,c=c+Math.imul(R,Ce)|0,b=b+Math.imul(R,Ue)|0,w=w+Math.imul(le,Ke)|0,c=c+Math.imul(le,Ne)|0,c=c+Math.imul(Ee,Ke)|0,b=b+Math.imul(Ee,Ne)|0,w=w+Math.imul(ae,We)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul($,We)|0,b=b+Math.imul($,He)|0,w=w+Math.imul(K,ze)|0,c=c+Math.imul(K,De)|0,c=c+Math.imul(X,ze)|0,b=b+Math.imul(X,De)|0,w=w+Math.imul(j,$e)|0,c=c+Math.imul(j,Ze)|0,c=c+Math.imul(J,$e)|0,b=b+Math.imul(J,Ze)|0,w=w+Math.imul(C,Je)|0,c=c+Math.imul(C,Ve)|0,c=c+Math.imul(z,Je)|0,b=b+Math.imul(z,Ve)|0,w=w+Math.imul(xe,et)|0,c=c+Math.imul(xe,Xe)|0,c=c+Math.imul(M,et)|0,b=b+Math.imul(M,Xe)|0;var Rr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,w=Math.imul(Se,ke),c=Math.imul(Se,Le),c=c+Math.imul(ie,ke)|0,b=Math.imul(ie,Le),w=w+Math.imul(Q,Ce)|0,c=c+Math.imul(Q,Ue)|0,c=c+Math.imul(ve,Ce)|0,b=b+Math.imul(ve,Ue)|0,w=w+Math.imul(Ae,Ke)|0,c=c+Math.imul(Ae,Ne)|0,c=c+Math.imul(R,Ke)|0,b=b+Math.imul(R,Ne)|0,w=w+Math.imul(le,We)|0,c=c+Math.imul(le,He)|0,c=c+Math.imul(Ee,We)|0,b=b+Math.imul(Ee,He)|0,w=w+Math.imul(ae,ze)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul($,ze)|0,b=b+Math.imul($,De)|0,w=w+Math.imul(K,$e)|0,c=c+Math.imul(K,Ze)|0,c=c+Math.imul(X,$e)|0,b=b+Math.imul(X,Ze)|0,w=w+Math.imul(j,Je)|0,c=c+Math.imul(j,Ve)|0,c=c+Math.imul(J,Je)|0,b=b+Math.imul(J,Ve)|0,w=w+Math.imul(C,et)|0,c=c+Math.imul(C,Xe)|0,c=c+Math.imul(z,et)|0,b=b+Math.imul(z,Xe)|0;var Fr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,w=Math.imul(Se,Ce),c=Math.imul(Se,Ue),c=c+Math.imul(ie,Ce)|0,b=Math.imul(ie,Ue),w=w+Math.imul(Q,Ke)|0,c=c+Math.imul(Q,Ne)|0,c=c+Math.imul(ve,Ke)|0,b=b+Math.imul(ve,Ne)|0,w=w+Math.imul(Ae,We)|0,c=c+Math.imul(Ae,He)|0,c=c+Math.imul(R,We)|0,b=b+Math.imul(R,He)|0,w=w+Math.imul(le,ze)|0,c=c+Math.imul(le,De)|0,c=c+Math.imul(Ee,ze)|0,b=b+Math.imul(Ee,De)|0,w=w+Math.imul(ae,$e)|0,c=c+Math.imul(ae,Ze)|0,c=c+Math.imul($,$e)|0,b=b+Math.imul($,Ze)|0,w=w+Math.imul(K,Je)|0,c=c+Math.imul(K,Ve)|0,c=c+Math.imul(X,Je)|0,b=b+Math.imul(X,Ve)|0,w=w+Math.imul(j,et)|0,c=c+Math.imul(j,Xe)|0,c=c+Math.imul(J,et)|0,b=b+Math.imul(J,Xe)|0;var Er=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Er>>>26)|0,Er&=67108863,w=Math.imul(Se,Ke),c=Math.imul(Se,Ne),c=c+Math.imul(ie,Ke)|0,b=Math.imul(ie,Ne),w=w+Math.imul(Q,We)|0,c=c+Math.imul(Q,He)|0,c=c+Math.imul(ve,We)|0,b=b+Math.imul(ve,He)|0,w=w+Math.imul(Ae,ze)|0,c=c+Math.imul(Ae,De)|0,c=c+Math.imul(R,ze)|0,b=b+Math.imul(R,De)|0,w=w+Math.imul(le,$e)|0,c=c+Math.imul(le,Ze)|0,c=c+Math.imul(Ee,$e)|0,b=b+Math.imul(Ee,Ze)|0,w=w+Math.imul(ae,Je)|0,c=c+Math.imul(ae,Ve)|0,c=c+Math.imul($,Je)|0,b=b+Math.imul($,Ve)|0,w=w+Math.imul(K,et)|0,c=c+Math.imul(K,Xe)|0,c=c+Math.imul(X,et)|0,b=b+Math.imul(X,Xe)|0;var kr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(kr>>>26)|0,kr&=67108863,w=Math.imul(Se,We),c=Math.imul(Se,He),c=c+Math.imul(ie,We)|0,b=Math.imul(ie,He),w=w+Math.imul(Q,ze)|0,c=c+Math.imul(Q,De)|0,c=c+Math.imul(ve,ze)|0,b=b+Math.imul(ve,De)|0,w=w+Math.imul(Ae,$e)|0,c=c+Math.imul(Ae,Ze)|0,c=c+Math.imul(R,$e)|0,b=b+Math.imul(R,Ze)|0,w=w+Math.imul(le,Je)|0,c=c+Math.imul(le,Ve)|0,c=c+Math.imul(Ee,Je)|0,b=b+Math.imul(Ee,Ve)|0,w=w+Math.imul(ae,et)|0,c=c+Math.imul(ae,Xe)|0,c=c+Math.imul($,et)|0,b=b+Math.imul($,Xe)|0;var nn=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(nn>>>26)|0,nn&=67108863,w=Math.imul(Se,ze),c=Math.imul(Se,De),c=c+Math.imul(ie,ze)|0,b=Math.imul(ie,De),w=w+Math.imul(Q,$e)|0,c=c+Math.imul(Q,Ze)|0,c=c+Math.imul(ve,$e)|0,b=b+Math.imul(ve,Ze)|0,w=w+Math.imul(Ae,Je)|0,c=c+Math.imul(Ae,Ve)|0,c=c+Math.imul(R,Je)|0,b=b+Math.imul(R,Ve)|0,w=w+Math.imul(le,et)|0,c=c+Math.imul(le,Xe)|0,c=c+Math.imul(Ee,et)|0,b=b+Math.imul(Ee,Xe)|0;var an=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(an>>>26)|0,an&=67108863,w=Math.imul(Se,$e),c=Math.imul(Se,Ze),c=c+Math.imul(ie,$e)|0,b=Math.imul(ie,Ze),w=w+Math.imul(Q,Je)|0,c=c+Math.imul(Q,Ve)|0,c=c+Math.imul(ve,Je)|0,b=b+Math.imul(ve,Ve)|0,w=w+Math.imul(Ae,et)|0,c=c+Math.imul(Ae,Xe)|0,c=c+Math.imul(R,et)|0,b=b+Math.imul(R,Xe)|0;var Gn=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,w=Math.imul(Se,Je),c=Math.imul(Se,Ve),c=c+Math.imul(ie,Je)|0,b=Math.imul(ie,Ve),w=w+Math.imul(Q,et)|0,c=c+Math.imul(Q,Xe)|0,c=c+Math.imul(ve,et)|0,b=b+Math.imul(ve,Xe)|0;var yn=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(Se,et),c=Math.imul(Se,Xe),c=c+Math.imul(ie,et)|0,b=Math.imul(ie,Xe);var On=(E+w|0)+((c&8191)<<13)|0;return E=(b+(c>>>13)|0)+(On>>>26)|0,On&=67108863,d[0]=sr,d[1]=Jt,d[2]=Bt,d[3]=yr,d[4]=ir,d[5]=Dr,d[6]=xr,d[7]=qr,d[8]=_r,d[9]=Ur,d[10]=Rr,d[11]=Fr,d[12]=Er,d[13]=kr,d[14]=nn,d[15]=an,d[16]=Gn,d[17]=yn,d[18]=On,E!==0&&(d[19]=E,h.length++),h};Math.imul||(Y=Z);function re(y,o,u){u.negative=o.negative^y.negative,u.length=y.length+o.length;for(var h=0,p=0,v=0;v<u.length-1;v++){var d=p;p=0;for(var E=h&67108863,w=Math.min(v,o.length-1),c=Math.max(0,v-y.length+1);c<=w;c++){var b=v-c,ue=y.words[b]|0,F=o.words[c]|0,ne=ue*F,ce=ne&67108863;d=d+(ne/67108864|0)|0,ce=ce+E|0,E=ce&67108863,d=d+(ce>>>26)|0,p+=d>>>26,d&=67108863}u.words[v]=E,h=d,d=p}return h!==0?u.words[v]=h:u.length--,u._strip()}function pe(y,o,u){return re(y,o,u)}i.prototype.mulTo=function(o,u){var h,p=this.length+o.length;return this.length===10&&o.length===10?h=Y(this,o,u):p<63?h=Z(this,o,u):p<1024?h=re(this,o,u):h=pe(this,o,u),h};function he(y,o){this.x=y,this.y=o}he.prototype.makeRBT=function(o){for(var u=new Array(o),h=i.prototype._countBits(o)-1,p=0;p<o;p++)u[p]=this.revBin(p,h,o);return u},he.prototype.revBin=function(o,u,h){if(o===0||o===h-1)return o;for(var p=0,v=0;v<u;v++)p|=(o&1)<<u-v-1,o>>=1;return p},he.prototype.permute=function(o,u,h,p,v,d){for(var E=0;E<d;E++)p[E]=u[o[E]],v[E]=h[o[E]]},he.prototype.transform=function(o,u,h,p,v,d){this.permute(d,o,u,h,p,v);for(var E=1;E<v;E<<=1)for(var w=E<<1,c=Math.cos(2*Math.PI/w),b=Math.sin(2*Math.PI/w),ue=0;ue<v;ue+=w)for(var F=c,ne=b,ce=0;ce<E;ce++){var xe=h[ue+ce],M=p[ue+ce],k=h[ue+ce+E],C=p[ue+ce+E],z=F*k-ne*C;C=F*C+ne*k,k=z,h[ue+ce]=xe+k,p[ue+ce]=M+C,h[ue+ce+E]=xe-k,p[ue+ce+E]=M-C,ce!==w&&(z=c*F-b*ne,ne=c*ne+b*F,F=z)}},he.prototype.guessLen13b=function(o,u){var h=Math.max(u,o)|1,p=h&1,v=0;for(h=h/2|0;h;h=h>>>1)v++;return 1<<v+1+p},he.prototype.conjugate=function(o,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var v=o[p];o[p]=o[h-p-1],o[h-p-1]=v,v=u[p],u[p]=-u[h-p-1],u[h-p-1]=-v}},he.prototype.normalize13b=function(o,u){for(var h=0,p=0;p<u/2;p++){var v=Math.round(o[2*p+1]/u)*8192+Math.round(o[2*p]/u)+h;o[p]=v&67108863,v<67108864?h=0:h=v/67108864|0}return o},he.prototype.convert13b=function(o,u,h,p){for(var v=0,d=0;d<u;d++)v=v+(o[d]|0),h[2*d]=v&8191,v=v>>>13,h[2*d+1]=v&8191,v=v>>>13;for(d=2*u;d<p;++d)h[d]=0;r(v===0),r((v&-8192)===0)},he.prototype.stub=function(o){for(var u=new Array(o),h=0;h<o;h++)u[h]=0;return u},he.prototype.mulp=function(o,u,h){var p=2*this.guessLen13b(o.length,u.length),v=this.makeRBT(p),d=this.stub(p),E=new Array(p),w=new Array(p),c=new Array(p),b=new Array(p),ue=new Array(p),F=new Array(p),ne=h.words;ne.length=p,this.convert13b(o.words,o.length,E,p),this.convert13b(u.words,u.length,b,p),this.transform(E,d,w,c,p,v),this.transform(b,d,ue,F,p,v);for(var ce=0;ce<p;ce++){var xe=w[ce]*ue[ce]-c[ce]*F[ce];c[ce]=w[ce]*F[ce]+c[ce]*ue[ce],w[ce]=xe}return this.conjugate(w,c,p),this.transform(w,c,ne,d,p,v),this.conjugate(ne,d,p),this.normalize13b(ne,p),h.negative=o.negative^u.negative,h.length=o.length+u.length,h._strip()},i.prototype.mul=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},i.prototype.mulf=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),pe(this,o,u)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){var u=o<0;u&&(o=-o),r(typeof o=="number"),r(o<67108864);for(var h=0,p=0;p<this.length;p++){var v=(this.words[p]|0)*o,d=(v&67108863)+(h&67108863);h>>=26,h+=v/67108864|0,h+=d>>>26,this.words[p]=d&67108863}return h!==0&&(this.words[p]=h,this.length++),u?this.ineg():this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var u=U(o);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var v=h.sqr();p<u.length;p++,v=v.sqr())u[p]!==0&&(h=h.mul(v));return h},i.prototype.iushln=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,p=67108863>>>26-u<<26-u,v;if(u!==0){var d=0;for(v=0;v<this.length;v++){var E=this.words[v]&p,w=(this.words[v]|0)-E<<u;this.words[v]=w|d,d=E>>>26-u}d&&(this.words[v]=d,this.length++)}if(h!==0){for(v=this.length-1;v>=0;v--)this.words[v+h]=this.words[v];for(v=0;v<h;v++)this.words[v]=0;this.length+=h}return this._strip()},i.prototype.ishln=function(o){return r(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,u,h){r(typeof o=="number"&&o>=0);var p;u?p=(u-u%26)/26:p=0;var v=o%26,d=Math.min((o-v)/26,this.length),E=67108863^67108863>>>v<<v,w=h;if(p-=d,p=Math.max(0,p),w){for(var c=0;c<d;c++)w.words[c]=this.words[c];w.length=d}if(d!==0)if(this.length>d)for(this.length-=d,c=0;c<this.length;c++)this.words[c]=this.words[c+d];else this.words[0]=0,this.length=1;var b=0;for(c=this.length-1;c>=0&&(b!==0||c>=p);c--){var ue=this.words[c]|0;this.words[c]=b<<26-v|ue>>>v,b=ue&E}return w&&b!==0&&(w.words[w.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(o,u,h){return r(this.negative===0),this.iushrn(o,u,h)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,p=1<<u;if(this.length<=h)return!1;var v=this.words[h];return!!(v&p)},i.prototype.imaskn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this._strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return r(typeof o=="number"),r(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(o){if(r(typeof o=="number"),r(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,u,h){var p=o.length+h,v;this._expand(p);var d,E=0;for(v=0;v<o.length;v++){d=(this.words[v+h]|0)+E;var w=(o.words[v]|0)*u;d-=w&67108863,E=(d>>26)-(w/67108864|0),this.words[v+h]=d&67108863}for(;v<this.length-h;v++)d=(this.words[v+h]|0)+E,E=d>>26,this.words[v+h]=d&67108863;if(E===0)return this._strip();for(r(E===-1),E=0,v=0;v<this.length;v++)d=-(this.words[v]|0)+E,E=d>>26,this.words[v]=d&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(o,u){var h=this.length-o.length,p=this.clone(),v=o,d=v.words[v.length-1]|0,E=this._countBits(d);h=26-E,h!==0&&(v=v.ushln(h),p.iushln(h),d=v.words[v.length-1]|0);var w=p.length-v.length,c;if(u!=="mod"){c=new i(null),c.length=w+1,c.words=new Array(c.length);for(var b=0;b<c.length;b++)c.words[b]=0}var ue=p.clone()._ishlnsubmul(v,1,w);ue.negative===0&&(p=ue,c&&(c.words[w]=1));for(var F=w-1;F>=0;F--){var ne=(p.words[v.length+F]|0)*67108864+(p.words[v.length+F-1]|0);for(ne=Math.min(ne/d|0,67108863),p._ishlnsubmul(v,ne,F);p.negative!==0;)ne--,p.negative=0,p._ishlnsubmul(v,1,F),p.isZero()||(p.negative^=1);c&&(c.words[F]=ne)}return c&&c._strip(),p._strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:c||null,mod:p}},i.prototype.divmod=function(o,u,h){if(r(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,v,d;return this.negative!==0&&o.negative===0?(d=this.neg().divmod(o,u),u!=="mod"&&(p=d.div.neg()),u!=="div"&&(v=d.mod.neg(),h&&v.negative!==0&&v.iadd(o)),{div:p,mod:v}):this.negative===0&&o.negative!==0?(d=this.divmod(o.neg(),u),u!=="mod"&&(p=d.div.neg()),{div:p,mod:d.mod}):(this.negative&o.negative)!==0?(d=this.neg().divmod(o.neg(),u),u!=="div"&&(v=d.mod.neg(),h&&v.negative!==0&&v.isub(o)),{div:d.div,mod:v}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modrn(o.words[0]))}:this._wordDiv(o,u)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(o):u.mod,p=o.ushrn(1),v=o.andln(1),d=h.cmp(p);return d<0||v===1&&d===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modrn=function(o){var u=o<0;u&&(o=-o),r(o<=67108863);for(var h=(1<<26)%o,p=0,v=this.length-1;v>=0;v--)p=(h*p+(this.words[v]|0))%o;return u?-p:p},i.prototype.modn=function(o){return this.modrn(o)},i.prototype.idivn=function(o){var u=o<0;u&&(o=-o),r(o<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var v=(this.words[p]|0)+h*67108864;this.words[p]=v/o|0,h=v%o}return this._strip(),u?this.ineg():this},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var p=new i(1),v=new i(0),d=new i(0),E=new i(1),w=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++w;for(var c=h.clone(),b=u.clone();!u.isZero();){for(var ue=0,F=1;(u.words[0]&F)===0&&ue<26;++ue,F<<=1);if(ue>0)for(u.iushrn(ue);ue-- >0;)(p.isOdd()||v.isOdd())&&(p.iadd(c),v.isub(b)),p.iushrn(1),v.iushrn(1);for(var ne=0,ce=1;(h.words[0]&ce)===0&&ne<26;++ne,ce<<=1);if(ne>0)for(h.iushrn(ne);ne-- >0;)(d.isOdd()||E.isOdd())&&(d.iadd(c),E.isub(b)),d.iushrn(1),E.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(d),v.isub(E)):(h.isub(u),d.isub(p),E.isub(v))}return{a:d,b:E,gcd:h.iushln(w)}},i.prototype._invmp=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var p=new i(1),v=new i(0),d=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var E=0,w=1;(u.words[0]&w)===0&&E<26;++E,w<<=1);if(E>0)for(u.iushrn(E);E-- >0;)p.isOdd()&&p.iadd(d),p.iushrn(1);for(var c=0,b=1;(h.words[0]&b)===0&&c<26;++c,b<<=1);if(c>0)for(h.iushrn(c);c-- >0;)v.isOdd()&&v.iadd(d),v.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(v)):(h.isub(u),v.isub(p))}var ue;return u.cmpn(1)===0?ue=p:ue=v,ue.cmpn(0)<0&&ue.iadd(o),ue},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),h=o.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var v=u.cmp(h);if(v<0){var d=u;u=h,h=d}else if(v===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){r(typeof o=="number");var u=o%26,h=(o-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var v=p,d=h;v!==0&&d<this.length;d++){var E=this.words[d]|0;E+=v,v=E>>>26,E&=67108863,this.words[d]=E}return v!==0&&(this.words[d]=v,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var h;if(this.length>1)h=1;else{u&&(o=-o),r(o<=67108863,"Number is too big");var p=this.words[0]|0;h=p===o?0:p<o?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,v=o.words[h]|0;if(p!==v){p<v?u=-1:p>v&&(u=1);break}}return u},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new S(o)},i.prototype.toRed=function(o){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return r(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return r(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var se={k256:null,p224:null,p192:null,p25519:null};function fe(y,o){this.name=y,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}fe.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},fe.prototype.ireduce=function(o){var u=o,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},fe.prototype.split=function(o,u){o.iushrn(this.n,0,u)},fe.prototype.imulK=function(o){return o.imul(this.k)};function de(){fe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(de,fe),de.prototype.split=function(o,u){for(var h=4194303,p=Math.min(o.length,9),v=0;v<p;v++)u.words[v]=o.words[v];if(u.length=p,o.length<=9){o.words[0]=0,o.length=1;return}var d=o.words[9];for(u.words[u.length++]=d&h,v=10;v<o.length;v++){var E=o.words[v]|0;o.words[v-10]=(E&h)<<4|d>>>22,d=E}d>>>=22,o.words[v-10]=d,d===0&&o.length>10?o.length-=10:o.length-=9},de.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,h=0;h<o.length;h++){var p=o.words[h]|0;u+=p*977,o.words[h]=u&67108863,u=p*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function G(){fe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(G,fe);function L(){fe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(L,fe);function q(){fe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(q,fe),q.prototype.imulK=function(o){for(var u=0,h=0;h<o.length;h++){var p=(o.words[h]|0)*19+u,v=p&67108863;p>>>=26,o.words[h]=v,u=p}return u!==0&&(o.words[o.length++]=u),o},i._prime=function(o){if(se[o])return se[o];var u;if(o==="k256")u=new de;else if(o==="p224")u=new G;else if(o==="p192")u=new L;else if(o==="p25519")u=new q;else throw new Error("Unknown prime "+o);return se[o]=u,u};function S(y){if(typeof y=="string"){var o=i._prime(y);this.m=o.p,this.prime=o}else r(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}S.prototype._verify1=function(o){r(o.negative===0,"red works only with positives"),r(o.red,"red works only with red numbers")},S.prototype._verify2=function(o,u){r((o.negative|u.negative)===0,"red works only with positives"),r(o.red&&o.red===u.red,"red works only with red numbers")},S.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(g(o,o.umod(this.m)._forceRed(this)),o)},S.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},S.prototype.add=function(o,u){this._verify2(o,u);var h=o.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},S.prototype.iadd=function(o,u){this._verify2(o,u);var h=o.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},S.prototype.sub=function(o,u){this._verify2(o,u);var h=o.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},S.prototype.isub=function(o,u){this._verify2(o,u);var h=o.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},S.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},S.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},S.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},S.prototype.isqr=function(o){return this.imul(o,o.clone())},S.prototype.sqr=function(o){return this.mul(o,o)},S.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(o,h)}for(var p=this.m.subn(1),v=0;!p.isZero()&&p.andln(1)===0;)v++,p.iushrn(1);r(!p.isZero());var d=new i(1).toRed(this),E=d.redNeg(),w=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,w).cmp(E)!==0;)c.redIAdd(E);for(var b=this.pow(c,p),ue=this.pow(o,p.addn(1).iushrn(1)),F=this.pow(o,p),ne=v;F.cmp(d)!==0;){for(var ce=F,xe=0;ce.cmp(d)!==0;xe++)ce=ce.redSqr();r(xe<ne);var M=this.pow(b,new i(1).iushln(ne-xe-1));ue=ue.redMul(M),b=M.redSqr(),F=F.redMul(b),ne=xe}return ue},S.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},S.prototype.pow=function(o,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=o;for(var v=2;v<p.length;v++)p[v]=this.mul(p[v-1],o);var d=p[0],E=0,w=0,c=u.bitLength()%26;for(c===0&&(c=26),v=u.length-1;v>=0;v--){for(var b=u.words[v],ue=c-1;ue>=0;ue--){var F=b>>ue&1;if(d!==p[0]&&(d=this.sqr(d)),F===0&&E===0){w=0;continue}E<<=1,E|=F,w++,!(w!==h&&(v!==0||ue!==0))&&(d=this.mul(d,p[E]),w=0,E=0)}c=26}return d},S.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},S.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},i.mont=function(o){return new B(o)};function B(y){S.call(this,y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(B,S),B.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},B.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},B.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var h=o.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(p).iushrn(this.shift),d=v;return v.cmp(this.m)>=0?d=v.isub(this.m):v.cmpn(0)<0&&(d=v.iadd(this.m)),d._forceRed(this)},B.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new i(0)._forceRed(this);var h=o.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(p).iushrn(this.shift),d=v;return v.cmp(this.m)>=0?d=v.isub(this.m):v.cmpn(0)<0&&(d=v.iadd(this.m)),d._forceRed(this)},B.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof BM>"u"||BM,WZ)});var b_=ee((yze,VZ)=>{x();var Rd=GZ(),j8e=Hl();function z8e(t){var e=HZ(t),r=e.toRed(Rd.mont(t.modulus)).redPow(new Rd(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function HZ(t){var e=t.modulus.byteLength(),r;do r=new Rd(j8e(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function $Z(t,e){var r=z8e(e),n=e.modulus.byteLength(),i=new Rd(t).mul(r.blinder).umod(e.modulus),a=i.toRed(Rd.mont(e.prime1)),s=i.toRed(Rd.mont(e.prime2)),f=e.coefficient,l=e.prime1,g=e.prime2,m=a.redPow(e.exponent1).fromRed(),A=s.redPow(e.exponent2).fromRed(),I=m.isub(A).imul(f).umod(l).imul(g);return A.iadd(I).imul(r.unblinder).umod(e.modulus).toArrayLike(N.Buffer,"be",n)}$Z.getr=HZ;VZ.exports=$Z});var ZZ=ee((bze,K8e)=>{K8e.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var PM=ee(XZ=>{"use strict";x();var w_=XZ;function W8e(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),a=i>>8,s=i&255;a?r.push(a,s):r.push(s)}return r}w_.toArray=W8e;function JZ(t){return t.length===1?"0"+t:t}w_.zero2=JZ;function YZ(t){for(var e="",r=0;r<t.length;r++)e+=JZ(t[r].toString(16));return e}w_.toHex=YZ;w_.encode=function(e,r){return r==="hex"?YZ(e):e}});var ua=ee(QZ=>{"use strict";x();var ko=QZ,G8e=Yr(),H8e=fa(),x_=PM();ko.assert=H8e;ko.toArray=x_.toArray;ko.zero2=x_.zero2;ko.toHex=x_.toHex;ko.encode=x_.encode;function $8e(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,a=t.clone(),s=0;s<n.length;s++){var f,l=a.andln(i-1);a.isOdd()?(l>(i>>1)-1?f=(i>>1)-l:f=l,a.isubn(f)):f=0,n[s]=f,a.iushrn(1)}return n}ko.getNAF=$8e;function V8e(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,a;t.cmpn(-n)>0||e.cmpn(-i)>0;){var s=t.andln(3)+n&3,f=e.andln(3)+i&3;s===3&&(s=-1),f===3&&(f=-1);var l;(s&1)===0?l=0:(a=t.andln(7)+n&7,(a===3||a===5)&&f===2?l=-s:l=s),r[0].push(l);var g;(f&1)===0?g=0:(a=e.andln(7)+i&7,(a===3||a===5)&&s===2?g=-f:g=f),r[1].push(g),2*n===l+1&&(n=1-n),2*i===g+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}ko.getJSF=V8e;function Z8e(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}ko.cachedProperty=Z8e;function J8e(t){return typeof t=="string"?ko.toArray(t,"hex"):t}ko.parseBytes=J8e;function Y8e(t){return new G8e(t,"hex","le")}ko.intFromLE=Y8e});var Sv=ee((Sze,eJ)=>{"use strict";x();var ih=Yr(),Ev=ua(),__=Ev.getNAF,X8e=Ev.getJSF,E_=Ev.assert;function Qu(t,e){this.type=t,this.p=new ih(e.p,16),this.red=e.prime?ih.red(e.prime):ih.mont(this.p),this.zero=new ih(0).toRed(this.red),this.one=new ih(1).toRed(this.red),this.two=new ih(2).toRed(this.red),this.n=e.n&&new ih(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}eJ.exports=Qu;Qu.prototype.point=function(){throw new Error("Not implemented")};Qu.prototype.validate=function(){throw new Error("Not implemented")};Qu.prototype._fixedNafMul=function(e,r){E_(e.precomputed);var n=e._getDoubles(),i=__(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],f,l;for(f=0;f<i.length;f+=n.step){l=0;for(var g=f+n.step-1;g>=f;g--)l=(l<<1)+i[g];s.push(l)}for(var m=this.jpoint(null,null,null),A=this.jpoint(null,null,null),I=a;I>0;I--){for(f=0;f<s.length;f++)l=s[f],l===I?A=A.mixedAdd(n.points[f]):l===-I&&(A=A.mixedAdd(n.points[f].neg()));m=m.add(A)}return m.toP()};Qu.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=__(r,n,this._bitLength),f=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var g=0;l>=0&&s[l]===0;l--)g++;if(l>=0&&g++,f=f.dblp(g),l<0)break;var m=s[l];E_(m!==0),e.type==="affine"?m>0?f=f.mixedAdd(a[m-1>>1]):f=f.mixedAdd(a[-m-1>>1].neg()):m>0?f=f.add(a[m-1>>1]):f=f.add(a[-m-1>>1].neg())}return e.type==="affine"?f.toP():f};Qu.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,f=this._wnafT2,l=this._wnafT3,g=0,m,A,I;for(m=0;m<i;m++){I=r[m];var T=I._getNAFPoints(e);s[m]=T.wnd,f[m]=T.points}for(m=i-1;m>=1;m-=2){var O=m-1,U=m;if(s[O]!==1||s[U]!==1){l[O]=__(n[O],s[O],this._bitLength),l[U]=__(n[U],s[U],this._bitLength),g=Math.max(l[O].length,g),g=Math.max(l[U].length,g);continue}var Z=[r[O],null,null,r[U]];r[O].y.cmp(r[U].y)===0?(Z[1]=r[O].add(r[U]),Z[2]=r[O].toJ().mixedAdd(r[U].neg())):r[O].y.cmp(r[U].y.redNeg())===0?(Z[1]=r[O].toJ().mixedAdd(r[U]),Z[2]=r[O].add(r[U].neg())):(Z[1]=r[O].toJ().mixedAdd(r[U]),Z[2]=r[O].toJ().mixedAdd(r[U].neg()));var Y=[-3,-1,-5,-7,0,7,5,1,3],re=X8e(n[O],n[U]);for(g=Math.max(re[0].length,g),l[O]=new Array(g),l[U]=new Array(g),A=0;A<g;A++){var pe=re[0][A]|0,he=re[1][A]|0;l[O][A]=Y[(pe+1)*3+(he+1)],l[U][A]=0,f[O]=Z}}var se=this.jpoint(null,null,null),fe=this._wnafT4;for(m=g;m>=0;m--){for(var de=0;m>=0;){var G=!0;for(A=0;A<i;A++)fe[A]=l[A][m]|0,fe[A]!==0&&(G=!1);if(!G)break;de++,m--}if(m>=0&&de++,se=se.dblp(de),m<0)break;for(A=0;A<i;A++){var L=fe[A];L!==0&&(L>0?I=f[A][L-1>>1]:L<0&&(I=f[A][-L-1>>1].neg()),I.type==="affine"?se=se.mixedAdd(I):se=se.add(I))}}for(m=0;m<i;m++)f[m]=null;return a?se:se.toP()};function Wa(t,e){this.curve=t,this.type=e,this.precomputed=null}Qu.BasePoint=Wa;Wa.prototype.eq=function(){throw new Error("Not implemented")};Wa.prototype.validate=function(){return this.curve.validate(this)};Qu.prototype.decodePoint=function(e,r){e=Ev.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?E_(e[e.length-1]%2===0):e[0]===7&&E_(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Wa.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Wa.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Wa.prototype.encode=function(e,r){return Ev.encode(this._encode(r),e)};Wa.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Wa.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Wa.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Wa.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Wa.prototype._getBeta=function(){return null};Wa.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var rJ=ee((Mze,tJ)=>{"use strict";x();var Q8e=ua(),cn=Yr(),NM=pt(),kd=Sv(),e5e=Q8e.assert;function Ga(t){kd.call(this,"short",t),this.a=new cn(t.a,16).toRed(this.red),this.b=new cn(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}NM(Ga,kd);tJ.exports=Ga;Ga.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new cn(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new cn(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],e5e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(f){return{a:new cn(f.a,16),b:new cn(f.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Ga.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:cn.mont(e),n=new cn(2).toRed(r).redInvm(),i=n.redNeg(),a=new cn(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),f=i.redSub(a).fromRed();return[s,f]};Ga.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new cn(1),s=new cn(0),f=new cn(0),l=new cn(1),g,m,A,I,T,O,U,Z=0,Y,re;n.cmpn(0)!==0;){var pe=i.div(n);Y=i.sub(pe.mul(n)),re=f.sub(pe.mul(a));var he=l.sub(pe.mul(s));if(!A&&Y.cmp(r)<0)g=U.neg(),m=a,A=Y.neg(),I=re;else if(A&&++Z===2)break;U=Y,i=n,n=Y,f=a,a=re,l=s,s=he}T=Y.neg(),O=re;var se=A.sqr().add(I.sqr()),fe=T.sqr().add(O.sqr());return fe.cmp(se)>=0&&(T=g,O=m),A.negative&&(A=A.neg(),I=I.neg()),T.negative&&(T=T.neg(),O=O.neg()),[{a:A,b:I},{a:T,b:O}]};Ga.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),f=a.mul(n.a),l=s.mul(i.a),g=a.mul(n.b),m=s.mul(i.b),A=e.sub(f).sub(l),I=g.add(m).neg();return{k1:A,k2:I}};Ga.prototype.pointFromX=function(e,r){e=new cn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Ga.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Ga.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var f=this._endoSplit(r[s]),l=e[s],g=l._getBeta();f.k1.negative&&(f.k1.ineg(),l=l.neg(!0)),f.k2.negative&&(f.k2.ineg(),g=g.neg(!0)),i[s*2]=l,i[s*2+1]=g,a[s*2]=f.k1,a[s*2+1]=f.k2}for(var m=this._wnafMulAdd(1,i,a,s*2,n),A=0;A<s*2;A++)i[A]=null,a[A]=null;return m};function Ln(t,e,r,n){kd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new cn(e,16),this.y=new cn(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}NM(Ln,kd.BasePoint);Ga.prototype.point=function(e,r,n){return new Ln(this,e,r,n)};Ga.prototype.pointFromJSON=function(e,r){return Ln.fromJSON(this,e,r)};Ln.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Ln.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ln.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(f){return e.point(f[0],f[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};Ln.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ln.prototype.isInfinity=function(){return this.inf};Ln.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Ln.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),f=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,f)};Ln.prototype.getX=function(){return this.x.fromRed()};Ln.prototype.getY=function(){return this.y.fromRed()};Ln.prototype.mul=function(e){return e=new cn(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ln.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Ln.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Ln.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ln.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Ln.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ti(t,e,r,n){kd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new cn(0)):(this.x=new cn(e,16),this.y=new cn(r,16),this.z=new cn(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}NM(ti,kd.BasePoint);Ga.prototype.jpoint=function(e,r,n){return new ti(this,e,r,n)};ti.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};ti.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ti.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),f=e.y.redMul(n.redMul(this.z)),l=i.redSub(a),g=s.redSub(f);if(l.cmpn(0)===0)return g.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=l.redSqr(),A=m.redMul(l),I=i.redMul(m),T=g.redSqr().redIAdd(A).redISub(I).redISub(I),O=g.redMul(I.redISub(T)).redISub(s.redMul(A)),U=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(T,O,U)};ti.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),f=n.redSub(i),l=a.redSub(s);if(f.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=f.redSqr(),m=g.redMul(f),A=n.redMul(g),I=l.redSqr().redIAdd(m).redISub(A).redISub(A),T=l.redMul(A.redISub(I)).redISub(a.redMul(m)),O=this.z.redMul(f);return this.curve.jpoint(I,T,O)};ti.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,f=this.y,l=this.z,g=l.redSqr().redSqr(),m=f.redAdd(f);for(r=0;r<e;r++){var A=s.redSqr(),I=m.redSqr(),T=I.redSqr(),O=A.redAdd(A).redIAdd(A).redIAdd(i.redMul(g)),U=s.redMul(I),Z=O.redSqr().redISub(U.redAdd(U)),Y=U.redISub(Z),re=O.redMul(Y);re=re.redIAdd(re).redISub(T);var pe=m.redMul(l);r+1<e&&(g=g.redMul(T)),s=Z,l=pe,m=re}return this.curve.jpoint(s,m.redMul(a),l)};ti.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ti.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),f=this.x.redAdd(a).redSqr().redISub(i).redISub(s);f=f.redIAdd(f);var l=i.redAdd(i).redIAdd(i),g=l.redSqr().redISub(f).redISub(f),m=s.redIAdd(s);m=m.redIAdd(m),m=m.redIAdd(m),e=g,r=l.redMul(f.redISub(g)).redISub(m),n=this.y.redAdd(this.y)}else{var A=this.x.redSqr(),I=this.y.redSqr(),T=I.redSqr(),O=this.x.redAdd(I).redSqr().redISub(A).redISub(T);O=O.redIAdd(O);var U=A.redAdd(A).redIAdd(A),Z=U.redSqr(),Y=T.redIAdd(T);Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),e=Z.redISub(O).redISub(O),r=U.redMul(O.redISub(e)).redISub(Y),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};ti.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),f=this.x.redAdd(a).redSqr().redISub(i).redISub(s);f=f.redIAdd(f);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),g=l.redSqr().redISub(f).redISub(f);e=g;var m=s.redIAdd(s);m=m.redIAdd(m),m=m.redIAdd(m),r=l.redMul(f.redISub(g)).redISub(m),n=this.y.redAdd(this.y)}else{var A=this.z.redSqr(),I=this.y.redSqr(),T=this.x.redMul(I),O=this.x.redSub(A).redMul(this.x.redAdd(A));O=O.redAdd(O).redIAdd(O);var U=T.redIAdd(T);U=U.redIAdd(U);var Z=U.redAdd(U);e=O.redSqr().redISub(Z),n=this.y.redAdd(this.z).redSqr().redISub(I).redISub(A);var Y=I.redSqr();Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),r=O.redMul(U.redISub(e)).redISub(Y)}return this.curve.jpoint(e,r,n)};ti.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),f=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),g=r.redAdd(r);g=g.redIAdd(g);var m=g.redMul(f),A=l.redSqr().redISub(m.redAdd(m)),I=m.redISub(A),T=f.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=l.redMul(I).redISub(T),U=n.redAdd(n).redMul(i);return this.curve.jpoint(A,O,U)};ti.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),f=this.x.redAdd(r).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(s);var l=f.redSqr(),g=i.redIAdd(i);g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=a.redIAdd(f).redSqr().redISub(s).redISub(l).redISub(g),A=r.redMul(m);A=A.redIAdd(A),A=A.redIAdd(A);var I=this.x.redMul(l).redISub(A);I=I.redIAdd(I),I=I.redIAdd(I);var T=this.y.redMul(m.redMul(g.redISub(m)).redISub(f.redMul(l)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=this.z.redAdd(f).redSqr().redISub(n).redISub(l);return this.curve.jpoint(I,T,O)};ti.prototype.mul=function(e,r){return e=new cn(e,r),this.curve._wnafMul(this,e)};ti.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};ti.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};ti.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ti.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var aJ=ee((Oze,iJ)=>{"use strict";x();var Cd=Yr(),nJ=pt(),S_=Sv(),t5e=ua();function Bd(t){S_.call(this,"mont",t),this.a=new Cd(t.a,16).toRed(this.red),this.b=new Cd(t.b,16).toRed(this.red),this.i4=new Cd(4).toRed(this.red).redInvm(),this.two=new Cd(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}nJ(Bd,S_);iJ.exports=Bd;Bd.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function Dn(t,e,r){S_.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Cd(e,16),this.z=new Cd(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}nJ(Dn,S_.BasePoint);Bd.prototype.decodePoint=function(e,r){return this.point(t5e.toArray(e,r),1)};Bd.prototype.point=function(e,r){return new Dn(this,e,r)};Bd.prototype.pointFromJSON=function(e){return Dn.fromJSON(this,e)};Dn.prototype.precompute=function(){};Dn.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Dn.fromJSON=function(e,r){return new Dn(e,r[0],r[1]||e.one)};Dn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Dn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Dn.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),f=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,f)};Dn.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Dn.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),f=s.redMul(n),l=a.redMul(i),g=r.z.redMul(f.redAdd(l).redSqr()),m=r.x.redMul(f.redISub(l).redSqr());return this.curve.point(g,m)};Dn.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var f=s.length-1;f>=0;f--)s[f]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};Dn.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Dn.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Dn.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Dn.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Dn.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var fJ=ee((Rze,sJ)=>{"use strict";x();var r5e=ua(),If=Yr(),oJ=pt(),A_=Sv(),n5e=r5e.assert;function Ms(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,A_.call(this,"edwards",t),this.a=new If(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new If(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new If(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),n5e(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}oJ(Ms,A_);sJ.exports=Ms;Ms.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Ms.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Ms.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Ms.prototype.pointFromX=function(e,r){e=new If(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),f=s.redSqrt();if(f.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var l=f.fromRed().isOdd();return(r&&!l||!r&&l)&&(f=f.redNeg()),this.point(e,f)};Ms.prototype.pointFromY=function(e,r){e=new If(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var f=s.redSqrt();if(f.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return f.fromRed().isOdd()!==r&&(f=f.redNeg()),this.point(f,e)};Ms.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function Lr(t,e,r,n,i){A_.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new If(e,16),this.y=new If(r,16),this.z=n?new If(n,16):this.curve.one,this.t=i&&new If(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}oJ(Lr,A_.BasePoint);Ms.prototype.pointFromJSON=function(e){return Lr.fromJSON(this,e)};Ms.prototype.point=function(e,r,n,i){return new Lr(this,e,r,n,i)};Lr.fromJSON=function(e,r){return new Lr(e,r[0],r[1],r[2])};Lr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Lr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Lr.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),f=s.redSub(n),l=i.redSub(r),g=a.redMul(f),m=s.redMul(l),A=a.redMul(l),I=f.redMul(s);return this.curve.point(g,m,I,A)};Lr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,f,l,g;if(this.curve.twisted){f=this.curve._mulA(r);var m=f.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(m.redSub(this.curve.two)),a=m.redMul(f.redSub(n)),s=m.redSqr().redSub(m).redSub(m)):(l=this.z.redSqr(),g=m.redSub(l).redISub(l),i=e.redSub(r).redISub(n).redMul(g),a=m.redMul(f.redSub(n)),s=m.redMul(g))}else f=r.redAdd(n),l=this.curve._mulC(this.z).redSqr(),g=f.redSub(l).redSub(l),i=this.curve._mulC(e.redISub(f)).redMul(g),a=this.curve._mulC(f).redMul(r.redISub(n)),s=f.redMul(g);return this.curve.point(i,a,s)};Lr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Lr.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),f=a.redSub(i),l=a.redAdd(i),g=n.redAdd(r),m=s.redMul(f),A=l.redMul(g),I=s.redMul(g),T=f.redMul(l);return this.curve.point(m,A,T,I)};Lr.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(a),f=n.redSub(s),l=n.redAdd(s),g=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),m=r.redMul(f).redMul(g),A,I;return this.curve.twisted?(A=r.redMul(l).redMul(a.redSub(this.curve._mulA(i))),I=f.redMul(l)):(A=r.redMul(l).redMul(a.redSub(i)),I=this.curve._mulC(f).redMul(l)),this.curve.point(m,A,I)};Lr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Lr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Lr.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Lr.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Lr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Lr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Lr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Lr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Lr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Lr.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Lr.prototype.toP=Lr.prototype.normalize;Lr.prototype.mixedAdd=Lr.prototype.add});var LM=ee(uJ=>{"use strict";x();var M_=uJ;M_.base=Sv();M_.short=rJ();M_.mont=aJ();M_.edwards=fJ()});var Co=ee(Or=>{"use strict";x();var i5e=fa(),a5e=pt();Or.inherits=a5e;function o5e(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function s5e(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):o5e(t,i)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Or.toArray=s5e;function f5e(t){for(var e="",r=0;r<t.length;r++)e+=lJ(t[r].toString(16));return e}Or.toHex=f5e;function cJ(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Or.htonl=cJ;function u5e(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=cJ(i)),r+=hJ(i.toString(16))}return r}Or.toHex32=u5e;function lJ(t){return t.length===1?"0"+t:t}Or.zero2=lJ;function hJ(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Or.zero8=hJ;function c5e(t,e,r,n){var i=r-e;i5e(i%4===0);for(var a=new Array(i/4),s=0,f=e;s<a.length;s++,f+=4){var l;n==="big"?l=t[f]<<24|t[f+1]<<16|t[f+2]<<8|t[f+3]:l=t[f+3]<<24|t[f+2]<<16|t[f+1]<<8|t[f],a[s]=l>>>0}return a}Or.join32=c5e;function l5e(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];e==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}Or.split32=l5e;function h5e(t,e){return t>>>e|t<<32-e}Or.rotr32=h5e;function d5e(t,e){return t<<e|t>>>32-e}Or.rotl32=d5e;function p5e(t,e){return t+e>>>0}Or.sum32=p5e;function g5e(t,e,r){return t+e+r>>>0}Or.sum32_3=g5e;function v5e(t,e,r,n){return t+e+r+n>>>0}Or.sum32_4=v5e;function y5e(t,e,r,n,i){return t+e+r+n+i>>>0}Or.sum32_5=y5e;function m5e(t,e,r,n){var i=t[e],a=t[e+1],s=n+a>>>0,f=(s<n?1:0)+r+i;t[e]=f>>>0,t[e+1]=s}Or.sum64=m5e;function b5e(t,e,r,n){var i=e+n>>>0,a=(i<e?1:0)+t+r;return a>>>0}Or.sum64_hi=b5e;function w5e(t,e,r,n){var i=e+n;return i>>>0}Or.sum64_lo=w5e;function x5e(t,e,r,n,i,a,s,f){var l=0,g=e;g=g+n>>>0,l+=g<e?1:0,g=g+a>>>0,l+=g<a?1:0,g=g+f>>>0,l+=g<f?1:0;var m=t+r+i+s+l;return m>>>0}Or.sum64_4_hi=x5e;function _5e(t,e,r,n,i,a,s,f){var l=e+n+a+f;return l>>>0}Or.sum64_4_lo=_5e;function E5e(t,e,r,n,i,a,s,f,l,g){var m=0,A=e;A=A+n>>>0,m+=A<e?1:0,A=A+a>>>0,m+=A<a?1:0,A=A+f>>>0,m+=A<f?1:0,A=A+g>>>0,m+=A<g?1:0;var I=t+r+i+s+l+m;return I>>>0}Or.sum64_5_hi=E5e;function S5e(t,e,r,n,i,a,s,f,l,g){var m=e+n+a+f+g;return m>>>0}Or.sum64_5_lo=S5e;function A5e(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Or.rotr64_hi=A5e;function M5e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Or.rotr64_lo=M5e;function T5e(t,e,r){return t>>>r}Or.shr64_hi=T5e;function O5e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Or.shr64_lo=O5e});var Pd=ee(pJ=>{"use strict";x();var dJ=Co(),I5e=fa();function T_(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}pJ.BlockHash=T_;T_.prototype.update=function(e,r){if(e=dJ.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=dJ.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};T_.prototype.digest=function(e){return this.update(this._pad()),I5e(this.pending===null),this._digest(e)};T_.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,s=8;s<this.padLength;s++)i[a++]=0;return i}});var DM=ee(Rf=>{"use strict";x();var R5e=Co(),Ts=R5e.rotr32;function k5e(t,e,r,n){if(t===0)return gJ(e,r,n);if(t===1||t===3)return yJ(e,r,n);if(t===2)return vJ(e,r,n)}Rf.ft_1=k5e;function gJ(t,e,r){return t&e^~t&r}Rf.ch32=gJ;function vJ(t,e,r){return t&e^t&r^e&r}Rf.maj32=vJ;function yJ(t,e,r){return t^e^r}Rf.p32=yJ;function C5e(t){return Ts(t,2)^Ts(t,13)^Ts(t,22)}Rf.s0_256=C5e;function B5e(t){return Ts(t,6)^Ts(t,11)^Ts(t,25)}Rf.s1_256=B5e;function P5e(t){return Ts(t,7)^Ts(t,18)^t>>>3}Rf.g0_256=P5e;function N5e(t){return Ts(t,17)^Ts(t,19)^t>>>10}Rf.g1_256=N5e});var wJ=ee((Fze,bJ)=>{"use strict";x();var Nd=Co(),L5e=Pd(),D5e=DM(),qM=Nd.rotl32,Av=Nd.sum32,q5e=Nd.sum32_5,U5e=D5e.ft_1,mJ=L5e.BlockHash,F5e=[1518500249,1859775393,2400959708,3395469782];function Os(){if(!(this instanceof Os))return new Os;mJ.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Nd.inherits(Os,mJ);bJ.exports=Os;Os.blockSize=512;Os.outSize=160;Os.hmacStrength=80;Os.padLength=64;Os.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=qM(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],s=this.h[1],f=this.h[2],l=this.h[3],g=this.h[4];for(i=0;i<n.length;i++){var m=~~(i/20),A=q5e(qM(a,5),U5e(m,s,f,l),g,n[i],F5e[m]);g=l,l=f,f=qM(s,30),s=a,a=A}this.h[0]=Av(this.h[0],a),this.h[1]=Av(this.h[1],s),this.h[2]=Av(this.h[2],f),this.h[3]=Av(this.h[3],l),this.h[4]=Av(this.h[4],g)};Os.prototype._digest=function(e){return e==="hex"?Nd.toHex32(this.h,"big"):Nd.split32(this.h,"big")}});var UM=ee((zze,_J)=>{"use strict";x();var Ld=Co(),j5e=Pd(),Dd=DM(),z5e=fa(),Bo=Ld.sum32,K5e=Ld.sum32_4,W5e=Ld.sum32_5,G5e=Dd.ch32,H5e=Dd.maj32,$5e=Dd.s0_256,V5e=Dd.s1_256,Z5e=Dd.g0_256,J5e=Dd.g1_256,xJ=j5e.BlockHash,Y5e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Is(){if(!(this instanceof Is))return new Is;xJ.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Y5e,this.W=new Array(64)}Ld.inherits(Is,xJ);_J.exports=Is;Is.blockSize=512;Is.outSize=256;Is.hmacStrength=192;Is.padLength=64;Is.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=K5e(J5e(n[i-2]),n[i-7],Z5e(n[i-15]),n[i-16]);var a=this.h[0],s=this.h[1],f=this.h[2],l=this.h[3],g=this.h[4],m=this.h[5],A=this.h[6],I=this.h[7];for(z5e(this.k.length===n.length),i=0;i<n.length;i++){var T=W5e(I,V5e(g),G5e(g,m,A),this.k[i],n[i]),O=Bo($5e(a),H5e(a,s,f));I=A,A=m,m=g,g=Bo(l,T),l=f,f=s,s=a,a=Bo(T,O)}this.h[0]=Bo(this.h[0],a),this.h[1]=Bo(this.h[1],s),this.h[2]=Bo(this.h[2],f),this.h[3]=Bo(this.h[3],l),this.h[4]=Bo(this.h[4],g),this.h[5]=Bo(this.h[5],m),this.h[6]=Bo(this.h[6],A),this.h[7]=Bo(this.h[7],I)};Is.prototype._digest=function(e){return e==="hex"?Ld.toHex32(this.h,"big"):Ld.split32(this.h,"big")}});var AJ=ee((Wze,SJ)=>{"use strict";x();var FM=Co(),EJ=UM();function kf(){if(!(this instanceof kf))return new kf;EJ.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}FM.inherits(kf,EJ);SJ.exports=kf;kf.blockSize=512;kf.outSize=224;kf.hmacStrength=192;kf.padLength=64;kf.prototype._digest=function(e){return e==="hex"?FM.toHex32(this.h.slice(0,7),"big"):FM.split32(this.h.slice(0,7),"big")}});var KM=ee((Hze,IJ)=>{"use strict";x();var qi=Co(),X5e=Pd(),Q5e=fa(),Rs=qi.rotr64_hi,ks=qi.rotr64_lo,MJ=qi.shr64_hi,TJ=qi.shr64_lo,ec=qi.sum64,jM=qi.sum64_hi,zM=qi.sum64_lo,eEe=qi.sum64_4_hi,tEe=qi.sum64_4_lo,rEe=qi.sum64_5_hi,nEe=qi.sum64_5_lo,OJ=X5e.BlockHash,iEe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Po(){if(!(this instanceof Po))return new Po;OJ.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=iEe,this.W=new Array(160)}qi.inherits(Po,OJ);IJ.exports=Po;Po.blockSize=1024;Po.outSize=512;Po.hmacStrength=192;Po.padLength=128;Po.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var a=gEe(n[i-4],n[i-3]),s=vEe(n[i-4],n[i-3]),f=n[i-14],l=n[i-13],g=dEe(n[i-30],n[i-29]),m=pEe(n[i-30],n[i-29]),A=n[i-32],I=n[i-31];n[i]=eEe(a,s,f,l,g,m,A,I),n[i+1]=tEe(a,s,f,l,g,m,A,I)}};Po.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],a=this.h[1],s=this.h[2],f=this.h[3],l=this.h[4],g=this.h[5],m=this.h[6],A=this.h[7],I=this.h[8],T=this.h[9],O=this.h[10],U=this.h[11],Z=this.h[12],Y=this.h[13],re=this.h[14],pe=this.h[15];Q5e(this.k.length===n.length);for(var he=0;he<n.length;he+=2){var se=re,fe=pe,de=lEe(I,T),G=hEe(I,T),L=aEe(I,T,O,U,Z,Y),q=oEe(I,T,O,U,Z,Y),S=this.k[he],B=this.k[he+1],y=n[he],o=n[he+1],u=rEe(se,fe,de,G,L,q,S,B,y,o),h=nEe(se,fe,de,G,L,q,S,B,y,o);se=uEe(i,a),fe=cEe(i,a),de=sEe(i,a,s,f,l,g),G=fEe(i,a,s,f,l,g);var p=jM(se,fe,de,G),v=zM(se,fe,de,G);re=Z,pe=Y,Z=O,Y=U,O=I,U=T,I=jM(m,A,u,h),T=zM(A,A,u,h),m=l,A=g,l=s,g=f,s=i,f=a,i=jM(u,h,p,v),a=zM(u,h,p,v)}ec(this.h,0,i,a),ec(this.h,2,s,f),ec(this.h,4,l,g),ec(this.h,6,m,A),ec(this.h,8,I,T),ec(this.h,10,O,U),ec(this.h,12,Z,Y),ec(this.h,14,re,pe)};Po.prototype._digest=function(e){return e==="hex"?qi.toHex32(this.h,"big"):qi.split32(this.h,"big")};function aEe(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function oEe(t,e,r,n,i,a){var s=e&n^~e&a;return s<0&&(s+=4294967296),s}function sEe(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function fEe(t,e,r,n,i,a){var s=e&n^e&a^n&a;return s<0&&(s+=4294967296),s}function uEe(t,e){var r=Rs(t,e,28),n=Rs(e,t,2),i=Rs(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function cEe(t,e){var r=ks(t,e,28),n=ks(e,t,2),i=ks(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function lEe(t,e){var r=Rs(t,e,14),n=Rs(t,e,18),i=Rs(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function hEe(t,e){var r=ks(t,e,14),n=ks(t,e,18),i=ks(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function dEe(t,e){var r=Rs(t,e,1),n=Rs(t,e,8),i=MJ(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function pEe(t,e){var r=ks(t,e,1),n=ks(t,e,8),i=TJ(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function gEe(t,e){var r=Rs(t,e,19),n=Rs(e,t,29),i=MJ(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function vEe(t,e){var r=ks(t,e,19),n=ks(e,t,29),i=TJ(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}});var CJ=ee((Vze,kJ)=>{"use strict";x();var WM=Co(),RJ=KM();function Cf(){if(!(this instanceof Cf))return new Cf;RJ.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}WM.inherits(Cf,RJ);kJ.exports=Cf;Cf.blockSize=1024;Cf.outSize=384;Cf.hmacStrength=192;Cf.padLength=128;Cf.prototype._digest=function(e){return e==="hex"?WM.toHex32(this.h.slice(0,12),"big"):WM.split32(this.h.slice(0,12),"big")}});var BJ=ee(qd=>{"use strict";x();qd.sha1=wJ();qd.sha224=AJ();qd.sha256=UM();qd.sha384=CJ();qd.sha512=KM()});var UJ=ee(qJ=>{"use strict";x();var ah=Co(),yEe=Pd(),O_=ah.rotl32,PJ=ah.sum32,Mv=ah.sum32_3,NJ=ah.sum32_4,DJ=yEe.BlockHash;function Cs(){if(!(this instanceof Cs))return new Cs;DJ.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ah.inherits(Cs,DJ);qJ.ripemd160=Cs;Cs.blockSize=512;Cs.outSize=160;Cs.hmacStrength=192;Cs.padLength=64;Cs.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],f=this.h[4],l=n,g=i,m=a,A=s,I=f,T=0;T<80;T++){var O=PJ(O_(NJ(n,LJ(T,i,a,s),e[wEe[T]+r],mEe(T)),_Ee[T]),f);n=f,f=s,s=O_(a,10),a=i,i=O,O=PJ(O_(NJ(l,LJ(79-T,g,m,A),e[xEe[T]+r],bEe(T)),EEe[T]),I),l=I,I=A,A=O_(m,10),m=g,g=O}O=Mv(this.h[1],a,A),this.h[1]=Mv(this.h[2],s,I),this.h[2]=Mv(this.h[3],f,l),this.h[3]=Mv(this.h[4],n,g),this.h[4]=Mv(this.h[0],i,m),this.h[0]=O};Cs.prototype._digest=function(e){return e==="hex"?ah.toHex32(this.h,"little"):ah.split32(this.h,"little")};function LJ(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function mEe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function bEe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var wEe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],xEe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_Ee=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],EEe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var jJ=ee((eKe,FJ)=>{"use strict";x();var SEe=Co(),AEe=fa();function Ud(t,e,r){if(!(this instanceof Ud))return new Ud(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(SEe.toArray(e,r))}FJ.exports=Ud;Ud.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),AEe(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Ud.prototype.update=function(e,r){return this.inner.update(e,r),this};Ud.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var Fd=ee(zJ=>{x();var ri=zJ;ri.utils=Co();ri.common=Pd();ri.sha=BJ();ri.ripemd=UJ();ri.hmac=jJ();ri.sha1=ri.sha.sha1;ri.sha256=ri.sha.sha256;ri.sha224=ri.sha.sha224;ri.sha384=ri.sha.sha384;ri.sha512=ri.sha.sha512;ri.ripemd160=ri.ripemd.ripemd160});var WJ=ee((iKe,KJ)=>{x();KJ.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var I_=ee($J=>{"use strict";x();var HM=$J,tc=Fd(),GM=LM(),MEe=ua(),GJ=MEe.assert;function HJ(t){t.type==="short"?this.curve=new GM.short(t):t.type==="edwards"?this.curve=new GM.edwards(t):this.curve=new GM.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,GJ(this.g.validate(),"Invalid curve"),GJ(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}HM.PresetCurve=HJ;function rc(t,e){Object.defineProperty(HM,t,{configurable:!0,enumerable:!0,get:function(){var r=new HJ(e);return Object.defineProperty(HM,t,{configurable:!0,enumerable:!0,value:r}),r}})}rc("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:tc.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});rc("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:tc.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});rc("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:tc.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});rc("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:tc.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});rc("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:tc.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});rc("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:tc.sha256,gRed:!1,g:["9"]});rc("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:tc.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var $M;try{$M=WJ()}catch{$M=void 0}rc("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:tc.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",$M]})});var JJ=ee((fKe,ZJ)=>{"use strict";x();var TEe=Fd(),oh=PM(),VJ=fa();function nc(t){if(!(this instanceof nc))return new nc(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=oh.toArray(t.entropy,t.entropyEnc||"hex"),r=oh.toArray(t.nonce,t.nonceEnc||"hex"),n=oh.toArray(t.pers,t.persEnc||"hex");VJ(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}ZJ.exports=nc;nc.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};nc.prototype._hmac=function(){return new TEe.hmac(this.hash,this.K)};nc.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};nc.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=oh.toArray(e,r),n=oh.toArray(n,i),VJ(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};nc.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=oh.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(n),this._reseed++,oh.encode(s,r)}});var XJ=ee((cKe,YJ)=>{"use strict";x();var OEe=Yr(),IEe=ua(),VM=IEe.assert;function di(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}YJ.exports=di;di.fromPublic=function(e,r,n){return r instanceof di?r:new di(e,{pub:r,pubEnc:n})};di.fromPrivate=function(e,r,n){return r instanceof di?r:new di(e,{priv:r,privEnc:n})};di.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};di.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};di.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};di.prototype._importPrivate=function(e,r){this.priv=new OEe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};di.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?VM(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&VM(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};di.prototype.derive=function(e){return e.validate()||VM(e.validate(),"public point not validated"),e.mul(this.priv).getX()};di.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};di.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};di.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var tY=ee((hKe,eY)=>{"use strict";x();var R_=Yr(),YM=ua(),REe=YM.assert;function k_(t,e){if(t instanceof k_)return t;this._importDER(t,e)||(REe(t.r&&t.s,"Signature without r or s"),this.r=new R_(t.r,16),this.s=new R_(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}eY.exports=k_;function kEe(){this.place=0}function ZM(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function QJ(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}k_.prototype._importDER=function(e,r){e=YM.toArray(e,r);var n=new kEe;if(e[n.place++]!==48)return!1;var i=ZM(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=ZM(e,n);if(a===!1)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var f=ZM(e,n);if(f===!1||e.length!==f+n.place)return!1;var l=e.slice(n.place,f+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new R_(s),this.s=new R_(l),this.recoveryParam=null,!0};function JM(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}k_.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=QJ(r),n=QJ(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];JM(i,r.length),i=i.concat(r),i.push(2),JM(i,n.length);var a=i.concat(n),s=[48];return JM(s,a.length),s=s.concat(a),YM.encode(s,e)}});var aY=ee((pKe,iY)=>{"use strict";x();var sh=Yr(),rY=JJ(),CEe=ua(),XM=I_(),BEe=v_(),nY=CEe.assert,QM=XJ(),C_=tY();function Ha(t){if(!(this instanceof Ha))return new Ha(t);typeof t=="string"&&(nY(Object.prototype.hasOwnProperty.call(XM,t),"Unknown curve "+t),t=XM[t]),t instanceof XM.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}iY.exports=Ha;Ha.prototype.keyPair=function(e){return new QM(this,e)};Ha.prototype.keyFromPrivate=function(e,r){return QM.fromPrivate(this,e,r)};Ha.prototype.keyFromPublic=function(e,r){return QM.fromPublic(this,e,r)};Ha.prototype.genKeyPair=function(e){e||(e={});for(var r=new rY({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||BEe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new sh(2));;){var a=new sh(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Ha.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Ha.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new sh(e,16));for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),f=e.toArray("be",a),l=new rY({hash:this.hash,entropy:s,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),g=this.n.sub(new sh(1)),m=0;;m++){var A=i.k?i.k(m):new sh(l.generate(this.n.byteLength()));if(A=this._truncateToN(A,!0),!(A.cmpn(1)<=0||A.cmp(g)>=0)){var I=this.g.mul(A);if(!I.isInfinity()){var T=I.getX(),O=T.umod(this.n);if(O.cmpn(0)!==0){var U=A.invm(this.n).mul(O.mul(r.getPrivate()).iadd(e));if(U=U.umod(this.n),U.cmpn(0)!==0){var Z=(I.getY().isOdd()?1:0)|(T.cmp(O)!==0?2:0);return i.canonical&&U.cmp(this.nh)>0&&(U=this.n.sub(U),Z^=1),new C_({r:O,s:U,recoveryParam:Z})}}}}}};Ha.prototype.verify=function(e,r,n,i){e=this._truncateToN(new sh(e,16)),n=this.keyFromPublic(n,i),r=new C_(r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var f=s.invm(this.n),l=f.mul(e).umod(this.n),g=f.mul(a).umod(this.n),m;return this.curve._maxwellTrick?(m=this.g.jmulAdd(l,n.getPublic(),g),m.isInfinity()?!1:m.eqXToP(a)):(m=this.g.mulAdd(l,n.getPublic(),g),m.isInfinity()?!1:m.getX().umod(this.n).cmp(a)===0)};Ha.prototype.recoverPubKey=function(t,e,r,n){nY((3&r)===r,"The recovery param is more than two bits"),e=new C_(e,n);var i=this.n,a=new sh(t),s=e.r,f=e.s,l=r&1,g=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&g)throw new Error("Unable to find sencond key candinate");g?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var m=e.r.invm(i),A=i.sub(a).mul(m).umod(i),I=f.mul(m).umod(i);return this.g.mulAdd(A,s,I)};Ha.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new C_(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var uY=ee((vKe,fY)=>{"use strict";x();var Tv=ua(),sY=Tv.assert,oY=Tv.parseBytes,jd=Tv.cachedProperty;function qn(t,e){this.eddsa=t,this._secret=oY(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=oY(e.pub)}qn.fromPublic=function(e,r){return r instanceof qn?r:new qn(e,{pub:r})};qn.fromSecret=function(e,r){return r instanceof qn?r:new qn(e,{secret:r})};qn.prototype.secret=function(){return this._secret};jd(qn,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});jd(qn,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});jd(qn,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});jd(qn,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});jd(qn,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});jd(qn,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});qn.prototype.sign=function(e){return sY(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};qn.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};qn.prototype.getSecret=function(e){return sY(this._secret,"KeyPair is public only"),Tv.encode(this.secret(),e)};qn.prototype.getPublic=function(e){return Tv.encode(this.pubBytes(),e)};fY.exports=qn});var lY=ee((mKe,cY)=>{"use strict";x();var PEe=Yr(),B_=ua(),NEe=B_.assert,P_=B_.cachedProperty,LEe=B_.parseBytes;function fh(t,e){this.eddsa=t,typeof e!="object"&&(e=LEe(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),NEe(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof PEe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}P_(fh,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});P_(fh,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});P_(fh,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});P_(fh,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});fh.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};fh.prototype.toHex=function(){return B_.encode(this.toBytes(),"hex").toUpperCase()};cY.exports=fh});var vY=ee((wKe,gY)=>{"use strict";x();var DEe=Fd(),qEe=I_(),zd=ua(),UEe=zd.assert,dY=zd.parseBytes,pY=uY(),hY=lY();function Ui(t){if(UEe(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Ui))return new Ui(t);t=qEe[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=DEe.sha512}gY.exports=Ui;Ui.prototype.sign=function(e,r){e=dY(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),s=this.encodePoint(a),f=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),l=i.add(f).umod(this.curve.n);return this.makeSignature({R:a,S:l,Rencoded:s})};Ui.prototype.verify=function(e,r,n){e=dY(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),f=r.R().add(i.pub().mul(a));return f.eq(s)};Ui.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return zd.intFromLE(e.digest()).umod(this.curve.n)};Ui.prototype.keyFromPublic=function(e){return pY.fromPublic(this,e)};Ui.prototype.keyFromSecret=function(e){return pY.fromSecret(this,e)};Ui.prototype.makeSignature=function(e){return e instanceof hY?e:new hY(this,e)};Ui.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Ui.prototype.decodePoint=function(e){e=zd.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,a=zd.intFromLE(n);return this.curve.pointFromY(a,i)};Ui.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Ui.prototype.decodeInt=function(e){return zd.intFromLE(e)};Ui.prototype.isPoint=function(e){return e instanceof this.pointClass}});var Ov=ee(yY=>{"use strict";x();var uh=yY;uh.version=ZZ().version;uh.utils=ua();uh.rand=v_();uh.curve=LM();uh.curves=I_();uh.ec=aY();uh.eddsa=vY()});var tT=ee((mY,eT)=>{x();(function(t,e){"use strict";function r(y,o){if(!y)throw new Error(o||"Assertion failed")}function n(y,o){y.super_=o;var u=function(){};u.prototype=o.prototype,y.prototype=new u,y.prototype.constructor=y}function i(y,o,u){if(i.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(y||0,o||10,u||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Sr().Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,u){return o.cmp(u)>0?o:u},i.min=function(o,u){return o.cmp(u)<0?o:u},i.prototype._init=function(o,u,h){if(typeof o=="number")return this._initNumber(o,u,h);if(typeof o=="object")return this._initArray(o,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var p=0;o[0]==="-"&&(p++,this.negative=1),p<o.length&&(u===16?this._parseHex(o,p,h):(this._parseBase(o,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(o,u,h){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(r(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(o,u,h){if(r(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v,d,E=0;if(h==="be")for(p=o.length-1,v=0;p>=0;p-=3)d=o[p]|o[p-1]<<8|o[p-2]<<16,this.words[v]|=d<<E&67108863,this.words[v+1]=d>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);else if(h==="le")for(p=0,v=0;p<o.length;p+=3)d=o[p]|o[p+1]<<8|o[p+2]<<16,this.words[v]|=d<<E&67108863,this.words[v+1]=d>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);return this._strip()};function s(y,o){var u=y.charCodeAt(o);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;r(!1,"Invalid character in "+y)}function f(y,o,u){var h=s(y,u);return u-1>=o&&(h|=s(y,u-1)<<4),h}i.prototype._parseHex=function(o,u,h){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v=0,d=0,E;if(h==="be")for(p=o.length-1;p>=u;p-=2)E=f(o,u,p)<<v,this.words[d]|=E&67108863,v>=18?(v-=18,d+=1,this.words[d]|=E>>>26):v+=8;else{var w=o.length-u;for(p=w%2===0?u+1:u;p<o.length;p+=2)E=f(o,u,p)<<v,this.words[d]|=E&67108863,v>=18?(v-=18,d+=1,this.words[d]|=E>>>26):v+=8}this._strip()};function l(y,o,u,h){for(var p=0,v=0,d=Math.min(y.length,u),E=o;E<d;E++){var w=y.charCodeAt(E)-48;p*=h,w>=49?v=w-49+10:w>=17?v=w-17+10:v=w,r(w>=0&&v<h,"Invalid character"),p+=v}return p}i.prototype._parseBase=function(o,u,h){this.words=[0],this.length=1;for(var p=0,v=1;v<=67108863;v*=u)p++;p--,v=v/u|0;for(var d=o.length-h,E=d%p,w=Math.min(d,d-E)+h,c=0,b=h;b<w;b+=p)c=l(o,b,b+p,u),this.imuln(v),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(E!==0){var ue=1;for(c=l(o,b,o.length,u),b=0;b<E;b++)ue*=u;this.imuln(ue),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red};function g(y,o){y.words=o.words,y.length=o.length,y.negative=o.negative,y.red=o.red}if(i.prototype._move=function(o){g(o,this)},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=m}catch{i.prototype.inspect=m}else i.prototype.inspect=m;function m(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,u){o=o||10,u=u|0||1;var h;if(o===16||o==="hex"){h="";for(var p=0,v=0,d=0;d<this.length;d++){var E=this.words[d],w=((E<<p|v)&16777215).toString(16);v=E>>>24-p&16777215,p+=2,p>=26&&(p-=26,d--),v!==0||d!==this.length-1?h=A[6-w.length]+w+h:h=w+h}for(v!==0&&(h=v.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(o===(o|0)&&o>=2&&o<=36){var c=I[o],b=T[o];h="";var ue=this.clone();for(ue.negative=0;!ue.isZero();){var F=ue.modrn(b).toString(o);ue=ue.idivn(b),ue.isZero()?h=F+h:h=A[c-F.length]+F+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(o,u){return this.toArrayLike(a,o,u)}),i.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)};var O=function(o,u){return o.allocUnsafe?o.allocUnsafe(u):new o(u)};i.prototype.toArrayLike=function(o,u,h){this._strip();var p=this.byteLength(),v=h||Math.max(1,p);r(p<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0");var d=O(o,v),E=u==="le"?"LE":"BE";return this["_toArrayLike"+E](d,p),d},i.prototype._toArrayLikeLE=function(o,u){for(var h=0,p=0,v=0,d=0;v<this.length;v++){var E=this.words[v]<<d|p;o[h++]=E&255,h<o.length&&(o[h++]=E>>8&255),h<o.length&&(o[h++]=E>>16&255),d===6?(h<o.length&&(o[h++]=E>>24&255),p=0,d=0):(p=E>>>24,d+=2)}if(h<o.length)for(o[h++]=p;h<o.length;)o[h++]=0},i.prototype._toArrayLikeBE=function(o,u){for(var h=o.length-1,p=0,v=0,d=0;v<this.length;v++){var E=this.words[v]<<d|p;o[h--]=E&255,h>=0&&(o[h--]=E>>8&255),h>=0&&(o[h--]=E>>16&255),d===6?(h>=0&&(o[h--]=E>>24&255),p=0,d=0):(p=E>>>24,d+=2)}if(h>=0)for(o[h--]=p;h>=0;)o[h--]=0},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var u=o,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,h=0;return(u&8191)===0&&(h+=13,u>>>=13),(u&127)===0&&(h+=7,u>>>=7),(u&15)===0&&(h+=4,u>>>=4),(u&3)===0&&(h+=2,u>>>=2),(u&1)===0&&h++,h},i.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function U(y){for(var o=new Array(y.bitLength()),u=0;u<o.length;u++){var h=u/26|0,p=u%26;o[u]=y.words[h]>>>p&1}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(o+=h,h!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this._strip()},i.prototype.ior=function(o){return r((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&o.words[h];return this.length=u.length,this._strip()},i.prototype.iand=function(o){return r((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var u,h;this.length>o.length?(u=this,h=o):(u=o,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this._strip()},i.prototype.ixor=function(o){return r((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){r(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,h=o%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this._strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,u){r(typeof o=="number"&&o>=0);var h=o/26|0,p=o%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this._strip()},i.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var h,p;this.length>o.length?(h=this,p=o):(h=o,p=this);for(var v=0,d=0;d<p.length;d++)u=(h.words[d]|0)+(p.words[d]|0)+v,this.words[d]=u&67108863,v=u>>>26;for(;v!==0&&d<h.length;d++)u=(h.words[d]|0)+v,this.words[d]=u&67108863,v=u>>>26;if(this.length=h.length,v!==0)this.words[this.length]=v,this.length++;else if(h!==this)for(;d<h.length;d++)this.words[d]=h.words[d];return this},i.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var h=this.cmp(o);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,v;h>0?(p=this,v=o):(p=o,v=this);for(var d=0,E=0;E<v.length;E++)u=(p.words[E]|0)-(v.words[E]|0)+d,d=u>>26,this.words[E]=u&67108863;for(;d!==0&&E<p.length;E++)u=(p.words[E]|0)+d,d=u>>26,this.words[E]=u&67108863;if(d===0&&E<p.length&&p!==this)for(;E<p.length;E++)this.words[E]=p.words[E];return this.length=Math.max(this.length,E),p!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function Z(y,o,u){u.negative=o.negative^y.negative;var h=y.length+o.length|0;u.length=h,h=h-1|0;var p=y.words[0]|0,v=o.words[0]|0,d=p*v,E=d&67108863,w=d/67108864|0;u.words[0]=E;for(var c=1;c<h;c++){for(var b=w>>>26,ue=w&67108863,F=Math.min(c,o.length-1),ne=Math.max(0,c-y.length+1);ne<=F;ne++){var ce=c-ne|0;p=y.words[ce]|0,v=o.words[ne]|0,d=p*v+ue,b+=d/67108864|0,ue=d&67108863}u.words[c]=ue|0,w=b|0}return w!==0?u.words[c]=w|0:u.length--,u._strip()}var Y=function(o,u,h){var p=o.words,v=u.words,d=h.words,E=0,w,c,b,ue=p[0]|0,F=ue&8191,ne=ue>>>13,ce=p[1]|0,xe=ce&8191,M=ce>>>13,k=p[2]|0,C=k&8191,z=k>>>13,H=p[3]|0,j=H&8191,J=H>>>13,W=p[4]|0,K=W&8191,X=W>>>13,te=p[5]|0,ae=te&8191,$=te>>>13,oe=p[6]|0,le=oe&8191,Ee=oe>>>13,Be=p[7]|0,Ae=Be&8191,R=Be>>>13,V=p[8]|0,Q=V&8191,ve=V>>>13,Te=p[9]|0,Se=Te&8191,ie=Te>>>13,be=v[0]|0,ye=be&8191,me=be>>>13,qe=v[1]|0,Oe=qe&8191,Ie=qe>>>13,ot=v[2]|0,ke=ot&8191,Le=ot>>>13,gt=v[3]|0,Ce=gt&8191,Ue=gt>>>13,at=v[4]|0,Ke=at&8191,Ne=at>>>13,lt=v[5]|0,We=lt&8191,He=lt>>>13,wt=v[6]|0,ze=wt&8191,De=wt>>>13,Ut=v[7]|0,$e=Ut&8191,Ze=Ut>>>13,wr=v[8]|0,Je=wr&8191,Ve=wr>>>13,nr=v[9]|0,et=nr&8191,Xe=nr>>>13;h.negative=o.negative^u.negative,h.length=19,w=Math.imul(F,ye),c=Math.imul(F,me),c=c+Math.imul(ne,ye)|0,b=Math.imul(ne,me);var sr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(sr>>>26)|0,sr&=67108863,w=Math.imul(xe,ye),c=Math.imul(xe,me),c=c+Math.imul(M,ye)|0,b=Math.imul(M,me),w=w+Math.imul(F,Oe)|0,c=c+Math.imul(F,Ie)|0,c=c+Math.imul(ne,Oe)|0,b=b+Math.imul(ne,Ie)|0;var Jt=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,w=Math.imul(C,ye),c=Math.imul(C,me),c=c+Math.imul(z,ye)|0,b=Math.imul(z,me),w=w+Math.imul(xe,Oe)|0,c=c+Math.imul(xe,Ie)|0,c=c+Math.imul(M,Oe)|0,b=b+Math.imul(M,Ie)|0,w=w+Math.imul(F,ke)|0,c=c+Math.imul(F,Le)|0,c=c+Math.imul(ne,ke)|0,b=b+Math.imul(ne,Le)|0;var Bt=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,w=Math.imul(j,ye),c=Math.imul(j,me),c=c+Math.imul(J,ye)|0,b=Math.imul(J,me),w=w+Math.imul(C,Oe)|0,c=c+Math.imul(C,Ie)|0,c=c+Math.imul(z,Oe)|0,b=b+Math.imul(z,Ie)|0,w=w+Math.imul(xe,ke)|0,c=c+Math.imul(xe,Le)|0,c=c+Math.imul(M,ke)|0,b=b+Math.imul(M,Le)|0,w=w+Math.imul(F,Ce)|0,c=c+Math.imul(F,Ue)|0,c=c+Math.imul(ne,Ce)|0,b=b+Math.imul(ne,Ue)|0;var yr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(yr>>>26)|0,yr&=67108863,w=Math.imul(K,ye),c=Math.imul(K,me),c=c+Math.imul(X,ye)|0,b=Math.imul(X,me),w=w+Math.imul(j,Oe)|0,c=c+Math.imul(j,Ie)|0,c=c+Math.imul(J,Oe)|0,b=b+Math.imul(J,Ie)|0,w=w+Math.imul(C,ke)|0,c=c+Math.imul(C,Le)|0,c=c+Math.imul(z,ke)|0,b=b+Math.imul(z,Le)|0,w=w+Math.imul(xe,Ce)|0,c=c+Math.imul(xe,Ue)|0,c=c+Math.imul(M,Ce)|0,b=b+Math.imul(M,Ue)|0,w=w+Math.imul(F,Ke)|0,c=c+Math.imul(F,Ne)|0,c=c+Math.imul(ne,Ke)|0,b=b+Math.imul(ne,Ne)|0;var ir=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,w=Math.imul(ae,ye),c=Math.imul(ae,me),c=c+Math.imul($,ye)|0,b=Math.imul($,me),w=w+Math.imul(K,Oe)|0,c=c+Math.imul(K,Ie)|0,c=c+Math.imul(X,Oe)|0,b=b+Math.imul(X,Ie)|0,w=w+Math.imul(j,ke)|0,c=c+Math.imul(j,Le)|0,c=c+Math.imul(J,ke)|0,b=b+Math.imul(J,Le)|0,w=w+Math.imul(C,Ce)|0,c=c+Math.imul(C,Ue)|0,c=c+Math.imul(z,Ce)|0,b=b+Math.imul(z,Ue)|0,w=w+Math.imul(xe,Ke)|0,c=c+Math.imul(xe,Ne)|0,c=c+Math.imul(M,Ke)|0,b=b+Math.imul(M,Ne)|0,w=w+Math.imul(F,We)|0,c=c+Math.imul(F,He)|0,c=c+Math.imul(ne,We)|0,b=b+Math.imul(ne,He)|0;var Dr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,w=Math.imul(le,ye),c=Math.imul(le,me),c=c+Math.imul(Ee,ye)|0,b=Math.imul(Ee,me),w=w+Math.imul(ae,Oe)|0,c=c+Math.imul(ae,Ie)|0,c=c+Math.imul($,Oe)|0,b=b+Math.imul($,Ie)|0,w=w+Math.imul(K,ke)|0,c=c+Math.imul(K,Le)|0,c=c+Math.imul(X,ke)|0,b=b+Math.imul(X,Le)|0,w=w+Math.imul(j,Ce)|0,c=c+Math.imul(j,Ue)|0,c=c+Math.imul(J,Ce)|0,b=b+Math.imul(J,Ue)|0,w=w+Math.imul(C,Ke)|0,c=c+Math.imul(C,Ne)|0,c=c+Math.imul(z,Ke)|0,b=b+Math.imul(z,Ne)|0,w=w+Math.imul(xe,We)|0,c=c+Math.imul(xe,He)|0,c=c+Math.imul(M,We)|0,b=b+Math.imul(M,He)|0,w=w+Math.imul(F,ze)|0,c=c+Math.imul(F,De)|0,c=c+Math.imul(ne,ze)|0,b=b+Math.imul(ne,De)|0;var xr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(xr>>>26)|0,xr&=67108863,w=Math.imul(Ae,ye),c=Math.imul(Ae,me),c=c+Math.imul(R,ye)|0,b=Math.imul(R,me),w=w+Math.imul(le,Oe)|0,c=c+Math.imul(le,Ie)|0,c=c+Math.imul(Ee,Oe)|0,b=b+Math.imul(Ee,Ie)|0,w=w+Math.imul(ae,ke)|0,c=c+Math.imul(ae,Le)|0,c=c+Math.imul($,ke)|0,b=b+Math.imul($,Le)|0,w=w+Math.imul(K,Ce)|0,c=c+Math.imul(K,Ue)|0,c=c+Math.imul(X,Ce)|0,b=b+Math.imul(X,Ue)|0,w=w+Math.imul(j,Ke)|0,c=c+Math.imul(j,Ne)|0,c=c+Math.imul(J,Ke)|0,b=b+Math.imul(J,Ne)|0,w=w+Math.imul(C,We)|0,c=c+Math.imul(C,He)|0,c=c+Math.imul(z,We)|0,b=b+Math.imul(z,He)|0,w=w+Math.imul(xe,ze)|0,c=c+Math.imul(xe,De)|0,c=c+Math.imul(M,ze)|0,b=b+Math.imul(M,De)|0,w=w+Math.imul(F,$e)|0,c=c+Math.imul(F,Ze)|0,c=c+Math.imul(ne,$e)|0,b=b+Math.imul(ne,Ze)|0;var qr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,w=Math.imul(Q,ye),c=Math.imul(Q,me),c=c+Math.imul(ve,ye)|0,b=Math.imul(ve,me),w=w+Math.imul(Ae,Oe)|0,c=c+Math.imul(Ae,Ie)|0,c=c+Math.imul(R,Oe)|0,b=b+Math.imul(R,Ie)|0,w=w+Math.imul(le,ke)|0,c=c+Math.imul(le,Le)|0,c=c+Math.imul(Ee,ke)|0,b=b+Math.imul(Ee,Le)|0,w=w+Math.imul(ae,Ce)|0,c=c+Math.imul(ae,Ue)|0,c=c+Math.imul($,Ce)|0,b=b+Math.imul($,Ue)|0,w=w+Math.imul(K,Ke)|0,c=c+Math.imul(K,Ne)|0,c=c+Math.imul(X,Ke)|0,b=b+Math.imul(X,Ne)|0,w=w+Math.imul(j,We)|0,c=c+Math.imul(j,He)|0,c=c+Math.imul(J,We)|0,b=b+Math.imul(J,He)|0,w=w+Math.imul(C,ze)|0,c=c+Math.imul(C,De)|0,c=c+Math.imul(z,ze)|0,b=b+Math.imul(z,De)|0,w=w+Math.imul(xe,$e)|0,c=c+Math.imul(xe,Ze)|0,c=c+Math.imul(M,$e)|0,b=b+Math.imul(M,Ze)|0,w=w+Math.imul(F,Je)|0,c=c+Math.imul(F,Ve)|0,c=c+Math.imul(ne,Je)|0,b=b+Math.imul(ne,Ve)|0;var _r=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(_r>>>26)|0,_r&=67108863,w=Math.imul(Se,ye),c=Math.imul(Se,me),c=c+Math.imul(ie,ye)|0,b=Math.imul(ie,me),w=w+Math.imul(Q,Oe)|0,c=c+Math.imul(Q,Ie)|0,c=c+Math.imul(ve,Oe)|0,b=b+Math.imul(ve,Ie)|0,w=w+Math.imul(Ae,ke)|0,c=c+Math.imul(Ae,Le)|0,c=c+Math.imul(R,ke)|0,b=b+Math.imul(R,Le)|0,w=w+Math.imul(le,Ce)|0,c=c+Math.imul(le,Ue)|0,c=c+Math.imul(Ee,Ce)|0,b=b+Math.imul(Ee,Ue)|0,w=w+Math.imul(ae,Ke)|0,c=c+Math.imul(ae,Ne)|0,c=c+Math.imul($,Ke)|0,b=b+Math.imul($,Ne)|0,w=w+Math.imul(K,We)|0,c=c+Math.imul(K,He)|0,c=c+Math.imul(X,We)|0,b=b+Math.imul(X,He)|0,w=w+Math.imul(j,ze)|0,c=c+Math.imul(j,De)|0,c=c+Math.imul(J,ze)|0,b=b+Math.imul(J,De)|0,w=w+Math.imul(C,$e)|0,c=c+Math.imul(C,Ze)|0,c=c+Math.imul(z,$e)|0,b=b+Math.imul(z,Ze)|0,w=w+Math.imul(xe,Je)|0,c=c+Math.imul(xe,Ve)|0,c=c+Math.imul(M,Je)|0,b=b+Math.imul(M,Ve)|0,w=w+Math.imul(F,et)|0,c=c+Math.imul(F,Xe)|0,c=c+Math.imul(ne,et)|0,b=b+Math.imul(ne,Xe)|0;var Ur=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,w=Math.imul(Se,Oe),c=Math.imul(Se,Ie),c=c+Math.imul(ie,Oe)|0,b=Math.imul(ie,Ie),w=w+Math.imul(Q,ke)|0,c=c+Math.imul(Q,Le)|0,c=c+Math.imul(ve,ke)|0,b=b+Math.imul(ve,Le)|0,w=w+Math.imul(Ae,Ce)|0,c=c+Math.imul(Ae,Ue)|0,c=c+Math.imul(R,Ce)|0,b=b+Math.imul(R,Ue)|0,w=w+Math.imul(le,Ke)|0,c=c+Math.imul(le,Ne)|0,c=c+Math.imul(Ee,Ke)|0,b=b+Math.imul(Ee,Ne)|0,w=w+Math.imul(ae,We)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul($,We)|0,b=b+Math.imul($,He)|0,w=w+Math.imul(K,ze)|0,c=c+Math.imul(K,De)|0,c=c+Math.imul(X,ze)|0,b=b+Math.imul(X,De)|0,w=w+Math.imul(j,$e)|0,c=c+Math.imul(j,Ze)|0,c=c+Math.imul(J,$e)|0,b=b+Math.imul(J,Ze)|0,w=w+Math.imul(C,Je)|0,c=c+Math.imul(C,Ve)|0,c=c+Math.imul(z,Je)|0,b=b+Math.imul(z,Ve)|0,w=w+Math.imul(xe,et)|0,c=c+Math.imul(xe,Xe)|0,c=c+Math.imul(M,et)|0,b=b+Math.imul(M,Xe)|0;var Rr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,w=Math.imul(Se,ke),c=Math.imul(Se,Le),c=c+Math.imul(ie,ke)|0,b=Math.imul(ie,Le),w=w+Math.imul(Q,Ce)|0,c=c+Math.imul(Q,Ue)|0,c=c+Math.imul(ve,Ce)|0,b=b+Math.imul(ve,Ue)|0,w=w+Math.imul(Ae,Ke)|0,c=c+Math.imul(Ae,Ne)|0,c=c+Math.imul(R,Ke)|0,b=b+Math.imul(R,Ne)|0,w=w+Math.imul(le,We)|0,c=c+Math.imul(le,He)|0,c=c+Math.imul(Ee,We)|0,b=b+Math.imul(Ee,He)|0,w=w+Math.imul(ae,ze)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul($,ze)|0,b=b+Math.imul($,De)|0,w=w+Math.imul(K,$e)|0,c=c+Math.imul(K,Ze)|0,c=c+Math.imul(X,$e)|0,b=b+Math.imul(X,Ze)|0,w=w+Math.imul(j,Je)|0,c=c+Math.imul(j,Ve)|0,c=c+Math.imul(J,Je)|0,b=b+Math.imul(J,Ve)|0,w=w+Math.imul(C,et)|0,c=c+Math.imul(C,Xe)|0,c=c+Math.imul(z,et)|0,b=b+Math.imul(z,Xe)|0;var Fr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,w=Math.imul(Se,Ce),c=Math.imul(Se,Ue),c=c+Math.imul(ie,Ce)|0,b=Math.imul(ie,Ue),w=w+Math.imul(Q,Ke)|0,c=c+Math.imul(Q,Ne)|0,c=c+Math.imul(ve,Ke)|0,b=b+Math.imul(ve,Ne)|0,w=w+Math.imul(Ae,We)|0,c=c+Math.imul(Ae,He)|0,c=c+Math.imul(R,We)|0,b=b+Math.imul(R,He)|0,w=w+Math.imul(le,ze)|0,c=c+Math.imul(le,De)|0,c=c+Math.imul(Ee,ze)|0,b=b+Math.imul(Ee,De)|0,w=w+Math.imul(ae,$e)|0,c=c+Math.imul(ae,Ze)|0,c=c+Math.imul($,$e)|0,b=b+Math.imul($,Ze)|0,w=w+Math.imul(K,Je)|0,c=c+Math.imul(K,Ve)|0,c=c+Math.imul(X,Je)|0,b=b+Math.imul(X,Ve)|0,w=w+Math.imul(j,et)|0,c=c+Math.imul(j,Xe)|0,c=c+Math.imul(J,et)|0,b=b+Math.imul(J,Xe)|0;var Er=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Er>>>26)|0,Er&=67108863,w=Math.imul(Se,Ke),c=Math.imul(Se,Ne),c=c+Math.imul(ie,Ke)|0,b=Math.imul(ie,Ne),w=w+Math.imul(Q,We)|0,c=c+Math.imul(Q,He)|0,c=c+Math.imul(ve,We)|0,b=b+Math.imul(ve,He)|0,w=w+Math.imul(Ae,ze)|0,c=c+Math.imul(Ae,De)|0,c=c+Math.imul(R,ze)|0,b=b+Math.imul(R,De)|0,w=w+Math.imul(le,$e)|0,c=c+Math.imul(le,Ze)|0,c=c+Math.imul(Ee,$e)|0,b=b+Math.imul(Ee,Ze)|0,w=w+Math.imul(ae,Je)|0,c=c+Math.imul(ae,Ve)|0,c=c+Math.imul($,Je)|0,b=b+Math.imul($,Ve)|0,w=w+Math.imul(K,et)|0,c=c+Math.imul(K,Xe)|0,c=c+Math.imul(X,et)|0,b=b+Math.imul(X,Xe)|0;var kr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(kr>>>26)|0,kr&=67108863,w=Math.imul(Se,We),c=Math.imul(Se,He),c=c+Math.imul(ie,We)|0,b=Math.imul(ie,He),w=w+Math.imul(Q,ze)|0,c=c+Math.imul(Q,De)|0,c=c+Math.imul(ve,ze)|0,b=b+Math.imul(ve,De)|0,w=w+Math.imul(Ae,$e)|0,c=c+Math.imul(Ae,Ze)|0,c=c+Math.imul(R,$e)|0,b=b+Math.imul(R,Ze)|0,w=w+Math.imul(le,Je)|0,c=c+Math.imul(le,Ve)|0,c=c+Math.imul(Ee,Je)|0,b=b+Math.imul(Ee,Ve)|0,w=w+Math.imul(ae,et)|0,c=c+Math.imul(ae,Xe)|0,c=c+Math.imul($,et)|0,b=b+Math.imul($,Xe)|0;var nn=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(nn>>>26)|0,nn&=67108863,w=Math.imul(Se,ze),c=Math.imul(Se,De),c=c+Math.imul(ie,ze)|0,b=Math.imul(ie,De),w=w+Math.imul(Q,$e)|0,c=c+Math.imul(Q,Ze)|0,c=c+Math.imul(ve,$e)|0,b=b+Math.imul(ve,Ze)|0,w=w+Math.imul(Ae,Je)|0,c=c+Math.imul(Ae,Ve)|0,c=c+Math.imul(R,Je)|0,b=b+Math.imul(R,Ve)|0,w=w+Math.imul(le,et)|0,c=c+Math.imul(le,Xe)|0,c=c+Math.imul(Ee,et)|0,b=b+Math.imul(Ee,Xe)|0;var an=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(an>>>26)|0,an&=67108863,w=Math.imul(Se,$e),c=Math.imul(Se,Ze),c=c+Math.imul(ie,$e)|0,b=Math.imul(ie,Ze),w=w+Math.imul(Q,Je)|0,c=c+Math.imul(Q,Ve)|0,c=c+Math.imul(ve,Je)|0,b=b+Math.imul(ve,Ve)|0,w=w+Math.imul(Ae,et)|0,c=c+Math.imul(Ae,Xe)|0,c=c+Math.imul(R,et)|0,b=b+Math.imul(R,Xe)|0;var Gn=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,w=Math.imul(Se,Je),c=Math.imul(Se,Ve),c=c+Math.imul(ie,Je)|0,b=Math.imul(ie,Ve),w=w+Math.imul(Q,et)|0,c=c+Math.imul(Q,Xe)|0,c=c+Math.imul(ve,et)|0,b=b+Math.imul(ve,Xe)|0;var yn=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(Se,et),c=Math.imul(Se,Xe),c=c+Math.imul(ie,et)|0,b=Math.imul(ie,Xe);var On=(E+w|0)+((c&8191)<<13)|0;return E=(b+(c>>>13)|0)+(On>>>26)|0,On&=67108863,d[0]=sr,d[1]=Jt,d[2]=Bt,d[3]=yr,d[4]=ir,d[5]=Dr,d[6]=xr,d[7]=qr,d[8]=_r,d[9]=Ur,d[10]=Rr,d[11]=Fr,d[12]=Er,d[13]=kr,d[14]=nn,d[15]=an,d[16]=Gn,d[17]=yn,d[18]=On,E!==0&&(d[19]=E,h.length++),h};Math.imul||(Y=Z);function re(y,o,u){u.negative=o.negative^y.negative,u.length=y.length+o.length;for(var h=0,p=0,v=0;v<u.length-1;v++){var d=p;p=0;for(var E=h&67108863,w=Math.min(v,o.length-1),c=Math.max(0,v-y.length+1);c<=w;c++){var b=v-c,ue=y.words[b]|0,F=o.words[c]|0,ne=ue*F,ce=ne&67108863;d=d+(ne/67108864|0)|0,ce=ce+E|0,E=ce&67108863,d=d+(ce>>>26)|0,p+=d>>>26,d&=67108863}u.words[v]=E,h=d,d=p}return h!==0?u.words[v]=h:u.length--,u._strip()}function pe(y,o,u){return re(y,o,u)}i.prototype.mulTo=function(o,u){var h,p=this.length+o.length;return this.length===10&&o.length===10?h=Y(this,o,u):p<63?h=Z(this,o,u):p<1024?h=re(this,o,u):h=pe(this,o,u),h};function he(y,o){this.x=y,this.y=o}he.prototype.makeRBT=function(o){for(var u=new Array(o),h=i.prototype._countBits(o)-1,p=0;p<o;p++)u[p]=this.revBin(p,h,o);return u},he.prototype.revBin=function(o,u,h){if(o===0||o===h-1)return o;for(var p=0,v=0;v<u;v++)p|=(o&1)<<u-v-1,o>>=1;return p},he.prototype.permute=function(o,u,h,p,v,d){for(var E=0;E<d;E++)p[E]=u[o[E]],v[E]=h[o[E]]},he.prototype.transform=function(o,u,h,p,v,d){this.permute(d,o,u,h,p,v);for(var E=1;E<v;E<<=1)for(var w=E<<1,c=Math.cos(2*Math.PI/w),b=Math.sin(2*Math.PI/w),ue=0;ue<v;ue+=w)for(var F=c,ne=b,ce=0;ce<E;ce++){var xe=h[ue+ce],M=p[ue+ce],k=h[ue+ce+E],C=p[ue+ce+E],z=F*k-ne*C;C=F*C+ne*k,k=z,h[ue+ce]=xe+k,p[ue+ce]=M+C,h[ue+ce+E]=xe-k,p[ue+ce+E]=M-C,ce!==w&&(z=c*F-b*ne,ne=c*ne+b*F,F=z)}},he.prototype.guessLen13b=function(o,u){var h=Math.max(u,o)|1,p=h&1,v=0;for(h=h/2|0;h;h=h>>>1)v++;return 1<<v+1+p},he.prototype.conjugate=function(o,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var v=o[p];o[p]=o[h-p-1],o[h-p-1]=v,v=u[p],u[p]=-u[h-p-1],u[h-p-1]=-v}},he.prototype.normalize13b=function(o,u){for(var h=0,p=0;p<u/2;p++){var v=Math.round(o[2*p+1]/u)*8192+Math.round(o[2*p]/u)+h;o[p]=v&67108863,v<67108864?h=0:h=v/67108864|0}return o},he.prototype.convert13b=function(o,u,h,p){for(var v=0,d=0;d<u;d++)v=v+(o[d]|0),h[2*d]=v&8191,v=v>>>13,h[2*d+1]=v&8191,v=v>>>13;for(d=2*u;d<p;++d)h[d]=0;r(v===0),r((v&-8192)===0)},he.prototype.stub=function(o){for(var u=new Array(o),h=0;h<o;h++)u[h]=0;return u},he.prototype.mulp=function(o,u,h){var p=2*this.guessLen13b(o.length,u.length),v=this.makeRBT(p),d=this.stub(p),E=new Array(p),w=new Array(p),c=new Array(p),b=new Array(p),ue=new Array(p),F=new Array(p),ne=h.words;ne.length=p,this.convert13b(o.words,o.length,E,p),this.convert13b(u.words,u.length,b,p),this.transform(E,d,w,c,p,v),this.transform(b,d,ue,F,p,v);for(var ce=0;ce<p;ce++){var xe=w[ce]*ue[ce]-c[ce]*F[ce];c[ce]=w[ce]*F[ce]+c[ce]*ue[ce],w[ce]=xe}return this.conjugate(w,c,p),this.transform(w,c,ne,d,p,v),this.conjugate(ne,d,p),this.normalize13b(ne,p),h.negative=o.negative^u.negative,h.length=o.length+u.length,h._strip()},i.prototype.mul=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},i.prototype.mulf=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),pe(this,o,u)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){var u=o<0;u&&(o=-o),r(typeof o=="number"),r(o<67108864);for(var h=0,p=0;p<this.length;p++){var v=(this.words[p]|0)*o,d=(v&67108863)+(h&67108863);h>>=26,h+=v/67108864|0,h+=d>>>26,this.words[p]=d&67108863}return h!==0&&(this.words[p]=h,this.length++),u?this.ineg():this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var u=U(o);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var v=h.sqr();p<u.length;p++,v=v.sqr())u[p]!==0&&(h=h.mul(v));return h},i.prototype.iushln=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,p=67108863>>>26-u<<26-u,v;if(u!==0){var d=0;for(v=0;v<this.length;v++){var E=this.words[v]&p,w=(this.words[v]|0)-E<<u;this.words[v]=w|d,d=E>>>26-u}d&&(this.words[v]=d,this.length++)}if(h!==0){for(v=this.length-1;v>=0;v--)this.words[v+h]=this.words[v];for(v=0;v<h;v++)this.words[v]=0;this.length+=h}return this._strip()},i.prototype.ishln=function(o){return r(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,u,h){r(typeof o=="number"&&o>=0);var p;u?p=(u-u%26)/26:p=0;var v=o%26,d=Math.min((o-v)/26,this.length),E=67108863^67108863>>>v<<v,w=h;if(p-=d,p=Math.max(0,p),w){for(var c=0;c<d;c++)w.words[c]=this.words[c];w.length=d}if(d!==0)if(this.length>d)for(this.length-=d,c=0;c<this.length;c++)this.words[c]=this.words[c+d];else this.words[0]=0,this.length=1;var b=0;for(c=this.length-1;c>=0&&(b!==0||c>=p);c--){var ue=this.words[c]|0;this.words[c]=b<<26-v|ue>>>v,b=ue&E}return w&&b!==0&&(w.words[w.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(o,u,h){return r(this.negative===0),this.iushrn(o,u,h)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,p=1<<u;if(this.length<=h)return!1;var v=this.words[h];return!!(v&p)},i.prototype.imaskn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this._strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return r(typeof o=="number"),r(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(o){if(r(typeof o=="number"),r(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,u,h){var p=o.length+h,v;this._expand(p);var d,E=0;for(v=0;v<o.length;v++){d=(this.words[v+h]|0)+E;var w=(o.words[v]|0)*u;d-=w&67108863,E=(d>>26)-(w/67108864|0),this.words[v+h]=d&67108863}for(;v<this.length-h;v++)d=(this.words[v+h]|0)+E,E=d>>26,this.words[v+h]=d&67108863;if(E===0)return this._strip();for(r(E===-1),E=0,v=0;v<this.length;v++)d=-(this.words[v]|0)+E,E=d>>26,this.words[v]=d&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(o,u){var h=this.length-o.length,p=this.clone(),v=o,d=v.words[v.length-1]|0,E=this._countBits(d);h=26-E,h!==0&&(v=v.ushln(h),p.iushln(h),d=v.words[v.length-1]|0);var w=p.length-v.length,c;if(u!=="mod"){c=new i(null),c.length=w+1,c.words=new Array(c.length);for(var b=0;b<c.length;b++)c.words[b]=0}var ue=p.clone()._ishlnsubmul(v,1,w);ue.negative===0&&(p=ue,c&&(c.words[w]=1));for(var F=w-1;F>=0;F--){var ne=(p.words[v.length+F]|0)*67108864+(p.words[v.length+F-1]|0);for(ne=Math.min(ne/d|0,67108863),p._ishlnsubmul(v,ne,F);p.negative!==0;)ne--,p.negative=0,p._ishlnsubmul(v,1,F),p.isZero()||(p.negative^=1);c&&(c.words[F]=ne)}return c&&c._strip(),p._strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:c||null,mod:p}},i.prototype.divmod=function(o,u,h){if(r(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,v,d;return this.negative!==0&&o.negative===0?(d=this.neg().divmod(o,u),u!=="mod"&&(p=d.div.neg()),u!=="div"&&(v=d.mod.neg(),h&&v.negative!==0&&v.iadd(o)),{div:p,mod:v}):this.negative===0&&o.negative!==0?(d=this.divmod(o.neg(),u),u!=="mod"&&(p=d.div.neg()),{div:p,mod:d.mod}):(this.negative&o.negative)!==0?(d=this.neg().divmod(o.neg(),u),u!=="div"&&(v=d.mod.neg(),h&&v.negative!==0&&v.isub(o)),{div:d.div,mod:v}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modrn(o.words[0]))}:this._wordDiv(o,u)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(o):u.mod,p=o.ushrn(1),v=o.andln(1),d=h.cmp(p);return d<0||v===1&&d===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modrn=function(o){var u=o<0;u&&(o=-o),r(o<=67108863);for(var h=(1<<26)%o,p=0,v=this.length-1;v>=0;v--)p=(h*p+(this.words[v]|0))%o;return u?-p:p},i.prototype.modn=function(o){return this.modrn(o)},i.prototype.idivn=function(o){var u=o<0;u&&(o=-o),r(o<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var v=(this.words[p]|0)+h*67108864;this.words[p]=v/o|0,h=v%o}return this._strip(),u?this.ineg():this},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var p=new i(1),v=new i(0),d=new i(0),E=new i(1),w=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++w;for(var c=h.clone(),b=u.clone();!u.isZero();){for(var ue=0,F=1;(u.words[0]&F)===0&&ue<26;++ue,F<<=1);if(ue>0)for(u.iushrn(ue);ue-- >0;)(p.isOdd()||v.isOdd())&&(p.iadd(c),v.isub(b)),p.iushrn(1),v.iushrn(1);for(var ne=0,ce=1;(h.words[0]&ce)===0&&ne<26;++ne,ce<<=1);if(ne>0)for(h.iushrn(ne);ne-- >0;)(d.isOdd()||E.isOdd())&&(d.iadd(c),E.isub(b)),d.iushrn(1),E.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(d),v.isub(E)):(h.isub(u),d.isub(p),E.isub(v))}return{a:d,b:E,gcd:h.iushln(w)}},i.prototype._invmp=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var p=new i(1),v=new i(0),d=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var E=0,w=1;(u.words[0]&w)===0&&E<26;++E,w<<=1);if(E>0)for(u.iushrn(E);E-- >0;)p.isOdd()&&p.iadd(d),p.iushrn(1);for(var c=0,b=1;(h.words[0]&b)===0&&c<26;++c,b<<=1);if(c>0)for(h.iushrn(c);c-- >0;)v.isOdd()&&v.iadd(d),v.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(v)):(h.isub(u),v.isub(p))}var ue;return u.cmpn(1)===0?ue=p:ue=v,ue.cmpn(0)<0&&ue.iadd(o),ue},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),h=o.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var v=u.cmp(h);if(v<0){var d=u;u=h,h=d}else if(v===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){r(typeof o=="number");var u=o%26,h=(o-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var v=p,d=h;v!==0&&d<this.length;d++){var E=this.words[d]|0;E+=v,v=E>>>26,E&=67108863,this.words[d]=E}return v!==0&&(this.words[d]=v,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var h;if(this.length>1)h=1;else{u&&(o=-o),r(o<=67108863,"Number is too big");var p=this.words[0]|0;h=p===o?0:p<o?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,v=o.words[h]|0;if(p!==v){p<v?u=-1:p>v&&(u=1);break}}return u},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new S(o)},i.prototype.toRed=function(o){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return r(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return r(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var se={k256:null,p224:null,p192:null,p25519:null};function fe(y,o){this.name=y,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}fe.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},fe.prototype.ireduce=function(o){var u=o,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},fe.prototype.split=function(o,u){o.iushrn(this.n,0,u)},fe.prototype.imulK=function(o){return o.imul(this.k)};function de(){fe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(de,fe),de.prototype.split=function(o,u){for(var h=4194303,p=Math.min(o.length,9),v=0;v<p;v++)u.words[v]=o.words[v];if(u.length=p,o.length<=9){o.words[0]=0,o.length=1;return}var d=o.words[9];for(u.words[u.length++]=d&h,v=10;v<o.length;v++){var E=o.words[v]|0;o.words[v-10]=(E&h)<<4|d>>>22,d=E}d>>>=22,o.words[v-10]=d,d===0&&o.length>10?o.length-=10:o.length-=9},de.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,h=0;h<o.length;h++){var p=o.words[h]|0;u+=p*977,o.words[h]=u&67108863,u=p*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function G(){fe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(G,fe);function L(){fe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(L,fe);function q(){fe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(q,fe),q.prototype.imulK=function(o){for(var u=0,h=0;h<o.length;h++){var p=(o.words[h]|0)*19+u,v=p&67108863;p>>>=26,o.words[h]=v,u=p}return u!==0&&(o.words[o.length++]=u),o},i._prime=function(o){if(se[o])return se[o];var u;if(o==="k256")u=new de;else if(o==="p224")u=new G;else if(o==="p192")u=new L;else if(o==="p25519")u=new q;else throw new Error("Unknown prime "+o);return se[o]=u,u};function S(y){if(typeof y=="string"){var o=i._prime(y);this.m=o.p,this.prime=o}else r(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}S.prototype._verify1=function(o){r(o.negative===0,"red works only with positives"),r(o.red,"red works only with red numbers")},S.prototype._verify2=function(o,u){r((o.negative|u.negative)===0,"red works only with positives"),r(o.red&&o.red===u.red,"red works only with red numbers")},S.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(g(o,o.umod(this.m)._forceRed(this)),o)},S.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},S.prototype.add=function(o,u){this._verify2(o,u);var h=o.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},S.prototype.iadd=function(o,u){this._verify2(o,u);var h=o.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},S.prototype.sub=function(o,u){this._verify2(o,u);var h=o.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},S.prototype.isub=function(o,u){this._verify2(o,u);var h=o.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},S.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},S.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},S.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},S.prototype.isqr=function(o){return this.imul(o,o.clone())},S.prototype.sqr=function(o){return this.mul(o,o)},S.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(o,h)}for(var p=this.m.subn(1),v=0;!p.isZero()&&p.andln(1)===0;)v++,p.iushrn(1);r(!p.isZero());var d=new i(1).toRed(this),E=d.redNeg(),w=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,w).cmp(E)!==0;)c.redIAdd(E);for(var b=this.pow(c,p),ue=this.pow(o,p.addn(1).iushrn(1)),F=this.pow(o,p),ne=v;F.cmp(d)!==0;){for(var ce=F,xe=0;ce.cmp(d)!==0;xe++)ce=ce.redSqr();r(xe<ne);var M=this.pow(b,new i(1).iushln(ne-xe-1));ue=ue.redMul(M),b=M.redSqr(),F=F.redMul(b),ne=xe}return ue},S.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},S.prototype.pow=function(o,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=o;for(var v=2;v<p.length;v++)p[v]=this.mul(p[v-1],o);var d=p[0],E=0,w=0,c=u.bitLength()%26;for(c===0&&(c=26),v=u.length-1;v>=0;v--){for(var b=u.words[v],ue=c-1;ue>=0;ue--){var F=b>>ue&1;if(d!==p[0]&&(d=this.sqr(d)),F===0&&E===0){w=0;continue}E<<=1,E|=F,w++,!(w!==h&&(v!==0||ue!==0))&&(d=this.mul(d,p[E]),w=0,E=0)}c=26}return d},S.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},S.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},i.mont=function(o){return new B(o)};function B(y){S.call(this,y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(B,S),B.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},B.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},B.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var h=o.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(p).iushrn(this.shift),d=v;return v.cmp(this.m)>=0?d=v.isub(this.m):v.cmpn(0)<0&&(d=v.iadd(this.m)),d._forceRed(this)},B.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new i(0)._forceRed(this);var h=o.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(p).iushrn(this.shift),d=v;return v.cmp(this.m)>=0?d=v.isub(this.m):v.cmpn(0)<0&&(d=v.iadd(this.m)),d._forceRed(this)},B.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof eT>"u"||eT,mY)});var L_=ee((AKe,bY)=>{"use strict";x();var N_=Sr(),Kd=N_.Buffer,$a={},Va;for(Va in N_)!N_.hasOwnProperty(Va)||Va==="SlowBuffer"||Va==="Buffer"||($a[Va]=N_[Va]);var Wd=$a.Buffer={};for(Va in Kd)!Kd.hasOwnProperty(Va)||Va==="allocUnsafe"||Va==="allocUnsafeSlow"||(Wd[Va]=Kd[Va]);$a.Buffer.prototype=Kd.prototype;(!Wd.from||Wd.from===Uint8Array.from)&&(Wd.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return Kd(t,e,r)});Wd.alloc||(Wd.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=Kd(t);return!e||e.length===0?n.fill(0):typeof r=="string"?n.fill(e,r):n.fill(e),n});if(!$a.kStringMaxLength)try{$a.kStringMaxLength=P.default.binding("buffer").kStringMaxLength}catch{}$a.constants||($a.constants={MAX_LENGTH:$a.kMaxLength},$a.kStringMaxLength&&($a.constants.MAX_STRING_LENGTH=$a.kStringMaxLength));bY.exports=$a});var D_=ee(wY=>{"use strict";x();var FEe=pt();function Za(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}wY.Reporter=Za;Za.prototype.isError=function(e){return e instanceof Gd};Za.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};Za.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};Za.prototype.enterKey=function(e){return this._reporterState.path.push(e)};Za.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};Za.prototype.leaveKey=function(e,r,n){let i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)};Za.prototype.path=function(){return this._reporterState.path.join("/")};Za.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};Za.prototype.leaveObject=function(e){let r=this._reporterState,n=r.obj;return r.obj=e,n};Za.prototype.error=function(e){let r,n=this._reporterState,i=e instanceof Gd;if(i?r=e:r=new Gd(n.path.map(function(a){return"["+JSON.stringify(a)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r};Za.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function Gd(t,e){this.path=t,this.rethrow(e)}FEe(Gd,Error);Gd.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Gd),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var Vd=ee(rT=>{"use strict";x();var jEe=pt(),q_=D_().Reporter,Hd=L_().Buffer;function Ja(t,e){if(q_.call(this,e),!Hd.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}jEe(Ja,q_);rT.DecoderBuffer=Ja;Ja.isDecoderBuffer=function(e){return e instanceof Ja?!0:typeof e=="object"&&Hd.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};Ja.prototype.save=function(){return{offset:this.offset,reporter:q_.prototype.save.call(this)}};Ja.prototype.restore=function(e){let r=new Ja(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,q_.prototype.restore.call(this,e.reporter),r};Ja.prototype.isEmpty=function(){return this.offset===this.length};Ja.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};Ja.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new Ja(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n};Ja.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function $d(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return $d.isEncoderBuffer(r)||(r=new $d(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=Hd.byteLength(t);else if(Hd.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}rT.EncoderBuffer=$d;$d.isEncoderBuffer=function(e){return e instanceof $d?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};$d.prototype.join=function(e,r){return e||(e=Hd.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):Hd.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var U_=ee((kKe,_Y)=>{"use strict";x();var zEe=D_().Reporter,KEe=Vd().EncoderBuffer,WEe=Vd().DecoderBuffer,Ai=fa(),xY=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],GEe=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(xY),HEe=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Tr(t,e,r){let n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}_Y.exports=Tr;var $Ee=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Tr.prototype.clone=function(){let e=this._baseState,r={};$Ee.forEach(function(i){r[i]=e[i]});let n=new this.constructor(r.parent);return n._baseState=r,n};Tr.prototype._wrap=function(){let e=this._baseState;GEe.forEach(function(r){this[r]=function(){let i=new this.constructor(this);return e.children.push(i),i[r].apply(i,arguments)}},this)};Tr.prototype._init=function(e){let r=this._baseState;Ai(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),Ai.equal(r.children.length,1,"Root node can have only one child")};Tr.prototype._useArgs=function(e){let r=this._baseState,n=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(Ai(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(Ai(r.args===null),r.args=e,r.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let a={};return Object.keys(i).forEach(function(s){s==(s|0)&&(s|=0);let f=i[s];a[f]=s}),a}))};HEe.forEach(function(t){Tr.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});xY.forEach(function(t){Tr.prototype[t]=function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return Ai(r.tag===null),r.tag=t,this._useArgs(n),this}});Tr.prototype.use=function(e){Ai(e);let r=this._baseState;return Ai(r.use===null),r.use=e,this};Tr.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};Tr.prototype.def=function(e){let r=this._baseState;return Ai(r.default===null),r.default=e,r.optional=!0,this};Tr.prototype.explicit=function(e){let r=this._baseState;return Ai(r.explicit===null&&r.implicit===null),r.explicit=e,this};Tr.prototype.implicit=function(e){let r=this._baseState;return Ai(r.explicit===null&&r.implicit===null),r.implicit=e,this};Tr.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};Tr.prototype.key=function(e){let r=this._baseState;return Ai(r.key===null),r.key=e,this};Tr.prototype.any=function(){let e=this._baseState;return e.any=!0,this};Tr.prototype.choice=function(e){let r=this._baseState;return Ai(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this};Tr.prototype.contains=function(e){let r=this._baseState;return Ai(r.use===null),r.contains=e,this};Tr.prototype._decode=function(e,r){let n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let i=n.default,a=!0,s=null;if(n.key!==null&&(s=e.enterKey(n.key)),n.optional){let l=null;if(n.explicit!==null?l=n.explicit:n.implicit!==null?l=n.implicit:n.tag!==null&&(l=n.tag),l===null&&!n.any){let g=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),a=!0}catch{a=!1}e.restore(g)}else if(a=this._peekTag(e,l,n.any),e.isError(a))return a}let f;if(n.obj&&a&&(f=e.enterObject()),a){if(n.explicit!==null){let g=this._decodeTag(e,n.explicit);if(e.isError(g))return g;e=g}let l=e.offset;if(n.use===null&&n.choice===null){let g;n.any&&(g=e.save());let m=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(m))return m;n.any?i=e.raw(g):e=m}if(r&&r.track&&n.tag!==null&&r.track(e.path(),l,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,e,r):i=this._decodeChoice(e,r)),e.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(m){m._decode(e,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let g=new WEe(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(g,r)}}return n.obj&&a&&(i=e.leaveObject(f)),n.key!==null&&(i!==null||a===!0)?e.leaveKey(s,n.key,i):s!==null&&e.exitKey(s),i};Tr.prototype._decodeGeneric=function(e,r,n){let i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,i.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)};Tr.prototype._getUse=function(e,r){let n=this._baseState;return n.useDecoder=this._use(e,r),Ai(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};Tr.prototype._decodeChoice=function(e,r){let n=this._baseState,i=null,a=!1;return Object.keys(n.choice).some(function(s){let f=e.save(),l=n.choice[s];try{let g=l._decode(e,r);if(e.isError(g))return!1;i={type:s,value:g},a=!0}catch{return e.restore(f),!1}return!0},this),a?i:e.error("Choice not matched")};Tr.prototype._createEncoderBuffer=function(e){return new KEe(e,this.reporter)};Tr.prototype._encode=function(e,r,n){let i=this._baseState;if(i.default!==null&&i.default===e)return;let a=this._encodeValue(e,r,n);if(a!==void 0&&!this._skipDefault(a,r,n))return a};Tr.prototype._encodeValue=function(e,r,n){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new zEe);let a=null;if(this.reporter=r,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;let s=null,f=!1;if(i.any)a=this._createEncoderBuffer(e);else if(i.choice)a=this._encodeChoice(e,r);else if(i.contains)s=this._getUse(i.contains,n)._encode(e,r),f=!0;else if(i.children)s=i.children.map(function(l){if(l._baseState.tag==="null_")return l._encode(null,r,e);if(l._baseState.key===null)return r.error("Child should have a key");let g=r.enterKey(l._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let m=l._encode(e[l._baseState.key],r,e);return r.leaveKey(g),m},this).filter(function(l){return l}),s=this._createEncoderBuffer(s);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let l=this.clone();l._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(g){let m=this._baseState;return this._getUse(m.args[0],e)._encode(g,r)},l))}else i.use!==null?a=this._getUse(i.use,n)._encode(e,r):(s=this._encodePrimitive(i.tag,e),f=!0);if(!i.any&&i.choice===null){let l=i.implicit!==null?i.implicit:i.tag,g=i.implicit===null?"universal":"context";l===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(a=this._encodeComposite(l,f,g,s))}return i.explicit!==null&&(a=this._encodeComposite(i.explicit,!1,"context",a)),a};Tr.prototype._encodeChoice=function(e,r){let n=this._baseState,i=n.choice[e.type];return i||Ai(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,r)};Tr.prototype._encodePrimitive=function(e,r){let n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};Tr.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};Tr.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var F_=ee(ch=>{"use strict";x();function EY(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let n=t[r];e[n]=r}),e}ch.tagClass={0:"universal",1:"application",2:"context",3:"private"};ch.tagClassByName=EY(ch.tagClass);ch.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};ch.tagByName=EY(ch.tag)});var iT=ee((NKe,MY)=>{"use strict";x();var VEe=pt(),Bf=L_().Buffer,SY=U_(),nT=F_();function AY(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new No,this.tree._init(t.body)}MY.exports=AY;AY.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function No(t){SY.call(this,"der",t)}VEe(No,SY);No.prototype._encodeComposite=function(e,r,n,i){let a=ZEe(e,r,n,this.reporter);if(i.length<128){let l=Bf.alloc(2);return l[0]=a,l[1]=i.length,this._createEncoderBuffer([l,i])}let s=1;for(let l=i.length;l>=256;l>>=8)s++;let f=Bf.alloc(1+1+s);f[0]=a,f[1]=128|s;for(let l=1+s,g=i.length;g>0;l--,g>>=8)f[l]=g&255;return this._createEncoderBuffer([f,i])};No.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let n=Bf.alloc(e.length*2);for(let i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};No.prototype._encodeObjid=function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let f=0;f<e.length;f++)e[f]|=0}else if(Array.isArray(e)){e=e.slice();for(let f=0;f<e.length;f++)e[f]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let i=0;for(let f=0;f<e.length;f++){let l=e[f];for(i++;l>=128;l>>=7)i++}let a=Bf.alloc(i),s=a.length-1;for(let f=e.length-1;f>=0;f--){let l=e[f];for(a[s--]=l&127;(l>>=7)>0;)a[s--]=128|l&127}return this._createEncoderBuffer(a)};function Ya(t){return t<10?"0"+t:t}No.prototype._encodeTime=function(e,r){let n,i=new Date(e);return r==="gentime"?n=[Ya(i.getUTCFullYear()),Ya(i.getUTCMonth()+1),Ya(i.getUTCDate()),Ya(i.getUTCHours()),Ya(i.getUTCMinutes()),Ya(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[Ya(i.getUTCFullYear()%100),Ya(i.getUTCMonth()+1),Ya(i.getUTCDate()),Ya(i.getUTCHours()),Ya(i.getUTCMinutes()),Ya(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")};No.prototype._encodeNull=function(){return this._createEncoderBuffer("")};No.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!Bf.isBuffer(e)){let a=e.toArray();!e.sign&&a[0]&128&&a.unshift(0),e=Bf.from(a)}if(Bf.isBuffer(e)){let a=e.length;e.length===0&&a++;let s=Bf.alloc(a);return e.copy(s),e.length===0&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let a=e;a>=256;a>>=8)n++;let i=new Array(n);for(let a=i.length-1;a>=0;a--)i[a]=e&255,e>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(Bf.from(i))};No.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};No.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};No.prototype._skipDefault=function(e,r,n){let i=this._baseState,a;if(i.default===null)return!1;let s=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),s.length!==i.defaultBuffer.length)return!1;for(a=0;a<s.length;a++)if(s[a]!==i.defaultBuffer[a])return!1;return!0};function ZEe(t,e,r,n){let i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),nT.tagByName.hasOwnProperty(t))i=nT.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return n.error("Unknown tag: "+t);return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=nT.tagClassByName[r||"universal"]<<6,i)}});var OY=ee((DKe,TY)=>{"use strict";x();var JEe=pt(),aT=iT();function oT(t){aT.call(this,t),this.enc="pem"}JEe(oT,aT);TY.exports=oT;oT.prototype.encode=function(e,r){let i=aT.prototype.encode.call(this,e).toString("base64"),a=["-----BEGIN "+r.label+"-----"];for(let s=0;s<i.length;s+=64)a.push(i.slice(s,s+64));return a.push("-----END "+r.label+"-----"),a.join(`
`)}});var sT=ee(RY=>{"use strict";x();var IY=RY;IY.der=iT();IY.pem=OY()});var uT=ee((jKe,LY)=>{"use strict";x();var YEe=pt(),XEe=Yr(),kY=Vd().DecoderBuffer,BY=U_(),CY=F_();function PY(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new ca,this.tree._init(t.body)}LY.exports=PY;PY.prototype.decode=function(e,r){return kY.isDecoderBuffer(e)||(e=new kY(e,r)),this.tree._decode(e,r)};function ca(t){BY.call(this,"der",t)}YEe(ca,BY);ca.prototype._peekTag=function(e,r,n){if(e.isEmpty())return!1;let i=e.save(),a=fT(e,'Failed to peek tag: "'+r+'"');return e.isError(a)?a:(e.restore(i),a.tag===r||a.tagStr===r||a.tagStr+"of"===r||n)};ca.prototype._decodeTag=function(e,r,n){let i=fT(e,'Failed to decode tag of "'+r+'"');if(e.isError(i))return i;let a=NY(e,i.primitive,'Failed to get length of "'+r+'"');if(e.isError(a))return a;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(i.primitive||a!==null)return e.skip(a,'Failed to match body of: "'+r+'"');let s=e.save(),f=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(f)?f:(a=e.offset-s.offset,e.restore(s),e.skip(a,'Failed to match body of: "'+r+'"'))};ca.prototype._skipUntilEnd=function(e,r){for(;;){let n=fT(e,r);if(e.isError(n))return n;let i=NY(e,n.primitive,r);if(e.isError(i))return i;let a;if(n.primitive||i!==null?a=e.skip(i):a=this._skipUntilEnd(e,r),e.isError(a))return a;if(n.tagStr==="end")break}};ca.prototype._decodeList=function(e,r,n,i){let a=[];for(;!e.isEmpty();){let s=this._peekTag(e,"end");if(e.isError(s))return s;let f=n.decode(e,"der",i);if(e.isError(f)&&s)break;a.push(f)}return a};ca.prototype._decodeStr=function(e,r){if(r==="bitstr"){let n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){let n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let i="";for(let a=0;a<n.length/2;a++)i+=String.fromCharCode(n.readUInt16BE(a*2));return i}else if(r==="numstr"){let n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};ca.prototype._decodeObjid=function(e,r,n){let i,a=[],s=0,f=0;for(;!e.isEmpty();)f=e.readUInt8(),s<<=7,s|=f&127,(f&128)===0&&(a.push(s),s=0);f&128&&a.push(s);let l=a[0]/40|0,g=a[0]%40;if(n?i=a:i=[l,g].concat(a.slice(1)),r){let m=r[i.join(" ")];m===void 0&&(m=r[i.join(".")]),m!==void 0&&(i=m)}return i};ca.prototype._decodeTime=function(e,r){let n=e.raw().toString(),i,a,s,f,l,g;if(r==="gentime")i=n.slice(0,4)|0,a=n.slice(4,6)|0,s=n.slice(6,8)|0,f=n.slice(8,10)|0,l=n.slice(10,12)|0,g=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,a=n.slice(2,4)|0,s=n.slice(4,6)|0,f=n.slice(6,8)|0,l=n.slice(8,10)|0,g=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,a-1,s,f,l,g,0)};ca.prototype._decodeNull=function(){return null};ca.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};ca.prototype._decodeInt=function(e,r){let n=e.raw(),i=new XEe(n);return r&&(i=r[i.toString(10)]||i),i};ca.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function fT(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let n=CY.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){let s=r;for(r=0;(s&128)===128;){if(s=t.readUInt8(e),t.isError(s))return s;r<<=7,r|=s&127}}else r&=31;let a=CY.tag[r];return{cls:n,primitive:i,tag:r,tagStr:a}}function NY(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if((n&128)===0)return n;let i=n&127;if(i>4)return t.error("length octect is too long");n=0;for(let a=0;a<i;a++){n<<=8;let s=t.readUInt8(r);if(t.isError(s))return s;n|=s}return n}});var qY=ee((KKe,DY)=>{"use strict";x();var QEe=pt(),eSe=L_().Buffer,cT=uT();function lT(t){cT.call(this,t),this.enc="pem"}QEe(lT,cT);DY.exports=lT;lT.prototype.decode=function(e,r){let n=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,f=-1;for(let m=0;m<n.length;m++){let A=n[m].match(a);if(A!==null&&A[2]===i)if(s===-1){if(A[1]!=="BEGIN")break;s=m}else{if(A[1]!=="END")break;f=m;break}}if(s===-1||f===-1)throw new Error("PEM section not found for: "+i);let l=n.slice(s+1,f).join("");l.replace(/[^a-z0-9+/=]+/gi,"");let g=eSe.from(l,"base64");return cT.prototype.decode.call(this,g,r)}});var hT=ee(FY=>{"use strict";x();var UY=FY;UY.der=uT();UY.pem=qY()});var dT=ee(jY=>{"use strict";x();var tSe=sT(),rSe=hT(),nSe=pt(),iSe=jY;iSe.define=function(e,r){return new Zd(e,r)};function Zd(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}Zd.prototype._createNamed=function(e){let r=this.name;function n(i){this._initNamed(i,r)}return nSe(n,e),n.prototype._initNamed=function(a,s){e.call(this,a,s)},new n(this)};Zd.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(rSe[e])),this.decoders[e]};Zd.prototype.decode=function(e,r,n){return this._getDecoder(r).decode(e,n)};Zd.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(tSe[e])),this.encoders[e]};Zd.prototype.encode=function(e,r,n){return this._getEncoder(r).encode(e,n)}});var KY=ee(zY=>{"use strict";x();var j_=zY;j_.Reporter=D_().Reporter;j_.DecoderBuffer=Vd().DecoderBuffer;j_.EncoderBuffer=Vd().EncoderBuffer;j_.Node=U_()});var HY=ee(GY=>{"use strict";x();var WY=GY;WY._reverse=function(e){let r={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);let i=e[n];r[i]=n}),r};WY.der=F_()});var pT=ee($Y=>{"use strict";x();var Jd=$Y;Jd.bignum=Yr();Jd.define=dT().define;Jd.base=KY();Jd.constants=HY();Jd.decoders=hT();Jd.encoders=sT()});var YY=ee((tWe,JY)=>{"use strict";x();var Lo=pT(),VY=Lo.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),aSe=Lo.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),gT=Lo.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),oSe=Lo.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(gT),this.key("subjectPublicKey").bitstr())}),sSe=Lo.define("RelativeDistinguishedName",function(){this.setof(aSe)}),fSe=Lo.define("RDNSequence",function(){this.seqof(sSe)}),ZY=Lo.define("Name",function(){this.choice({rdnSequence:this.use(fSe)})}),uSe=Lo.define("Validity",function(){this.seq().obj(this.key("notBefore").use(VY),this.key("notAfter").use(VY))}),cSe=Lo.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),lSe=Lo.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(gT),this.key("issuer").use(ZY),this.key("validity").use(uSe),this.key("subject").use(ZY),this.key("subjectPublicKeyInfo").use(oSe),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(cSe).optional())}),hSe=Lo.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(lSe),this.key("signatureAlgorithm").use(gT),this.key("signatureValue").bitstr())});JY.exports=hSe});var QY=ee(qo=>{"use strict";x();var Do=pT();qo.certificate=YY();var dSe=Do.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});qo.RSAPrivateKey=dSe;var pSe=Do.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});qo.RSAPublicKey=pSe;var gSe=Do.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(XY),this.key("subjectPublicKey").bitstr())});qo.PublicKey=gSe;var XY=Do.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),vSe=Do.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(XY),this.key("subjectPrivateKey").octstr())});qo.PrivateKey=vSe;var ySe=Do.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});qo.EncryptedPrivateKey=ySe;var mSe=Do.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});qo.DSAPrivateKey=mSe;qo.DSAparam=Do.define("DSAparam",function(){this.int()});var bSe=Do.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(wSe),this.key("publicKey").optional().explicit(1).bitstr())});qo.ECPrivateKey=bSe;var wSe=Do.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});qo.signature=Do.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var eX=ee((aWe,xSe)=>{xSe.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var rX=ee((oWe,tX)=>{x();var _Se=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,ESe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,SSe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,ASe=wv(),MSe=g_(),z_=Et().Buffer;tX.exports=function(t,e){var r=t.toString(),n=r.match(_Se),i;if(n){var s="aes"+n[1],f=z_.from(n[2],"hex"),l=z_.from(n[3].replace(/[\r\n]/g,""),"base64"),g=ASe(e,f.slice(0,8),parseInt(n[1],10)).key,m=[],A=MSe.createDecipheriv(s,g,f);m.push(A.update(l)),m.push(A.final()),i=z_.concat(m)}else{var a=r.match(SSe);i=z_.from(a[2].replace(/[\r\n]/g,""),"base64")}var I=r.match(ESe)[1];return{tag:I,data:i}}});var Iv=ee((fWe,iX)=>{x();var Fi=QY(),TSe=eX(),OSe=rX(),ISe=g_(),RSe=nM(),vT=Et().Buffer;iX.exports=nX;function nX(t){var e;typeof t=="object"&&!vT.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=vT.from(t));var r=OSe(t,e),n=r.tag,i=r.data,a,s;switch(n){case"CERTIFICATE":s=Fi.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(s||(s=Fi.PublicKey.decode(i,"der")),a=s.algorithm.algorithm.join("."),a){case"1.2.840.113549.1.1.1":return Fi.RSAPublicKey.decode(s.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return s.subjectPrivateKey=s.subjectPublicKey,{type:"ec",data:s};case"1.2.840.10040.4.1":return s.algorithm.params.pub_key=Fi.DSAparam.decode(s.subjectPublicKey.data,"der"),{type:"dsa",data:s.algorithm.params};default:throw new Error("unknown key id "+a)}case"ENCRYPTED PRIVATE KEY":i=Fi.EncryptedPrivateKey.decode(i,"der"),i=kSe(i,e);case"PRIVATE KEY":switch(s=Fi.PrivateKey.decode(i,"der"),a=s.algorithm.algorithm.join("."),a){case"1.2.840.113549.1.1.1":return Fi.RSAPrivateKey.decode(s.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:s.algorithm.curve,privateKey:Fi.ECPrivateKey.decode(s.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return s.algorithm.params.priv_key=Fi.DSAparam.decode(s.subjectPrivateKey,"der"),{type:"dsa",params:s.algorithm.params};default:throw new Error("unknown key id "+a)}case"RSA PUBLIC KEY":return Fi.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return Fi.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Fi.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=Fi.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}nX.signature=Fi.signature;function kSe(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=TSe[t.algorithm.decrypt.cipher.algo.join(".")],a=t.algorithm.decrypt.cipher.iv,s=t.subjectPrivateKey,f=parseInt(i.split("-")[1],10)/8,l=RSe.pbkdf2Sync(e,r,n,f,"sha1"),g=ISe.createDecipheriv(i,l,a),m=[];return m.push(g.update(s)),m.push(g.final()),vT.concat(m)}});var yT=ee((cWe,CSe)=>{CSe.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var sX=ee((lWe,W_)=>{"use strict";x();var pi=Et().Buffer,lh=$A(),BSe=b_(),PSe=Ov().ec,K_=tT(),NSe=Iv(),LSe=yT(),DSe=1;function qSe(t,e,r,n,i){var a=NSe(e);if(a.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return USe(t,a)}else if(a.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return FSe(t,a,r)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");if(e.padding!==void 0&&e.padding!==DSe)throw new Error("illegal or unsupported padding mode");t=pi.concat([i,t]);for(var s=a.modulus.byteLength(),f=[0,1];t.length+f.length+1<s;)f.push(255);f.push(0);for(var l=-1;++l<t.length;)f.push(t[l]);var g=BSe(f,a);return g}function USe(t,e){var r=LSe[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new PSe(r),i=n.keyFromPrivate(e.privateKey),a=i.sign(t);return pi.from(a.toDER())}function FSe(t,e,r){for(var n=e.params.priv_key,i=e.params.p,a=e.params.q,s=e.params.g,f=new K_(0),l,g=mT(t,a).mod(a),m=!1,A=aX(n,a,t,r);m===!1;)l=oX(a,A,r),f=KSe(s,l,i,a),m=l.invm(a).imul(g.add(n.mul(f))).mod(a),m.cmpn(0)===0&&(m=!1,f=new K_(0));return jSe(f,m)}function jSe(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,n=[48,r,2,t.length];return n=n.concat(t,[2,e.length],e),pi.from(n)}function aX(t,e,r,n){if(t=pi.from(t.toArray()),t.length<e.byteLength()){var i=pi.alloc(e.byteLength()-t.length);t=pi.concat([i,t])}var a=r.length,s=zSe(r,e),f=pi.alloc(a);f.fill(1);var l=pi.alloc(a);return l=lh(n,l).update(f).update(pi.from([0])).update(t).update(s).digest(),f=lh(n,l).update(f).digest(),l=lh(n,l).update(f).update(pi.from([1])).update(t).update(s).digest(),f=lh(n,l).update(f).digest(),{k:l,v:f}}function mT(t,e){var r=new K_(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function zSe(t,e){t=mT(t,e),t=t.mod(e);var r=pi.from(t.toArray());if(r.length<e.byteLength()){var n=pi.alloc(e.byteLength()-r.length);r=pi.concat([n,r])}return r}function oX(t,e,r){var n,i;do{for(n=pi.alloc(0);n.length*8<t.bitLength();)e.v=lh(r,e.k).update(e.v).digest(),n=pi.concat([n,e.v]);i=mT(n,t),e.k=lh(r,e.k).update(e.v).update(pi.from([0])).digest(),e.v=lh(r,e.k).update(e.v).digest()}while(i.cmp(t)!==-1);return i}function KSe(t,e,r,n){return t.toRed(K_.mont(r)).redPow(e).fromRed().mod(n)}W_.exports=qSe;W_.exports.getKey=aX;W_.exports.makeKey=oX});var lX=ee((dWe,cX)=>{"use strict";x();var bT=Et().Buffer,Rv=tT(),WSe=Ov().ec,uX=Iv(),GSe=yT();function HSe(t,e,r,n,i){var a=uX(r);if(a.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return $Se(t,e,a)}else if(a.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return VSe(t,e,a)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");e=bT.concat([i,e]);for(var s=a.modulus.byteLength(),f=[1],l=0;e.length+f.length+2<s;)f.push(255),l+=1;f.push(0);for(var g=-1;++g<e.length;)f.push(e[g]);f=bT.from(f);var m=Rv.mont(a.modulus);t=new Rv(t).toRed(m),t=t.redPow(new Rv(a.publicExponent)),t=bT.from(t.fromRed().toArray());var A=l<8?1:0;for(s=Math.min(t.length,f.length),t.length!==f.length&&(A=1),g=-1;++g<s;)A|=t[g]^f[g];return A===0}function $Se(t,e,r){var n=GSe[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new WSe(n),a=r.data.subjectPrivateKey.data;return i.verify(e,t,a)}function VSe(t,e,r){var n=r.data.p,i=r.data.q,a=r.data.g,s=r.data.pub_key,f=uX.signature.decode(t,"der"),l=f.s,g=f.r;fX(l,i),fX(g,i);var m=Rv.mont(n),A=l.invm(i),I=a.toRed(m).redPow(new Rv(e).mul(A).mod(i)).fromRed().mul(s.toRed(m).redPow(g.mul(A).mod(i)).fromRed()).mod(n).mod(i);return I.cmp(g)===0}function fX(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}cX.exports=HSe});var yX=ee((gWe,vX)=>{"use strict";x();var G_=Et().Buffer,pX=Ed(),H_=oi(),gX=pt(),ZSe=sX(),JSe=lX(),hh=VA();Object.keys(hh).forEach(function(t){hh[t].id=G_.from(hh[t].id,"hex"),hh[t.toLowerCase()]=hh[t]});function kv(t){H_.Writable.call(this);var e=hh[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=pX(e.hash),this._tag=e.id,this._signType=e.sign}gX(kv,H_.Writable);kv.prototype._write=function(e,r,n){this._hash.update(e),n()};kv.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?G_.from(e,r):e),this};kv.prototype.sign=function(e,r){this.end();var n=this._hash.digest(),i=ZSe(n,e,this._hashType,this._signType,this._tag);return r?i.toString(r):i};function Cv(t){H_.Writable.call(this);var e=hh[t];if(!e)throw new Error("Unknown message digest");this._hash=pX(e.hash),this._tag=e.id,this._signType=e.sign}gX(Cv,H_.Writable);Cv.prototype._write=function(e,r,n){this._hash.update(e),n()};Cv.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?G_.from(e,r):e),this};Cv.prototype.verify=function(e,r,n){var i=typeof r=="string"?G_.from(r,n):r;this.end();var a=this._hash.digest();return JSe(i,a,e,this._signType,this._tag)};function hX(t){return new kv(t)}function dX(t){return new Cv(t)}vX.exports={Sign:hX,Verify:dX,createSign:hX,createVerify:dX}});var bX=ee((yWe,mX)=>{x();var YSe=Ov(),XSe=Yr();mX.exports=function(e){return new dh(e)};var la={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};la.p224=la.secp224r1;la.p256=la.secp256r1=la.prime256v1;la.p192=la.secp192r1=la.prime192v1;la.p384=la.secp384r1;la.p521=la.secp521r1;function dh(t){this.curveType=la[t],this.curveType||(this.curveType={name:t}),this.curve=new YSe.ec(this.curveType.name),this.keys=void 0}dh.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};dh.prototype.computeSecret=function(t,e,r){e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e));var n=this.curve.keyFromPublic(t).getPublic(),i=n.mul(this.keys.getPrivate()).getX();return wT(i,r,this.curveType.byteLength)};dh.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),wT(r,t)};dh.prototype.getPrivateKey=function(t){return wT(this.keys.getPrivate(),t)};dh.prototype.setPublicKey=function(t,e){return e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e)),this.keys._importPublic(t),this};dh.prototype.setPrivateKey=function(t,e){e=e||"utf8",N.Buffer.isBuffer(t)||(t=new N.Buffer(t,e));var r=new XSe(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function wT(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new N.Buffer(t);if(r&&n.length<r){var i=new N.Buffer(r-n.length);i.fill(0),n=N.Buffer.concat([i,n])}return e?n.toString(e):n}});var _T=ee((bWe,wX)=>{x();var QSe=Ed(),xT=Et().Buffer;wX.exports=function(t,e){for(var r=xT.alloc(0),n=0,i;r.length<e;)i=e7e(n++),r=xT.concat([r,QSe("sha1").update(t).update(i).digest()]);return r.slice(0,e)};function e7e(t){var e=xT.allocUnsafe(4);return e.writeUInt32BE(t,0),e}});var ET=ee((xWe,xX)=>{x();xX.exports=function(e,r){for(var n=e.length,i=-1;++i<n;)e[i]^=r[i];return e}});var ST=ee((EWe,EX)=>{x();var _X=Yr(),t7e=Et().Buffer;function r7e(t,e){return t7e.from(t.toRed(_X.mont(e.modulus)).redPow(new _X(e.publicExponent)).fromRed().toArray())}EX.exports=r7e});var TX=ee((AWe,MX)=>{x();var n7e=Iv(),AT=Hl(),i7e=Ed(),SX=_T(),AX=ET(),MT=Yr(),a7e=ST(),o7e=b_(),Uo=Et().Buffer;MX.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var a=n7e(e),s;if(i===4)s=s7e(a,r);else if(i===1)s=f7e(a,r,n);else if(i===3){if(s=new MT(r),s.cmp(a.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?o7e(s,a):a7e(s,a)};function s7e(t,e){var r=t.modulus.byteLength(),n=e.length,i=i7e("sha1").update(Uo.alloc(0)).digest(),a=i.length,s=2*a;if(n>r-s-2)throw new Error("message too long");var f=Uo.alloc(r-n-s-2),l=r-a-1,g=AT(a),m=AX(Uo.concat([i,f,Uo.alloc(1,1),e],l),SX(g,l)),A=AX(g,SX(m,a));return new MT(Uo.concat([Uo.alloc(1),A,m],r))}function f7e(t,e,r){var n=e.length,i=t.modulus.byteLength();if(n>i-11)throw new Error("message too long");var a;return r?a=Uo.alloc(i-n-3,255):a=u7e(i-n-3),new MT(Uo.concat([Uo.from([0,r?1:2]),a,Uo.alloc(1),e],i))}function u7e(t){for(var e=Uo.allocUnsafe(t),r=0,n=AT(t*2),i=0,a;r<t;)i===n.length&&(n=AT(t*2),i=0),a=n[i++],a&&(e[r++]=a);return e}});var CX=ee((TWe,kX)=>{x();var c7e=Iv(),OX=_T(),IX=ET(),RX=Yr(),l7e=b_(),h7e=Ed(),d7e=ST(),Bv=Et().Buffer;kX.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var a=c7e(e),s=a.modulus.byteLength();if(r.length>s||new RX(r).cmp(a.modulus)>=0)throw new Error("decryption error");var f;n?f=d7e(new RX(r),a):f=l7e(r,a);var l=Bv.alloc(s-f.length);if(f=Bv.concat([l,f],s),i===4)return p7e(a,f);if(i===1)return g7e(a,f,n);if(i===3)return f;throw new Error("unknown padding")};function p7e(t,e){var r=t.modulus.byteLength(),n=h7e("sha1").update(Bv.alloc(0)).digest(),i=n.length;if(e[0]!==0)throw new Error("decryption error");var a=e.slice(1,i+1),s=e.slice(i+1),f=IX(a,OX(s,i)),l=IX(s,OX(f,r-i-1));if(v7e(n,l.slice(0,i)))throw new Error("decryption error");for(var g=i;l[g]===0;)g++;if(l[g++]!==1)throw new Error("decryption error");return l.slice(g)}function g7e(t,e,r){for(var n=e.slice(0,2),i=2,a=0;e[i++]!==0;)if(i>=e.length){a++;break}var s=e.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&a++,s.length<8&&a++,a)throw new Error("decryption error");return e.slice(i)}function v7e(t,e){t=Bv.from(t),e=Bv.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}});var BX=ee(ph=>{x();ph.publicEncrypt=TX();ph.privateDecrypt=CX();ph.privateEncrypt=function(e,r){return ph.publicEncrypt(e,r,!0)};ph.publicDecrypt=function(e,r){return ph.privateDecrypt(e,r,!0)}});var KX=ee(Pv=>{"use strict";x();function PX(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var LX=Et(),NX=Hl(),DX=LX.Buffer,qX=LX.kMaxLength,TT=D.crypto||D.msCrypto,UX=Math.pow(2,32)-1;function FX(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>UX||t<0)throw new TypeError("offset must be a uint32");if(t>qX||t>e)throw new RangeError("offset out of range")}function jX(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>UX||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>qX)throw new RangeError("buffer too small")}TT&&TT.getRandomValues||!P.default.browser?(Pv.randomFill=y7e,Pv.randomFillSync=m7e):(Pv.randomFill=PX,Pv.randomFillSync=PX);function y7e(t,e,r,n){if(!DX.isBuffer(t)&&!(t instanceof D.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return FX(e,t.length),jX(r,e,t.length),zX(t,e,r,n)}function zX(t,e,r,n){if(P.default.browser){var i=t.buffer,a=new Uint8Array(i,e,r);if(TT.getRandomValues(a),n){P.default.nextTick(function(){n(null,t)});return}return t}if(n){NX(r,function(f,l){if(f)return n(f);l.copy(t,e),n(null,t)});return}var s=NX(r);return s.copy(t,e),t}function m7e(t,e,r){if(typeof e>"u"&&(e=0),!DX.isBuffer(t)&&!(t instanceof D.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return FX(e,t.length),r===void 0&&(r=t.length-e),jX(r,e,t.length),zX(t,e,r)}});var Xu=ee(kt=>{"use strict";x();kt.randomBytes=kt.rng=kt.pseudoRandomBytes=kt.prng=Hl();kt.createHash=kt.Hash=Ed();kt.createHmac=kt.Hmac=$A();var b7e=uV(),w7e=Object.keys(b7e),x7e=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(w7e);kt.getHashes=function(){return x7e};var WX=nM();kt.pbkdf2=WX.pbkdf2;kt.pbkdf2Sync=WX.pbkdf2Sync;var Bs=kZ();kt.Cipher=Bs.Cipher;kt.createCipher=Bs.createCipher;kt.Cipheriv=Bs.Cipheriv;kt.createCipheriv=Bs.createCipheriv;kt.Decipher=Bs.Decipher;kt.createDecipher=Bs.createDecipher;kt.Decipheriv=Bs.Decipheriv;kt.createDecipheriv=Bs.createDecipheriv;kt.getCiphers=Bs.getCiphers;kt.listCiphers=Bs.listCiphers;var Nv=KZ();kt.DiffieHellmanGroup=Nv.DiffieHellmanGroup;kt.createDiffieHellmanGroup=Nv.createDiffieHellmanGroup;kt.getDiffieHellman=Nv.getDiffieHellman;kt.createDiffieHellman=Nv.createDiffieHellman;kt.DiffieHellman=Nv.DiffieHellman;var $_=yX();kt.createSign=$_.createSign;kt.Sign=$_.Sign;kt.createVerify=$_.createVerify;kt.Verify=$_.Verify;kt.createECDH=bX();var V_=BX();kt.publicEncrypt=V_.publicEncrypt;kt.privateEncrypt=V_.privateEncrypt;kt.publicDecrypt=V_.publicDecrypt;kt.privateDecrypt=V_.privateDecrypt;var GX=KX();kt.randomFill=GX.randomFill;kt.randomFillSync=GX.randomFillSync;kt.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};kt.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var ZQ=ee((QVe,VQ)=>{x();function ro(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}VQ.exports=ro;ro.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};ro.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};ro.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};ro.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};ro.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};ro.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};ro.prototype.start=ro.prototype.try;ro.prototype.errors=function(){return this._errors};ro.prototype.attempts=function(){return this._attempts};ro.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],a=i.message,s=(t[a]||0)+1;t[a]=s,s>=r&&(e=i,r=s)}return e}});var JQ=ee(bh=>{x();var z9e=ZQ();bh.operation=function(t){var e=bh.timeouts(t);return new z9e(e,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})};bh.timeouts=function(t){if(t instanceof Array)return[].concat(t);var e={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in t)e[r]=t[r];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<e.retries;i++)n.push(this.createTimeout(i,e));return t&&t.forever&&!n.length&&n.push(this.createTimeout(i,e)),n.sort(function(a,s){return a-s}),n};bh.createTimeout=function(t,e){var r=e.randomize?Math.random()+1:1,n=Math.round(r*Math.max(e.minTimeout,1)*Math.pow(e.factor,t));return n=Math.min(n,e.maxTimeout),n};bh.wrap=function(t,e,r){if(e instanceof Array&&(r=e,e=null),!r){r=[];for(var n in t)typeof t[n]=="function"&&r.push(n)}for(var i=0;i<r.length;i++){var a=r[i],s=t[a];t[a]=function(l){var g=bh.operation(e),m=Array.prototype.slice.call(arguments,1),A=m.pop();m.push(function(I){g.retry(I)||(I&&(arguments[0]=g.mainError()),A.apply(this,arguments))}),g.attempt(function(){l.apply(t,m)})}.bind(t,s),t[a].options=e}}});var XQ=ee((nZe,YQ)=>{x();YQ.exports=JQ()});var eee=ee((aZe,QQ)=>{x();var K9e=XQ();function W9e(t,e){function r(n,i){var a=e||{},s;"randomize"in a||(a.randomize=!0),s=K9e.operation(a);function f(m){i(m||new Error("Aborted"))}function l(m,A){if(m.bail){f(m);return}s.retry(m)?a.onRetry&&a.onRetry(m,A):i(s.mainError())}function g(m){var A;try{A=t(f,m)}catch(I){l(I,m);return}Promise.resolve(A).then(n).catch(function(T){l(T,m)})}s.attempt(g)}return new Promise(r)}QQ.exports=W9e});var dee=ee((xJe,S6)=>{x();(function(){"use strict";var t="input is invalid type",e="finalize already called",r=typeof window=="object",n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&typeof self=="object",a=!n.JS_SHA3_NO_NODE_JS&&typeof P.default=="object"&&P.default.versions&&P.default.versions.node;a?n=D:i&&(n=self);var s=!n.JS_SHA3_NO_COMMON_JS&&typeof S6=="object"&&S6.exports,f=typeof define=="function"&&define.amd,l=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",g="0123456789abcdef".split(""),m=[31,7936,2031616,520093696],A=[4,1024,262144,67108864],I=[1,256,65536,16777216],T=[6,1536,393216,100663296],O=[0,8,16,24],U=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Z=[224,256,384,512],Y=[128,256],re=["hex","buffer","arrayBuffer","array","digest"],pe={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(F){return Object.prototype.toString.call(F)==="[object Array]"}),l&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(F){return typeof F=="object"&&F.buffer&&F.buffer.constructor===ArrayBuffer});for(var he=function(F,ne,ce){return function(xe){return new c(F,ne,F).update(xe)[ce]()}},se=function(F,ne,ce){return function(xe,M){return new c(F,ne,M).update(xe)[ce]()}},fe=function(F,ne,ce){return function(xe,M,k,C){return o["cshake"+F].update(xe,M,k,C)[ce]()}},de=function(F,ne,ce){return function(xe,M,k,C){return o["kmac"+F].update(xe,M,k,C)[ce]()}},G=function(F,ne,ce,xe){for(var M=0;M<re.length;++M){var k=re[M];F[k]=ne(ce,xe,k)}return F},L=function(F,ne){var ce=he(F,ne,"hex");return ce.create=function(){return new c(F,ne,F)},ce.update=function(xe){return ce.create().update(xe)},G(ce,he,F,ne)},q=function(F,ne){var ce=se(F,ne,"hex");return ce.create=function(xe){return new c(F,ne,xe)},ce.update=function(xe,M){return ce.create(M).update(xe)},G(ce,se,F,ne)},S=function(F,ne){var ce=pe[F],xe=fe(F,ne,"hex");return xe.create=function(M,k,C){return!k&&!C?o["shake"+F].create(M):new c(F,ne,M).bytepad([k,C],ce)},xe.update=function(M,k,C,z){return xe.create(k,C,z).update(M)},G(xe,fe,F,ne)},B=function(F,ne){var ce=pe[F],xe=de(F,ne,"hex");return xe.create=function(M,k,C){return new b(F,ne,k).bytepad(["KMAC",C],ce).bytepad([M],ce)},xe.update=function(M,k,C,z){return xe.create(M,C,z).update(k)},G(xe,de,F,ne)},y=[{name:"keccak",padding:I,bits:Z,createMethod:L},{name:"sha3",padding:T,bits:Z,createMethod:L},{name:"shake",padding:m,bits:Y,createMethod:q},{name:"cshake",padding:A,bits:Y,createMethod:S},{name:"kmac",padding:A,bits:Y,createMethod:B}],o={},u=[],h=0;h<y.length;++h)for(var p=y[h],v=p.bits,d=0;d<v.length;++d){var E=p.name+"_"+v[d];if(u.push(E),o[E]=p.createMethod(v[d],p.padding),p.name!=="sha3"){var w=p.name+v[d];u.push(w),o[w]=o[E]}}function c(F,ne,ce){this.blocks=[],this.s=[],this.padding=ne,this.outputBits=ce,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(F<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ce>>5,this.extraBytes=(ce&31)>>3;for(var xe=0;xe<50;++xe)this.s[xe]=0}c.prototype.update=function(F){if(this.finalized)throw new Error(e);var ne,ce=typeof F;if(ce!=="string"){if(ce==="object"){if(F===null)throw new Error(t);if(l&&F.constructor===ArrayBuffer)F=new Uint8Array(F);else if(!Array.isArray(F)&&(!l||!ArrayBuffer.isView(F)))throw new Error(t)}else throw new Error(t);ne=!0}for(var xe=this.blocks,M=this.byteCount,k=F.length,C=this.blockCount,z=0,H=this.s,j,J;z<k;){if(this.reset)for(this.reset=!1,xe[0]=this.block,j=1;j<C+1;++j)xe[j]=0;if(ne)for(j=this.start;z<k&&j<M;++z)xe[j>>2]|=F[z]<<O[j++&3];else for(j=this.start;z<k&&j<M;++z)J=F.charCodeAt(z),J<128?xe[j>>2]|=J<<O[j++&3]:J<2048?(xe[j>>2]|=(192|J>>6)<<O[j++&3],xe[j>>2]|=(128|J&63)<<O[j++&3]):J<55296||J>=57344?(xe[j>>2]|=(224|J>>12)<<O[j++&3],xe[j>>2]|=(128|J>>6&63)<<O[j++&3],xe[j>>2]|=(128|J&63)<<O[j++&3]):(J=65536+((J&1023)<<10|F.charCodeAt(++z)&1023),xe[j>>2]|=(240|J>>18)<<O[j++&3],xe[j>>2]|=(128|J>>12&63)<<O[j++&3],xe[j>>2]|=(128|J>>6&63)<<O[j++&3],xe[j>>2]|=(128|J&63)<<O[j++&3]);if(this.lastByteIndex=j,j>=M){for(this.start=j-M,this.block=xe[C],j=0;j<C;++j)H[j]^=xe[j];ue(H),this.reset=!0}else this.start=j}return this},c.prototype.encode=function(F,ne){var ce=F&255,xe=1,M=[ce];for(F=F>>8,ce=F&255;ce>0;)M.unshift(ce),F=F>>8,ce=F&255,++xe;return ne?M.push(xe):M.unshift(xe),this.update(M),M.length},c.prototype.encodeString=function(F){var ne,ce=typeof F;if(ce!=="string"){if(ce==="object"){if(F===null)throw new Error(t);if(l&&F.constructor===ArrayBuffer)F=new Uint8Array(F);else if(!Array.isArray(F)&&(!l||!ArrayBuffer.isView(F)))throw new Error(t)}else throw new Error(t);ne=!0}var xe=0,M=F.length;if(ne)xe=M;else for(var k=0;k<F.length;++k){var C=F.charCodeAt(k);C<128?xe+=1:C<2048?xe+=2:C<55296||C>=57344?xe+=3:(C=65536+((C&1023)<<10|F.charCodeAt(++k)&1023),xe+=4)}return xe+=this.encode(xe*8),this.update(F),xe},c.prototype.bytepad=function(F,ne){for(var ce=this.encode(ne),xe=0;xe<F.length;++xe)ce+=this.encodeString(F[xe]);var M=ne-ce%ne,k=[];return k.length=M,this.update(k),this},c.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var F=this.blocks,ne=this.lastByteIndex,ce=this.blockCount,xe=this.s;if(F[ne>>2]|=this.padding[ne&3],this.lastByteIndex===this.byteCount)for(F[0]=F[ce],ne=1;ne<ce+1;++ne)F[ne]=0;for(F[ce-1]|=2147483648,ne=0;ne<ce;++ne)xe[ne]^=F[ne];ue(xe)}},c.prototype.toString=c.prototype.hex=function(){this.finalize();for(var F=this.blockCount,ne=this.s,ce=this.outputBlocks,xe=this.extraBytes,M=0,k=0,C="",z;k<ce;){for(M=0;M<F&&k<ce;++M,++k)z=ne[M],C+=g[z>>4&15]+g[z&15]+g[z>>12&15]+g[z>>8&15]+g[z>>20&15]+g[z>>16&15]+g[z>>28&15]+g[z>>24&15];k%F===0&&(ue(ne),M=0)}return xe&&(z=ne[M],C+=g[z>>4&15]+g[z&15],xe>1&&(C+=g[z>>12&15]+g[z>>8&15]),xe>2&&(C+=g[z>>20&15]+g[z>>16&15])),C},c.prototype.arrayBuffer=function(){this.finalize();var F=this.blockCount,ne=this.s,ce=this.outputBlocks,xe=this.extraBytes,M=0,k=0,C=this.outputBits>>3,z;xe?z=new ArrayBuffer(ce+1<<2):z=new ArrayBuffer(C);for(var H=new Uint32Array(z);k<ce;){for(M=0;M<F&&k<ce;++M,++k)H[k]=ne[M];k%F===0&&ue(ne)}return xe&&(H[M]=ne[M],z=z.slice(0,C)),z},c.prototype.buffer=c.prototype.arrayBuffer,c.prototype.digest=c.prototype.array=function(){this.finalize();for(var F=this.blockCount,ne=this.s,ce=this.outputBlocks,xe=this.extraBytes,M=0,k=0,C=[],z,H;k<ce;){for(M=0;M<F&&k<ce;++M,++k)z=k<<2,H=ne[M],C[z]=H&255,C[z+1]=H>>8&255,C[z+2]=H>>16&255,C[z+3]=H>>24&255;k%F===0&&ue(ne)}return xe&&(z=k<<2,H=ne[M],C[z]=H&255,xe>1&&(C[z+1]=H>>8&255),xe>2&&(C[z+2]=H>>16&255)),C};function b(F,ne,ce){c.call(this,F,ne,ce)}b.prototype=new c,b.prototype.finalize=function(){return this.encode(this.outputBits,!0),c.prototype.finalize.call(this)};var ue=function(F){var ne,ce,xe,M,k,C,z,H,j,J,W,K,X,te,ae,$,oe,le,Ee,Be,Ae,R,V,Q,ve,Te,Se,ie,be,ye,me,qe,Oe,Ie,ot,ke,Le,gt,Ce,Ue,at,Ke,Ne,lt,We,He,wt,ze,De,Ut,$e,Ze,wr,Je,Ve,nr,et,Xe,sr,Jt,Bt,yr,ir;for(xe=0;xe<48;xe+=2)M=F[0]^F[10]^F[20]^F[30]^F[40],k=F[1]^F[11]^F[21]^F[31]^F[41],C=F[2]^F[12]^F[22]^F[32]^F[42],z=F[3]^F[13]^F[23]^F[33]^F[43],H=F[4]^F[14]^F[24]^F[34]^F[44],j=F[5]^F[15]^F[25]^F[35]^F[45],J=F[6]^F[16]^F[26]^F[36]^F[46],W=F[7]^F[17]^F[27]^F[37]^F[47],K=F[8]^F[18]^F[28]^F[38]^F[48],X=F[9]^F[19]^F[29]^F[39]^F[49],ne=K^(C<<1|z>>>31),ce=X^(z<<1|C>>>31),F[0]^=ne,F[1]^=ce,F[10]^=ne,F[11]^=ce,F[20]^=ne,F[21]^=ce,F[30]^=ne,F[31]^=ce,F[40]^=ne,F[41]^=ce,ne=M^(H<<1|j>>>31),ce=k^(j<<1|H>>>31),F[2]^=ne,F[3]^=ce,F[12]^=ne,F[13]^=ce,F[22]^=ne,F[23]^=ce,F[32]^=ne,F[33]^=ce,F[42]^=ne,F[43]^=ce,ne=C^(J<<1|W>>>31),ce=z^(W<<1|J>>>31),F[4]^=ne,F[5]^=ce,F[14]^=ne,F[15]^=ce,F[24]^=ne,F[25]^=ce,F[34]^=ne,F[35]^=ce,F[44]^=ne,F[45]^=ce,ne=H^(K<<1|X>>>31),ce=j^(X<<1|K>>>31),F[6]^=ne,F[7]^=ce,F[16]^=ne,F[17]^=ce,F[26]^=ne,F[27]^=ce,F[36]^=ne,F[37]^=ce,F[46]^=ne,F[47]^=ce,ne=J^(M<<1|k>>>31),ce=W^(k<<1|M>>>31),F[8]^=ne,F[9]^=ce,F[18]^=ne,F[19]^=ce,F[28]^=ne,F[29]^=ce,F[38]^=ne,F[39]^=ce,F[48]^=ne,F[49]^=ce,te=F[0],ae=F[1],He=F[11]<<4|F[10]>>>28,wt=F[10]<<4|F[11]>>>28,ie=F[20]<<3|F[21]>>>29,be=F[21]<<3|F[20]>>>29,Jt=F[31]<<9|F[30]>>>23,Bt=F[30]<<9|F[31]>>>23,Ke=F[40]<<18|F[41]>>>14,Ne=F[41]<<18|F[40]>>>14,Ie=F[2]<<1|F[3]>>>31,ot=F[3]<<1|F[2]>>>31,$=F[13]<<12|F[12]>>>20,oe=F[12]<<12|F[13]>>>20,ze=F[22]<<10|F[23]>>>22,De=F[23]<<10|F[22]>>>22,ye=F[33]<<13|F[32]>>>19,me=F[32]<<13|F[33]>>>19,yr=F[42]<<2|F[43]>>>30,ir=F[43]<<2|F[42]>>>30,Je=F[5]<<30|F[4]>>>2,Ve=F[4]<<30|F[5]>>>2,ke=F[14]<<6|F[15]>>>26,Le=F[15]<<6|F[14]>>>26,le=F[25]<<11|F[24]>>>21,Ee=F[24]<<11|F[25]>>>21,Ut=F[34]<<15|F[35]>>>17,$e=F[35]<<15|F[34]>>>17,qe=F[45]<<29|F[44]>>>3,Oe=F[44]<<29|F[45]>>>3,Q=F[6]<<28|F[7]>>>4,ve=F[7]<<28|F[6]>>>4,nr=F[17]<<23|F[16]>>>9,et=F[16]<<23|F[17]>>>9,gt=F[26]<<25|F[27]>>>7,Ce=F[27]<<25|F[26]>>>7,Be=F[36]<<21|F[37]>>>11,Ae=F[37]<<21|F[36]>>>11,Ze=F[47]<<24|F[46]>>>8,wr=F[46]<<24|F[47]>>>8,lt=F[8]<<27|F[9]>>>5,We=F[9]<<27|F[8]>>>5,Te=F[18]<<20|F[19]>>>12,Se=F[19]<<20|F[18]>>>12,Xe=F[29]<<7|F[28]>>>25,sr=F[28]<<7|F[29]>>>25,Ue=F[38]<<8|F[39]>>>24,at=F[39]<<8|F[38]>>>24,R=F[48]<<14|F[49]>>>18,V=F[49]<<14|F[48]>>>18,F[0]=te^~$&le,F[1]=ae^~oe&Ee,F[10]=Q^~Te&ie,F[11]=ve^~Se&be,F[20]=Ie^~ke&gt,F[21]=ot^~Le&Ce,F[30]=lt^~He&ze,F[31]=We^~wt&De,F[40]=Je^~nr&Xe,F[41]=Ve^~et&sr,F[2]=$^~le&Be,F[3]=oe^~Ee&Ae,F[12]=Te^~ie&ye,F[13]=Se^~be&me,F[22]=ke^~gt&Ue,F[23]=Le^~Ce&at,F[32]=He^~ze&Ut,F[33]=wt^~De&$e,F[42]=nr^~Xe&Jt,F[43]=et^~sr&Bt,F[4]=le^~Be&R,F[5]=Ee^~Ae&V,F[14]=ie^~ye&qe,F[15]=be^~me&Oe,F[24]=gt^~Ue&Ke,F[25]=Ce^~at&Ne,F[34]=ze^~Ut&Ze,F[35]=De^~$e&wr,F[44]=Xe^~Jt&yr,F[45]=sr^~Bt&ir,F[6]=Be^~R&te,F[7]=Ae^~V&ae,F[16]=ye^~qe&Q,F[17]=me^~Oe&ve,F[26]=Ue^~Ke&Ie,F[27]=at^~Ne&ot,F[36]=Ut^~Ze&lt,F[37]=$e^~wr&We,F[46]=Jt^~yr&Je,F[47]=Bt^~ir&Ve,F[8]=R^~te&$,F[9]=V^~ae&oe,F[18]=qe^~Q&Te,F[19]=Oe^~ve&Se,F[28]=Ke^~Ie&ke,F[29]=Ne^~ot&Le,F[38]=Ze^~lt&He,F[39]=wr^~We&wt,F[48]=yr^~Je&nr,F[49]=ir^~Ve&et,F[0]^=U[xe],F[1]^=U[xe+1]};if(s)S6.exports=o;else{for(h=0;h<u.length;++h)n[u[h]]=o[u[h]];f&&define(function(){return o})}})()});var Aee=ee((See,pO)=>{x();(function(t,e){"use strict";function r(y,o){if(!y)throw new Error(o||"Assertion failed")}function n(y,o){y.super_=o;var u=function(){};u.prototype=o.prototype,y.prototype=new u,y.prototype.constructor=y}function i(y,o,u){if(i.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(y||0,o||10,u||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Sr().Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,u){return o.cmp(u)>0?o:u},i.min=function(o,u){return o.cmp(u)<0?o:u},i.prototype._init=function(o,u,h){if(typeof o=="number")return this._initNumber(o,u,h);if(typeof o=="object")return this._initArray(o,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var p=0;o[0]==="-"&&(p++,this.negative=1),p<o.length&&(u===16?this._parseHex(o,p,h):(this._parseBase(o,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(o,u,h){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(r(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(o,u,h){if(r(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v,d,E=0;if(h==="be")for(p=o.length-1,v=0;p>=0;p-=3)d=o[p]|o[p-1]<<8|o[p-2]<<16,this.words[v]|=d<<E&67108863,this.words[v+1]=d>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);else if(h==="le")for(p=0,v=0;p<o.length;p+=3)d=o[p]|o[p+1]<<8|o[p+2]<<16,this.words[v]|=d<<E&67108863,this.words[v+1]=d>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);return this._strip()};function s(y,o){var u=y.charCodeAt(o);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;r(!1,"Invalid character in "+y)}function f(y,o,u){var h=s(y,u);return u-1>=o&&(h|=s(y,u-1)<<4),h}i.prototype._parseHex=function(o,u,h){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v=0,d=0,E;if(h==="be")for(p=o.length-1;p>=u;p-=2)E=f(o,u,p)<<v,this.words[d]|=E&67108863,v>=18?(v-=18,d+=1,this.words[d]|=E>>>26):v+=8;else{var w=o.length-u;for(p=w%2===0?u+1:u;p<o.length;p+=2)E=f(o,u,p)<<v,this.words[d]|=E&67108863,v>=18?(v-=18,d+=1,this.words[d]|=E>>>26):v+=8}this._strip()};function l(y,o,u,h){for(var p=0,v=0,d=Math.min(y.length,u),E=o;E<d;E++){var w=y.charCodeAt(E)-48;p*=h,w>=49?v=w-49+10:w>=17?v=w-17+10:v=w,r(w>=0&&v<h,"Invalid character"),p+=v}return p}i.prototype._parseBase=function(o,u,h){this.words=[0],this.length=1;for(var p=0,v=1;v<=67108863;v*=u)p++;p--,v=v/u|0;for(var d=o.length-h,E=d%p,w=Math.min(d,d-E)+h,c=0,b=h;b<w;b+=p)c=l(o,b,b+p,u),this.imuln(v),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(E!==0){var ue=1;for(c=l(o,b,o.length,u),b=0;b<E;b++)ue*=u;this.imuln(ue),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red};function g(y,o){y.words=o.words,y.length=o.length,y.negative=o.negative,y.red=o.red}if(i.prototype._move=function(o){g(o,this)},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=m}catch{i.prototype.inspect=m}else i.prototype.inspect=m;function m(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,u){o=o||10,u=u|0||1;var h;if(o===16||o==="hex"){h="";for(var p=0,v=0,d=0;d<this.length;d++){var E=this.words[d],w=((E<<p|v)&16777215).toString(16);v=E>>>24-p&16777215,p+=2,p>=26&&(p-=26,d--),v!==0||d!==this.length-1?h=A[6-w.length]+w+h:h=w+h}for(v!==0&&(h=v.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(o===(o|0)&&o>=2&&o<=36){var c=I[o],b=T[o];h="";var ue=this.clone();for(ue.negative=0;!ue.isZero();){var F=ue.modrn(b).toString(o);ue=ue.idivn(b),ue.isZero()?h=F+h:h=A[c-F.length]+F+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(o,u){return this.toArrayLike(a,o,u)}),i.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)};var O=function(o,u){return o.allocUnsafe?o.allocUnsafe(u):new o(u)};i.prototype.toArrayLike=function(o,u,h){this._strip();var p=this.byteLength(),v=h||Math.max(1,p);r(p<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0");var d=O(o,v),E=u==="le"?"LE":"BE";return this["_toArrayLike"+E](d,p),d},i.prototype._toArrayLikeLE=function(o,u){for(var h=0,p=0,v=0,d=0;v<this.length;v++){var E=this.words[v]<<d|p;o[h++]=E&255,h<o.length&&(o[h++]=E>>8&255),h<o.length&&(o[h++]=E>>16&255),d===6?(h<o.length&&(o[h++]=E>>24&255),p=0,d=0):(p=E>>>24,d+=2)}if(h<o.length)for(o[h++]=p;h<o.length;)o[h++]=0},i.prototype._toArrayLikeBE=function(o,u){for(var h=o.length-1,p=0,v=0,d=0;v<this.length;v++){var E=this.words[v]<<d|p;o[h--]=E&255,h>=0&&(o[h--]=E>>8&255),h>=0&&(o[h--]=E>>16&255),d===6?(h>=0&&(o[h--]=E>>24&255),p=0,d=0):(p=E>>>24,d+=2)}if(h>=0)for(o[h--]=p;h>=0;)o[h--]=0},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var u=o,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,h=0;return(u&8191)===0&&(h+=13,u>>>=13),(u&127)===0&&(h+=7,u>>>=7),(u&15)===0&&(h+=4,u>>>=4),(u&3)===0&&(h+=2,u>>>=2),(u&1)===0&&h++,h},i.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function U(y){for(var o=new Array(y.bitLength()),u=0;u<o.length;u++){var h=u/26|0,p=u%26;o[u]=y.words[h]>>>p&1}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(o+=h,h!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this._strip()},i.prototype.ior=function(o){return r((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&o.words[h];return this.length=u.length,this._strip()},i.prototype.iand=function(o){return r((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var u,h;this.length>o.length?(u=this,h=o):(u=o,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this._strip()},i.prototype.ixor=function(o){return r((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){r(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,h=o%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this._strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,u){r(typeof o=="number"&&o>=0);var h=o/26|0,p=o%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this._strip()},i.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var h,p;this.length>o.length?(h=this,p=o):(h=o,p=this);for(var v=0,d=0;d<p.length;d++)u=(h.words[d]|0)+(p.words[d]|0)+v,this.words[d]=u&67108863,v=u>>>26;for(;v!==0&&d<h.length;d++)u=(h.words[d]|0)+v,this.words[d]=u&67108863,v=u>>>26;if(this.length=h.length,v!==0)this.words[this.length]=v,this.length++;else if(h!==this)for(;d<h.length;d++)this.words[d]=h.words[d];return this},i.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var h=this.cmp(o);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,v;h>0?(p=this,v=o):(p=o,v=this);for(var d=0,E=0;E<v.length;E++)u=(p.words[E]|0)-(v.words[E]|0)+d,d=u>>26,this.words[E]=u&67108863;for(;d!==0&&E<p.length;E++)u=(p.words[E]|0)+d,d=u>>26,this.words[E]=u&67108863;if(d===0&&E<p.length&&p!==this)for(;E<p.length;E++)this.words[E]=p.words[E];return this.length=Math.max(this.length,E),p!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function Z(y,o,u){u.negative=o.negative^y.negative;var h=y.length+o.length|0;u.length=h,h=h-1|0;var p=y.words[0]|0,v=o.words[0]|0,d=p*v,E=d&67108863,w=d/67108864|0;u.words[0]=E;for(var c=1;c<h;c++){for(var b=w>>>26,ue=w&67108863,F=Math.min(c,o.length-1),ne=Math.max(0,c-y.length+1);ne<=F;ne++){var ce=c-ne|0;p=y.words[ce]|0,v=o.words[ne]|0,d=p*v+ue,b+=d/67108864|0,ue=d&67108863}u.words[c]=ue|0,w=b|0}return w!==0?u.words[c]=w|0:u.length--,u._strip()}var Y=function(o,u,h){var p=o.words,v=u.words,d=h.words,E=0,w,c,b,ue=p[0]|0,F=ue&8191,ne=ue>>>13,ce=p[1]|0,xe=ce&8191,M=ce>>>13,k=p[2]|0,C=k&8191,z=k>>>13,H=p[3]|0,j=H&8191,J=H>>>13,W=p[4]|0,K=W&8191,X=W>>>13,te=p[5]|0,ae=te&8191,$=te>>>13,oe=p[6]|0,le=oe&8191,Ee=oe>>>13,Be=p[7]|0,Ae=Be&8191,R=Be>>>13,V=p[8]|0,Q=V&8191,ve=V>>>13,Te=p[9]|0,Se=Te&8191,ie=Te>>>13,be=v[0]|0,ye=be&8191,me=be>>>13,qe=v[1]|0,Oe=qe&8191,Ie=qe>>>13,ot=v[2]|0,ke=ot&8191,Le=ot>>>13,gt=v[3]|0,Ce=gt&8191,Ue=gt>>>13,at=v[4]|0,Ke=at&8191,Ne=at>>>13,lt=v[5]|0,We=lt&8191,He=lt>>>13,wt=v[6]|0,ze=wt&8191,De=wt>>>13,Ut=v[7]|0,$e=Ut&8191,Ze=Ut>>>13,wr=v[8]|0,Je=wr&8191,Ve=wr>>>13,nr=v[9]|0,et=nr&8191,Xe=nr>>>13;h.negative=o.negative^u.negative,h.length=19,w=Math.imul(F,ye),c=Math.imul(F,me),c=c+Math.imul(ne,ye)|0,b=Math.imul(ne,me);var sr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(sr>>>26)|0,sr&=67108863,w=Math.imul(xe,ye),c=Math.imul(xe,me),c=c+Math.imul(M,ye)|0,b=Math.imul(M,me),w=w+Math.imul(F,Oe)|0,c=c+Math.imul(F,Ie)|0,c=c+Math.imul(ne,Oe)|0,b=b+Math.imul(ne,Ie)|0;var Jt=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,w=Math.imul(C,ye),c=Math.imul(C,me),c=c+Math.imul(z,ye)|0,b=Math.imul(z,me),w=w+Math.imul(xe,Oe)|0,c=c+Math.imul(xe,Ie)|0,c=c+Math.imul(M,Oe)|0,b=b+Math.imul(M,Ie)|0,w=w+Math.imul(F,ke)|0,c=c+Math.imul(F,Le)|0,c=c+Math.imul(ne,ke)|0,b=b+Math.imul(ne,Le)|0;var Bt=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,w=Math.imul(j,ye),c=Math.imul(j,me),c=c+Math.imul(J,ye)|0,b=Math.imul(J,me),w=w+Math.imul(C,Oe)|0,c=c+Math.imul(C,Ie)|0,c=c+Math.imul(z,Oe)|0,b=b+Math.imul(z,Ie)|0,w=w+Math.imul(xe,ke)|0,c=c+Math.imul(xe,Le)|0,c=c+Math.imul(M,ke)|0,b=b+Math.imul(M,Le)|0,w=w+Math.imul(F,Ce)|0,c=c+Math.imul(F,Ue)|0,c=c+Math.imul(ne,Ce)|0,b=b+Math.imul(ne,Ue)|0;var yr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(yr>>>26)|0,yr&=67108863,w=Math.imul(K,ye),c=Math.imul(K,me),c=c+Math.imul(X,ye)|0,b=Math.imul(X,me),w=w+Math.imul(j,Oe)|0,c=c+Math.imul(j,Ie)|0,c=c+Math.imul(J,Oe)|0,b=b+Math.imul(J,Ie)|0,w=w+Math.imul(C,ke)|0,c=c+Math.imul(C,Le)|0,c=c+Math.imul(z,ke)|0,b=b+Math.imul(z,Le)|0,w=w+Math.imul(xe,Ce)|0,c=c+Math.imul(xe,Ue)|0,c=c+Math.imul(M,Ce)|0,b=b+Math.imul(M,Ue)|0,w=w+Math.imul(F,Ke)|0,c=c+Math.imul(F,Ne)|0,c=c+Math.imul(ne,Ke)|0,b=b+Math.imul(ne,Ne)|0;var ir=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,w=Math.imul(ae,ye),c=Math.imul(ae,me),c=c+Math.imul($,ye)|0,b=Math.imul($,me),w=w+Math.imul(K,Oe)|0,c=c+Math.imul(K,Ie)|0,c=c+Math.imul(X,Oe)|0,b=b+Math.imul(X,Ie)|0,w=w+Math.imul(j,ke)|0,c=c+Math.imul(j,Le)|0,c=c+Math.imul(J,ke)|0,b=b+Math.imul(J,Le)|0,w=w+Math.imul(C,Ce)|0,c=c+Math.imul(C,Ue)|0,c=c+Math.imul(z,Ce)|0,b=b+Math.imul(z,Ue)|0,w=w+Math.imul(xe,Ke)|0,c=c+Math.imul(xe,Ne)|0,c=c+Math.imul(M,Ke)|0,b=b+Math.imul(M,Ne)|0,w=w+Math.imul(F,We)|0,c=c+Math.imul(F,He)|0,c=c+Math.imul(ne,We)|0,b=b+Math.imul(ne,He)|0;var Dr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,w=Math.imul(le,ye),c=Math.imul(le,me),c=c+Math.imul(Ee,ye)|0,b=Math.imul(Ee,me),w=w+Math.imul(ae,Oe)|0,c=c+Math.imul(ae,Ie)|0,c=c+Math.imul($,Oe)|0,b=b+Math.imul($,Ie)|0,w=w+Math.imul(K,ke)|0,c=c+Math.imul(K,Le)|0,c=c+Math.imul(X,ke)|0,b=b+Math.imul(X,Le)|0,w=w+Math.imul(j,Ce)|0,c=c+Math.imul(j,Ue)|0,c=c+Math.imul(J,Ce)|0,b=b+Math.imul(J,Ue)|0,w=w+Math.imul(C,Ke)|0,c=c+Math.imul(C,Ne)|0,c=c+Math.imul(z,Ke)|0,b=b+Math.imul(z,Ne)|0,w=w+Math.imul(xe,We)|0,c=c+Math.imul(xe,He)|0,c=c+Math.imul(M,We)|0,b=b+Math.imul(M,He)|0,w=w+Math.imul(F,ze)|0,c=c+Math.imul(F,De)|0,c=c+Math.imul(ne,ze)|0,b=b+Math.imul(ne,De)|0;var xr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(xr>>>26)|0,xr&=67108863,w=Math.imul(Ae,ye),c=Math.imul(Ae,me),c=c+Math.imul(R,ye)|0,b=Math.imul(R,me),w=w+Math.imul(le,Oe)|0,c=c+Math.imul(le,Ie)|0,c=c+Math.imul(Ee,Oe)|0,b=b+Math.imul(Ee,Ie)|0,w=w+Math.imul(ae,ke)|0,c=c+Math.imul(ae,Le)|0,c=c+Math.imul($,ke)|0,b=b+Math.imul($,Le)|0,w=w+Math.imul(K,Ce)|0,c=c+Math.imul(K,Ue)|0,c=c+Math.imul(X,Ce)|0,b=b+Math.imul(X,Ue)|0,w=w+Math.imul(j,Ke)|0,c=c+Math.imul(j,Ne)|0,c=c+Math.imul(J,Ke)|0,b=b+Math.imul(J,Ne)|0,w=w+Math.imul(C,We)|0,c=c+Math.imul(C,He)|0,c=c+Math.imul(z,We)|0,b=b+Math.imul(z,He)|0,w=w+Math.imul(xe,ze)|0,c=c+Math.imul(xe,De)|0,c=c+Math.imul(M,ze)|0,b=b+Math.imul(M,De)|0,w=w+Math.imul(F,$e)|0,c=c+Math.imul(F,Ze)|0,c=c+Math.imul(ne,$e)|0,b=b+Math.imul(ne,Ze)|0;var qr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,w=Math.imul(Q,ye),c=Math.imul(Q,me),c=c+Math.imul(ve,ye)|0,b=Math.imul(ve,me),w=w+Math.imul(Ae,Oe)|0,c=c+Math.imul(Ae,Ie)|0,c=c+Math.imul(R,Oe)|0,b=b+Math.imul(R,Ie)|0,w=w+Math.imul(le,ke)|0,c=c+Math.imul(le,Le)|0,c=c+Math.imul(Ee,ke)|0,b=b+Math.imul(Ee,Le)|0,w=w+Math.imul(ae,Ce)|0,c=c+Math.imul(ae,Ue)|0,c=c+Math.imul($,Ce)|0,b=b+Math.imul($,Ue)|0,w=w+Math.imul(K,Ke)|0,c=c+Math.imul(K,Ne)|0,c=c+Math.imul(X,Ke)|0,b=b+Math.imul(X,Ne)|0,w=w+Math.imul(j,We)|0,c=c+Math.imul(j,He)|0,c=c+Math.imul(J,We)|0,b=b+Math.imul(J,He)|0,w=w+Math.imul(C,ze)|0,c=c+Math.imul(C,De)|0,c=c+Math.imul(z,ze)|0,b=b+Math.imul(z,De)|0,w=w+Math.imul(xe,$e)|0,c=c+Math.imul(xe,Ze)|0,c=c+Math.imul(M,$e)|0,b=b+Math.imul(M,Ze)|0,w=w+Math.imul(F,Je)|0,c=c+Math.imul(F,Ve)|0,c=c+Math.imul(ne,Je)|0,b=b+Math.imul(ne,Ve)|0;var _r=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(_r>>>26)|0,_r&=67108863,w=Math.imul(Se,ye),c=Math.imul(Se,me),c=c+Math.imul(ie,ye)|0,b=Math.imul(ie,me),w=w+Math.imul(Q,Oe)|0,c=c+Math.imul(Q,Ie)|0,c=c+Math.imul(ve,Oe)|0,b=b+Math.imul(ve,Ie)|0,w=w+Math.imul(Ae,ke)|0,c=c+Math.imul(Ae,Le)|0,c=c+Math.imul(R,ke)|0,b=b+Math.imul(R,Le)|0,w=w+Math.imul(le,Ce)|0,c=c+Math.imul(le,Ue)|0,c=c+Math.imul(Ee,Ce)|0,b=b+Math.imul(Ee,Ue)|0,w=w+Math.imul(ae,Ke)|0,c=c+Math.imul(ae,Ne)|0,c=c+Math.imul($,Ke)|0,b=b+Math.imul($,Ne)|0,w=w+Math.imul(K,We)|0,c=c+Math.imul(K,He)|0,c=c+Math.imul(X,We)|0,b=b+Math.imul(X,He)|0,w=w+Math.imul(j,ze)|0,c=c+Math.imul(j,De)|0,c=c+Math.imul(J,ze)|0,b=b+Math.imul(J,De)|0,w=w+Math.imul(C,$e)|0,c=c+Math.imul(C,Ze)|0,c=c+Math.imul(z,$e)|0,b=b+Math.imul(z,Ze)|0,w=w+Math.imul(xe,Je)|0,c=c+Math.imul(xe,Ve)|0,c=c+Math.imul(M,Je)|0,b=b+Math.imul(M,Ve)|0,w=w+Math.imul(F,et)|0,c=c+Math.imul(F,Xe)|0,c=c+Math.imul(ne,et)|0,b=b+Math.imul(ne,Xe)|0;var Ur=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,w=Math.imul(Se,Oe),c=Math.imul(Se,Ie),c=c+Math.imul(ie,Oe)|0,b=Math.imul(ie,Ie),w=w+Math.imul(Q,ke)|0,c=c+Math.imul(Q,Le)|0,c=c+Math.imul(ve,ke)|0,b=b+Math.imul(ve,Le)|0,w=w+Math.imul(Ae,Ce)|0,c=c+Math.imul(Ae,Ue)|0,c=c+Math.imul(R,Ce)|0,b=b+Math.imul(R,Ue)|0,w=w+Math.imul(le,Ke)|0,c=c+Math.imul(le,Ne)|0,c=c+Math.imul(Ee,Ke)|0,b=b+Math.imul(Ee,Ne)|0,w=w+Math.imul(ae,We)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul($,We)|0,b=b+Math.imul($,He)|0,w=w+Math.imul(K,ze)|0,c=c+Math.imul(K,De)|0,c=c+Math.imul(X,ze)|0,b=b+Math.imul(X,De)|0,w=w+Math.imul(j,$e)|0,c=c+Math.imul(j,Ze)|0,c=c+Math.imul(J,$e)|0,b=b+Math.imul(J,Ze)|0,w=w+Math.imul(C,Je)|0,c=c+Math.imul(C,Ve)|0,c=c+Math.imul(z,Je)|0,b=b+Math.imul(z,Ve)|0,w=w+Math.imul(xe,et)|0,c=c+Math.imul(xe,Xe)|0,c=c+Math.imul(M,et)|0,b=b+Math.imul(M,Xe)|0;var Rr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,w=Math.imul(Se,ke),c=Math.imul(Se,Le),c=c+Math.imul(ie,ke)|0,b=Math.imul(ie,Le),w=w+Math.imul(Q,Ce)|0,c=c+Math.imul(Q,Ue)|0,c=c+Math.imul(ve,Ce)|0,b=b+Math.imul(ve,Ue)|0,w=w+Math.imul(Ae,Ke)|0,c=c+Math.imul(Ae,Ne)|0,c=c+Math.imul(R,Ke)|0,b=b+Math.imul(R,Ne)|0,w=w+Math.imul(le,We)|0,c=c+Math.imul(le,He)|0,c=c+Math.imul(Ee,We)|0,b=b+Math.imul(Ee,He)|0,w=w+Math.imul(ae,ze)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul($,ze)|0,b=b+Math.imul($,De)|0,w=w+Math.imul(K,$e)|0,c=c+Math.imul(K,Ze)|0,c=c+Math.imul(X,$e)|0,b=b+Math.imul(X,Ze)|0,w=w+Math.imul(j,Je)|0,c=c+Math.imul(j,Ve)|0,c=c+Math.imul(J,Je)|0,b=b+Math.imul(J,Ve)|0,w=w+Math.imul(C,et)|0,c=c+Math.imul(C,Xe)|0,c=c+Math.imul(z,et)|0,b=b+Math.imul(z,Xe)|0;var Fr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,w=Math.imul(Se,Ce),c=Math.imul(Se,Ue),c=c+Math.imul(ie,Ce)|0,b=Math.imul(ie,Ue),w=w+Math.imul(Q,Ke)|0,c=c+Math.imul(Q,Ne)|0,c=c+Math.imul(ve,Ke)|0,b=b+Math.imul(ve,Ne)|0,w=w+Math.imul(Ae,We)|0,c=c+Math.imul(Ae,He)|0,c=c+Math.imul(R,We)|0,b=b+Math.imul(R,He)|0,w=w+Math.imul(le,ze)|0,c=c+Math.imul(le,De)|0,c=c+Math.imul(Ee,ze)|0,b=b+Math.imul(Ee,De)|0,w=w+Math.imul(ae,$e)|0,c=c+Math.imul(ae,Ze)|0,c=c+Math.imul($,$e)|0,b=b+Math.imul($,Ze)|0,w=w+Math.imul(K,Je)|0,c=c+Math.imul(K,Ve)|0,c=c+Math.imul(X,Je)|0,b=b+Math.imul(X,Ve)|0,w=w+Math.imul(j,et)|0,c=c+Math.imul(j,Xe)|0,c=c+Math.imul(J,et)|0,b=b+Math.imul(J,Xe)|0;var Er=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Er>>>26)|0,Er&=67108863,w=Math.imul(Se,Ke),c=Math.imul(Se,Ne),c=c+Math.imul(ie,Ke)|0,b=Math.imul(ie,Ne),w=w+Math.imul(Q,We)|0,c=c+Math.imul(Q,He)|0,c=c+Math.imul(ve,We)|0,b=b+Math.imul(ve,He)|0,w=w+Math.imul(Ae,ze)|0,c=c+Math.imul(Ae,De)|0,c=c+Math.imul(R,ze)|0,b=b+Math.imul(R,De)|0,w=w+Math.imul(le,$e)|0,c=c+Math.imul(le,Ze)|0,c=c+Math.imul(Ee,$e)|0,b=b+Math.imul(Ee,Ze)|0,w=w+Math.imul(ae,Je)|0,c=c+Math.imul(ae,Ve)|0,c=c+Math.imul($,Je)|0,b=b+Math.imul($,Ve)|0,w=w+Math.imul(K,et)|0,c=c+Math.imul(K,Xe)|0,c=c+Math.imul(X,et)|0,b=b+Math.imul(X,Xe)|0;var kr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(kr>>>26)|0,kr&=67108863,w=Math.imul(Se,We),c=Math.imul(Se,He),c=c+Math.imul(ie,We)|0,b=Math.imul(ie,He),w=w+Math.imul(Q,ze)|0,c=c+Math.imul(Q,De)|0,c=c+Math.imul(ve,ze)|0,b=b+Math.imul(ve,De)|0,w=w+Math.imul(Ae,$e)|0,c=c+Math.imul(Ae,Ze)|0,c=c+Math.imul(R,$e)|0,b=b+Math.imul(R,Ze)|0,w=w+Math.imul(le,Je)|0,c=c+Math.imul(le,Ve)|0,c=c+Math.imul(Ee,Je)|0,b=b+Math.imul(Ee,Ve)|0,w=w+Math.imul(ae,et)|0,c=c+Math.imul(ae,Xe)|0,c=c+Math.imul($,et)|0,b=b+Math.imul($,Xe)|0;var nn=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(nn>>>26)|0,nn&=67108863,w=Math.imul(Se,ze),c=Math.imul(Se,De),c=c+Math.imul(ie,ze)|0,b=Math.imul(ie,De),w=w+Math.imul(Q,$e)|0,c=c+Math.imul(Q,Ze)|0,c=c+Math.imul(ve,$e)|0,b=b+Math.imul(ve,Ze)|0,w=w+Math.imul(Ae,Je)|0,c=c+Math.imul(Ae,Ve)|0,c=c+Math.imul(R,Je)|0,b=b+Math.imul(R,Ve)|0,w=w+Math.imul(le,et)|0,c=c+Math.imul(le,Xe)|0,c=c+Math.imul(Ee,et)|0,b=b+Math.imul(Ee,Xe)|0;var an=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(an>>>26)|0,an&=67108863,w=Math.imul(Se,$e),c=Math.imul(Se,Ze),c=c+Math.imul(ie,$e)|0,b=Math.imul(ie,Ze),w=w+Math.imul(Q,Je)|0,c=c+Math.imul(Q,Ve)|0,c=c+Math.imul(ve,Je)|0,b=b+Math.imul(ve,Ve)|0,w=w+Math.imul(Ae,et)|0,c=c+Math.imul(Ae,Xe)|0,c=c+Math.imul(R,et)|0,b=b+Math.imul(R,Xe)|0;var Gn=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,w=Math.imul(Se,Je),c=Math.imul(Se,Ve),c=c+Math.imul(ie,Je)|0,b=Math.imul(ie,Ve),w=w+Math.imul(Q,et)|0,c=c+Math.imul(Q,Xe)|0,c=c+Math.imul(ve,et)|0,b=b+Math.imul(ve,Xe)|0;var yn=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(Se,et),c=Math.imul(Se,Xe),c=c+Math.imul(ie,et)|0,b=Math.imul(ie,Xe);var On=(E+w|0)+((c&8191)<<13)|0;return E=(b+(c>>>13)|0)+(On>>>26)|0,On&=67108863,d[0]=sr,d[1]=Jt,d[2]=Bt,d[3]=yr,d[4]=ir,d[5]=Dr,d[6]=xr,d[7]=qr,d[8]=_r,d[9]=Ur,d[10]=Rr,d[11]=Fr,d[12]=Er,d[13]=kr,d[14]=nn,d[15]=an,d[16]=Gn,d[17]=yn,d[18]=On,E!==0&&(d[19]=E,h.length++),h};Math.imul||(Y=Z);function re(y,o,u){u.negative=o.negative^y.negative,u.length=y.length+o.length;for(var h=0,p=0,v=0;v<u.length-1;v++){var d=p;p=0;for(var E=h&67108863,w=Math.min(v,o.length-1),c=Math.max(0,v-y.length+1);c<=w;c++){var b=v-c,ue=y.words[b]|0,F=o.words[c]|0,ne=ue*F,ce=ne&67108863;d=d+(ne/67108864|0)|0,ce=ce+E|0,E=ce&67108863,d=d+(ce>>>26)|0,p+=d>>>26,d&=67108863}u.words[v]=E,h=d,d=p}return h!==0?u.words[v]=h:u.length--,u._strip()}function pe(y,o,u){return re(y,o,u)}i.prototype.mulTo=function(o,u){var h,p=this.length+o.length;return this.length===10&&o.length===10?h=Y(this,o,u):p<63?h=Z(this,o,u):p<1024?h=re(this,o,u):h=pe(this,o,u),h};function he(y,o){this.x=y,this.y=o}he.prototype.makeRBT=function(o){for(var u=new Array(o),h=i.prototype._countBits(o)-1,p=0;p<o;p++)u[p]=this.revBin(p,h,o);return u},he.prototype.revBin=function(o,u,h){if(o===0||o===h-1)return o;for(var p=0,v=0;v<u;v++)p|=(o&1)<<u-v-1,o>>=1;return p},he.prototype.permute=function(o,u,h,p,v,d){for(var E=0;E<d;E++)p[E]=u[o[E]],v[E]=h[o[E]]},he.prototype.transform=function(o,u,h,p,v,d){this.permute(d,o,u,h,p,v);for(var E=1;E<v;E<<=1)for(var w=E<<1,c=Math.cos(2*Math.PI/w),b=Math.sin(2*Math.PI/w),ue=0;ue<v;ue+=w)for(var F=c,ne=b,ce=0;ce<E;ce++){var xe=h[ue+ce],M=p[ue+ce],k=h[ue+ce+E],C=p[ue+ce+E],z=F*k-ne*C;C=F*C+ne*k,k=z,h[ue+ce]=xe+k,p[ue+ce]=M+C,h[ue+ce+E]=xe-k,p[ue+ce+E]=M-C,ce!==w&&(z=c*F-b*ne,ne=c*ne+b*F,F=z)}},he.prototype.guessLen13b=function(o,u){var h=Math.max(u,o)|1,p=h&1,v=0;for(h=h/2|0;h;h=h>>>1)v++;return 1<<v+1+p},he.prototype.conjugate=function(o,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var v=o[p];o[p]=o[h-p-1],o[h-p-1]=v,v=u[p],u[p]=-u[h-p-1],u[h-p-1]=-v}},he.prototype.normalize13b=function(o,u){for(var h=0,p=0;p<u/2;p++){var v=Math.round(o[2*p+1]/u)*8192+Math.round(o[2*p]/u)+h;o[p]=v&67108863,v<67108864?h=0:h=v/67108864|0}return o},he.prototype.convert13b=function(o,u,h,p){for(var v=0,d=0;d<u;d++)v=v+(o[d]|0),h[2*d]=v&8191,v=v>>>13,h[2*d+1]=v&8191,v=v>>>13;for(d=2*u;d<p;++d)h[d]=0;r(v===0),r((v&-8192)===0)},he.prototype.stub=function(o){for(var u=new Array(o),h=0;h<o;h++)u[h]=0;return u},he.prototype.mulp=function(o,u,h){var p=2*this.guessLen13b(o.length,u.length),v=this.makeRBT(p),d=this.stub(p),E=new Array(p),w=new Array(p),c=new Array(p),b=new Array(p),ue=new Array(p),F=new Array(p),ne=h.words;ne.length=p,this.convert13b(o.words,o.length,E,p),this.convert13b(u.words,u.length,b,p),this.transform(E,d,w,c,p,v),this.transform(b,d,ue,F,p,v);for(var ce=0;ce<p;ce++){var xe=w[ce]*ue[ce]-c[ce]*F[ce];c[ce]=w[ce]*F[ce]+c[ce]*ue[ce],w[ce]=xe}return this.conjugate(w,c,p),this.transform(w,c,ne,d,p,v),this.conjugate(ne,d,p),this.normalize13b(ne,p),h.negative=o.negative^u.negative,h.length=o.length+u.length,h._strip()},i.prototype.mul=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},i.prototype.mulf=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),pe(this,o,u)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){var u=o<0;u&&(o=-o),r(typeof o=="number"),r(o<67108864);for(var h=0,p=0;p<this.length;p++){var v=(this.words[p]|0)*o,d=(v&67108863)+(h&67108863);h>>=26,h+=v/67108864|0,h+=d>>>26,this.words[p]=d&67108863}return h!==0&&(this.words[p]=h,this.length++),u?this.ineg():this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var u=U(o);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var v=h.sqr();p<u.length;p++,v=v.sqr())u[p]!==0&&(h=h.mul(v));return h},i.prototype.iushln=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,p=67108863>>>26-u<<26-u,v;if(u!==0){var d=0;for(v=0;v<this.length;v++){var E=this.words[v]&p,w=(this.words[v]|0)-E<<u;this.words[v]=w|d,d=E>>>26-u}d&&(this.words[v]=d,this.length++)}if(h!==0){for(v=this.length-1;v>=0;v--)this.words[v+h]=this.words[v];for(v=0;v<h;v++)this.words[v]=0;this.length+=h}return this._strip()},i.prototype.ishln=function(o){return r(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,u,h){r(typeof o=="number"&&o>=0);var p;u?p=(u-u%26)/26:p=0;var v=o%26,d=Math.min((o-v)/26,this.length),E=67108863^67108863>>>v<<v,w=h;if(p-=d,p=Math.max(0,p),w){for(var c=0;c<d;c++)w.words[c]=this.words[c];w.length=d}if(d!==0)if(this.length>d)for(this.length-=d,c=0;c<this.length;c++)this.words[c]=this.words[c+d];else this.words[0]=0,this.length=1;var b=0;for(c=this.length-1;c>=0&&(b!==0||c>=p);c--){var ue=this.words[c]|0;this.words[c]=b<<26-v|ue>>>v,b=ue&E}return w&&b!==0&&(w.words[w.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(o,u,h){return r(this.negative===0),this.iushrn(o,u,h)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,p=1<<u;if(this.length<=h)return!1;var v=this.words[h];return!!(v&p)},i.prototype.imaskn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this._strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return r(typeof o=="number"),r(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(o){if(r(typeof o=="number"),r(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,u,h){var p=o.length+h,v;this._expand(p);var d,E=0;for(v=0;v<o.length;v++){d=(this.words[v+h]|0)+E;var w=(o.words[v]|0)*u;d-=w&67108863,E=(d>>26)-(w/67108864|0),this.words[v+h]=d&67108863}for(;v<this.length-h;v++)d=(this.words[v+h]|0)+E,E=d>>26,this.words[v+h]=d&67108863;if(E===0)return this._strip();for(r(E===-1),E=0,v=0;v<this.length;v++)d=-(this.words[v]|0)+E,E=d>>26,this.words[v]=d&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(o,u){var h=this.length-o.length,p=this.clone(),v=o,d=v.words[v.length-1]|0,E=this._countBits(d);h=26-E,h!==0&&(v=v.ushln(h),p.iushln(h),d=v.words[v.length-1]|0);var w=p.length-v.length,c;if(u!=="mod"){c=new i(null),c.length=w+1,c.words=new Array(c.length);for(var b=0;b<c.length;b++)c.words[b]=0}var ue=p.clone()._ishlnsubmul(v,1,w);ue.negative===0&&(p=ue,c&&(c.words[w]=1));for(var F=w-1;F>=0;F--){var ne=(p.words[v.length+F]|0)*67108864+(p.words[v.length+F-1]|0);for(ne=Math.min(ne/d|0,67108863),p._ishlnsubmul(v,ne,F);p.negative!==0;)ne--,p.negative=0,p._ishlnsubmul(v,1,F),p.isZero()||(p.negative^=1);c&&(c.words[F]=ne)}return c&&c._strip(),p._strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:c||null,mod:p}},i.prototype.divmod=function(o,u,h){if(r(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,v,d;return this.negative!==0&&o.negative===0?(d=this.neg().divmod(o,u),u!=="mod"&&(p=d.div.neg()),u!=="div"&&(v=d.mod.neg(),h&&v.negative!==0&&v.iadd(o)),{div:p,mod:v}):this.negative===0&&o.negative!==0?(d=this.divmod(o.neg(),u),u!=="mod"&&(p=d.div.neg()),{div:p,mod:d.mod}):(this.negative&o.negative)!==0?(d=this.neg().divmod(o.neg(),u),u!=="div"&&(v=d.mod.neg(),h&&v.negative!==0&&v.isub(o)),{div:d.div,mod:v}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modrn(o.words[0]))}:this._wordDiv(o,u)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(o):u.mod,p=o.ushrn(1),v=o.andln(1),d=h.cmp(p);return d<0||v===1&&d===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modrn=function(o){var u=o<0;u&&(o=-o),r(o<=67108863);for(var h=(1<<26)%o,p=0,v=this.length-1;v>=0;v--)p=(h*p+(this.words[v]|0))%o;return u?-p:p},i.prototype.modn=function(o){return this.modrn(o)},i.prototype.idivn=function(o){var u=o<0;u&&(o=-o),r(o<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var v=(this.words[p]|0)+h*67108864;this.words[p]=v/o|0,h=v%o}return this._strip(),u?this.ineg():this},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var p=new i(1),v=new i(0),d=new i(0),E=new i(1),w=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++w;for(var c=h.clone(),b=u.clone();!u.isZero();){for(var ue=0,F=1;(u.words[0]&F)===0&&ue<26;++ue,F<<=1);if(ue>0)for(u.iushrn(ue);ue-- >0;)(p.isOdd()||v.isOdd())&&(p.iadd(c),v.isub(b)),p.iushrn(1),v.iushrn(1);for(var ne=0,ce=1;(h.words[0]&ce)===0&&ne<26;++ne,ce<<=1);if(ne>0)for(h.iushrn(ne);ne-- >0;)(d.isOdd()||E.isOdd())&&(d.iadd(c),E.isub(b)),d.iushrn(1),E.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(d),v.isub(E)):(h.isub(u),d.isub(p),E.isub(v))}return{a:d,b:E,gcd:h.iushln(w)}},i.prototype._invmp=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var p=new i(1),v=new i(0),d=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var E=0,w=1;(u.words[0]&w)===0&&E<26;++E,w<<=1);if(E>0)for(u.iushrn(E);E-- >0;)p.isOdd()&&p.iadd(d),p.iushrn(1);for(var c=0,b=1;(h.words[0]&b)===0&&c<26;++c,b<<=1);if(c>0)for(h.iushrn(c);c-- >0;)v.isOdd()&&v.iadd(d),v.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(v)):(h.isub(u),v.isub(p))}var ue;return u.cmpn(1)===0?ue=p:ue=v,ue.cmpn(0)<0&&ue.iadd(o),ue},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),h=o.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var v=u.cmp(h);if(v<0){var d=u;u=h,h=d}else if(v===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){r(typeof o=="number");var u=o%26,h=(o-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var v=p,d=h;v!==0&&d<this.length;d++){var E=this.words[d]|0;E+=v,v=E>>>26,E&=67108863,this.words[d]=E}return v!==0&&(this.words[d]=v,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var h;if(this.length>1)h=1;else{u&&(o=-o),r(o<=67108863,"Number is too big");var p=this.words[0]|0;h=p===o?0:p<o?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,v=o.words[h]|0;if(p!==v){p<v?u=-1:p>v&&(u=1);break}}return u},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new S(o)},i.prototype.toRed=function(o){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return r(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return r(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var se={k256:null,p224:null,p192:null,p25519:null};function fe(y,o){this.name=y,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}fe.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},fe.prototype.ireduce=function(o){var u=o,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},fe.prototype.split=function(o,u){o.iushrn(this.n,0,u)},fe.prototype.imulK=function(o){return o.imul(this.k)};function de(){fe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(de,fe),de.prototype.split=function(o,u){for(var h=4194303,p=Math.min(o.length,9),v=0;v<p;v++)u.words[v]=o.words[v];if(u.length=p,o.length<=9){o.words[0]=0,o.length=1;return}var d=o.words[9];for(u.words[u.length++]=d&h,v=10;v<o.length;v++){var E=o.words[v]|0;o.words[v-10]=(E&h)<<4|d>>>22,d=E}d>>>=22,o.words[v-10]=d,d===0&&o.length>10?o.length-=10:o.length-=9},de.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,h=0;h<o.length;h++){var p=o.words[h]|0;u+=p*977,o.words[h]=u&67108863,u=p*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function G(){fe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(G,fe);function L(){fe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(L,fe);function q(){fe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(q,fe),q.prototype.imulK=function(o){for(var u=0,h=0;h<o.length;h++){var p=(o.words[h]|0)*19+u,v=p&67108863;p>>>=26,o.words[h]=v,u=p}return u!==0&&(o.words[o.length++]=u),o},i._prime=function(o){if(se[o])return se[o];var u;if(o==="k256")u=new de;else if(o==="p224")u=new G;else if(o==="p192")u=new L;else if(o==="p25519")u=new q;else throw new Error("Unknown prime "+o);return se[o]=u,u};function S(y){if(typeof y=="string"){var o=i._prime(y);this.m=o.p,this.prime=o}else r(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}S.prototype._verify1=function(o){r(o.negative===0,"red works only with positives"),r(o.red,"red works only with red numbers")},S.prototype._verify2=function(o,u){r((o.negative|u.negative)===0,"red works only with positives"),r(o.red&&o.red===u.red,"red works only with red numbers")},S.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(g(o,o.umod(this.m)._forceRed(this)),o)},S.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},S.prototype.add=function(o,u){this._verify2(o,u);var h=o.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},S.prototype.iadd=function(o,u){this._verify2(o,u);var h=o.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},S.prototype.sub=function(o,u){this._verify2(o,u);var h=o.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},S.prototype.isub=function(o,u){this._verify2(o,u);var h=o.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},S.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},S.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},S.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},S.prototype.isqr=function(o){return this.imul(o,o.clone())},S.prototype.sqr=function(o){return this.mul(o,o)},S.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(o,h)}for(var p=this.m.subn(1),v=0;!p.isZero()&&p.andln(1)===0;)v++,p.iushrn(1);r(!p.isZero());var d=new i(1).toRed(this),E=d.redNeg(),w=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,w).cmp(E)!==0;)c.redIAdd(E);for(var b=this.pow(c,p),ue=this.pow(o,p.addn(1).iushrn(1)),F=this.pow(o,p),ne=v;F.cmp(d)!==0;){for(var ce=F,xe=0;ce.cmp(d)!==0;xe++)ce=ce.redSqr();r(xe<ne);var M=this.pow(b,new i(1).iushln(ne-xe-1));ue=ue.redMul(M),b=M.redSqr(),F=F.redMul(b),ne=xe}return ue},S.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},S.prototype.pow=function(o,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=o;for(var v=2;v<p.length;v++)p[v]=this.mul(p[v-1],o);var d=p[0],E=0,w=0,c=u.bitLength()%26;for(c===0&&(c=26),v=u.length-1;v>=0;v--){for(var b=u.words[v],ue=c-1;ue>=0;ue--){var F=b>>ue&1;if(d!==p[0]&&(d=this.sqr(d)),F===0&&E===0){w=0;continue}E<<=1,E|=F,w++,!(w!==h&&(v!==0||ue!==0))&&(d=this.mul(d,p[E]),w=0,E=0)}c=26}return d},S.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},S.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},i.mont=function(o){return new B(o)};function B(y){S.call(this,y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(B,S),B.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},B.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},B.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var h=o.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(p).iushrn(this.shift),d=v;return v.cmp(this.m)>=0?d=v.isub(this.m):v.cmpn(0)<0&&(d=v.iadd(this.m)),d._forceRed(this)},B.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new i(0)._forceRed(this);var h=o.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(p).iushrn(this.shift),d=v;return v.cmp(this.m)>=0?d=v.isub(this.m):v.cmpn(0)<0&&(d=v.iadd(this.m)),d._forceRed(this)},B.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof pO>"u"||pO,See)});var Yee=ee((Jee,wO)=>{x();(function(t,e){"use strict";function r(y,o){if(!y)throw new Error(o||"Assertion failed")}function n(y,o){y.super_=o;var u=function(){};u.prototype=o.prototype,y.prototype=new u,y.prototype.constructor=y}function i(y,o,u){if(i.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(y||0,o||10,u||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Sr().Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,u){return o.cmp(u)>0?o:u},i.min=function(o,u){return o.cmp(u)<0?o:u},i.prototype._init=function(o,u,h){if(typeof o=="number")return this._initNumber(o,u,h);if(typeof o=="object")return this._initArray(o,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var p=0;o[0]==="-"&&(p++,this.negative=1),p<o.length&&(u===16?this._parseHex(o,p,h):(this._parseBase(o,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(o,u,h){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(r(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(o,u,h){if(r(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v,d,E=0;if(h==="be")for(p=o.length-1,v=0;p>=0;p-=3)d=o[p]|o[p-1]<<8|o[p-2]<<16,this.words[v]|=d<<E&67108863,this.words[v+1]=d>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);else if(h==="le")for(p=0,v=0;p<o.length;p+=3)d=o[p]|o[p+1]<<8|o[p+2]<<16,this.words[v]|=d<<E&67108863,this.words[v+1]=d>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);return this._strip()};function s(y,o){var u=y.charCodeAt(o);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;r(!1,"Invalid character in "+y)}function f(y,o,u){var h=s(y,u);return u-1>=o&&(h|=s(y,u-1)<<4),h}i.prototype._parseHex=function(o,u,h){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v=0,d=0,E;if(h==="be")for(p=o.length-1;p>=u;p-=2)E=f(o,u,p)<<v,this.words[d]|=E&67108863,v>=18?(v-=18,d+=1,this.words[d]|=E>>>26):v+=8;else{var w=o.length-u;for(p=w%2===0?u+1:u;p<o.length;p+=2)E=f(o,u,p)<<v,this.words[d]|=E&67108863,v>=18?(v-=18,d+=1,this.words[d]|=E>>>26):v+=8}this._strip()};function l(y,o,u,h){for(var p=0,v=0,d=Math.min(y.length,u),E=o;E<d;E++){var w=y.charCodeAt(E)-48;p*=h,w>=49?v=w-49+10:w>=17?v=w-17+10:v=w,r(w>=0&&v<h,"Invalid character"),p+=v}return p}i.prototype._parseBase=function(o,u,h){this.words=[0],this.length=1;for(var p=0,v=1;v<=67108863;v*=u)p++;p--,v=v/u|0;for(var d=o.length-h,E=d%p,w=Math.min(d,d-E)+h,c=0,b=h;b<w;b+=p)c=l(o,b,b+p,u),this.imuln(v),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(E!==0){var ue=1;for(c=l(o,b,o.length,u),b=0;b<E;b++)ue*=u;this.imuln(ue),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red};function g(y,o){y.words=o.words,y.length=o.length,y.negative=o.negative,y.red=o.red}if(i.prototype._move=function(o){g(o,this)},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=m}catch{i.prototype.inspect=m}else i.prototype.inspect=m;function m(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,u){o=o||10,u=u|0||1;var h;if(o===16||o==="hex"){h="";for(var p=0,v=0,d=0;d<this.length;d++){var E=this.words[d],w=((E<<p|v)&16777215).toString(16);v=E>>>24-p&16777215,p+=2,p>=26&&(p-=26,d--),v!==0||d!==this.length-1?h=A[6-w.length]+w+h:h=w+h}for(v!==0&&(h=v.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(o===(o|0)&&o>=2&&o<=36){var c=I[o],b=T[o];h="";var ue=this.clone();for(ue.negative=0;!ue.isZero();){var F=ue.modrn(b).toString(o);ue=ue.idivn(b),ue.isZero()?h=F+h:h=A[c-F.length]+F+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(o,u){return this.toArrayLike(a,o,u)}),i.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)};var O=function(o,u){return o.allocUnsafe?o.allocUnsafe(u):new o(u)};i.prototype.toArrayLike=function(o,u,h){this._strip();var p=this.byteLength(),v=h||Math.max(1,p);r(p<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0");var d=O(o,v),E=u==="le"?"LE":"BE";return this["_toArrayLike"+E](d,p),d},i.prototype._toArrayLikeLE=function(o,u){for(var h=0,p=0,v=0,d=0;v<this.length;v++){var E=this.words[v]<<d|p;o[h++]=E&255,h<o.length&&(o[h++]=E>>8&255),h<o.length&&(o[h++]=E>>16&255),d===6?(h<o.length&&(o[h++]=E>>24&255),p=0,d=0):(p=E>>>24,d+=2)}if(h<o.length)for(o[h++]=p;h<o.length;)o[h++]=0},i.prototype._toArrayLikeBE=function(o,u){for(var h=o.length-1,p=0,v=0,d=0;v<this.length;v++){var E=this.words[v]<<d|p;o[h--]=E&255,h>=0&&(o[h--]=E>>8&255),h>=0&&(o[h--]=E>>16&255),d===6?(h>=0&&(o[h--]=E>>24&255),p=0,d=0):(p=E>>>24,d+=2)}if(h>=0)for(o[h--]=p;h>=0;)o[h--]=0},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var u=o,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,h=0;return(u&8191)===0&&(h+=13,u>>>=13),(u&127)===0&&(h+=7,u>>>=7),(u&15)===0&&(h+=4,u>>>=4),(u&3)===0&&(h+=2,u>>>=2),(u&1)===0&&h++,h},i.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function U(y){for(var o=new Array(y.bitLength()),u=0;u<o.length;u++){var h=u/26|0,p=u%26;o[u]=y.words[h]>>>p&1}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(o+=h,h!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this._strip()},i.prototype.ior=function(o){return r((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&o.words[h];return this.length=u.length,this._strip()},i.prototype.iand=function(o){return r((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var u,h;this.length>o.length?(u=this,h=o):(u=o,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this._strip()},i.prototype.ixor=function(o){return r((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){r(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,h=o%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this._strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,u){r(typeof o=="number"&&o>=0);var h=o/26|0,p=o%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this._strip()},i.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var h,p;this.length>o.length?(h=this,p=o):(h=o,p=this);for(var v=0,d=0;d<p.length;d++)u=(h.words[d]|0)+(p.words[d]|0)+v,this.words[d]=u&67108863,v=u>>>26;for(;v!==0&&d<h.length;d++)u=(h.words[d]|0)+v,this.words[d]=u&67108863,v=u>>>26;if(this.length=h.length,v!==0)this.words[this.length]=v,this.length++;else if(h!==this)for(;d<h.length;d++)this.words[d]=h.words[d];return this},i.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var h=this.cmp(o);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,v;h>0?(p=this,v=o):(p=o,v=this);for(var d=0,E=0;E<v.length;E++)u=(p.words[E]|0)-(v.words[E]|0)+d,d=u>>26,this.words[E]=u&67108863;for(;d!==0&&E<p.length;E++)u=(p.words[E]|0)+d,d=u>>26,this.words[E]=u&67108863;if(d===0&&E<p.length&&p!==this)for(;E<p.length;E++)this.words[E]=p.words[E];return this.length=Math.max(this.length,E),p!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function Z(y,o,u){u.negative=o.negative^y.negative;var h=y.length+o.length|0;u.length=h,h=h-1|0;var p=y.words[0]|0,v=o.words[0]|0,d=p*v,E=d&67108863,w=d/67108864|0;u.words[0]=E;for(var c=1;c<h;c++){for(var b=w>>>26,ue=w&67108863,F=Math.min(c,o.length-1),ne=Math.max(0,c-y.length+1);ne<=F;ne++){var ce=c-ne|0;p=y.words[ce]|0,v=o.words[ne]|0,d=p*v+ue,b+=d/67108864|0,ue=d&67108863}u.words[c]=ue|0,w=b|0}return w!==0?u.words[c]=w|0:u.length--,u._strip()}var Y=function(o,u,h){var p=o.words,v=u.words,d=h.words,E=0,w,c,b,ue=p[0]|0,F=ue&8191,ne=ue>>>13,ce=p[1]|0,xe=ce&8191,M=ce>>>13,k=p[2]|0,C=k&8191,z=k>>>13,H=p[3]|0,j=H&8191,J=H>>>13,W=p[4]|0,K=W&8191,X=W>>>13,te=p[5]|0,ae=te&8191,$=te>>>13,oe=p[6]|0,le=oe&8191,Ee=oe>>>13,Be=p[7]|0,Ae=Be&8191,R=Be>>>13,V=p[8]|0,Q=V&8191,ve=V>>>13,Te=p[9]|0,Se=Te&8191,ie=Te>>>13,be=v[0]|0,ye=be&8191,me=be>>>13,qe=v[1]|0,Oe=qe&8191,Ie=qe>>>13,ot=v[2]|0,ke=ot&8191,Le=ot>>>13,gt=v[3]|0,Ce=gt&8191,Ue=gt>>>13,at=v[4]|0,Ke=at&8191,Ne=at>>>13,lt=v[5]|0,We=lt&8191,He=lt>>>13,wt=v[6]|0,ze=wt&8191,De=wt>>>13,Ut=v[7]|0,$e=Ut&8191,Ze=Ut>>>13,wr=v[8]|0,Je=wr&8191,Ve=wr>>>13,nr=v[9]|0,et=nr&8191,Xe=nr>>>13;h.negative=o.negative^u.negative,h.length=19,w=Math.imul(F,ye),c=Math.imul(F,me),c=c+Math.imul(ne,ye)|0,b=Math.imul(ne,me);var sr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(sr>>>26)|0,sr&=67108863,w=Math.imul(xe,ye),c=Math.imul(xe,me),c=c+Math.imul(M,ye)|0,b=Math.imul(M,me),w=w+Math.imul(F,Oe)|0,c=c+Math.imul(F,Ie)|0,c=c+Math.imul(ne,Oe)|0,b=b+Math.imul(ne,Ie)|0;var Jt=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,w=Math.imul(C,ye),c=Math.imul(C,me),c=c+Math.imul(z,ye)|0,b=Math.imul(z,me),w=w+Math.imul(xe,Oe)|0,c=c+Math.imul(xe,Ie)|0,c=c+Math.imul(M,Oe)|0,b=b+Math.imul(M,Ie)|0,w=w+Math.imul(F,ke)|0,c=c+Math.imul(F,Le)|0,c=c+Math.imul(ne,ke)|0,b=b+Math.imul(ne,Le)|0;var Bt=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,w=Math.imul(j,ye),c=Math.imul(j,me),c=c+Math.imul(J,ye)|0,b=Math.imul(J,me),w=w+Math.imul(C,Oe)|0,c=c+Math.imul(C,Ie)|0,c=c+Math.imul(z,Oe)|0,b=b+Math.imul(z,Ie)|0,w=w+Math.imul(xe,ke)|0,c=c+Math.imul(xe,Le)|0,c=c+Math.imul(M,ke)|0,b=b+Math.imul(M,Le)|0,w=w+Math.imul(F,Ce)|0,c=c+Math.imul(F,Ue)|0,c=c+Math.imul(ne,Ce)|0,b=b+Math.imul(ne,Ue)|0;var yr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(yr>>>26)|0,yr&=67108863,w=Math.imul(K,ye),c=Math.imul(K,me),c=c+Math.imul(X,ye)|0,b=Math.imul(X,me),w=w+Math.imul(j,Oe)|0,c=c+Math.imul(j,Ie)|0,c=c+Math.imul(J,Oe)|0,b=b+Math.imul(J,Ie)|0,w=w+Math.imul(C,ke)|0,c=c+Math.imul(C,Le)|0,c=c+Math.imul(z,ke)|0,b=b+Math.imul(z,Le)|0,w=w+Math.imul(xe,Ce)|0,c=c+Math.imul(xe,Ue)|0,c=c+Math.imul(M,Ce)|0,b=b+Math.imul(M,Ue)|0,w=w+Math.imul(F,Ke)|0,c=c+Math.imul(F,Ne)|0,c=c+Math.imul(ne,Ke)|0,b=b+Math.imul(ne,Ne)|0;var ir=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,w=Math.imul(ae,ye),c=Math.imul(ae,me),c=c+Math.imul($,ye)|0,b=Math.imul($,me),w=w+Math.imul(K,Oe)|0,c=c+Math.imul(K,Ie)|0,c=c+Math.imul(X,Oe)|0,b=b+Math.imul(X,Ie)|0,w=w+Math.imul(j,ke)|0,c=c+Math.imul(j,Le)|0,c=c+Math.imul(J,ke)|0,b=b+Math.imul(J,Le)|0,w=w+Math.imul(C,Ce)|0,c=c+Math.imul(C,Ue)|0,c=c+Math.imul(z,Ce)|0,b=b+Math.imul(z,Ue)|0,w=w+Math.imul(xe,Ke)|0,c=c+Math.imul(xe,Ne)|0,c=c+Math.imul(M,Ke)|0,b=b+Math.imul(M,Ne)|0,w=w+Math.imul(F,We)|0,c=c+Math.imul(F,He)|0,c=c+Math.imul(ne,We)|0,b=b+Math.imul(ne,He)|0;var Dr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,w=Math.imul(le,ye),c=Math.imul(le,me),c=c+Math.imul(Ee,ye)|0,b=Math.imul(Ee,me),w=w+Math.imul(ae,Oe)|0,c=c+Math.imul(ae,Ie)|0,c=c+Math.imul($,Oe)|0,b=b+Math.imul($,Ie)|0,w=w+Math.imul(K,ke)|0,c=c+Math.imul(K,Le)|0,c=c+Math.imul(X,ke)|0,b=b+Math.imul(X,Le)|0,w=w+Math.imul(j,Ce)|0,c=c+Math.imul(j,Ue)|0,c=c+Math.imul(J,Ce)|0,b=b+Math.imul(J,Ue)|0,w=w+Math.imul(C,Ke)|0,c=c+Math.imul(C,Ne)|0,c=c+Math.imul(z,Ke)|0,b=b+Math.imul(z,Ne)|0,w=w+Math.imul(xe,We)|0,c=c+Math.imul(xe,He)|0,c=c+Math.imul(M,We)|0,b=b+Math.imul(M,He)|0,w=w+Math.imul(F,ze)|0,c=c+Math.imul(F,De)|0,c=c+Math.imul(ne,ze)|0,b=b+Math.imul(ne,De)|0;var xr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(xr>>>26)|0,xr&=67108863,w=Math.imul(Ae,ye),c=Math.imul(Ae,me),c=c+Math.imul(R,ye)|0,b=Math.imul(R,me),w=w+Math.imul(le,Oe)|0,c=c+Math.imul(le,Ie)|0,c=c+Math.imul(Ee,Oe)|0,b=b+Math.imul(Ee,Ie)|0,w=w+Math.imul(ae,ke)|0,c=c+Math.imul(ae,Le)|0,c=c+Math.imul($,ke)|0,b=b+Math.imul($,Le)|0,w=w+Math.imul(K,Ce)|0,c=c+Math.imul(K,Ue)|0,c=c+Math.imul(X,Ce)|0,b=b+Math.imul(X,Ue)|0,w=w+Math.imul(j,Ke)|0,c=c+Math.imul(j,Ne)|0,c=c+Math.imul(J,Ke)|0,b=b+Math.imul(J,Ne)|0,w=w+Math.imul(C,We)|0,c=c+Math.imul(C,He)|0,c=c+Math.imul(z,We)|0,b=b+Math.imul(z,He)|0,w=w+Math.imul(xe,ze)|0,c=c+Math.imul(xe,De)|0,c=c+Math.imul(M,ze)|0,b=b+Math.imul(M,De)|0,w=w+Math.imul(F,$e)|0,c=c+Math.imul(F,Ze)|0,c=c+Math.imul(ne,$e)|0,b=b+Math.imul(ne,Ze)|0;var qr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,w=Math.imul(Q,ye),c=Math.imul(Q,me),c=c+Math.imul(ve,ye)|0,b=Math.imul(ve,me),w=w+Math.imul(Ae,Oe)|0,c=c+Math.imul(Ae,Ie)|0,c=c+Math.imul(R,Oe)|0,b=b+Math.imul(R,Ie)|0,w=w+Math.imul(le,ke)|0,c=c+Math.imul(le,Le)|0,c=c+Math.imul(Ee,ke)|0,b=b+Math.imul(Ee,Le)|0,w=w+Math.imul(ae,Ce)|0,c=c+Math.imul(ae,Ue)|0,c=c+Math.imul($,Ce)|0,b=b+Math.imul($,Ue)|0,w=w+Math.imul(K,Ke)|0,c=c+Math.imul(K,Ne)|0,c=c+Math.imul(X,Ke)|0,b=b+Math.imul(X,Ne)|0,w=w+Math.imul(j,We)|0,c=c+Math.imul(j,He)|0,c=c+Math.imul(J,We)|0,b=b+Math.imul(J,He)|0,w=w+Math.imul(C,ze)|0,c=c+Math.imul(C,De)|0,c=c+Math.imul(z,ze)|0,b=b+Math.imul(z,De)|0,w=w+Math.imul(xe,$e)|0,c=c+Math.imul(xe,Ze)|0,c=c+Math.imul(M,$e)|0,b=b+Math.imul(M,Ze)|0,w=w+Math.imul(F,Je)|0,c=c+Math.imul(F,Ve)|0,c=c+Math.imul(ne,Je)|0,b=b+Math.imul(ne,Ve)|0;var _r=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(_r>>>26)|0,_r&=67108863,w=Math.imul(Se,ye),c=Math.imul(Se,me),c=c+Math.imul(ie,ye)|0,b=Math.imul(ie,me),w=w+Math.imul(Q,Oe)|0,c=c+Math.imul(Q,Ie)|0,c=c+Math.imul(ve,Oe)|0,b=b+Math.imul(ve,Ie)|0,w=w+Math.imul(Ae,ke)|0,c=c+Math.imul(Ae,Le)|0,c=c+Math.imul(R,ke)|0,b=b+Math.imul(R,Le)|0,w=w+Math.imul(le,Ce)|0,c=c+Math.imul(le,Ue)|0,c=c+Math.imul(Ee,Ce)|0,b=b+Math.imul(Ee,Ue)|0,w=w+Math.imul(ae,Ke)|0,c=c+Math.imul(ae,Ne)|0,c=c+Math.imul($,Ke)|0,b=b+Math.imul($,Ne)|0,w=w+Math.imul(K,We)|0,c=c+Math.imul(K,He)|0,c=c+Math.imul(X,We)|0,b=b+Math.imul(X,He)|0,w=w+Math.imul(j,ze)|0,c=c+Math.imul(j,De)|0,c=c+Math.imul(J,ze)|0,b=b+Math.imul(J,De)|0,w=w+Math.imul(C,$e)|0,c=c+Math.imul(C,Ze)|0,c=c+Math.imul(z,$e)|0,b=b+Math.imul(z,Ze)|0,w=w+Math.imul(xe,Je)|0,c=c+Math.imul(xe,Ve)|0,c=c+Math.imul(M,Je)|0,b=b+Math.imul(M,Ve)|0,w=w+Math.imul(F,et)|0,c=c+Math.imul(F,Xe)|0,c=c+Math.imul(ne,et)|0,b=b+Math.imul(ne,Xe)|0;var Ur=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,w=Math.imul(Se,Oe),c=Math.imul(Se,Ie),c=c+Math.imul(ie,Oe)|0,b=Math.imul(ie,Ie),w=w+Math.imul(Q,ke)|0,c=c+Math.imul(Q,Le)|0,c=c+Math.imul(ve,ke)|0,b=b+Math.imul(ve,Le)|0,w=w+Math.imul(Ae,Ce)|0,c=c+Math.imul(Ae,Ue)|0,c=c+Math.imul(R,Ce)|0,b=b+Math.imul(R,Ue)|0,w=w+Math.imul(le,Ke)|0,c=c+Math.imul(le,Ne)|0,c=c+Math.imul(Ee,Ke)|0,b=b+Math.imul(Ee,Ne)|0,w=w+Math.imul(ae,We)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul($,We)|0,b=b+Math.imul($,He)|0,w=w+Math.imul(K,ze)|0,c=c+Math.imul(K,De)|0,c=c+Math.imul(X,ze)|0,b=b+Math.imul(X,De)|0,w=w+Math.imul(j,$e)|0,c=c+Math.imul(j,Ze)|0,c=c+Math.imul(J,$e)|0,b=b+Math.imul(J,Ze)|0,w=w+Math.imul(C,Je)|0,c=c+Math.imul(C,Ve)|0,c=c+Math.imul(z,Je)|0,b=b+Math.imul(z,Ve)|0,w=w+Math.imul(xe,et)|0,c=c+Math.imul(xe,Xe)|0,c=c+Math.imul(M,et)|0,b=b+Math.imul(M,Xe)|0;var Rr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,w=Math.imul(Se,ke),c=Math.imul(Se,Le),c=c+Math.imul(ie,ke)|0,b=Math.imul(ie,Le),w=w+Math.imul(Q,Ce)|0,c=c+Math.imul(Q,Ue)|0,c=c+Math.imul(ve,Ce)|0,b=b+Math.imul(ve,Ue)|0,w=w+Math.imul(Ae,Ke)|0,c=c+Math.imul(Ae,Ne)|0,c=c+Math.imul(R,Ke)|0,b=b+Math.imul(R,Ne)|0,w=w+Math.imul(le,We)|0,c=c+Math.imul(le,He)|0,c=c+Math.imul(Ee,We)|0,b=b+Math.imul(Ee,He)|0,w=w+Math.imul(ae,ze)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul($,ze)|0,b=b+Math.imul($,De)|0,w=w+Math.imul(K,$e)|0,c=c+Math.imul(K,Ze)|0,c=c+Math.imul(X,$e)|0,b=b+Math.imul(X,Ze)|0,w=w+Math.imul(j,Je)|0,c=c+Math.imul(j,Ve)|0,c=c+Math.imul(J,Je)|0,b=b+Math.imul(J,Ve)|0,w=w+Math.imul(C,et)|0,c=c+Math.imul(C,Xe)|0,c=c+Math.imul(z,et)|0,b=b+Math.imul(z,Xe)|0;var Fr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,w=Math.imul(Se,Ce),c=Math.imul(Se,Ue),c=c+Math.imul(ie,Ce)|0,b=Math.imul(ie,Ue),w=w+Math.imul(Q,Ke)|0,c=c+Math.imul(Q,Ne)|0,c=c+Math.imul(ve,Ke)|0,b=b+Math.imul(ve,Ne)|0,w=w+Math.imul(Ae,We)|0,c=c+Math.imul(Ae,He)|0,c=c+Math.imul(R,We)|0,b=b+Math.imul(R,He)|0,w=w+Math.imul(le,ze)|0,c=c+Math.imul(le,De)|0,c=c+Math.imul(Ee,ze)|0,b=b+Math.imul(Ee,De)|0,w=w+Math.imul(ae,$e)|0,c=c+Math.imul(ae,Ze)|0,c=c+Math.imul($,$e)|0,b=b+Math.imul($,Ze)|0,w=w+Math.imul(K,Je)|0,c=c+Math.imul(K,Ve)|0,c=c+Math.imul(X,Je)|0,b=b+Math.imul(X,Ve)|0,w=w+Math.imul(j,et)|0,c=c+Math.imul(j,Xe)|0,c=c+Math.imul(J,et)|0,b=b+Math.imul(J,Xe)|0;var Er=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Er>>>26)|0,Er&=67108863,w=Math.imul(Se,Ke),c=Math.imul(Se,Ne),c=c+Math.imul(ie,Ke)|0,b=Math.imul(ie,Ne),w=w+Math.imul(Q,We)|0,c=c+Math.imul(Q,He)|0,c=c+Math.imul(ve,We)|0,b=b+Math.imul(ve,He)|0,w=w+Math.imul(Ae,ze)|0,c=c+Math.imul(Ae,De)|0,c=c+Math.imul(R,ze)|0,b=b+Math.imul(R,De)|0,w=w+Math.imul(le,$e)|0,c=c+Math.imul(le,Ze)|0,c=c+Math.imul(Ee,$e)|0,b=b+Math.imul(Ee,Ze)|0,w=w+Math.imul(ae,Je)|0,c=c+Math.imul(ae,Ve)|0,c=c+Math.imul($,Je)|0,b=b+Math.imul($,Ve)|0,w=w+Math.imul(K,et)|0,c=c+Math.imul(K,Xe)|0,c=c+Math.imul(X,et)|0,b=b+Math.imul(X,Xe)|0;var kr=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(kr>>>26)|0,kr&=67108863,w=Math.imul(Se,We),c=Math.imul(Se,He),c=c+Math.imul(ie,We)|0,b=Math.imul(ie,He),w=w+Math.imul(Q,ze)|0,c=c+Math.imul(Q,De)|0,c=c+Math.imul(ve,ze)|0,b=b+Math.imul(ve,De)|0,w=w+Math.imul(Ae,$e)|0,c=c+Math.imul(Ae,Ze)|0,c=c+Math.imul(R,$e)|0,b=b+Math.imul(R,Ze)|0,w=w+Math.imul(le,Je)|0,c=c+Math.imul(le,Ve)|0,c=c+Math.imul(Ee,Je)|0,b=b+Math.imul(Ee,Ve)|0,w=w+Math.imul(ae,et)|0,c=c+Math.imul(ae,Xe)|0,c=c+Math.imul($,et)|0,b=b+Math.imul($,Xe)|0;var nn=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(nn>>>26)|0,nn&=67108863,w=Math.imul(Se,ze),c=Math.imul(Se,De),c=c+Math.imul(ie,ze)|0,b=Math.imul(ie,De),w=w+Math.imul(Q,$e)|0,c=c+Math.imul(Q,Ze)|0,c=c+Math.imul(ve,$e)|0,b=b+Math.imul(ve,Ze)|0,w=w+Math.imul(Ae,Je)|0,c=c+Math.imul(Ae,Ve)|0,c=c+Math.imul(R,Je)|0,b=b+Math.imul(R,Ve)|0,w=w+Math.imul(le,et)|0,c=c+Math.imul(le,Xe)|0,c=c+Math.imul(Ee,et)|0,b=b+Math.imul(Ee,Xe)|0;var an=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(an>>>26)|0,an&=67108863,w=Math.imul(Se,$e),c=Math.imul(Se,Ze),c=c+Math.imul(ie,$e)|0,b=Math.imul(ie,Ze),w=w+Math.imul(Q,Je)|0,c=c+Math.imul(Q,Ve)|0,c=c+Math.imul(ve,Je)|0,b=b+Math.imul(ve,Ve)|0,w=w+Math.imul(Ae,et)|0,c=c+Math.imul(Ae,Xe)|0,c=c+Math.imul(R,et)|0,b=b+Math.imul(R,Xe)|0;var Gn=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,w=Math.imul(Se,Je),c=Math.imul(Se,Ve),c=c+Math.imul(ie,Je)|0,b=Math.imul(ie,Ve),w=w+Math.imul(Q,et)|0,c=c+Math.imul(Q,Xe)|0,c=c+Math.imul(ve,et)|0,b=b+Math.imul(ve,Xe)|0;var yn=(E+w|0)+((c&8191)<<13)|0;E=(b+(c>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(Se,et),c=Math.imul(Se,Xe),c=c+Math.imul(ie,et)|0,b=Math.imul(ie,Xe);var On=(E+w|0)+((c&8191)<<13)|0;return E=(b+(c>>>13)|0)+(On>>>26)|0,On&=67108863,d[0]=sr,d[1]=Jt,d[2]=Bt,d[3]=yr,d[4]=ir,d[5]=Dr,d[6]=xr,d[7]=qr,d[8]=_r,d[9]=Ur,d[10]=Rr,d[11]=Fr,d[12]=Er,d[13]=kr,d[14]=nn,d[15]=an,d[16]=Gn,d[17]=yn,d[18]=On,E!==0&&(d[19]=E,h.length++),h};Math.imul||(Y=Z);function re(y,o,u){u.negative=o.negative^y.negative,u.length=y.length+o.length;for(var h=0,p=0,v=0;v<u.length-1;v++){var d=p;p=0;for(var E=h&67108863,w=Math.min(v,o.length-1),c=Math.max(0,v-y.length+1);c<=w;c++){var b=v-c,ue=y.words[b]|0,F=o.words[c]|0,ne=ue*F,ce=ne&67108863;d=d+(ne/67108864|0)|0,ce=ce+E|0,E=ce&67108863,d=d+(ce>>>26)|0,p+=d>>>26,d&=67108863}u.words[v]=E,h=d,d=p}return h!==0?u.words[v]=h:u.length--,u._strip()}function pe(y,o,u){return re(y,o,u)}i.prototype.mulTo=function(o,u){var h,p=this.length+o.length;return this.length===10&&o.length===10?h=Y(this,o,u):p<63?h=Z(this,o,u):p<1024?h=re(this,o,u):h=pe(this,o,u),h};function he(y,o){this.x=y,this.y=o}he.prototype.makeRBT=function(o){for(var u=new Array(o),h=i.prototype._countBits(o)-1,p=0;p<o;p++)u[p]=this.revBin(p,h,o);return u},he.prototype.revBin=function(o,u,h){if(o===0||o===h-1)return o;for(var p=0,v=0;v<u;v++)p|=(o&1)<<u-v-1,o>>=1;return p},he.prototype.permute=function(o,u,h,p,v,d){for(var E=0;E<d;E++)p[E]=u[o[E]],v[E]=h[o[E]]},he.prototype.transform=function(o,u,h,p,v,d){this.permute(d,o,u,h,p,v);for(var E=1;E<v;E<<=1)for(var w=E<<1,c=Math.cos(2*Math.PI/w),b=Math.sin(2*Math.PI/w),ue=0;ue<v;ue+=w)for(var F=c,ne=b,ce=0;ce<E;ce++){var xe=h[ue+ce],M=p[ue+ce],k=h[ue+ce+E],C=p[ue+ce+E],z=F*k-ne*C;C=F*C+ne*k,k=z,h[ue+ce]=xe+k,p[ue+ce]=M+C,h[ue+ce+E]=xe-k,p[ue+ce+E]=M-C,ce!==w&&(z=c*F-b*ne,ne=c*ne+b*F,F=z)}},he.prototype.guessLen13b=function(o,u){var h=Math.max(u,o)|1,p=h&1,v=0;for(h=h/2|0;h;h=h>>>1)v++;return 1<<v+1+p},he.prototype.conjugate=function(o,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var v=o[p];o[p]=o[h-p-1],o[h-p-1]=v,v=u[p],u[p]=-u[h-p-1],u[h-p-1]=-v}},he.prototype.normalize13b=function(o,u){for(var h=0,p=0;p<u/2;p++){var v=Math.round(o[2*p+1]/u)*8192+Math.round(o[2*p]/u)+h;o[p]=v&67108863,v<67108864?h=0:h=v/67108864|0}return o},he.prototype.convert13b=function(o,u,h,p){for(var v=0,d=0;d<u;d++)v=v+(o[d]|0),h[2*d]=v&8191,v=v>>>13,h[2*d+1]=v&8191,v=v>>>13;for(d=2*u;d<p;++d)h[d]=0;r(v===0),r((v&-8192)===0)},he.prototype.stub=function(o){for(var u=new Array(o),h=0;h<o;h++)u[h]=0;return u},he.prototype.mulp=function(o,u,h){var p=2*this.guessLen13b(o.length,u.length),v=this.makeRBT(p),d=this.stub(p),E=new Array(p),w=new Array(p),c=new Array(p),b=new Array(p),ue=new Array(p),F=new Array(p),ne=h.words;ne.length=p,this.convert13b(o.words,o.length,E,p),this.convert13b(u.words,u.length,b,p),this.transform(E,d,w,c,p,v),this.transform(b,d,ue,F,p,v);for(var ce=0;ce<p;ce++){var xe=w[ce]*ue[ce]-c[ce]*F[ce];c[ce]=w[ce]*F[ce]+c[ce]*ue[ce],w[ce]=xe}return this.conjugate(w,c,p),this.transform(w,c,ne,d,p,v),this.conjugate(ne,d,p),this.normalize13b(ne,p),h.negative=o.negative^u.negative,h.length=o.length+u.length,h._strip()},i.prototype.mul=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},i.prototype.mulf=function(o){var u=new i(null);return u.words=new Array(this.length+o.length),pe(this,o,u)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){var u=o<0;u&&(o=-o),r(typeof o=="number"),r(o<67108864);for(var h=0,p=0;p<this.length;p++){var v=(this.words[p]|0)*o,d=(v&67108863)+(h&67108863);h>>=26,h+=v/67108864|0,h+=d>>>26,this.words[p]=d&67108863}return h!==0&&(this.words[p]=h,this.length++),u?this.ineg():this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var u=U(o);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var v=h.sqr();p<u.length;p++,v=v.sqr())u[p]!==0&&(h=h.mul(v));return h},i.prototype.iushln=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,p=67108863>>>26-u<<26-u,v;if(u!==0){var d=0;for(v=0;v<this.length;v++){var E=this.words[v]&p,w=(this.words[v]|0)-E<<u;this.words[v]=w|d,d=E>>>26-u}d&&(this.words[v]=d,this.length++)}if(h!==0){for(v=this.length-1;v>=0;v--)this.words[v+h]=this.words[v];for(v=0;v<h;v++)this.words[v]=0;this.length+=h}return this._strip()},i.prototype.ishln=function(o){return r(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,u,h){r(typeof o=="number"&&o>=0);var p;u?p=(u-u%26)/26:p=0;var v=o%26,d=Math.min((o-v)/26,this.length),E=67108863^67108863>>>v<<v,w=h;if(p-=d,p=Math.max(0,p),w){for(var c=0;c<d;c++)w.words[c]=this.words[c];w.length=d}if(d!==0)if(this.length>d)for(this.length-=d,c=0;c<this.length;c++)this.words[c]=this.words[c+d];else this.words[0]=0,this.length=1;var b=0;for(c=this.length-1;c>=0&&(b!==0||c>=p);c--){var ue=this.words[c]|0;this.words[c]=b<<26-v|ue>>>v,b=ue&E}return w&&b!==0&&(w.words[w.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(o,u,h){return r(this.negative===0),this.iushrn(o,u,h)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26,p=1<<u;if(this.length<=h)return!1;var v=this.words[h];return!!(v&p)},i.prototype.imaskn=function(o){r(typeof o=="number"&&o>=0);var u=o%26,h=(o-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this._strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return r(typeof o=="number"),r(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(o){if(r(typeof o=="number"),r(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,u,h){var p=o.length+h,v;this._expand(p);var d,E=0;for(v=0;v<o.length;v++){d=(this.words[v+h]|0)+E;var w=(o.words[v]|0)*u;d-=w&67108863,E=(d>>26)-(w/67108864|0),this.words[v+h]=d&67108863}for(;v<this.length-h;v++)d=(this.words[v+h]|0)+E,E=d>>26,this.words[v+h]=d&67108863;if(E===0)return this._strip();for(r(E===-1),E=0,v=0;v<this.length;v++)d=-(this.words[v]|0)+E,E=d>>26,this.words[v]=d&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(o,u){var h=this.length-o.length,p=this.clone(),v=o,d=v.words[v.length-1]|0,E=this._countBits(d);h=26-E,h!==0&&(v=v.ushln(h),p.iushln(h),d=v.words[v.length-1]|0);var w=p.length-v.length,c;if(u!=="mod"){c=new i(null),c.length=w+1,c.words=new Array(c.length);for(var b=0;b<c.length;b++)c.words[b]=0}var ue=p.clone()._ishlnsubmul(v,1,w);ue.negative===0&&(p=ue,c&&(c.words[w]=1));for(var F=w-1;F>=0;F--){var ne=(p.words[v.length+F]|0)*67108864+(p.words[v.length+F-1]|0);for(ne=Math.min(ne/d|0,67108863),p._ishlnsubmul(v,ne,F);p.negative!==0;)ne--,p.negative=0,p._ishlnsubmul(v,1,F),p.isZero()||(p.negative^=1);c&&(c.words[F]=ne)}return c&&c._strip(),p._strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:c||null,mod:p}},i.prototype.divmod=function(o,u,h){if(r(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,v,d;return this.negative!==0&&o.negative===0?(d=this.neg().divmod(o,u),u!=="mod"&&(p=d.div.neg()),u!=="div"&&(v=d.mod.neg(),h&&v.negative!==0&&v.iadd(o)),{div:p,mod:v}):this.negative===0&&o.negative!==0?(d=this.divmod(o.neg(),u),u!=="mod"&&(p=d.div.neg()),{div:p,mod:d.mod}):(this.negative&o.negative)!==0?(d=this.neg().divmod(o.neg(),u),u!=="div"&&(v=d.mod.neg(),h&&v.negative!==0&&v.isub(o)),{div:d.div,mod:v}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modrn(o.words[0]))}:this._wordDiv(o,u)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(o):u.mod,p=o.ushrn(1),v=o.andln(1),d=h.cmp(p);return d<0||v===1&&d===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modrn=function(o){var u=o<0;u&&(o=-o),r(o<=67108863);for(var h=(1<<26)%o,p=0,v=this.length-1;v>=0;v--)p=(h*p+(this.words[v]|0))%o;return u?-p:p},i.prototype.modn=function(o){return this.modrn(o)},i.prototype.idivn=function(o){var u=o<0;u&&(o=-o),r(o<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var v=(this.words[p]|0)+h*67108864;this.words[p]=v/o|0,h=v%o}return this._strip(),u?this.ineg():this},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var p=new i(1),v=new i(0),d=new i(0),E=new i(1),w=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++w;for(var c=h.clone(),b=u.clone();!u.isZero();){for(var ue=0,F=1;(u.words[0]&F)===0&&ue<26;++ue,F<<=1);if(ue>0)for(u.iushrn(ue);ue-- >0;)(p.isOdd()||v.isOdd())&&(p.iadd(c),v.isub(b)),p.iushrn(1),v.iushrn(1);for(var ne=0,ce=1;(h.words[0]&ce)===0&&ne<26;++ne,ce<<=1);if(ne>0)for(h.iushrn(ne);ne-- >0;)(d.isOdd()||E.isOdd())&&(d.iadd(c),E.isub(b)),d.iushrn(1),E.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(d),v.isub(E)):(h.isub(u),d.isub(p),E.isub(v))}return{a:d,b:E,gcd:h.iushln(w)}},i.prototype._invmp=function(o){r(o.negative===0),r(!o.isZero());var u=this,h=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var p=new i(1),v=new i(0),d=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var E=0,w=1;(u.words[0]&w)===0&&E<26;++E,w<<=1);if(E>0)for(u.iushrn(E);E-- >0;)p.isOdd()&&p.iadd(d),p.iushrn(1);for(var c=0,b=1;(h.words[0]&b)===0&&c<26;++c,b<<=1);if(c>0)for(h.iushrn(c);c-- >0;)v.isOdd()&&v.iadd(d),v.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(v)):(h.isub(u),v.isub(p))}var ue;return u.cmpn(1)===0?ue=p:ue=v,ue.cmpn(0)<0&&ue.iadd(o),ue},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),h=o.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var v=u.cmp(h);if(v<0){var d=u;u=h,h=d}else if(v===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){r(typeof o=="number");var u=o%26,h=(o-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var v=p,d=h;v!==0&&d<this.length;d++){var E=this.words[d]|0;E+=v,v=E>>>26,E&=67108863,this.words[d]=E}return v!==0&&(this.words[d]=v,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var h;if(this.length>1)h=1;else{u&&(o=-o),r(o<=67108863,"Number is too big");var p=this.words[0]|0;h=p===o?0:p<o?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,v=o.words[h]|0;if(p!==v){p<v?u=-1:p>v&&(u=1);break}}return u},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new S(o)},i.prototype.toRed=function(o){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return r(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return r(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var se={k256:null,p224:null,p192:null,p25519:null};function fe(y,o){this.name=y,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}fe.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},fe.prototype.ireduce=function(o){var u=o,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},fe.prototype.split=function(o,u){o.iushrn(this.n,0,u)},fe.prototype.imulK=function(o){return o.imul(this.k)};function de(){fe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(de,fe),de.prototype.split=function(o,u){for(var h=4194303,p=Math.min(o.length,9),v=0;v<p;v++)u.words[v]=o.words[v];if(u.length=p,o.length<=9){o.words[0]=0,o.length=1;return}var d=o.words[9];for(u.words[u.length++]=d&h,v=10;v<o.length;v++){var E=o.words[v]|0;o.words[v-10]=(E&h)<<4|d>>>22,d=E}d>>>=22,o.words[v-10]=d,d===0&&o.length>10?o.length-=10:o.length-=9},de.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,h=0;h<o.length;h++){var p=o.words[h]|0;u+=p*977,o.words[h]=u&67108863,u=p*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function G(){fe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(G,fe);function L(){fe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(L,fe);function q(){fe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(q,fe),q.prototype.imulK=function(o){for(var u=0,h=0;h<o.length;h++){var p=(o.words[h]|0)*19+u,v=p&67108863;p>>>=26,o.words[h]=v,u=p}return u!==0&&(o.words[o.length++]=u),o},i._prime=function(o){if(se[o])return se[o];var u;if(o==="k256")u=new de;else if(o==="p224")u=new G;else if(o==="p192")u=new L;else if(o==="p25519")u=new q;else throw new Error("Unknown prime "+o);return se[o]=u,u};function S(y){if(typeof y=="string"){var o=i._prime(y);this.m=o.p,this.prime=o}else r(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}S.prototype._verify1=function(o){r(o.negative===0,"red works only with positives"),r(o.red,"red works only with red numbers")},S.prototype._verify2=function(o,u){r((o.negative|u.negative)===0,"red works only with positives"),r(o.red&&o.red===u.red,"red works only with red numbers")},S.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(g(o,o.umod(this.m)._forceRed(this)),o)},S.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},S.prototype.add=function(o,u){this._verify2(o,u);var h=o.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},S.prototype.iadd=function(o,u){this._verify2(o,u);var h=o.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},S.prototype.sub=function(o,u){this._verify2(o,u);var h=o.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},S.prototype.isub=function(o,u){this._verify2(o,u);var h=o.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},S.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},S.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},S.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},S.prototype.isqr=function(o){return this.imul(o,o.clone())},S.prototype.sqr=function(o){return this.mul(o,o)},S.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(o,h)}for(var p=this.m.subn(1),v=0;!p.isZero()&&p.andln(1)===0;)v++,p.iushrn(1);r(!p.isZero());var d=new i(1).toRed(this),E=d.redNeg(),w=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,w).cmp(E)!==0;)c.redIAdd(E);for(var b=this.pow(c,p),ue=this.pow(o,p.addn(1).iushrn(1)),F=this.pow(o,p),ne=v;F.cmp(d)!==0;){for(var ce=F,xe=0;ce.cmp(d)!==0;xe++)ce=ce.redSqr();r(xe<ne);var M=this.pow(b,new i(1).iushln(ne-xe-1));ue=ue.redMul(M),b=M.redSqr(),F=F.redMul(b),ne=xe}return ue},S.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},S.prototype.pow=function(o,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=o;for(var v=2;v<p.length;v++)p[v]=this.mul(p[v-1],o);var d=p[0],E=0,w=0,c=u.bitLength()%26;for(c===0&&(c=26),v=u.length-1;v>=0;v--){for(var b=u.words[v],ue=c-1;ue>=0;ue--){var F=b>>ue&1;if(d!==p[0]&&(d=this.sqr(d)),F===0&&E===0){w=0;continue}E<<=1,E|=F,w++,!(w!==h&&(v!==0||ue!==0))&&(d=this.mul(d,p[E]),w=0,E=0)}c=26}return d},S.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},S.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},i.mont=function(o){return new B(o)};function B(y){S.call(this,y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(B,S),B.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},B.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},B.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var h=o.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(p).iushrn(this.shift),d=v;return v.cmp(this.m)>=0?d=v.isub(this.m):v.cmpn(0)<0&&(d=v.iadd(this.m)),d._forceRed(this)},B.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new i(0)._forceRed(this);var h=o.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(p).iushrn(this.shift),d=v;return v.cmp(this.m)>=0?d=v.isub(this.m):v.cmpn(0)<0&&(d=v.iadd(this.m)),d._forceRed(this)},B.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof wO>"u"||wO,Jee)});var jO=ee((FO,yte)=>{"use strict";x();(function(t){function e(d){return parseInt(d)===d}function r(d){if(!e(d.length))return!1;for(var E=0;E<d.length;E++)if(!e(d[E])||d[E]<0||d[E]>255)return!1;return!0}function n(d,E){if(d.buffer&&ArrayBuffer.isView(d)&&d.name==="Uint8Array")return E&&(d.slice?d=d.slice():d=Array.prototype.slice.call(d)),d;if(Array.isArray(d)){if(!r(d))throw new Error("Array contains invalid value: "+d);return new Uint8Array(d)}if(e(d.length)&&r(d))return new Uint8Array(d);throw new Error("unsupported array-like object")}function i(d){return new Uint8Array(d)}function a(d,E,w,c,b){(c!=null||b!=null)&&(d.slice?d=d.slice(c,b):d=Array.prototype.slice.call(d,c,b)),E.set(d,w)}var s=function(){function d(w){var c=[],b=0;for(w=encodeURI(w);b<w.length;){var ue=w.charCodeAt(b++);ue===37?(c.push(parseInt(w.substr(b,2),16)),b+=2):c.push(ue)}return n(c)}function E(w){for(var c=[],b=0;b<w.length;){var ue=w[b];ue<128?(c.push(String.fromCharCode(ue)),b++):ue>191&&ue<224?(c.push(String.fromCharCode((ue&31)<<6|w[b+1]&63)),b+=2):(c.push(String.fromCharCode((ue&15)<<12|(w[b+1]&63)<<6|w[b+2]&63)),b+=3)}return c.join("")}return{toBytes:d,fromBytes:E}}(),f=function(){function d(c){for(var b=[],ue=0;ue<c.length;ue+=2)b.push(parseInt(c.substr(ue,2),16));return b}var E="0123456789abcdef";function w(c){for(var b=[],ue=0;ue<c.length;ue++){var F=c[ue];b.push(E[(F&240)>>4]+E[F&15])}return b.join("")}return{toBytes:d,fromBytes:w}}(),l={16:10,24:12,32:14},g=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],m=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],A=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],I=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],T=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],O=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],U=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],Z=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Y=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],re=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],pe=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],he=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],se=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],fe=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],de=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function G(d){for(var E=[],w=0;w<d.length;w+=4)E.push(d[w]<<24|d[w+1]<<16|d[w+2]<<8|d[w+3]);return E}var L=function(d){if(!(this instanceof L))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(d,!0)}),this._prepare()};L.prototype._prepare=function(){var d=l[this.key.length];if(d==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var E=0;E<=d;E++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var w=(d+1)*4,c=this.key.length/4,b=G(this.key),ue,E=0;E<c;E++)ue=E>>2,this._Ke[ue][E%4]=b[E],this._Kd[d-ue][E%4]=b[E];for(var F=0,ne=c,ce;ne<w;){if(ce=b[c-1],b[0]^=m[ce>>16&255]<<24^m[ce>>8&255]<<16^m[ce&255]<<8^m[ce>>24&255]^g[F]<<24,F+=1,c!=8)for(var E=1;E<c;E++)b[E]^=b[E-1];else{for(var E=1;E<c/2;E++)b[E]^=b[E-1];ce=b[c/2-1],b[c/2]^=m[ce&255]^m[ce>>8&255]<<8^m[ce>>16&255]<<16^m[ce>>24&255]<<24;for(var E=c/2+1;E<c;E++)b[E]^=b[E-1]}for(var E=0,xe,M;E<c&&ne<w;)xe=ne>>2,M=ne%4,this._Ke[xe][M]=b[E],this._Kd[d-xe][M]=b[E++],ne++}for(var xe=1;xe<d;xe++)for(var M=0;M<4;M++)ce=this._Kd[xe][M],this._Kd[xe][M]=he[ce>>24&255]^se[ce>>16&255]^fe[ce>>8&255]^de[ce&255]},L.prototype.encrypt=function(d){if(d.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var E=this._Ke.length-1,w=[0,0,0,0],c=G(d),b=0;b<4;b++)c[b]^=this._Ke[0][b];for(var ue=1;ue<E;ue++){for(var b=0;b<4;b++)w[b]=I[c[b]>>24&255]^T[c[(b+1)%4]>>16&255]^O[c[(b+2)%4]>>8&255]^U[c[(b+3)%4]&255]^this._Ke[ue][b];c=w.slice()}for(var F=i(16),ne,b=0;b<4;b++)ne=this._Ke[E][b],F[4*b]=(m[c[b]>>24&255]^ne>>24)&255,F[4*b+1]=(m[c[(b+1)%4]>>16&255]^ne>>16)&255,F[4*b+2]=(m[c[(b+2)%4]>>8&255]^ne>>8)&255,F[4*b+3]=(m[c[(b+3)%4]&255]^ne)&255;return F},L.prototype.decrypt=function(d){if(d.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var E=this._Kd.length-1,w=[0,0,0,0],c=G(d),b=0;b<4;b++)c[b]^=this._Kd[0][b];for(var ue=1;ue<E;ue++){for(var b=0;b<4;b++)w[b]=Z[c[b]>>24&255]^Y[c[(b+3)%4]>>16&255]^re[c[(b+2)%4]>>8&255]^pe[c[(b+1)%4]&255]^this._Kd[ue][b];c=w.slice()}for(var F=i(16),ne,b=0;b<4;b++)ne=this._Kd[E][b],F[4*b]=(A[c[b]>>24&255]^ne>>24)&255,F[4*b+1]=(A[c[(b+3)%4]>>16&255]^ne>>16)&255,F[4*b+2]=(A[c[(b+2)%4]>>8&255]^ne>>8)&255,F[4*b+3]=(A[c[(b+1)%4]&255]^ne)&255;return F};var q=function(d){if(!(this instanceof q))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new L(d)};q.prototype.encrypt=function(d){if(d=n(d),d.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var E=i(d.length),w=i(16),c=0;c<d.length;c+=16)a(d,w,0,c,c+16),w=this._aes.encrypt(w),a(w,E,c);return E},q.prototype.decrypt=function(d){if(d=n(d),d.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var E=i(d.length),w=i(16),c=0;c<d.length;c+=16)a(d,w,0,c,c+16),w=this._aes.decrypt(w),a(w,E,c);return E};var S=function(d,E){if(!(this instanceof S))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!E)E=i(16);else if(E.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(E,!0),this._aes=new L(d)};S.prototype.encrypt=function(d){if(d=n(d),d.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var E=i(d.length),w=i(16),c=0;c<d.length;c+=16){a(d,w,0,c,c+16);for(var b=0;b<16;b++)w[b]^=this._lastCipherblock[b];this._lastCipherblock=this._aes.encrypt(w),a(this._lastCipherblock,E,c)}return E},S.prototype.decrypt=function(d){if(d=n(d),d.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var E=i(d.length),w=i(16),c=0;c<d.length;c+=16){a(d,w,0,c,c+16),w=this._aes.decrypt(w);for(var b=0;b<16;b++)E[c+b]=w[b]^this._lastCipherblock[b];a(d,this._lastCipherblock,0,c,c+16)}return E};var B=function(d,E,w){if(!(this instanceof B))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!E)E=i(16);else if(E.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");w||(w=1),this.segmentSize=w,this._shiftRegister=n(E,!0),this._aes=new L(d)};B.prototype.encrypt=function(d){if(d.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var E=n(d,!0),w,c=0;c<E.length;c+=this.segmentSize){w=this._aes.encrypt(this._shiftRegister);for(var b=0;b<this.segmentSize;b++)E[c+b]^=w[b];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(E,this._shiftRegister,16-this.segmentSize,c,c+this.segmentSize)}return E},B.prototype.decrypt=function(d){if(d.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var E=n(d,!0),w,c=0;c<E.length;c+=this.segmentSize){w=this._aes.encrypt(this._shiftRegister);for(var b=0;b<this.segmentSize;b++)E[c+b]^=w[b];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(d,this._shiftRegister,16-this.segmentSize,c,c+this.segmentSize)}return E};var y=function(d,E){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!E)E=i(16);else if(E.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(E,!0),this._lastPrecipherIndex=16,this._aes=new L(d)};y.prototype.encrypt=function(d){for(var E=n(d,!0),w=0;w<E.length;w++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),E[w]^=this._lastPrecipher[this._lastPrecipherIndex++];return E},y.prototype.decrypt=y.prototype.encrypt;var o=function(d){if(!(this instanceof o))throw Error("Counter must be instanitated with `new`");d!==0&&!d&&(d=1),typeof d=="number"?(this._counter=i(16),this.setValue(d)):this.setBytes(d)};o.prototype.setValue=function(d){if(typeof d!="number"||parseInt(d)!=d)throw new Error("invalid counter value (must be an integer)");for(var E=15;E>=0;--E)this._counter[E]=d%256,d=d>>8},o.prototype.setBytes=function(d){if(d=n(d,!0),d.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=d},o.prototype.increment=function(){for(var d=15;d>=0;d--)if(this._counter[d]===255)this._counter[d]=0;else{this._counter[d]++;break}};var u=function(d,E){if(!(this instanceof u))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",E instanceof o||(E=new o(E)),this._counter=E,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new L(d)};u.prototype.encrypt=function(d){for(var E=n(d,!0),w=0;w<E.length;w++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),E[w]^=this._remainingCounter[this._remainingCounterIndex++];return E},u.prototype.decrypt=u.prototype.encrypt;function h(d){d=n(d,!0);var E=16-d.length%16,w=i(d.length+E);a(d,w);for(var c=d.length;c<w.length;c++)w[c]=E;return w}function p(d){if(d=n(d,!0),d.length<16)throw new Error("PKCS#7 invalid length");var E=d[d.length-1];if(E>16)throw new Error("PKCS#7 padding byte out of range");for(var w=d.length-E,c=0;c<E;c++)if(d[w+c]!==E)throw new Error("PKCS#7 invalid padding byte");var b=i(w);return a(d,b,0,0,w),b}var v={AES:L,Counter:o,ModeOfOperation:{ecb:q,cbc:S,cfb:B,ofb:y,ctr:u},utils:{hex:f,utf8:s},padding:{pkcs7:{pad:h,strip:p}},_arrayTest:{coerceArray:n,createArray:i,copyArray:a}};typeof FO<"u"?yte.exports=v:typeof define=="function"&&define.amd?define(v):(t.aesjs&&(v._aesjs=t.aesjs),t.aesjs=v)})(FO)});var wte=ee(($O,bte)=>{"use strict";x();(function(t){function r(T){let O=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),U=1779033703,Z=3144134277,Y=1013904242,re=2773480762,pe=1359893119,he=2600822924,se=528734635,fe=1541459225,de=new Uint32Array(64);function G(u){let h=0,p=u.length;for(;p>=64;){let v=U,d=Z,E=Y,w=re,c=pe,b=he,ue=se,F=fe,ne,ce,xe,M,k;for(ce=0;ce<16;ce++)xe=h+ce*4,de[ce]=(u[xe]&255)<<24|(u[xe+1]&255)<<16|(u[xe+2]&255)<<8|u[xe+3]&255;for(ce=16;ce<64;ce++)ne=de[ce-2],M=(ne>>>17|ne<<32-17)^(ne>>>19|ne<<32-19)^ne>>>10,ne=de[ce-15],k=(ne>>>7|ne<<32-7)^(ne>>>18|ne<<32-18)^ne>>>3,de[ce]=(M+de[ce-7]|0)+(k+de[ce-16]|0)|0;for(ce=0;ce<64;ce++)M=(((c>>>6|c<<32-6)^(c>>>11|c<<32-11)^(c>>>25|c<<32-25))+(c&b^~c&ue)|0)+(F+(O[ce]+de[ce]|0)|0)|0,k=((v>>>2|v<<32-2)^(v>>>13|v<<32-13)^(v>>>22|v<<32-22))+(v&d^v&E^d&E)|0,F=ue,ue=b,b=c,c=w+M|0,w=E,E=d,d=v,v=M+k|0;U=U+v|0,Z=Z+d|0,Y=Y+E|0,re=re+w|0,pe=pe+c|0,he=he+b|0,se=se+ue|0,fe=fe+F|0,h+=64,p-=64}}G(T);let L,q=T.length%64,S=T.length/536870912|0,B=T.length<<3,y=q<56?56:120,o=T.slice(T.length-q,T.length);for(o.push(128),L=q+1;L<y;L++)o.push(0);return o.push(S>>>24&255),o.push(S>>>16&255),o.push(S>>>8&255),o.push(S>>>0&255),o.push(B>>>24&255),o.push(B>>>16&255),o.push(B>>>8&255),o.push(B>>>0&255),G(o),[U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,Z>>>24&255,Z>>>16&255,Z>>>8&255,Z>>>0&255,Y>>>24&255,Y>>>16&255,Y>>>8&255,Y>>>0&255,re>>>24&255,re>>>16&255,re>>>8&255,re>>>0&255,pe>>>24&255,pe>>>16&255,pe>>>8&255,pe>>>0&255,he>>>24&255,he>>>16&255,he>>>8&255,he>>>0&255,se>>>24&255,se>>>16&255,se>>>8&255,se>>>0&255,fe>>>24&255,fe>>>16&255,fe>>>8&255,fe>>>0&255]}function n(T,O,U){T=T.length<=64?T:r(T);let Z=64+O.length+4,Y=new Array(Z),re=new Array(64),pe,he=[];for(pe=0;pe<64;pe++)Y[pe]=54;for(pe=0;pe<T.length;pe++)Y[pe]^=T[pe];for(pe=0;pe<O.length;pe++)Y[64+pe]=O[pe];for(pe=Z-4;pe<Z;pe++)Y[pe]=0;for(pe=0;pe<64;pe++)re[pe]=92;for(pe=0;pe<T.length;pe++)re[pe]^=T[pe];function se(){for(let fe=Z-1;fe>=Z-4;fe--){if(Y[fe]++,Y[fe]<=255)return;Y[fe]=0}}for(;U>=32;)se(),he=he.concat(r(re.concat(r(Y)))),U-=32;return U>0&&(se(),he=he.concat(r(re.concat(r(Y))).slice(0,U))),he}function i(T,O,U,Z,Y){let re;for(l(T,(2*U-1)*16,Y,0,16),re=0;re<2*U;re++)f(T,re*16,Y,16),s(Y,Z),l(Y,0,T,O+re*16,16);for(re=0;re<U;re++)l(T,O+re*2*16,T,re*16,16);for(re=0;re<U;re++)l(T,O+(re*2+1)*16,T,(re+U)*16,16)}function a(T,O){return T<<O|T>>>32-O}function s(T,O){l(T,0,O,0,16);for(let U=8;U>0;U-=2)O[4]^=a(O[0]+O[12],7),O[8]^=a(O[4]+O[0],9),O[12]^=a(O[8]+O[4],13),O[0]^=a(O[12]+O[8],18),O[9]^=a(O[5]+O[1],7),O[13]^=a(O[9]+O[5],9),O[1]^=a(O[13]+O[9],13),O[5]^=a(O[1]+O[13],18),O[14]^=a(O[10]+O[6],7),O[2]^=a(O[14]+O[10],9),O[6]^=a(O[2]+O[14],13),O[10]^=a(O[6]+O[2],18),O[3]^=a(O[15]+O[11],7),O[7]^=a(O[3]+O[15],9),O[11]^=a(O[7]+O[3],13),O[15]^=a(O[11]+O[7],18),O[1]^=a(O[0]+O[3],7),O[2]^=a(O[1]+O[0],9),O[3]^=a(O[2]+O[1],13),O[0]^=a(O[3]+O[2],18),O[6]^=a(O[5]+O[4],7),O[7]^=a(O[6]+O[5],9),O[4]^=a(O[7]+O[6],13),O[5]^=a(O[4]+O[7],18),O[11]^=a(O[10]+O[9],7),O[8]^=a(O[11]+O[10],9),O[9]^=a(O[8]+O[11],13),O[10]^=a(O[9]+O[8],18),O[12]^=a(O[15]+O[14],7),O[13]^=a(O[12]+O[15],9),O[14]^=a(O[13]+O[12],13),O[15]^=a(O[14]+O[13],18);for(let U=0;U<16;++U)T[U]+=O[U]}function f(T,O,U,Z){for(let Y=0;Y<Z;Y++)U[Y]^=T[O+Y]}function l(T,O,U,Z,Y){for(;Y--;)U[Z++]=T[O++]}function g(T){if(!T||typeof T.length!="number")return!1;for(let O=0;O<T.length;O++){let U=T[O];if(typeof U!="number"||U%1||U<0||U>=256)return!1}return!0}function m(T,O){if(typeof T!="number"||T%1)throw new Error("invalid "+O);return T}function A(T,O,U,Z,Y,re,pe){if(U=m(U,"N"),Z=m(Z,"r"),Y=m(Y,"p"),re=m(re,"dkLen"),U===0||(U&U-1)!==0)throw new Error("N must be power of 2");if(U>2147483647/128/Z)throw new Error("N too large");if(Z>2147483647/128/Y)throw new Error("r too large");if(!g(T))throw new Error("password must be an array or buffer");if(T=Array.prototype.slice.call(T),!g(O))throw new Error("salt must be an array or buffer");O=Array.prototype.slice.call(O);let he=n(T,O,Y*128*Z),se=new Uint32Array(Y*32*Z);for(let c=0;c<se.length;c++){let b=c*4;se[c]=(he[b+3]&255)<<24|(he[b+2]&255)<<16|(he[b+1]&255)<<8|(he[b+0]&255)<<0}let fe=new Uint32Array(64*Z),de=new Uint32Array(32*Z*U),G=32*Z,L=new Uint32Array(16),q=new Uint32Array(16),S=Y*U*2,B=0,y=null,o=!1,u=0,h=0,p,v,d=pe?parseInt(1e3/Z):4294967295,E=typeof setImmediate<"u"?setImmediate:setTimeout,w=function(){if(o)return pe(new Error("cancelled"),B/S);let c;switch(u){case 0:v=h*32*Z,l(se,v,fe,0,G),u=1,p=0;case 1:c=U-p,c>d&&(c=d);for(let ue=0;ue<c;ue++)l(fe,0,de,(p+ue)*G,G),i(fe,G,Z,L,q);if(p+=c,B+=c,pe){let ue=parseInt(1e3*B/S);if(ue!==y){if(o=pe(null,B/S),o)break;y=ue}}if(p<U)break;p=0,u=2;case 2:c=U-p,c>d&&(c=d);for(let ue=0;ue<c;ue++){let F=(2*Z-1)*16,ne=fe[F]&U-1;f(de,ne*G,fe,G),i(fe,G,Z,L,q)}if(p+=c,B+=c,pe){let ue=parseInt(1e3*B/S);if(ue!==y){if(o=pe(null,B/S),o)break;y=ue}}if(p<U)break;if(l(fe,0,se,v,G),h++,h<Y){u=0;break}he=[];for(let ue=0;ue<se.length;ue++)he.push(se[ue]>>0&255),he.push(se[ue]>>8&255),he.push(se[ue]>>16&255),he.push(se[ue]>>24&255);let b=n(T,he,re);return pe&&pe(null,1,b),b}pe&&E(w)};if(!pe)for(;;){let c=w();if(c!=null)return c}w()}let I={scrypt:function(T,O,U,Z,Y,re,pe){return new Promise(function(he,se){let fe=0;pe&&pe(0),A(T,O,U,Z,Y,re,function(de,G,L){if(de)se(de);else if(L)pe&&fe!==1&&pe(1),he(new Uint8Array(L));else if(pe&&G!==fe)return fe=G,pe(G)})})},syncScrypt:function(T,O,U,Z,Y,re){return new Uint8Array(A(T,O,U,Z,Y,re))}};typeof $O<"u"?bte.exports=I:typeof define=="function"&&define.amd?define(I):t&&(t.scrypt&&(t._scrypt=t.scrypt),t.scrypt=I)})($O)});var Bte=ee((ytt,Cte)=>{"use strict";x();var W6=Et().Buffer;function tMe(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),a=i.charCodeAt(0);if(e[a]!==255)throw new TypeError(i+" is ambiguous");e[a]=n}var s=t.length,f=t.charAt(0),l=Math.log(s)/Math.log(256),g=Math.log(256)/Math.log(s);function m(T){if((Array.isArray(T)||T instanceof Uint8Array)&&(T=W6.from(T)),!W6.isBuffer(T))throw new TypeError("Expected Buffer");if(T.length===0)return"";for(var O=0,U=0,Z=0,Y=T.length;Z!==Y&&T[Z]===0;)Z++,O++;for(var re=(Y-Z)*g+1>>>0,pe=new Uint8Array(re);Z!==Y;){for(var he=T[Z],se=0,fe=re-1;(he!==0||se<U)&&fe!==-1;fe--,se++)he+=256*pe[fe]>>>0,pe[fe]=he%s>>>0,he=he/s>>>0;if(he!==0)throw new Error("Non-zero carry");U=se,Z++}for(var de=re-U;de!==re&&pe[de]===0;)de++;for(var G=f.repeat(O);de<re;++de)G+=t.charAt(pe[de]);return G}function A(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return W6.alloc(0);for(var O=0,U=0,Z=0;T[O]===f;)U++,O++;for(var Y=(T.length-O)*l+1>>>0,re=new Uint8Array(Y);T[O];){var pe=e[T.charCodeAt(O)];if(pe===255)return;for(var he=0,se=Y-1;(pe!==0||he<Z)&&se!==-1;se--,he++)pe+=s*re[se]>>>0,re[se]=pe%256>>>0,pe=pe/256>>>0;if(pe!==0)throw new Error("Non-zero carry");Z=he,O++}for(var fe=Y-Z;fe!==Y&&re[fe]===0;)fe++;var de=W6.allocUnsafe(U+(Y-fe));de.fill(0,0,U);for(var G=U;fe!==Y;)de[G++]=re[fe++];return de}function I(T){var O=A(T);if(O)return O;throw new Error("Non-base"+s+" character")}return{encode:m,decodeUnsafe:A,decode:I}}Cte.exports=tMe});var Nte=ee((btt,Pte)=>{x();var rMe=Bte(),nMe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Pte.exports=rMe(nMe)});var Dte=ee((Stt,Lte)=>{x();var dr={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function uo(t,e){if(!t)throw new Error(e)}function rr(t,e,r){if(uo(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){let n=r.join(", "),i=`Expected ${t} to be an Uint8Array with length [${n}]`;uo(r.includes(e.length),i)}else{let n=`Expected ${t} to be an Uint8Array with length ${r}`;uo(e.length===r,n)}}function Rh(t){uo(vp(t)==="Boolean","Expected compressed to be a Boolean")}function Ho(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),rr("output",t,e),t}function vp(t){return Object.prototype.toString.call(t).slice(8,-1)}Lte.exports=t=>({contextRandomize(e){switch(uo(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&rr("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(dr.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return rr("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(rr("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(dr.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(rr("private key",e,32),rr("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(dr.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(rr("private key",e,32),rr("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(dr.TWEAK_MUL)}},publicKeyVerify(e){return rr("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,n){switch(rr("private key",e,32),Rh(r),n=Ho(n,r?33:65),t.publicKeyCreate(n,e)){case 0:return n;case 1:throw new Error(dr.SECKEY_INVALID);case 2:throw new Error(dr.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,n){switch(rr("public key",e,[33,65]),Rh(r),n=Ho(n,r?33:65),t.publicKeyConvert(n,e)){case 0:return n;case 1:throw new Error(dr.PUBKEY_PARSE);case 2:throw new Error(dr.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,n){switch(rr("public key",e,[33,65]),Rh(r),n=Ho(n,r?33:65),t.publicKeyNegate(n,e)){case 0:return n;case 1:throw new Error(dr.PUBKEY_PARSE);case 2:throw new Error(dr.IMPOSSIBLE_CASE);case 3:throw new Error(dr.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,n){uo(Array.isArray(e),"Expected public keys to be an Array"),uo(e.length>0,"Expected public keys array will have more than zero items");for(let i of e)rr("public key",i,[33,65]);switch(Rh(r),n=Ho(n,r?33:65),t.publicKeyCombine(n,e)){case 0:return n;case 1:throw new Error(dr.PUBKEY_PARSE);case 2:throw new Error(dr.PUBKEY_COMBINE);case 3:throw new Error(dr.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,n=!0,i){switch(rr("public key",e,[33,65]),rr("tweak",r,32),Rh(n),i=Ho(i,n?33:65),t.publicKeyTweakAdd(i,e,r)){case 0:return i;case 1:throw new Error(dr.PUBKEY_PARSE);case 2:throw new Error(dr.TWEAK_ADD)}},publicKeyTweakMul(e,r,n=!0,i){switch(rr("public key",e,[33,65]),rr("tweak",r,32),Rh(n),i=Ho(i,n?33:65),t.publicKeyTweakMul(i,e,r)){case 0:return i;case 1:throw new Error(dr.PUBKEY_PARSE);case 2:throw new Error(dr.TWEAK_MUL)}},signatureNormalize(e){switch(rr("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(dr.SIG_PARSE)}},signatureExport(e,r){rr("signature",e,64),r=Ho(r,72);let n={output:r,outputlen:72};switch(t.signatureExport(n,e)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(dr.SIG_PARSE);case 2:throw new Error(dr.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(rr("signature",e),r=Ho(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(dr.SIG_PARSE);case 2:throw new Error(dr.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,n={},i){rr("message",e,32),rr("private key",r,32),uo(vp(n)==="Object","Expected options to be an Object"),n.data!==void 0&&rr("options.data",n.data),n.noncefn!==void 0&&uo(vp(n.noncefn)==="Function","Expected options.noncefn to be a Function"),i=Ho(i,64);let a={signature:i,recid:null};switch(t.ecdsaSign(a,e,r,n.data,n.noncefn)){case 0:return a;case 1:throw new Error(dr.SIGN);case 2:throw new Error(dr.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,n){switch(rr("signature",e,64),rr("message",r,32),rr("public key",n,[33,65]),t.ecdsaVerify(e,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(dr.SIG_PARSE);case 2:throw new Error(dr.PUBKEY_PARSE)}},ecdsaRecover(e,r,n,i=!0,a){switch(rr("signature",e,64),uo(vp(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),rr("message",n,32),Rh(i),a=Ho(a,i?33:65),t.ecdsaRecover(a,e,r,n)){case 0:return a;case 1:throw new Error(dr.SIG_PARSE);case 2:throw new Error(dr.RECOVER);case 3:throw new Error(dr.IMPOSSIBLE_CASE)}},ecdh(e,r,n={},i){switch(rr("public key",e,[33,65]),rr("private key",r,32),uo(vp(n)==="Object","Expected options to be an Object"),n.data!==void 0&&rr("options.data",n.data),n.hashfn!==void 0?(uo(vp(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&rr("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&rr("options.ybuf",n.ybuf,32),rr("output",i)):i=Ho(i,32),t.ecdh(i,e,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(dr.PUBKEY_PARSE);case 2:throw new Error(dr.ECDH)}}})});var Ute=ee((Mtt,qte)=>{x();var iMe=Ov().ec,zs=new iMe("secp256k1"),Zt=zs.curve,Ir=Zt.n.constructor;function aMe(t,e){let r=new Ir(e);if(r.cmp(Zt.p)>=0)return null;r=r.toRed(Zt.red);let n=r.redSqr().redIMul(r).redIAdd(Zt.b).redSqrt();return t===3!==n.isOdd()&&(n=n.redNeg()),zs.keyPair({pub:{x:r,y:n}})}function oMe(t,e,r){let n=new Ir(e),i=new Ir(r);if(n.cmp(Zt.p)>=0||i.cmp(Zt.p)>=0||(n=n.toRed(Zt.red),i=i.toRed(Zt.red),(t===6||t===7)&&i.isOdd()!==(t===7)))return null;let a=n.redSqr().redIMul(n);return i.redSqr().redISub(a.redIAdd(Zt.b)).isZero()?zs.keyPair({pub:{x:n,y:i}}):null}function Ac(t){let e=t[0];switch(e){case 2:case 3:return t.length!==33?null:aMe(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:oMe(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function kh(t,e){let r=e.encode(null,t.length===33);for(let n=0;n<t.length;++n)t[n]=r[n]}qte.exports={contextRandomize(){return 0},privateKeyVerify(t){let e=new Ir(t);return e.cmp(Zt.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){let e=new Ir(t),r=Zt.n.sub(e).umod(Zt.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){let r=new Ir(e);if(r.cmp(Zt.n)>=0||(r.iadd(new Ir(t)),r.cmp(Zt.n)>=0&&r.isub(Zt.n),r.isZero()))return 1;let n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},privateKeyTweakMul(t,e){let r=new Ir(e);if(r.cmp(Zt.n)>=0||r.isZero())return 1;r.imul(new Ir(t)),r.cmp(Zt.n)>=0&&(r=r.umod(Zt.n));let n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},publicKeyVerify(t){return Ac(t)===null?1:0},publicKeyCreate(t,e){let r=new Ir(e);if(r.cmp(Zt.n)>=0||r.isZero())return 1;let n=zs.keyFromPrivate(e).getPublic();return kh(t,n),0},publicKeyConvert(t,e){let r=Ac(e);if(r===null)return 1;let n=r.getPublic();return kh(t,n),0},publicKeyNegate(t,e){let r=Ac(e);if(r===null)return 1;let n=r.getPublic();return n.y=n.y.redNeg(),kh(t,n),0},publicKeyCombine(t,e){let r=new Array(e.length);for(let i=0;i<e.length;++i)if(r[i]=Ac(e[i]),r[i]===null)return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(kh(t,n),0)},publicKeyTweakAdd(t,e,r){let n=Ac(e);if(n===null)return 1;if(r=new Ir(r),r.cmp(Zt.n)>=0)return 2;let i=n.getPublic().add(Zt.g.mul(r));return i.isInfinity()?2:(kh(t,i),0)},publicKeyTweakMul(t,e,r){let n=Ac(e);if(n===null)return 1;if(r=new Ir(r),r.cmp(Zt.n)>=0||r.isZero())return 2;let i=n.getPublic().mul(r);return kh(t,i),0},signatureNormalize(t){let e=new Ir(t.subarray(0,32)),r=new Ir(t.subarray(32,64));return e.cmp(Zt.n)>=0||r.cmp(Zt.n)>=0?1:(r.cmp(zs.nh)===1&&t.set(Zt.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let r=e.subarray(0,32),n=e.subarray(32,64);if(new Ir(r).cmp(Zt.n)>=0||new Ir(n).cmp(Zt.n)>=0)return 1;let{output:i}=t,a=i.subarray(4,4+33);a[0]=0,a.set(r,1);let s=33,f=0;for(;s>1&&a[f]===0&&!(a[f+1]&128);--s,++f);if(a=a.subarray(f),a[0]&128||s>1&&a[0]===0&&!(a[1]&128))return 1;let l=i.subarray(6+33,6+33+33);l[0]=0,l.set(n,1);let g=33,m=0;for(;g>1&&l[m]===0&&!(l[m+1]&128);--g,++m);return l=l.subarray(m),l[0]&128||g>1&&l[0]===0&&!(l[1]&128)?1:(t.outputlen=6+s+g,i[0]=48,i[1]=t.outputlen-2,i[2]=2,i[3]=a.length,i.set(a,4),i[4+s]=2,i[5+s]=l.length,i.set(l,6+s),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;let n=e[5+r];if(n===0||6+r+n!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||n>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let i=e.subarray(4,4+r);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let a=e.subarray(6+r);if(a.length===33&&a[0]===0&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let s=new Ir(i);s.cmp(Zt.n)>=0&&(s=new Ir(0));let f=new Ir(e.subarray(6+r));return f.cmp(Zt.n)>=0&&(f=new Ir(0)),t.set(s.toArrayLike(Uint8Array,"be",32),0),t.set(f.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,n,i){if(i){let f=i;i=l=>{let g=f(e,r,null,n,l);if(!(g instanceof Uint8Array&&g.length===32))throw new Error("This is the way");return new Ir(g)}}let a=new Ir(r);if(a.cmp(Zt.n)>=0||a.isZero())return 1;let s;try{s=zs.sign(e,r,{canonical:!0,k:i,pers:n})}catch{return 1}return t.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),t.recid=s.recoveryParam,0},ecdsaVerify(t,e,r){let n={r:t.subarray(0,32),s:t.subarray(32,64)},i=new Ir(n.r),a=new Ir(n.s);if(i.cmp(Zt.n)>=0||a.cmp(Zt.n)>=0)return 1;if(a.cmp(zs.nh)===1||i.isZero()||a.isZero())return 3;let s=Ac(r);if(s===null)return 2;let f=s.getPublic();return zs.verify(e,n,f)?0:3},ecdsaRecover(t,e,r,n){let i={r:e.slice(0,32),s:e.slice(32,64)},a=new Ir(i.r),s=new Ir(i.s);if(a.cmp(Zt.n)>=0||s.cmp(Zt.n)>=0)return 1;if(a.isZero()||s.isZero())return 2;let f;try{f=zs.recoverPubKey(n,i,r)}catch{return 2}return kh(t,f),0},ecdh(t,e,r,n,i,a,s){let f=Ac(e);if(f===null)return 1;let l=new Ir(r);if(l.cmp(Zt.n)>=0||l.isZero())return 2;let g=f.getPublic().mul(l);if(i===void 0){let m=g.encode(null,!0),A=zs.hash().update(m).digest();for(let I=0;I<32;++I)t[I]=A[I]}else{a||(a=new Uint8Array(32));let m=g.getX().toArray("be",32);for(let O=0;O<32;++O)a[O]=m[O];s||(s=new Uint8Array(32));let A=g.getY().toArray("be",32);for(let O=0;O<32;++O)s[O]=A[O];let I=i(a,s,n);if(!(I instanceof Uint8Array&&I.length===t.length))return 2;t.set(I)}return 0}}});var YO=ee((Ott,Fte)=>{x();Fte.exports=Dte()(Ute())});var Kte=ee((Rtt,zte)=>{x();var{Transform:sMe}=oi();zte.exports=t=>class jte extends sMe{constructor(r,n,i,a,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=a,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let a=null;try{this.update(r,n)}catch(s){a=s}i(a)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!N.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return N.Buffer.isBuffer(r)||(r=N.Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new jte(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var Hte=ee((Ctt,Gte)=>{x();var{Transform:fMe}=oi();Gte.exports=t=>class Wte extends fMe{constructor(r,n,i,a){super(a),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=a,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let a=null;try{this.update(r,n)}catch(s){a=s}i(a)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!N.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return N.Buffer.isBuffer(r)||(r=N.Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new Wte(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var Vte=ee((Ptt,$te)=>{x();var uMe=Kte(),cMe=Hte();$te.exports=function(t){let e=uMe(t),r=cMe(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}}});var Yte=ee(Jte=>{x();var Zte=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Jte.p1600=function(t){for(let e=0;e<24;++e){let r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],s=t[4]^t[14]^t[24]^t[34]^t[44],f=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],g=t[7]^t[17]^t[27]^t[37]^t[47],m=t[8]^t[18]^t[28]^t[38]^t[48],A=t[9]^t[19]^t[29]^t[39]^t[49],I=m^(i<<1|a>>>31),T=A^(a<<1|i>>>31),O=t[0]^I,U=t[1]^T,Z=t[10]^I,Y=t[11]^T,re=t[20]^I,pe=t[21]^T,he=t[30]^I,se=t[31]^T,fe=t[40]^I,de=t[41]^T;I=r^(s<<1|f>>>31),T=n^(f<<1|s>>>31);let G=t[2]^I,L=t[3]^T,q=t[12]^I,S=t[13]^T,B=t[22]^I,y=t[23]^T,o=t[32]^I,u=t[33]^T,h=t[42]^I,p=t[43]^T;I=i^(l<<1|g>>>31),T=a^(g<<1|l>>>31);let v=t[4]^I,d=t[5]^T,E=t[14]^I,w=t[15]^T,c=t[24]^I,b=t[25]^T,ue=t[34]^I,F=t[35]^T,ne=t[44]^I,ce=t[45]^T;I=s^(m<<1|A>>>31),T=f^(A<<1|m>>>31);let xe=t[6]^I,M=t[7]^T,k=t[16]^I,C=t[17]^T,z=t[26]^I,H=t[27]^T,j=t[36]^I,J=t[37]^T,W=t[46]^I,K=t[47]^T;I=l^(r<<1|n>>>31),T=g^(n<<1|r>>>31);let X=t[8]^I,te=t[9]^T,ae=t[18]^I,$=t[19]^T,oe=t[28]^I,le=t[29]^T,Ee=t[38]^I,Be=t[39]^T,Ae=t[48]^I,R=t[49]^T,V=O,Q=U,ve=Y<<4|Z>>>28,Te=Z<<4|Y>>>28,Se=re<<3|pe>>>29,ie=pe<<3|re>>>29,be=se<<9|he>>>23,ye=he<<9|se>>>23,me=fe<<18|de>>>14,qe=de<<18|fe>>>14,Oe=G<<1|L>>>31,Ie=L<<1|G>>>31,ot=S<<12|q>>>20,ke=q<<12|S>>>20,Le=B<<10|y>>>22,gt=y<<10|B>>>22,Ce=u<<13|o>>>19,Ue=o<<13|u>>>19,at=h<<2|p>>>30,Ke=p<<2|h>>>30,Ne=d<<30|v>>>2,lt=v<<30|d>>>2,We=E<<6|w>>>26,He=w<<6|E>>>26,wt=b<<11|c>>>21,ze=c<<11|b>>>21,De=ue<<15|F>>>17,Ut=F<<15|ue>>>17,$e=ce<<29|ne>>>3,Ze=ne<<29|ce>>>3,wr=xe<<28|M>>>4,Je=M<<28|xe>>>4,Ve=C<<23|k>>>9,nr=k<<23|C>>>9,et=z<<25|H>>>7,Xe=H<<25|z>>>7,sr=j<<21|J>>>11,Jt=J<<21|j>>>11,Bt=K<<24|W>>>8,yr=W<<24|K>>>8,ir=X<<27|te>>>5,Dr=te<<27|X>>>5,xr=ae<<20|$>>>12,qr=$<<20|ae>>>12,_r=le<<7|oe>>>25,Ur=oe<<7|le>>>25,Rr=Ee<<8|Be>>>24,Fr=Be<<8|Ee>>>24,Er=Ae<<14|R>>>18,kr=R<<14|Ae>>>18;t[0]=V^~ot&wt,t[1]=Q^~ke&ze,t[10]=wr^~xr&Se,t[11]=Je^~qr&ie,t[20]=Oe^~We&et,t[21]=Ie^~He&Xe,t[30]=ir^~ve&Le,t[31]=Dr^~Te&gt,t[40]=Ne^~Ve&_r,t[41]=lt^~nr&Ur,t[2]=ot^~wt&sr,t[3]=ke^~ze&Jt,t[12]=xr^~Se&Ce,t[13]=qr^~ie&Ue,t[22]=We^~et&Rr,t[23]=He^~Xe&Fr,t[32]=ve^~Le&De,t[33]=Te^~gt&Ut,t[42]=Ve^~_r&be,t[43]=nr^~Ur&ye,t[4]=wt^~sr&Er,t[5]=ze^~Jt&kr,t[14]=Se^~Ce&$e,t[15]=ie^~Ue&Ze,t[24]=et^~Rr&me,t[25]=Xe^~Fr&qe,t[34]=Le^~De&Bt,t[35]=gt^~Ut&yr,t[44]=_r^~be&at,t[45]=Ur^~ye&Ke,t[6]=sr^~Er&V,t[7]=Jt^~kr&Q,t[16]=Ce^~$e&wr,t[17]=Ue^~Ze&Je,t[26]=Rr^~me&Oe,t[27]=Fr^~qe&Ie,t[36]=De^~Bt&ir,t[37]=Ut^~yr&Dr,t[46]=be^~at&Ne,t[47]=ye^~Ke&lt,t[8]=Er^~V&ot,t[9]=kr^~Q&ke,t[18]=$e^~wr&xr,t[19]=Ze^~Je&qr,t[28]=me^~Oe&We,t[29]=qe^~Ie&He,t[38]=Bt^~ir&ve,t[39]=yr^~Dr&Te,t[48]=at^~Ne&Ve,t[49]=Ke^~lt&nr,t[0]^=Zte[e*2],t[1]^=Zte[e*2+1]}}});var Qte=ee((qtt,Xte)=>{x();var G6=Yte();function yp(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}yp.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};yp.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(G6.p1600(this.state),this.count=0)};yp.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&G6.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),G6.p1600(this.state),this.count=0,this.squeezing=!0};yp.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);let e=N.Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(G6.p1600(this.state),this.count=0);return e};yp.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};Xte.exports=yp});var tre=ee((Ftt,ere)=>{x();ere.exports=Vte()(Qte())});var _re=ee((xre,Q6)=>{x();(function(t){"use strict";var e,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,i=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",f=1e14,l=14,g=9007199254740991,m=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],A=1e7,I=1e9;function T(se){var fe,de,G,L=b.prototype={constructor:b,toString:null,valueOf:null},q=new b(1),S=20,B=4,y=-7,o=21,u=-1e7,h=1e7,p=!1,v=1,d=0,E={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},w="0123456789abcdefghijklmnopqrstuvwxyz",c=!0;function b(M,k){var C,z,H,j,J,W,K,X,te=this;if(!(te instanceof b))return new b(M,k);if(k==null){if(M&&M._isBigNumber===!0){te.s=M.s,!M.c||M.e>h?te.c=te.e=null:M.e<u?te.c=[te.e=0]:(te.e=M.e,te.c=M.c.slice());return}if((W=typeof M=="number")&&M*0==0){if(te.s=1/M<0?(M=-M,-1):1,M===~~M){for(j=0,J=M;J>=10;J/=10,j++);j>h?te.c=te.e=null:(te.e=j,te.c=[M]);return}X=String(M)}else{if(!r.test(X=String(M)))return G(te,X,W);te.s=X.charCodeAt(0)==45?(X=X.slice(1),-1):1}(j=X.indexOf("."))>-1&&(X=X.replace(".","")),(J=X.search(/e/i))>0?(j<0&&(j=J),j+=+X.slice(J+1),X=X.substring(0,J)):j<0&&(j=X.length)}else{if(Y(k,2,w.length,"Base"),k==10&&c)return te=new b(M),ce(te,S+te.e+1,B);if(X=String(M),W=typeof M=="number"){if(M*0!=0)return G(te,X,W,k);if(te.s=1/M<0?(X=X.slice(1),-1):1,b.DEBUG&&X.replace(/^0\.0*|\./,"").length>15)throw Error(s+M)}else te.s=X.charCodeAt(0)===45?(X=X.slice(1),-1):1;for(C=w.slice(0,k),j=J=0,K=X.length;J<K;J++)if(C.indexOf(z=X.charAt(J))<0){if(z=="."){if(J>j){j=K;continue}}else if(!H&&(X==X.toUpperCase()&&(X=X.toLowerCase())||X==X.toLowerCase()&&(X=X.toUpperCase()))){H=!0,J=-1,j=0;continue}return G(te,String(M),W,k)}W=!1,X=de(X,k,10,te.s),(j=X.indexOf("."))>-1?X=X.replace(".",""):j=X.length}for(J=0;X.charCodeAt(J)===48;J++);for(K=X.length;X.charCodeAt(--K)===48;);if(X=X.slice(J,++K)){if(K-=J,W&&b.DEBUG&&K>15&&(M>g||M!==i(M)))throw Error(s+te.s*M);if((j=j-J-1)>h)te.c=te.e=null;else if(j<u)te.c=[te.e=0];else{if(te.e=j,te.c=[],J=(j+1)%l,j<0&&(J+=l),J<K){for(J&&te.c.push(+X.slice(0,J)),K-=l;J<K;)te.c.push(+X.slice(J,J+=l));J=l-(X=X.slice(J)).length}else J-=K;for(;J--;X+="0");te.c.push(+X)}}else te.c=[te.e=0]}b.clone=T,b.ROUND_UP=0,b.ROUND_DOWN=1,b.ROUND_CEIL=2,b.ROUND_FLOOR=3,b.ROUND_HALF_UP=4,b.ROUND_HALF_DOWN=5,b.ROUND_HALF_EVEN=6,b.ROUND_HALF_CEIL=7,b.ROUND_HALF_FLOOR=8,b.EUCLID=9,b.config=b.set=function(M){var k,C;if(M!=null)if(typeof M=="object"){if(M.hasOwnProperty(k="DECIMAL_PLACES")&&(C=M[k],Y(C,0,I,k),S=C),M.hasOwnProperty(k="ROUNDING_MODE")&&(C=M[k],Y(C,0,8,k),B=C),M.hasOwnProperty(k="EXPONENTIAL_AT")&&(C=M[k],C&&C.pop?(Y(C[0],-I,0,k),Y(C[1],0,I,k),y=C[0],o=C[1]):(Y(C,-I,I,k),y=-(o=C<0?-C:C))),M.hasOwnProperty(k="RANGE"))if(C=M[k],C&&C.pop)Y(C[0],-I,-1,k),Y(C[1],1,I,k),u=C[0],h=C[1];else if(Y(C,-I,I,k),C)u=-(h=C<0?-C:C);else throw Error(a+k+" cannot be zero: "+C);if(M.hasOwnProperty(k="CRYPTO"))if(C=M[k],C===!!C)if(C)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))p=C;else throw p=!C,Error(a+"crypto unavailable");else p=C;else throw Error(a+k+" not true or false: "+C);if(M.hasOwnProperty(k="MODULO_MODE")&&(C=M[k],Y(C,0,9,k),v=C),M.hasOwnProperty(k="POW_PRECISION")&&(C=M[k],Y(C,0,I,k),d=C),M.hasOwnProperty(k="FORMAT"))if(C=M[k],typeof C=="object")E=C;else throw Error(a+k+" not an object: "+C);if(M.hasOwnProperty(k="ALPHABET"))if(C=M[k],typeof C=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(C))c=C.slice(0,10)=="0123456789",w=C;else throw Error(a+k+" invalid: "+C)}else throw Error(a+"Object expected: "+M);return{DECIMAL_PLACES:S,ROUNDING_MODE:B,EXPONENTIAL_AT:[y,o],RANGE:[u,h],CRYPTO:p,MODULO_MODE:v,POW_PRECISION:d,FORMAT:E,ALPHABET:w}},b.isBigNumber=function(M){if(!M||M._isBigNumber!==!0)return!1;if(!b.DEBUG)return!0;var k,C,z=M.c,H=M.e,j=M.s;e:if({}.toString.call(z)=="[object Array]"){if((j===1||j===-1)&&H>=-I&&H<=I&&H===i(H)){if(z[0]===0){if(H===0&&z.length===1)return!0;break e}if(k=(H+1)%l,k<1&&(k+=l),String(z[0]).length==k){for(k=0;k<z.length;k++)if(C=z[k],C<0||C>=f||C!==i(C))break e;if(C!==0)return!0}}}else if(z===null&&H===null&&(j===null||j===1||j===-1))return!0;throw Error(a+"Invalid BigNumber: "+M)},b.maximum=b.max=function(){return F(arguments,-1)},b.minimum=b.min=function(){return F(arguments,1)},b.random=function(){var M=9007199254740992,k=Math.random()*M&2097151?function(){return i(Math.random()*M)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(C){var z,H,j,J,W,K=0,X=[],te=new b(q);if(C==null?C=S:Y(C,0,I),J=n(C/l),p)if(crypto.getRandomValues){for(z=crypto.getRandomValues(new Uint32Array(J*=2));K<J;)W=z[K]*131072+(z[K+1]>>>11),W>=9e15?(H=crypto.getRandomValues(new Uint32Array(2)),z[K]=H[0],z[K+1]=H[1]):(X.push(W%1e14),K+=2);K=J/2}else if(crypto.randomBytes){for(z=crypto.randomBytes(J*=7);K<J;)W=(z[K]&31)*281474976710656+z[K+1]*1099511627776+z[K+2]*4294967296+z[K+3]*16777216+(z[K+4]<<16)+(z[K+5]<<8)+z[K+6],W>=9e15?crypto.randomBytes(7).copy(z,K):(X.push(W%1e14),K+=7);K=J/7}else throw p=!1,Error(a+"crypto unavailable");if(!p)for(;K<J;)W=k(),W<9e15&&(X[K++]=W%1e14);for(J=X[--K],C%=l,J&&C&&(W=m[l-C],X[K]=i(J/W)*W);X[K]===0;X.pop(),K--);if(K<0)X=[j=0];else{for(j=-1;X[0]===0;X.splice(0,1),j-=l);for(K=1,W=X[0];W>=10;W/=10,K++);K<l&&(j-=l-K)}return te.e=j,te.c=X,te}}(),b.sum=function(){for(var M=1,k=arguments,C=new b(k[0]);M<k.length;)C=C.plus(k[M++]);return C},de=function(){var M="0123456789";function k(C,z,H,j){for(var J,W=[0],K,X=0,te=C.length;X<te;){for(K=W.length;K--;W[K]*=z);for(W[0]+=j.indexOf(C.charAt(X++)),J=0;J<W.length;J++)W[J]>H-1&&(W[J+1]==null&&(W[J+1]=0),W[J+1]+=W[J]/H|0,W[J]%=H)}return W.reverse()}return function(C,z,H,j,J){var W,K,X,te,ae,$,oe,le,Ee=C.indexOf("."),Be=S,Ae=B;for(Ee>=0&&(te=d,d=0,C=C.replace(".",""),le=new b(z),$=le.pow(C.length-Ee),d=te,le.c=k(he(U($.c),$.e,"0"),10,H,M),le.e=le.c.length),oe=k(C,z,H,J?(W=w,M):(W=M,w)),X=te=oe.length;oe[--te]==0;oe.pop());if(!oe[0])return W.charAt(0);if(Ee<0?--X:($.c=oe,$.e=X,$.s=j,$=fe($,le,Be,Ae,H),oe=$.c,ae=$.r,X=$.e),K=X+Be+1,Ee=oe[K],te=H/2,ae=ae||K<0||oe[K+1]!=null,ae=Ae<4?(Ee!=null||ae)&&(Ae==0||Ae==($.s<0?3:2)):Ee>te||Ee==te&&(Ae==4||ae||Ae==6&&oe[K-1]&1||Ae==($.s<0?8:7)),K<1||!oe[0])C=ae?he(W.charAt(1),-Be,W.charAt(0)):W.charAt(0);else{if(oe.length=K,ae)for(--H;++oe[--K]>H;)oe[K]=0,K||(++X,oe=[1].concat(oe));for(te=oe.length;!oe[--te];);for(Ee=0,C="";Ee<=te;C+=W.charAt(oe[Ee++]));C=he(C,X,W.charAt(0))}return C}}(),fe=function(){function M(z,H,j){var J,W,K,X,te=0,ae=z.length,$=H%A,oe=H/A|0;for(z=z.slice();ae--;)K=z[ae]%A,X=z[ae]/A|0,J=oe*K+X*$,W=$*K+J%A*A+te,te=(W/j|0)+(J/A|0)+oe*X,z[ae]=W%j;return te&&(z=[te].concat(z)),z}function k(z,H,j,J){var W,K;if(j!=J)K=j>J?1:-1;else for(W=K=0;W<j;W++)if(z[W]!=H[W]){K=z[W]>H[W]?1:-1;break}return K}function C(z,H,j,J){for(var W=0;j--;)z[j]-=W,W=z[j]<H[j]?1:0,z[j]=W*J+z[j]-H[j];for(;!z[0]&&z.length>1;z.splice(0,1));}return function(z,H,j,J,W){var K,X,te,ae,$,oe,le,Ee,Be,Ae,R,V,Q,ve,Te,Se,ie,be=z.s==H.s?1:-1,ye=z.c,me=H.c;if(!ye||!ye[0]||!me||!me[0])return new b(!z.s||!H.s||(ye?me&&ye[0]==me[0]:!me)?NaN:ye&&ye[0]==0||!me?be*0:be/0);for(Ee=new b(be),Be=Ee.c=[],X=z.e-H.e,be=j+X+1,W||(W=f,X=O(z.e/l)-O(H.e/l),be=be/l|0),te=0;me[te]==(ye[te]||0);te++);if(me[te]>(ye[te]||0)&&X--,be<0)Be.push(1),ae=!0;else{for(ve=ye.length,Se=me.length,te=0,be+=2,$=i(W/(me[0]+1)),$>1&&(me=M(me,$,W),ye=M(ye,$,W),Se=me.length,ve=ye.length),Q=Se,Ae=ye.slice(0,Se),R=Ae.length;R<Se;Ae[R++]=0);ie=me.slice(),ie=[0].concat(ie),Te=me[0],me[1]>=W/2&&Te++;do{if($=0,K=k(me,Ae,Se,R),K<0){if(V=Ae[0],Se!=R&&(V=V*W+(Ae[1]||0)),$=i(V/Te),$>1)for($>=W&&($=W-1),oe=M(me,$,W),le=oe.length,R=Ae.length;k(oe,Ae,le,R)==1;)$--,C(oe,Se<le?ie:me,le,W),le=oe.length,K=1;else $==0&&(K=$=1),oe=me.slice(),le=oe.length;if(le<R&&(oe=[0].concat(oe)),C(Ae,oe,R,W),R=Ae.length,K==-1)for(;k(me,Ae,Se,R)<1;)$++,C(Ae,Se<R?ie:me,R,W),R=Ae.length}else K===0&&($++,Ae=[0]);Be[te++]=$,Ae[0]?Ae[R++]=ye[Q]||0:(Ae=[ye[Q]],R=1)}while((Q++<ve||Ae[0]!=null)&&be--);ae=Ae[0]!=null,Be[0]||Be.splice(0,1)}if(W==f){for(te=1,be=Be[0];be>=10;be/=10,te++);ce(Ee,j+(Ee.e=te+X*l-1)+1,J,ae)}else Ee.e=X,Ee.r=+ae;return Ee}}();function ue(M,k,C,z){var H,j,J,W,K;if(C==null?C=B:Y(C,0,8),!M.c)return M.toString();if(H=M.c[0],J=M.e,k==null)K=U(M.c),K=z==1||z==2&&(J<=y||J>=o)?pe(K,J):he(K,J,"0");else if(M=ce(new b(M),k,C),j=M.e,K=U(M.c),W=K.length,z==1||z==2&&(k<=j||j<=y)){for(;W<k;K+="0",W++);K=pe(K,j)}else if(k-=J,K=he(K,j,"0"),j+1>W){if(--k>0)for(K+=".";k--;K+="0");}else if(k+=j-W,k>0)for(j+1==W&&(K+=".");k--;K+="0");return M.s<0&&H?"-"+K:K}function F(M,k){for(var C,z,H=1,j=new b(M[0]);H<M.length;H++)z=new b(M[H]),(!z.s||(C=Z(j,z))===k||C===0&&j.s===k)&&(j=z);return j}function ne(M,k,C){for(var z=1,H=k.length;!k[--H];k.pop());for(H=k[0];H>=10;H/=10,z++);return(C=z+C*l-1)>h?M.c=M.e=null:C<u?M.c=[M.e=0]:(M.e=C,M.c=k),M}G=function(){var M=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,C=/^\.([^.]+)$/,z=/^-?(Infinity|NaN)$/,H=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(j,J,W,K){var X,te=W?J:J.replace(H,"");if(z.test(te))j.s=isNaN(te)?null:te<0?-1:1;else{if(!W&&(te=te.replace(M,function(ae,$,oe){return X=(oe=oe.toLowerCase())=="x"?16:oe=="b"?2:8,!K||K==X?$:ae}),K&&(X=K,te=te.replace(k,"$1").replace(C,"0.$1")),J!=te))return new b(te,X);if(b.DEBUG)throw Error(a+"Not a"+(K?" base "+K:"")+" number: "+J);j.s=null}j.c=j.e=null}}();function ce(M,k,C,z){var H,j,J,W,K,X,te,ae=M.c,$=m;if(ae){e:{for(H=1,W=ae[0];W>=10;W/=10,H++);if(j=k-H,j<0)j+=l,J=k,K=ae[X=0],te=i(K/$[H-J-1]%10);else if(X=n((j+1)/l),X>=ae.length)if(z){for(;ae.length<=X;ae.push(0));K=te=0,H=1,j%=l,J=j-l+1}else break e;else{for(K=W=ae[X],H=1;W>=10;W/=10,H++);j%=l,J=j-l+H,te=J<0?0:i(K/$[H-J-1]%10)}if(z=z||k<0||ae[X+1]!=null||(J<0?K:K%$[H-J-1]),z=C<4?(te||z)&&(C==0||C==(M.s<0?3:2)):te>5||te==5&&(C==4||z||C==6&&(j>0?J>0?K/$[H-J]:0:ae[X-1])%10&1||C==(M.s<0?8:7)),k<1||!ae[0])return ae.length=0,z?(k-=M.e+1,ae[0]=$[(l-k%l)%l],M.e=-k||0):ae[0]=M.e=0,M;if(j==0?(ae.length=X,W=1,X--):(ae.length=X+1,W=$[l-j],ae[X]=J>0?i(K/$[H-J]%$[J])*W:0),z)for(;;)if(X==0){for(j=1,J=ae[0];J>=10;J/=10,j++);for(J=ae[0]+=W,W=1;J>=10;J/=10,W++);j!=W&&(M.e++,ae[0]==f&&(ae[0]=1));break}else{if(ae[X]+=W,ae[X]!=f)break;ae[X--]=0,W=1}for(j=ae.length;ae[--j]===0;ae.pop());}M.e>h?M.c=M.e=null:M.e<u&&(M.c=[M.e=0])}return M}function xe(M){var k,C=M.e;return C===null?M.toString():(k=U(M.c),k=C<=y||C>=o?pe(k,C):he(k,C,"0"),M.s<0?"-"+k:k)}return L.absoluteValue=L.abs=function(){var M=new b(this);return M.s<0&&(M.s=1),M},L.comparedTo=function(M,k){return Z(this,new b(M,k))},L.decimalPlaces=L.dp=function(M,k){var C,z,H,j=this;if(M!=null)return Y(M,0,I),k==null?k=B:Y(k,0,8),ce(new b(j),M+j.e+1,k);if(!(C=j.c))return null;if(z=((H=C.length-1)-O(this.e/l))*l,H=C[H])for(;H%10==0;H/=10,z--);return z<0&&(z=0),z},L.dividedBy=L.div=function(M,k){return fe(this,new b(M,k),S,B)},L.dividedToIntegerBy=L.idiv=function(M,k){return fe(this,new b(M,k),0,1)},L.exponentiatedBy=L.pow=function(M,k){var C,z,H,j,J,W,K,X,te,ae=this;if(M=new b(M),M.c&&!M.isInteger())throw Error(a+"Exponent not an integer: "+xe(M));if(k!=null&&(k=new b(k)),W=M.e>14,!ae.c||!ae.c[0]||ae.c[0]==1&&!ae.e&&ae.c.length==1||!M.c||!M.c[0])return te=new b(Math.pow(+xe(ae),W?M.s*(2-re(M)):+xe(M))),k?te.mod(k):te;if(K=M.s<0,k){if(k.c?!k.c[0]:!k.s)return new b(NaN);z=!K&&ae.isInteger()&&k.isInteger(),z&&(ae=ae.mod(k))}else{if(M.e>9&&(ae.e>0||ae.e<-1||(ae.e==0?ae.c[0]>1||W&&ae.c[1]>=24e7:ae.c[0]<8e13||W&&ae.c[0]<=9999975e7)))return j=ae.s<0&&re(M)?-0:0,ae.e>-1&&(j=1/j),new b(K?1/j:j);d&&(j=n(d/l+2))}for(W?(C=new b(.5),K&&(M.s=1),X=re(M)):(H=Math.abs(+xe(M)),X=H%2),te=new b(q);;){if(X){if(te=te.times(ae),!te.c)break;j?te.c.length>j&&(te.c.length=j):z&&(te=te.mod(k))}if(H){if(H=i(H/2),H===0)break;X=H%2}else if(M=M.times(C),ce(M,M.e+1,1),M.e>14)X=re(M);else{if(H=+xe(M),H===0)break;X=H%2}ae=ae.times(ae),j?ae.c&&ae.c.length>j&&(ae.c.length=j):z&&(ae=ae.mod(k))}return z?te:(K&&(te=q.div(te)),k?te.mod(k):j?ce(te,d,B,J):te)},L.integerValue=function(M){var k=new b(this);return M==null?M=B:Y(M,0,8),ce(k,k.e+1,M)},L.isEqualTo=L.eq=function(M,k){return Z(this,new b(M,k))===0},L.isFinite=function(){return!!this.c},L.isGreaterThan=L.gt=function(M,k){return Z(this,new b(M,k))>0},L.isGreaterThanOrEqualTo=L.gte=function(M,k){return(k=Z(this,new b(M,k)))===1||k===0},L.isInteger=function(){return!!this.c&&O(this.e/l)>this.c.length-2},L.isLessThan=L.lt=function(M,k){return Z(this,new b(M,k))<0},L.isLessThanOrEqualTo=L.lte=function(M,k){return(k=Z(this,new b(M,k)))===-1||k===0},L.isNaN=function(){return!this.s},L.isNegative=function(){return this.s<0},L.isPositive=function(){return this.s>0},L.isZero=function(){return!!this.c&&this.c[0]==0},L.minus=function(M,k){var C,z,H,j,J=this,W=J.s;if(M=new b(M,k),k=M.s,!W||!k)return new b(NaN);if(W!=k)return M.s=-k,J.plus(M);var K=J.e/l,X=M.e/l,te=J.c,ae=M.c;if(!K||!X){if(!te||!ae)return te?(M.s=-k,M):new b(ae?J:NaN);if(!te[0]||!ae[0])return ae[0]?(M.s=-k,M):new b(te[0]?J:B==3?-0:0)}if(K=O(K),X=O(X),te=te.slice(),W=K-X){for((j=W<0)?(W=-W,H=te):(X=K,H=ae),H.reverse(),k=W;k--;H.push(0));H.reverse()}else for(z=(j=(W=te.length)<(k=ae.length))?W:k,W=k=0;k<z;k++)if(te[k]!=ae[k]){j=te[k]<ae[k];break}if(j&&(H=te,te=ae,ae=H,M.s=-M.s),k=(z=ae.length)-(C=te.length),k>0)for(;k--;te[C++]=0);for(k=f-1;z>W;){if(te[--z]<ae[z]){for(C=z;C&&!te[--C];te[C]=k);--te[C],te[z]+=f}te[z]-=ae[z]}for(;te[0]==0;te.splice(0,1),--X);return te[0]?ne(M,te,X):(M.s=B==3?-1:1,M.c=[M.e=0],M)},L.modulo=L.mod=function(M,k){var C,z,H=this;return M=new b(M,k),!H.c||!M.s||M.c&&!M.c[0]?new b(NaN):!M.c||H.c&&!H.c[0]?new b(H):(v==9?(z=M.s,M.s=1,C=fe(H,M,0,3),M.s=z,C.s*=z):C=fe(H,M,0,v),M=H.minus(C.times(M)),!M.c[0]&&v==1&&(M.s=H.s),M)},L.multipliedBy=L.times=function(M,k){var C,z,H,j,J,W,K,X,te,ae,$,oe,le,Ee,Be,Ae=this,R=Ae.c,V=(M=new b(M,k)).c;if(!R||!V||!R[0]||!V[0])return!Ae.s||!M.s||R&&!R[0]&&!V||V&&!V[0]&&!R?M.c=M.e=M.s=null:(M.s*=Ae.s,!R||!V?M.c=M.e=null:(M.c=[0],M.e=0)),M;for(z=O(Ae.e/l)+O(M.e/l),M.s*=Ae.s,K=R.length,ae=V.length,K<ae&&(le=R,R=V,V=le,H=K,K=ae,ae=H),H=K+ae,le=[];H--;le.push(0));for(Ee=f,Be=A,H=ae;--H>=0;){for(C=0,$=V[H]%Be,oe=V[H]/Be|0,J=K,j=H+J;j>H;)X=R[--J]%Be,te=R[J]/Be|0,W=oe*X+te*$,X=$*X+W%Be*Be+le[j]+C,C=(X/Ee|0)+(W/Be|0)+oe*te,le[j--]=X%Ee;le[j]=C}return C?++z:le.splice(0,1),ne(M,le,z)},L.negated=function(){var M=new b(this);return M.s=-M.s||null,M},L.plus=function(M,k){var C,z=this,H=z.s;if(M=new b(M,k),k=M.s,!H||!k)return new b(NaN);if(H!=k)return M.s=-k,z.minus(M);var j=z.e/l,J=M.e/l,W=z.c,K=M.c;if(!j||!J){if(!W||!K)return new b(H/0);if(!W[0]||!K[0])return K[0]?M:new b(W[0]?z:H*0)}if(j=O(j),J=O(J),W=W.slice(),H=j-J){for(H>0?(J=j,C=K):(H=-H,C=W),C.reverse();H--;C.push(0));C.reverse()}for(H=W.length,k=K.length,H-k<0&&(C=K,K=W,W=C,k=H),H=0;k;)H=(W[--k]=W[k]+K[k]+H)/f|0,W[k]=f===W[k]?0:W[k]%f;return H&&(W=[H].concat(W),++J),ne(M,W,J)},L.precision=L.sd=function(M,k){var C,z,H,j=this;if(M!=null&&M!==!!M)return Y(M,1,I),k==null?k=B:Y(k,0,8),ce(new b(j),M,k);if(!(C=j.c))return null;if(H=C.length-1,z=H*l+1,H=C[H]){for(;H%10==0;H/=10,z--);for(H=C[0];H>=10;H/=10,z++);}return M&&j.e+1>z&&(z=j.e+1),z},L.shiftedBy=function(M){return Y(M,-g,g),this.times("1e"+M)},L.squareRoot=L.sqrt=function(){var M,k,C,z,H,j=this,J=j.c,W=j.s,K=j.e,X=S+4,te=new b("0.5");if(W!==1||!J||!J[0])return new b(!W||W<0&&(!J||J[0])?NaN:J?j:1/0);if(W=Math.sqrt(+xe(j)),W==0||W==1/0?(k=U(J),(k.length+K)%2==0&&(k+="0"),W=Math.sqrt(+k),K=O((K+1)/2)-(K<0||K%2),W==1/0?k="5e"+K:(k=W.toExponential(),k=k.slice(0,k.indexOf("e")+1)+K),C=new b(k)):C=new b(W+""),C.c[0]){for(K=C.e,W=K+X,W<3&&(W=0);;)if(H=C,C=te.times(H.plus(fe(j,H,X,1))),U(H.c).slice(0,W)===(k=U(C.c)).slice(0,W))if(C.e<K&&--W,k=k.slice(W-3,W+1),k=="9999"||!z&&k=="4999"){if(!z&&(ce(H,H.e+S+2,0),H.times(H).eq(j))){C=H;break}X+=4,W+=4,z=1}else{(!+k||!+k.slice(1)&&k.charAt(0)=="5")&&(ce(C,C.e+S+2,1),M=!C.times(C).eq(j));break}}return ce(C,C.e+S+1,B,M)},L.toExponential=function(M,k){return M!=null&&(Y(M,0,I),M++),ue(this,M,k,1)},L.toFixed=function(M,k){return M!=null&&(Y(M,0,I),M=M+this.e+1),ue(this,M,k)},L.toFormat=function(M,k,C){var z,H=this;if(C==null)M!=null&&k&&typeof k=="object"?(C=k,k=null):M&&typeof M=="object"?(C=M,M=k=null):C=E;else if(typeof C!="object")throw Error(a+"Argument not an object: "+C);if(z=H.toFixed(M,k),H.c){var j,J=z.split("."),W=+C.groupSize,K=+C.secondaryGroupSize,X=C.groupSeparator||"",te=J[0],ae=J[1],$=H.s<0,oe=$?te.slice(1):te,le=oe.length;if(K&&(j=W,W=K,K=j,le-=j),W>0&&le>0){for(j=le%W||W,te=oe.substr(0,j);j<le;j+=W)te+=X+oe.substr(j,W);K>0&&(te+=X+oe.slice(j)),$&&(te="-"+te)}z=ae?te+(C.decimalSeparator||"")+((K=+C.fractionGroupSize)?ae.replace(new RegExp("\\d{"+K+"}\\B","g"),"$&"+(C.fractionGroupSeparator||"")):ae):te}return(C.prefix||"")+z+(C.suffix||"")},L.toFraction=function(M){var k,C,z,H,j,J,W,K,X,te,ae,$,oe=this,le=oe.c;if(M!=null&&(W=new b(M),!W.isInteger()&&(W.c||W.s!==1)||W.lt(q)))throw Error(a+"Argument "+(W.isInteger()?"out of range: ":"not an integer: ")+xe(W));if(!le)return new b(oe);for(k=new b(q),X=C=new b(q),z=K=new b(q),$=U(le),j=k.e=$.length-oe.e-1,k.c[0]=m[(J=j%l)<0?l+J:J],M=!M||W.comparedTo(k)>0?j>0?k:X:W,J=h,h=1/0,W=new b($),K.c[0]=0;te=fe(W,k,0,1),H=C.plus(te.times(z)),H.comparedTo(M)!=1;)C=z,z=H,X=K.plus(te.times(H=X)),K=H,k=W.minus(te.times(H=k)),W=H;return H=fe(M.minus(C),z,0,1),K=K.plus(H.times(X)),C=C.plus(H.times(z)),K.s=X.s=oe.s,j=j*2,ae=fe(X,z,j,B).minus(oe).abs().comparedTo(fe(K,C,j,B).minus(oe).abs())<1?[X,z]:[K,C],h=J,ae},L.toNumber=function(){return+xe(this)},L.toPrecision=function(M,k){return M!=null&&Y(M,1,I),ue(this,M,k,2)},L.toString=function(M){var k,C=this,z=C.s,H=C.e;return H===null?z?(k="Infinity",z<0&&(k="-"+k)):k="NaN":(M==null?k=H<=y||H>=o?pe(U(C.c),H):he(U(C.c),H,"0"):M===10&&c?(C=ce(new b(C),S+H+1,B),k=he(U(C.c),C.e,"0")):(Y(M,2,w.length,"Base"),k=de(he(U(C.c),H,"0"),10,M,z,!0)),z<0&&C.c[0]&&(k="-"+k)),k},L.valueOf=L.toJSON=function(){return xe(this)},L._isBigNumber=!0,se!=null&&b.set(se),b}function O(se){var fe=se|0;return se>0||se===fe?fe:fe-1}function U(se){for(var fe,de,G=1,L=se.length,q=se[0]+"";G<L;){for(fe=se[G++]+"",de=l-fe.length;de--;fe="0"+fe);q+=fe}for(L=q.length;q.charCodeAt(--L)===48;);return q.slice(0,L+1||1)}function Z(se,fe){var de,G,L=se.c,q=fe.c,S=se.s,B=fe.s,y=se.e,o=fe.e;if(!S||!B)return null;if(de=L&&!L[0],G=q&&!q[0],de||G)return de?G?0:-B:S;if(S!=B)return S;if(de=S<0,G=y==o,!L||!q)return G?0:!L^de?1:-1;if(!G)return y>o^de?1:-1;for(B=(y=L.length)<(o=q.length)?y:o,S=0;S<B;S++)if(L[S]!=q[S])return L[S]>q[S]^de?1:-1;return y==o?0:y>o^de?1:-1}function Y(se,fe,de,G){if(se<fe||se>de||se!==i(se))throw Error(a+(G||"Argument")+(typeof se=="number"?se<fe||se>de?" out of range: ":" not an integer: ":" not a primitive number: ")+String(se))}function re(se){var fe=se.c.length-1;return O(se.e/l)==fe&&se.c[fe]%2!=0}function pe(se,fe){return(se.length>1?se.charAt(0)+"."+se.slice(1):se)+(fe<0?"e":"e+")+fe}function he(se,fe,de){var G,L;if(fe<0){for(L=de+".";++fe;L+=de);se=L+se}else if(G=se.length,++fe>G){for(L=de,fe-=G;--fe;L+=de);se+=L}else fe<G&&(se=se.slice(0,fe)+"."+se.slice(fe));return se}e=T(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof Q6<"u"&&Q6.exports?Q6.exports=e:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=e)})(xre)});var Ere=ee(lI=>{"use strict";x();Object.defineProperty(lI,"__esModule",{value:!0});var wMe=_re(),cI=class{BigNum;constructor(){this.BigNum=(e,r)=>{let n=wMe.BigNumber.clone({DECIMAL_PLACES:r});return new n(e)}}winstonToAr(e,{formatted:r=!1,decimals:n=12,trim:i=!0}={}){let a=this.stringToBigNum(e,n).shiftedBy(-12);return r?a.toFormat(n):a.toFixed(n)}arToWinston(e,{formatted:r=!1}={}){let n=this.stringToBigNum(e).shiftedBy(12);return r?n.toFormat():n.toFixed(0)}compare(e,r){let n=this.stringToBigNum(e),i=this.stringToBigNum(r);return n.comparedTo(i)}isEqual(e,r){return this.compare(e,r)===0}isLessThan(e,r){let n=this.stringToBigNum(e),i=this.stringToBigNum(r);return n.isLessThan(i)}isGreaterThan(e,r){let n=this.stringToBigNum(e),i=this.stringToBigNum(r);return n.isGreaterThan(i)}add(e,r){let n=this.stringToBigNum(e),i=this.stringToBigNum(r);return n.plus(r).toFixed(0)}sub(e,r){let n=this.stringToBigNum(e),i=this.stringToBigNum(r);return n.minus(r).toFixed(0)}stringToBigNum(e,r=12){return this.BigNum(e,r)}};lI.default=cI});var Sre=ee(dI=>{"use strict";x();Object.defineProperty(dI,"__esModule",{value:!0});var hI=class{METHOD_GET="GET";METHOD_POST="POST";config;constructor(e){this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e)}getConfig(){return this.config}mergeDefaults(e){let r=e.protocol||"http",n=e.port||(r==="https"?443:80);return{host:e.host||"127.0.0.1",protocol:r,port:n,timeout:e.timeout||2e4,logging:e.logging||!1,logger:e.logger||console.log,network:e.network}}async get(e,r){return await this.request(e,{...r,method:this.METHOD_GET})}async post(e,r,n){let i=new Headers(n?.headers||{});return i.get("content-type")?.includes("application/json")||i.append("content-type","application/json"),i.append("accept","application/json, text/plain, */*"),await this.request(e,{...n,method:this.METHOD_POST,body:typeof r!="string"?JSON.stringify(r):r,headers:i})}async request(e,r){let n=new Headers(r?.headers||{}),i=`${this.config.protocol}://${this.config.host}:${this.config.port}`,a=r?.responseType;delete r?.responseType,e.startsWith("/")&&(e=e.slice(1)),this.config.network&&n.append("x-network",this.config.network),this.config.logging&&this.config.logger(`Requesting: ${i}/${e}`);let s=await fetch(`${i}/${e}`,{...r||{},headers:n});this.config.logging&&this.config.logger(`Response:   ${s.url} - ${s.status}`);let l=s.headers.get("content-type")?.match(/charset=([^()<>@,;:\"/[\]?.=\s]*)/i)?.[1],g=s,m=async()=>{if(l)try{g.data=new TextDecoder(l).decode(await s.arrayBuffer())}catch{g.data=await s.text()}else g.data=await s.text()};if(a==="arraybuffer")g.data=await s.arrayBuffer();else if(a==="text")await m();else if(a==="webstream")g.data=xMe(s.body);else try{let A=await s.clone().json();typeof A!="object"?await m():g.data=await s.json(),A=null}catch{await m()}return g}};dI.default=hI;var xMe=t=>{let e=t;return typeof e[Symbol.asyncIterator]>"u"?(e[Symbol.asyncIterator]=_Me(t),e):t},_Me=function(t){return async function*(){let r=t.getReader();try{for(;;){let{done:n,value:i}=await r.read();if(n)return;yield i}}finally{r.releaseLock()}}}});var Ws=ee(hn=>{"use strict";x();Object.defineProperty(hn,"__esModule",{value:!0});hn.b64UrlDecode=hn.b64UrlEncode=hn.bufferTob64Url=hn.bufferTob64=hn.b64UrlToBuffer=hn.stringToB64Url=hn.stringToBuffer=hn.bufferToString=hn.b64UrlToString=hn.concatBuffers=void 0;var Are=Rp();function EMe(t){let e=0;for(let i=0;i<t.length;i++)e+=t[i].byteLength;let r=new Uint8Array(e),n=0;r.set(new Uint8Array(t[0]),n),n+=t[0].byteLength;for(let i=1;i<t.length;i++)r.set(new Uint8Array(t[i]),n),n+=t[i].byteLength;return r}hn.concatBuffers=EMe;function SMe(t){let e=Ore(t);return Mre(e)}hn.b64UrlToString=SMe;function Mre(t){return new TextDecoder("utf-8",{fatal:!0}).decode(t)}hn.bufferToString=Mre;function Tre(t){return new TextEncoder().encode(t)}hn.stringToBuffer=Tre;function AMe(t){return Rre(Tre(t))}hn.stringToB64Url=AMe;function Ore(t){return new Uint8Array(Are.toByteArray(Cre(t)))}hn.b64UrlToBuffer=Ore;function Ire(t){return Are.fromByteArray(new Uint8Array(t))}hn.bufferTob64=Ire;function Rre(t){return kre(Ire(t))}hn.bufferTob64Url=Rre;function kre(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}hn.b64UrlEncode=kre;function Cre(t){t=t.replace(/\-/g,"+").replace(/\_/g,"/");let e;return t.length%4==0?e=0:e=4-t.length%4,t.concat("=".repeat(e))}hn.b64UrlDecode=Cre});var Bre=ee(gI=>{"use strict";x();Object.defineProperty(gI,"__esModule",{value:!0});var Mc=Ws(),pI=class{keyLength=4096;publicExponent=65537;hashAlgorithm="sha256";driver;constructor(){if(!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let e=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),r=await this.driver.exportKey("jwk",e.privateKey);return{kty:r.kty,e:r.e,n:r.n,d:r.d,p:r.p,q:r.q,dp:r.dp,dq:r.dq,qi:r.qi}}async sign(e,r,{saltLength:n}={}){let i=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(e),r);return new Uint8Array(i)}async hash(e,r="SHA-256"){let n=await this.driver.digest(r,e);return new Uint8Array(n)}async verify(e,r,n){let i={kty:"RSA",e:"AQAB",n:e},a=await this.jwkToPublicCryptoKey(i),s=await this.driver.digest("SHA-256",r),f=await this.driver.verify({name:"RSA-PSS",saltLength:0},a,n,r),l=await this.driver.verify({name:"RSA-PSS",saltLength:32},a,n,r),g=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((a.algorithm.modulusLength-1)/8)-s.byteLength-2},a,n,r);return f||l||g}async jwkToCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;let e=crypto?.subtle;return e===void 0?!1:["generateKey","importKey","exportKey","digest","sign"].every(n=>typeof e[n]=="function")}async encrypt(e,r,n){let i=await this.driver.importKey("raw",typeof r=="string"?Mc.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),a=await this.driver.deriveKey({name:"PBKDF2",salt:n?Mc.stringToBuffer(n):Mc.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=new Uint8Array(16);crypto.getRandomValues(s);let f=await this.driver.encrypt({name:"AES-CBC",iv:s},a,e);return Mc.concatBuffers([s,f])}async decrypt(e,r,n){let i=await this.driver.importKey("raw",typeof r=="string"?Mc.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),a=await this.driver.deriveKey({name:"PBKDF2",salt:n?Mc.stringToBuffer(n):Mc.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=e.slice(0,16),f=await this.driver.decrypt({name:"AES-CBC",iv:s},a,e.slice(16));return Mc.concatBuffers([f])}};gI.default=pI});var Pre=ee(yI=>{"use strict";x();Object.defineProperty(yI,"__esModule",{value:!0});var vI=class{api;constructor(e){this.api=e}getInfo(){return this.api.get("info").then(e=>e.data)}getPeers(){return this.api.get("peers").then(e=>e.data)}};yI.default=vI});var Ry=ee(Iy=>{"use strict";x();Object.defineProperty(Iy,"__esModule",{value:!0});Iy.getError=void 0;var mI=class extends Error{type;response;constructor(e,r={}){r.message?super(r.message):super(),this.type=e,this.response=r.response}getType(){return this.type}};Iy.default=mI;function MMe(t){let e=t.data;if(typeof t.data=="string")try{e=JSON.parse(t.data)}catch{}if(t.data instanceof ArrayBuffer||t.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch{}return e?e.error||e:t.statusText||"unknown"}Iy.getError=MMe});var Dre=ee(bI=>{"use strict";x();Object.defineProperty(bI,"__esModule",{value:!0});var va=ky();async function Nre(t){if(Array.isArray(t)){let n=va.default.utils.concatBuffers([va.default.utils.stringToBuffer("list"),va.default.utils.stringToBuffer(t.length.toString())]);return await Lre(t,await va.default.crypto.hash(n,"SHA-384"))}let e=va.default.utils.concatBuffers([va.default.utils.stringToBuffer("blob"),va.default.utils.stringToBuffer(t.byteLength.toString())]),r=va.default.utils.concatBuffers([await va.default.crypto.hash(e,"SHA-384"),await va.default.crypto.hash(t,"SHA-384")]);return await va.default.crypto.hash(r,"SHA-384")}bI.default=Nre;async function Lre(t,e){if(t.length<1)return e;let r=va.default.utils.concatBuffers([e,await Nre(t[0])]),n=await va.default.crypto.hash(r,"SHA-384");return await Lre(t.slice(1),n)}});var AI=ee(qt=>{"use strict";x();Object.defineProperty(qt,"__esModule",{value:!0});qt.debug=qt.validatePath=qt.arrayCompare=qt.bufferToInt=qt.intToBuffer=qt.arrayFlatten=qt.generateProofs=qt.buildLayers=qt.generateTransactionChunks=qt.generateTree=qt.computeRootHash=qt.generateLeaves=qt.chunkData=qt.MIN_CHUNK_SIZE=qt.MAX_CHUNK_SIZE=void 0;var e3=ky(),qre=Ws();qt.MAX_CHUNK_SIZE=256*1024;qt.MIN_CHUNK_SIZE=32*1024;var By=32,xp=32;async function xI(t){let e=[],r=t,n=0;for(;r.byteLength>=qt.MAX_CHUNK_SIZE;){let i=qt.MAX_CHUNK_SIZE,a=r.byteLength-qt.MAX_CHUNK_SIZE;a>0&&a<qt.MIN_CHUNK_SIZE&&(i=Math.ceil(r.byteLength/2));let s=r.slice(0,i),f=await e3.default.crypto.hash(s);n+=s.byteLength,e.push({dataHash:f,minByteRange:n-s.byteLength,maxByteRange:n}),r=r.slice(i)}return e.push({dataHash:await e3.default.crypto.hash(r),minByteRange:n,maxByteRange:n+r.byteLength}),e}qt.chunkData=xI;async function _I(t){return Promise.all(t.map(async({dataHash:e,minByteRange:r,maxByteRange:n})=>({type:"leaf",id:await Wn(await Promise.all([Wn(e),Wn(Py(n))])),dataHash:e,minByteRange:r,maxByteRange:n})))}qt.generateLeaves=_I;async function TMe(t){return(await Ure(t)).id}qt.computeRootHash=TMe;async function Ure(t){return await t3(await _I(await xI(t)))}qt.generateTree=Ure;async function OMe(t){let e=await xI(t),r=await _I(e),n=await t3(r),i=await Fre(n),a=e.slice(-1)[0];return a.maxByteRange-a.minByteRange===0&&(e.splice(e.length-1,1),i.splice(i.length-1,1)),{data_root:n.id,chunks:e,proofs:i}}qt.generateTransactionChunks=OMe;async function t3(t,e=0){if(t.length<2)return t[0];let r=[];for(let n=0;n<t.length;n+=2)r.push(await IMe(t[n],t[n+1]));return t3(r,e+1)}qt.buildLayers=t3;function Fre(t){let e=wI(t);return Array.isArray(e)?EI(e):[e]}qt.generateProofs=Fre;function wI(t,e=new Uint8Array,r=0){if(t.type=="leaf")return{offset:t.maxByteRange-1,proof:(0,qre.concatBuffers)([e,t.dataHash,Py(t.maxByteRange)])};if(t.type=="branch"){let n=(0,qre.concatBuffers)([e,t.leftChild.id,t.rightChild.id,Py(t.byteRange)]);return[wI(t.leftChild,n,r+1),wI(t.rightChild,n,r+1)]}throw new Error("Unexpected node type")}function EI(t){let e=[];return t.forEach(r=>{Array.isArray(r)?e.push(...EI(r)):e.push(r)}),e}qt.arrayFlatten=EI;async function IMe(t,e){return e?{type:"branch",id:await Wn([await Wn(t.id),await Wn(e.id),await Wn(Py(t.maxByteRange))]),byteRange:t.maxByteRange,maxByteRange:e.maxByteRange,leftChild:t,rightChild:e}:t}async function Wn(t){return Array.isArray(t)&&(t=e3.default.utils.concatBuffers(t)),new Uint8Array(await e3.default.crypto.hash(t))}function Py(t){let e=new Uint8Array(By);for(var r=e.length-1;r>=0;r--){var n=t%256;e[r]=n,t=(t-n)/256}return e}qt.intToBuffer=Py;function SI(t){let e=0;for(var r=0;r<t.length;r++)e*=256,e+=t[r];return e}qt.bufferToInt=SI;var RMe=(t,e)=>t.every((r,n)=>e[n]===r);qt.arrayCompare=RMe;async function Cy(t,e,r,n,i){if(n<=0)return!1;if(e>=n)return Cy(t,0,n-1,n,i);if(e<0)return Cy(t,0,0,n,i);if(i.length==xp+By){let A=i.slice(0,xp),I=i.slice(A.length,A.length+By),T=await Wn([await Wn(A),await Wn(I)]);return(0,qt.arrayCompare)(t,T)?{offset:n-1,leftBound:r,rightBound:n,chunkSize:n-r}:!1}let a=i.slice(0,xp),s=i.slice(a.length,a.length+xp),f=i.slice(a.length+s.length,a.length+s.length+By),l=SI(f),g=i.slice(a.length+s.length+f.length),m=await Wn([await Wn(a),await Wn(s),await Wn(f)]);return(0,qt.arrayCompare)(t,m)?e<l?await Cy(a,e,r,Math.min(n,l),g):await Cy(s,e,Math.max(r,l),n,g):!1}qt.validatePath=Cy;async function jre(t,e=""){if(t.byteLength<1)return e;let r=t.slice(0,xp),n=t.slice(r.length,r.length+xp),i=t.slice(r.length+n.length,r.length+n.length+By),a=SI(i),s=t.slice(r.length+n.length+i.length),f=await Wn([await Wn(r),await Wn(n),await Wn(i)]),l=`${e}
${JSON.stringify(N.Buffer.from(r))},${JSON.stringify(N.Buffer.from(n))},${a} => ${JSON.stringify(f)}`;return jre(s,l)}qt.debug=jre});var n3=ee(Ly=>{"use strict";x();Object.defineProperty(Ly,"__esModule",{value:!0});Ly.Tag=void 0;var Tn=Ws(),kMe=Dre(),CMe=AI(),r3=class{get(e,r){if(!Object.getOwnPropertyNames(this).includes(e))throw new Error(`Field "${e}" is not a property of the Arweave Transaction class.`);if(this[e]instanceof Uint8Array)return r&&r.decode&&r.string?Tn.bufferToString(this[e]):r&&r.decode&&!r.string?this[e]:Tn.bufferTob64Url(this[e]);if(this[e]instanceof Array){if(r?.decode!==void 0||r?.string!==void 0)throw e==="tags"&&console.warn(`Did you mean to use 'transaction["tags"]' ?`),new Error("Cannot decode or stringify an array.");return this[e]}return r&&r.decode==!0?r&&r.string?Tn.b64UrlToString(this[e]):Tn.b64UrlToBuffer(this[e]):this[e]}},Ny=class extends r3{name;value;constructor(e,r,n=!1){super(),this.name=e,this.value=r}};Ly.Tag=Ny;var MI=class extends r3{format=2;id="";last_tx="";owner="";tags=[];target="";quantity="0";data_size="0";data=new Uint8Array;data_root="";reward="0";signature="";chunks;constructor(e={}){super(),Object.assign(this,e),typeof this.data=="string"&&(this.data=Tn.b64UrlToBuffer(this.data)),e.tags&&(this.tags=e.tags.map(r=>new Ny(r.name,r.value)))}addTag(e,r){this.tags.push(new Ny(Tn.stringToB64Url(e),Tn.stringToB64Url(r)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:Tn.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(e){this.owner=e}setSignature({id:e,owner:r,reward:n,tags:i,signature:a}){this.id=e,this.owner=r,n&&(this.reward=n),i&&(this.tags=i),this.signature=a}async prepareChunks(e){!this.chunks&&e.byteLength>0&&(this.chunks=await(0,CMe.generateTransactionChunks)(e),this.data_root=Tn.bufferTob64Url(this.chunks.data_root)),!this.chunks&&e.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(e,r){if(!this.chunks)throw new Error("Chunks have not been prepared");let n=this.chunks.proofs[e],i=this.chunks.chunks[e];return{data_root:this.data_root,data_size:this.data_size,data_path:Tn.bufferTob64Url(n.proof),offset:n.offset.toString(),chunk:Tn.bufferTob64Url(r.slice(i.minByteRange,i.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let e=this.tags.reduce((n,i)=>Tn.concatBuffers([n,i.get("name",{decode:!0,string:!1}),i.get("value",{decode:!0,string:!1})]),new Uint8Array);return Tn.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),Tn.stringToBuffer(this.quantity),Tn.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),e]);case 2:this.data_root||await this.prepareChunks(this.data);let r=this.tags.map(n=>[n.get("name",{decode:!0,string:!1}),n.get("value",{decode:!0,string:!1})]);return await(0,kMe.default)([Tn.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),Tn.stringToBuffer(this.quantity),Tn.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),r,Tn.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}};Ly.default=MI});var Gre=ee(i3=>{"use strict";x();Object.defineProperty(i3,"__esModule",{value:!0});i3.TransactionUploader=void 0;var zre=n3(),BMe=Ws(),TI=Ry(),PMe=AI(),Kre=1,NMe=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],Wre=1e3*40,Dy=class{api;chunkIndex=0;txPosted=!1;transaction;lastRequestTimeEnd=0;totalErrors=0;data;lastResponseStatus=0;lastResponseError="";get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}constructor(e,r){if(this.api=e,!r.id)throw new Error("Transaction is not signed");if(!r.chunks)throw new Error("Transaction chunks not prepared");this.data=r.data,this.transaction=new zre.default(Object.assign({},r,{data:new Uint8Array(0)}))}async uploadChunk(e){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let r=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+Wre-Date.now(),Wre);if(r>0&&(r=r-r*Math.random()*.3,await new Promise(s=>setTimeout(s,r))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}e&&(this.chunkIndex=e);let n=this.transaction.getChunk(e||this.chunkIndex,this.data);if(!await(0,PMe.validatePath)(this.transaction.chunks.data_root,parseInt(n.offset),0,parseInt(n.data_size),BMe.b64UrlToBuffer(n.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);let a=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(s=>(console.error(s.message),{status:-1,data:{error:s.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=a.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=(0,TI.getError)(a),NMe.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(e,r,n){if(!r||typeof r.chunkIndex!="number"||typeof r.transaction!="object")throw new Error("Serialized object does not match expected format.");var i=new zre.default(r.transaction);i.chunks||await i.prepareChunks(n);let a=new Dy(e,i);if(a.chunkIndex=r.chunkIndex,a.lastRequestTimeEnd=r.lastRequestTimeEnd,a.lastResponseError=r.lastResponseError,a.lastResponseStatus=r.lastResponseStatus,a.txPosted=r.txPosted,a.data=n,a.transaction.data_root!==r.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return a}static async fromTransactionId(e,r){let n=await e.get(`tx/${r}`);if(n.status!==200)throw new Error(`Tx ${r} not found: ${n.status}`);let i=n.data;return i.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:i}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=Kre){this.transaction.data=this.data;let n=await this.api.post("tx",this.transaction).catch(i=>(console.error(i),{status:-1,data:{error:i.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=n.status,this.transaction.data=new Uint8Array(0),n.status>=200&&n.status<300){this.txPosted=!0,this.chunkIndex=Kre;return}throw this.lastResponseError=(0,TI.getError)(n),new Error(`Unable to upload transaction: ${n.status}, ${this.lastResponseError}`)}let r=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=r.status,!(r.status>=200&&r.status<300))throw this.lastResponseError=(0,TI.getError)(r),new Error(`Unable to upload transaction: ${r.status}, ${this.lastResponseError}`);this.txPosted=!0}};i3.TransactionUploader=Dy});var Hre=ee(kI=>{"use strict";x();Object.defineProperty(kI,"__esModule",{value:!0});var OI=Ry(),$f=n3(),qy=Ws(),II=Gre();Yc();var RI=class{api;crypto;chunks;constructor(e,r,n){this.api=e,this.crypto=r,this.chunks=n}async getTransactionAnchor(){let e=await this.api.get("tx_anchor");if(!e.data.match(/^[a-z0-9_-]{43,}/i)||!e.ok)throw new Error(`Could not getTransactionAnchor. Received: ${e.data}. Status: ${e.status}, ${e.statusText}`);return e.data}async getPrice(e,r){let n=r?`price/${e}/${r}`:`price/${e}`,i=await this.api.get(n);if(!/^\d+$/.test(i.data)||!i.ok)throw new Error(`Could not getPrice. Received: ${i.data}. Status: ${i.status}, ${i.statusText}`);return i.data}async get(e){let r=await this.api.get(`tx/${e}`);if(r.status==200){let n=parseInt(r.data.data_size);if(r.data.format>=2&&n>0&&n<=1024*1024*12){let i=await this.getData(e);return new $f.default({...r.data,data:i})}return new $f.default({...r.data,format:r.data.format||1})}throw r.status==404?new OI.default("TX_NOT_FOUND"):r.status==410?new OI.default("TX_FAILED"):new OI.default("TX_INVALID")}fromRaw(e){return new $f.default(e)}async search(e,r){return this.api.post("arql",{op:"equals",expr1:e,expr2:r}).then(n=>n.data?n.data:[])}getStatus(e){return this.api.get(`tx/${e}/status`).then(r=>r.status==200?{status:200,confirmed:r.data}:{status:r.status,confirmed:null})}async getData(e,r){let n;try{n=await this.chunks.downloadChunkedData(e)}catch(i){console.error(`Error while trying to download chunked data for ${e}`),console.error(i)}if(!n){console.warn(`Falling back to gateway cache for ${e}`);try{let{data:i,ok:a,status:s,statusText:f}=await this.api.get(`/${e}`,{responseType:"arraybuffer"});if(!a)throw new Error("Bad http status code",{cause:{status:s,statusText:f}});n=i}catch(i){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(i)}}if(!n)throw new Error(`${e} data was not found!`);return r&&r.decode&&!r.string?n:r&&r.decode&&r.string?qy.bufferToString(n):qy.bufferTob64Url(n)}async sign(e,r,n){let a=typeof r=="object"&&(f=>{let l=!0;return["n","e","d","p","q","dp","dq","qi"].map(g=>!(g in f)&&(l=!1)),l})(r),s=typeof arweaveWallet=="object";if(!a&&!s)throw new Error("No valid JWK or external wallet found to sign transaction.");if(a){e.setOwner(r.n);let f=await e.getSignatureData(),l=await this.crypto.sign(r,f,n),g=await this.crypto.hash(l);e.setSignature({id:qy.bufferTob64Url(g),owner:r.n,signature:qy.bufferTob64Url(l)})}else if(s){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}let f=await arweaveWallet.sign(e,n);e.setSignature({id:f.id,owner:f.owner,reward:f.reward,tags:f.tags,signature:f.signature})}else throw new Error("An error occurred while signing. Check wallet is valid")}async verify(e){let r=await e.getSignatureData(),n=e.get("signature",{decode:!0,string:!1}),i=qy.bufferTob64Url(await this.crypto.hash(n));if(e.id!==i)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(e.owner,r,n)}async post(e){if(typeof e=="string"?e=new $f.default(JSON.parse(e)):typeof e.readInt32BE=="function"?e=new $f.default(JSON.parse(e.toString())):typeof e=="object"&&!(e instanceof $f.default)&&(e=new $f.default(e)),!(e instanceof $f.default))throw new Error("Must be Transaction object");e.chunks||await e.prepareChunks(e.data);let r=await this.getUploader(e,e.data);try{for(;!r.isComplete;)await r.uploadChunk()}catch(n){if(r.lastResponseStatus>0)return{status:r.lastResponseStatus,statusText:r.lastResponseError,data:{error:r.lastResponseError}};throw n}return{status:200,statusText:"OK",data:{}}}async getUploader(e,r){let n;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),e instanceof $f.default){if(r||(r=e.data),!(r instanceof Uint8Array))throw new Error("Data format is invalid");e.chunks||await e.prepareChunks(r),n=new II.TransactionUploader(this.api,e),(!n.data||n.data.length===0)&&(n.data=r)}else{if(typeof e=="string"&&(e=await II.TransactionUploader.fromTransactionId(this.api,e)),!r||!(r instanceof Uint8Array))throw new Error("Must provide data when resuming upload");n=await II.TransactionUploader.fromSerialized(this.api,e,r)}return n}async*upload(e,r){let n=await this.getUploader(e,r);for(;!n.isComplete;)await n.uploadChunk(),yield n;return n}};kI.default=RI});var Vre=ee(BI=>{"use strict";x();Object.defineProperty(BI,"__esModule",{value:!0});var $re=Ws();Yc();var CI=class{api;crypto;constructor(e,r){this.api=e,this.crypto=r}getBalance(e){return this.api.get(`wallet/${e}/balance`).then(r=>r.data)}getLastTransactionID(e){return this.api.get(`wallet/${e}/last_tx`).then(r=>r.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(e){return!e||e==="use_wallet"?this.getAddress():this.getAddress(e)}async getAddress(e){if(!e||e==="use_wallet"){try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}else return this.ownerToAddress(e.n)}async ownerToAddress(e){return $re.bufferTob64Url(await this.crypto.hash($re.b64UrlToBuffer(e)))}};BI.default=CI});var Jre=ee(Uy=>{"use strict";x();Object.defineProperty(Uy,"__esModule",{value:!0});Uy.SiloResource=void 0;var Zre=Ws(),PI=class{api;crypto;transactions;constructor(e,r,n){this.api=e,this.crypto=r,this.transactions=n}async get(e){if(!e)throw new Error("No Silo URI specified");let r=await this.parseUri(e),n=await this.transactions.search("Silo-Name",r.getAccessKey());if(n.length==0)throw new Error(`No data could be found for the Silo URI: ${e}`);let i=await this.transactions.get(n[0]);if(!i)throw new Error(`No data could be found for the Silo URI: ${e}`);let a=i.get("data",{decode:!0,string:!1});return this.crypto.decrypt(a,r.getEncryptionKey())}async readTransactionData(e,r){if(!r)throw new Error("No Silo URI specified");let n=await this.parseUri(r),i=e.get("data",{decode:!0,string:!1});return this.crypto.decrypt(i,n.getEncryptionKey())}async parseUri(e){let r=e.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!r)throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");let n=r[1],i=Math.pow(2,parseInt(r[2])),a=await this.hash(Zre.stringToBuffer(n),i),s=Zre.bufferTob64(a.slice(0,15)),f=await this.hash(a.slice(16,31),1);return new a3(e,s,f)}async hash(e,r){let n=await this.crypto.hash(e);for(let i=0;i<r-1;i++)n=await this.crypto.hash(n);return n}};Uy.default=PI;var a3=class{uri;accessKey;encryptionKey;constructor(e,r,n){this.uri=e,this.accessKey=r,this.encryptionKey=n}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}};Uy.SiloResource=a3});var Xre=ee(LI=>{"use strict";x();Object.defineProperty(LI,"__esModule",{value:!0});var Yre=Ry(),LMe=Ws(),NI=class{api;constructor(e){this.api=e}async getTransactionOffset(e){let r=await this.api.get(`tx/${e}/offset`);if(r.status===200)return r.data;throw new Error(`Unable to get transaction offset: ${(0,Yre.getError)(r)}`)}async getChunk(e){let r=await this.api.get(`chunk/${e}`);if(r.status===200)return r.data;throw new Error(`Unable to get chunk: ${(0,Yre.getError)(r)}`)}async getChunkData(e){let r=await this.getChunk(e);return LMe.b64UrlToBuffer(r.chunk)}firstChunkOffset(e){return parseInt(e.offset)-parseInt(e.size)+1}async downloadChunkedData(e){let r=await this.getTransactionOffset(e),n=parseInt(r.size),a=parseInt(r.offset)-n+1,s=new Uint8Array(n),f=0;for(;f<n;){this.api.config.logging&&console.log(`[chunk] ${f}/${n}`);let l;try{l=await this.getChunkData(a+f)}catch{console.error(`[chunk] Failed to fetch chunk at offset ${a+f}`),console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gateway/node")}if(l)s.set(l,f),f+=l.length;else throw new Error(`Couldn't complete data download at ${f}/${n}`)}return s}};LI.default=NI});var ene=ee(DI=>{"use strict";x();Object.defineProperty(DI,"__esModule",{value:!0});var Qre=Ry();Yc();var o3=class{api;network;constructor(e,r){this.api=e,this.network=r}async get(e){let r=await this.api.get(`${o3.HASH_ENDPOINT}${e}`);if(r.status===200)return r.data;throw r.status===404?new Qre.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getByHeight(e){let r=await this.api.get(`${o3.HEIGHT_ENDPOINT}${e}`);if(r.status===200)return r.data;throw r.status===404?new Qre.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getCurrent(){let{current:e}=await this.network.getInfo();return await this.get(e)}},Fy=o3;Hn(Fy,"HASH_ENDPOINT","block/hash/"),Hn(Fy,"HEIGHT_ENDPOINT","block/height/");DI.default=Fy});var ky=ee(qI=>{"use strict";x();Object.defineProperty(qI,"__esModule",{value:!0});var DMe=Ere(),qMe=Sre(),UMe=Bre(),FMe=Pre(),jMe=Hre(),zMe=Vre(),tne=n3(),jy=Ws(),KMe=Jre(),WMe=Xre(),GMe=ene(),Ep=class{api;wallets;transactions;network;blocks;ar;silo;chunks;constructor(e){this.api=new qMe.default(e),this.wallets=new zMe.default(this.api,Ep.crypto),this.chunks=new WMe.default(this.api),this.transactions=new jMe.default(this.api,Ep.crypto,this.chunks),this.silo=new KMe.default(this.api,this.crypto,this.transactions),this.network=new FMe.default(this.api),this.blocks=new GMe.default(this.api,this.network),this.ar=new DMe.default}get crypto(){return Ep.crypto}get utils(){return Ep.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(e,r){let n={};if(Object.assign(n,e),!e.data&&!(e.target&&e.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(e.owner==null&&r&&r!=="use_wallet"&&(n.owner=r.n),e.last_tx==null&&(n.last_tx=await this.transactions.getTransactionAnchor()),typeof e.data=="string"&&(e.data=jy.stringToBuffer(e.data)),e.data instanceof ArrayBuffer&&(e.data=new Uint8Array(e.data)),e.data&&!(e.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(e.reward==null){let a=e.data?e.data.byteLength:0;n.reward=await this.transactions.getPrice(a,n.target)}n.data_root="",n.data_size=e.data?e.data.byteLength.toString():"0",n.data=e.data||new Uint8Array(0);let i=new tne.default(n);return await i.getSignatureData(),i}async createSiloTransaction(e,r,n){let i={};if(Object.assign(i,e),!e.data)throw new Error("Silo transactions must have a 'data' value");if(!n)throw new Error("No Silo URI specified.");if(e.target||e.quantity)throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");if(e.owner==null){if(!r||!r.n)throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");i.owner=r.n}e.last_tx==null&&(i.last_tx=await this.transactions.getTransactionAnchor());let a=await this.silo.parseUri(n);if(typeof e.data=="string"){let f=await this.crypto.encrypt(jy.stringToBuffer(e.data),a.getEncryptionKey());i.reward=await this.transactions.getPrice(f.byteLength),i.data=jy.bufferTob64Url(f)}if(e.data instanceof Uint8Array){let f=await this.crypto.encrypt(e.data,a.getEncryptionKey());i.reward=await this.transactions.getPrice(f.byteLength),i.data=jy.bufferTob64Url(f)}let s=new tne.default(i);return s.addTag("Silo-Name",a.getAccessKey()),s.addTag("Silo-Version","0.1.0"),s}arql(e){return this.api.post("/arql",e).then(r=>r.data||[])}},_p=Ep;Hn(_p,"init"),Hn(_p,"crypto",new UMe.default),Hn(_p,"utils",jy);qI.default=_p});var rne=ee(s3=>{"use strict";x();Object.defineProperty(s3,"__esModule",{value:!0});s3.getDefaultConfig=void 0;var HMe=(t,e)=>{let r=/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,n=e.split("."),i=n[n.length-1],a=["localhost","[::1]"];return a.includes(e)||t=="file"||a.includes(i)||!!e.match(r)||!!i.match(r)},$Me=t=>{let e=t.charAt(0)==="[",r=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;return!!t.match(r)||e},VMe=(t,e)=>{if(HMe(t,e))return{protocol:"https",host:"arweave.net",port:443};if(!$Me(e)){let r=e.split(".");if(r.length>=3){r.shift();let n=r.join(".");return{protocol:t,host:n}}}return{protocol:t,host:e}};s3.getDefaultConfig=VMe});var nne=ee(Tc=>{"use strict";x();var ZMe=Tc&&Tc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JMe=Tc&&Tc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ZMe(e,t,r)};Object.defineProperty(Tc,"__esModule",{value:!0});var Sp=ky(),YMe=rne();Sp.default.init=function(t={}){let e={host:"arweave.net",port:443,protocol:"https"};if(typeof location!="object"||!location.protocol||!location.hostname)return new Sp.default({...t,...e});let r=location.protocol.replace(":",""),n=location.hostname,i=location.port?parseInt(location.port):r=="https"?443:80,a=(0,YMe.getDefaultConfig)(r,n),s=t.protocol||a.protocol,f=t.host||a.host,l=t.port||a.port||i;return new Sp.default({...t,host:f,protocol:s,port:l})};typeof globalThis=="object"?globalThis.Arweave=Sp.default:typeof self=="object"&&(self.Arweave=Sp.default);JMe(ky(),Tc);Tc.default=Sp.default});x();x();x();var d$=xt(Vs()),br=xt(ew());Ag();x();function gu(t){return t.signatureLength!==void 0}function nE(t){return t.signatureLength!==void 0}x();var l$=xt(PN()),h$=xt(vu()),xd=xt(ew()),c$=new Map([[2,"rust"]]),q2=class{src;wasmSrcCodeDir;wasmGlueCode;constructor(e,r,n){this.src=e,this.wasmSrcCodeDir=r,this.wasmGlueCode=n}async createWasmSrc(){let e=[],r,n={},i=l$.default.meterWASM(this.src,{meterType:"i32"});e.push(this.src);let a=await WebAssembly.compile(this.src),s=WebAssembly.Module.imports(a),f,l=await WebAssembly.instantiate(this.src,U6e(s));if(!l.instance.exports.lang)throw new Error('No info about source type in wasm binary. Did you forget to export "lang" function?');if(f=l.instance.exports.lang(),r=l.instance.exports.version(),!c$.has(f))throw new Error(`Unknown wasm source type ${f}`);let g=c$.get(f);if(this.wasmSrcCodeDir==null)throw new Error("No path to original wasm contract source code");let m=await this.zipContents(this.wasmSrcCodeDir);if(e.push(m),g=="rust"){if(!this.wasmGlueCode)throw new Error("No path to generated wasm-bindgen js code");let T=h$.default.readFileSync(this.wasmGlueCode,"utf-8"),O=(0,xd.matchMutClosureDtor)(T);n.dtor=parseInt(O),e.push(N.Buffer.from(T))}let A=this.joinBuffers(e),I=[{name:xd.WARP_TAGS.WASM_LANG,value:g},{name:xd.WARP_TAGS.WASM_LANG_VERSION,value:r.toString()},{name:xd.WARP_TAGS.WASM_META,value:JSON.stringify(n)}];return{wasmData:A,srcWasmTags:I}}joinBuffers(e){let r=e.length,n=[];return n.push(N.Buffer.from(r.toString())),n.push(N.Buffer.from("|")),e.forEach(i=>{n.push(N.Buffer.from(i.length.toString())),n.push(N.Buffer.from("|"))}),n.push(...e),n.reduce((i,a)=>N.Buffer.concat([i,a]))}async zipContents(e){let r=e$(),n=u$(),i=new n.WritableStreamBuffer({initialSize:1e3*1024,incrementAmount:1e3*1024}),a=r("zip",{zlib:{level:9}});return a.on("error",function(s){throw s}),a.pipe(i),a.directory(e.toString(),e.toString()),await a.finalize(),i.end(),i.getContents()}};function U6e(t){let e={};return t.forEach(r=>{Object.prototype.hasOwnProperty.call(e,r.module)||(e[r.module]={}),e[r.module][r.name]=function(){}}),e}var U2=class{constructor(e){this.warp=e}logger=br.LoggerFactory.INST.create("Source");signature;async createSource(e,r,n=!1){this.logger.debug("Creating new contract source");let{src:i,wasmSrcCodeDir:a,wasmGlueCode:s,tags:f}=e,l=f||[];this.warp.environment=="local"&&(n=!0);let g=n==null?this.warp.definitionLoader.type()=="warp":!n;if(!g&&gu(r))throw new Error("Only ArWallet | CustomSignature wallet type are allowed when bundling is disabled.");if(g&&!gu(r))throw new Error("Only Signer wallet type is allowed when bundling is enabled.");let m=i instanceof d$.Buffer?"wasm":"js";if(m=="js"&&!(0,br.checkJsSrc)(e.src,this.logger))throw new Error('JS contract source does not contain properly exported "handle" function');let A=null,I=[];m=="wasm"&&({wasmData:A,srcWasmTags:I}=await new q2(i,a,s).createWasmSrc());let T=m=="wasm"?A:i,O=l.concat([new br.Tag(br.SMART_WEAVE_TAGS.APP_NAME,"SmartWeaveContractSource"),new br.Tag(br.SMART_WEAVE_TAGS.APP_VERSION,"0.3.0"),new br.Tag(br.SMART_WEAVE_TAGS.SDK,"Warp"),new br.Tag(br.WARP_TAGS.NONCE,Date.now().toString()),new br.Tag(br.SMART_WEAVE_TAGS.CONTENT_TYPE,m=="js"?"application/javascript":"application/wasm")]);return n?this.createSourceArweave(r,T,O,I,m):await this.createSourceBundlr(r,O,I,m,T)}async saveSource(e,r){this.logger.debug("Saving contract source",e.id),this.warp.environment=="local"&&(r=!0);let n=r==null?this.warp.definitionLoader.type()=="warp":!r;if(nE(e)&&!n)throw new Error("Unable to save data item when bundling is disabled.");if(!nE(e)){let f=new br.TagsParser().getTag(e,br.WARP_TAGS.SIGNATURE_TYPE);if(f&&f!="arweave"&&!n)throw new Error(`Unable to save source with signature type: ${f} when bundling is disabled.`)}let i,a;if(n){let s=await this.postSource(e.getRaw());this.logger.debug(s),i=!0}else a=await this.warp.arweave.transactions.post(e),i=a.status===200||a.status===208;if(i)return e.id;throw new Error(`Unable to write Contract Source. Arweave responded with status ${a.status}: ${a.statusText}`)}async postSource(e){return await(0,br.getJsonResponse)(fetch(`${this.warp.gwUrl()}/gateway/v2/sources/deploy`,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},body:e}))}async createSourceArweave(e,r,n,i,a){if(this.signature=new br.Signature(this.warp,e),this.signature.type!=="arweave")throw new Error(`Unable to use signing function of type: ${this.signature.type}.`);let s=this.signature.signer,f=await this.warp.arweave.createTransaction({data:r});return n.forEach(l=>f.addTag(l.name,l.value)),a=="wasm"&&i.forEach(l=>f.addTag(l.name,l.value)),this.warp.environment==="testnet"&&f.addTag(br.WARP_TAGS.WARP_TESTNET,"1.0.0"),await s(f),this.logger.debug("Posting transaction with source"),f}async createSourceBundlr(e,r,n,i,a){let s=[...r];i=="wasm"&&n.forEach(l=>s.push(new br.Tag(l.name,l.value))),this.warp.environment==="testnet"&&s.push(new br.Tag(br.WARP_TAGS.WARP_TESTNET,"1.0.0"));let f;return(0,br.isBrowser)()&&e.signer&&e.signer.signDataItem?f=await e.signDataItem(a,s):(f=w0(a,e,{tags:s}),await f.sign(e)),this.logger.debug("Posting transaction with source"),f}};var hr=xt(ew());Ag();var F2=class{constructor(e){this.warp=e;this.deployFromSourceTx=this.deployFromSourceTx.bind(this),this.source=new U2(this.warp),this.warpFetchWrapper=new hr.WarpFetchWrapper(this.warp)}logger=hr.LoggerFactory.INST.create("DefaultCreateContract");source;signature;warpFetchWrapper;async deploy(e,r){let{wallet:n,initState:i,tags:a,transfer:s,data:f,evaluationManifest:l}=e,g,m=r==null?this.warp.definitionLoader.type()=="warp":!r;g=await this.source.createSource(e,n,!m),m||await this.source.saveSource(g,!0),this.logger.debug("Creating new contract");let A=await g.id;return await this.deployFromSourceTx({srcTxId:A,wallet:n,initState:i,tags:a,transfer:s,data:f,evaluationManifest:l},!m,g)}async deployFromSourceTx(e,r,n=null){this.logger.debug("Creating new contract from src tx");let{wallet:i,srcTxId:a,initState:s,data:f}=e,l,g,m,A=r==null?this.warp.definitionLoader.type()=="warp":!r;if(!A&&gu(i))throw new Error("Only ArWallet | CustomSignature wallet type are allowed when bundling is disabled.");if(A&&!gu(i))throw new Error("Only Signer wallet type is allowed when bundling is enabled.");let I={contract:[{name:hr.SMART_WEAVE_TAGS.APP_NAME,value:"SmartWeaveContract"},{name:hr.SMART_WEAVE_TAGS.APP_VERSION,value:"0.3.0"},{name:hr.SMART_WEAVE_TAGS.CONTRACT_SRC_TX_ID,value:a},{name:hr.SMART_WEAVE_TAGS.SDK,value:"Warp"},{name:hr.WARP_TAGS.NONCE,value:Date.now().toString()}],contractData:[{name:hr.SMART_WEAVE_TAGS.CONTENT_TYPE,value:f&&f["Content-Type"]},{name:hr.WARP_TAGS.INIT_STATE,value:s}],contractNonData:[{name:hr.SMART_WEAVE_TAGS.CONTENT_TYPE,value:"application/json"}],contractTestnet:[{name:hr.WARP_TAGS.WARP_TESTNET,value:"1.0.0"}],contractEvaluationManifest:[{name:hr.WARP_TAGS.MANIFEST,value:JSON.stringify(e.evaluationManifest)}]};A?{contract:l,responseOk:g}=await this.deployContractBundlr(e,I,n):{contract:l,responseOk:g}=await this.deployContractArweave(A,e,I);let T=await l.id;if(g)return{contractTxId:T,srcTxId:a};throw new Error(`Unable to write Contract. Arweave responded with status ${m.status}: ${m.statusText}`)}async deployBundled(e){return await(0,hr.getJsonResponse)(fetch(`${this.warp.gwUrl()}/gateway/contracts/deploy-bundled`,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},body:e}))}async register(e,r){return await(0,hr.getJsonResponse)(fetch(`${this.warp.gwUrl()}/gateway/contracts/register`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:e,registerProvider:r})}))}async createSource(e,r,n=!1){return this.source.createSource(e,r,n)}async saveSource(e,r){return this.source.saveSource(e,r)}async postContract(e,r=null){let n={contract:e};return r&&(n={...n,src:r}),await(0,hr.getJsonResponse)(this.warpFetchWrapper.fetch(`${this.warp.gwUrl()}/gateway/v2/contracts/deploy`,{method:"POST",body:JSON.stringify(n),headers:{"Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json",Accept:"application/json"}}))}async deployContractArweave(e,r,n){let{wallet:i,initState:a,transfer:s,data:f,tags:l}=r;this.signature=new hr.Signature(this.warp,i),!gu(i)&&this.signature.checkNonArweaveSigningAvailability(e);let g=this.signature.signer;!gu(i)&&this.signature.checkNonArweaveSigningAvailability(e);let m=await this.warp.arweave.createTransaction({data:f?.body||a});if(+s?.winstonQty>0&&s.target.length&&(this.logger.debug("Creating additional transaction with AR transfer",s),m=await this.warp.arweave.createTransaction({data:f?.body||a,target:s.target,quantity:s.winstonQty})),l?.length)for(let I of l)m.addTag(I.name.toString(),I.value.toString());n.contract.forEach(I=>m.addTag(I.name,I.value)),f?n.contractData.forEach(I=>m.addTag(I.name,I.value)):n.contractNonData.forEach(I=>m.addTag(I.name,I.value)),this.warp.environment==="testnet"&&n.contractTestnet.forEach(I=>m.addTag(I.name,I.value)),r.evaluationManifest&&n.contractEvaluationManifest.forEach(I=>m.addTag(I.name,I.value)),await g(m);let A=await this.warp.arweave.transactions.post(m);return{contract:m,responseOk:A.status===200||A.status===208}}async deployContractBundlr(e,r,n=null){let{wallet:i,initState:a,data:s,tags:f}=e,l=[...r.contract];if(f?.length)for(let m of f)l.push(new hr.Tag(m.name.toString(),m.value.toString()));s?r.contractData.forEach(m=>l.push(new hr.Tag(m.name,m.value))):r.contractNonData.forEach(m=>l.push(new hr.Tag(m.name,m.value))),this.warp.environment==="testnet"&&r.contractTestnet.forEach(m=>l.push(new hr.Tag(m.name,m.value))),e.evaluationManifest&&r.contractEvaluationManifest.forEach(m=>l.push(new hr.Tag(m.name,m.value)));let g;return(0,hr.isBrowser)()&&i.signer&&i.signer.signDataItem?g=await i.signDataItem(s?.body||a,l):(g=w0(s?.body||a,i,{tags:l}),await g.sign(i)),await this.postContract(g.getRaw(),n?.getRaw()),{contract:g,responseOk:!0}}isRegisterProviderType(e){return hr.REGISTER_PROVIDER.includes(e)}};x();var p$=class{process(e){return new F2(e)}type(){return"deploy"}};x();x();var fI={};Ip(fI,{AVSCTap:()=>Ty,AlgorandSigner:()=>my,AptosSigner:()=>wy,ArconnectSigner:()=>Ey,Arweave:()=>op,ArweaveSigner:()=>vc,Bundle:()=>Y6,BundleItem:()=>sI,CryptoDriver:()=>_6,Curve25519:()=>ha,DataItem:()=>Hf,EthereumSigner:()=>$o,HexInjectedSolanaSigner:()=>Bh,HexSolanaSigner:()=>by,InjectedAptosSigner:()=>Ph,InjectedEthereumSigner:()=>K6,InjectedSolanaSigner:()=>_h,InjectedTypedEthereumSigner:()=>rI,MAX_TAG_BYTES:()=>V6,MIN_BINARY_SIZE:()=>Z6,MultiSignatureAptosSigner:()=>Nh,NearSigner:()=>yy,PolygonSigner:()=>vy,Rsa4096:()=>wh,SIG_CONFIG:()=>Rt,SignatureConfig:()=>_t,Signer:()=>BA,SolanaSigner:()=>Wf,TypedEthereumSigner:()=>Lh,bundleAndSignData:()=>gMe,byteArrayToLong:()=>ln,concatBuffers:()=>pn,createData:()=>oI,deepHash:()=>cc,deserializeTags:()=>mp,exportForTesting:()=>lMe,getCryptoDriver:()=>gn,getSignatureAndId:()=>gre,indexToType:()=>Sy,keccak256:()=>XO,longTo16ByteArray:()=>dMe,longTo32ByteArray:()=>$6,longTo8ByteArray:()=>H6,longToNByteArray:()=>My,secp256k1:()=>Ch,serializeTags:()=>iI,shortTo2ByteArray:()=>nI,sign:()=>J6,stringToBuffer:()=>Ct,unbundleData:()=>pMe});x();x();x();var BA=class{publicKey;signatureType;signatureLength;ownerLength;pem;static verify(e,r,n,i){throw new Error("You must implement verify method on child")}};x();x();var eQ=xt(sa(),1);x();var _t;(function(t){t[t.ARWEAVE=1]="ARWEAVE",t[t.ED25519=2]="ED25519",t[t.ETHEREUM=3]="ETHEREUM",t[t.SOLANA=4]="SOLANA",t[t.INJECTEDAPTOS=5]="INJECTEDAPTOS",t[t.MULTIAPTOS=6]="MULTIAPTOS",t[t.TYPEDETHEREUM=7]="TYPEDETHEREUM"})(_t||(_t={}));var Rt={[_t.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[_t.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[_t.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[_t.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[_t.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[_t.MULTIAPTOS]:{sigLength:64*32+4,pubLength:32*32+1,sigName:"multiAptos"},[_t.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}};x();var _7e=xt(Xu(),1);var Un=BigInt(0),er=BigInt(1),oc=BigInt(2),E7e=BigInt(8),HX=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Wr=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:HX,n:HX,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var YX=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Lv=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),NWe=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),S7e=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),A7e=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),M7e=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),T7e=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Vt=class{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof Vr))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Vr.ZERO)?Vt.ZERO:new Vt(e.x,e.y,er,Qe(e.x*e.y))}static toAffineBatch(e){let r=R7e(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){VX(e);let{x:r,y:n,z:i}=this,{x:a,y:s,z:f}=e,l=Qe(r*f),g=Qe(a*i),m=Qe(n*f),A=Qe(s*i);return l===g&&m===A}negate(){return new Vt(Qe(-this.x),this.y,this.z,Qe(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=Wr,a=Qe(e*e),s=Qe(r*r),f=Qe(oc*Qe(n*n)),l=Qe(i*a),g=e+r,m=Qe(Qe(g*g)-a-s),A=l+s,I=A-f,T=l-s,O=Qe(m*I),U=Qe(A*T),Z=Qe(m*T),Y=Qe(I*A);return new Vt(O,U,Y,Z)}add(e){VX(e);let{x:r,y:n,z:i,t:a}=this,{x:s,y:f,z:l,t:g}=e,m=Qe((n-r)*(f+s)),A=Qe((n+r)*(f-s)),I=Qe(A-m);if(I===Un)return this.double();let T=Qe(i*oc*g),O=Qe(a*oc*l),U=O+T,Z=A+m,Y=O-T,re=Qe(U*I),pe=Qe(Z*Y),he=Qe(U*Y),se=Qe(I*Z);return new Vt(re,pe,se,he)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,a=i;for(let s=0;s<r;s++){a=i,n.push(a);for(let f=1;f<2**(e-1);f++)a=a.add(i),n.push(a);i=a.double()}return n}wNAF(e,r){!r&&this.equals(Vt.BASE)&&(r=Vr.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&CT.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=Vt.normalizeZ(i),CT.set(r,i)));let a=Vt.ZERO,s=Vt.BASE,f=1+256/n,l=2**(n-1),g=BigInt(2**n-1),m=2**n,A=BigInt(n);for(let I=0;I<f;I++){let T=I*l,O=Number(e&g);e>>=A,O>l&&(O-=m,e+=er);let U=T,Z=T+Math.abs(O)-1,Y=I%2!==0,re=O<0;O===0?s=s.add($X(Y,i[U])):a=a.add($X(re,i[Z]))}return Vt.normalizeZ([a,s])[0]}multiply(e,r){return this.wNAF(J_(e,Wr.l),r)}multiplyUnsafe(e){let r=J_(e,Wr.l,!1),n=Vt.BASE,i=Vt.ZERO;if(r===Un)return i;if(this.equals(i)||r===er)return this;if(this.equals(n))return this.wNAF(r);let a=i,s=this;for(;r>Un;)r&er&&(a=a.add(s)),s=s.double(),r>>=er;return a}isSmallOrder(){return this.multiplyUnsafe(Wr.h).equals(Vt.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(Wr.l/oc).double();return Wr.l%oc&&(e=e.add(this)),e.equals(Vt.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,a=this.equals(Vt.ZERO);e==null&&(e=a?E7e:Y_(i));let s=Qe(r*e),f=Qe(n*e),l=Qe(i*e);if(a)return Vr.ZERO;if(l!==er)throw new Error("invZ was invalid");return new Vr(s,f)}fromRistrettoBytes(){IT()}toRistrettoBytes(){IT()}fromRistrettoHash(){IT()}};Vt.BASE=new Vt(Wr.Gx,Wr.Gy,er,Qe(Wr.Gx*Wr.Gy));Vt.ZERO=new Vt(Un,er,er,Un);function $X(t,e){let r=e.negate();return t?r:e}function VX(t){if(!(t instanceof Vt))throw new TypeError("ExtendedPoint expected")}function OT(t){if(!(t instanceof ji))throw new TypeError("RistrettoPoint expected")}function IT(){throw new Error("Legacy method: switch to RistrettoPoint")}var ji=class{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=Wr,n=Qe(Lv*e*e),i=Qe((n+er)*M7e),a=BigInt(-1),s=Qe((a-r*n)*Qe(n+r)),{isValid:f,value:l}=PT(i,s),g=Qe(l*e);ac(g)||(g=Qe(-g)),f||(l=g),f||(a=n);let m=Qe(a*(n-er)*T7e-s),A=l*l,I=Qe((l+l)*s),T=Qe(m*S7e),O=Qe(er-A),U=Qe(er+A);return new Vt(Qe(I*U),Qe(O*T),Qe(T*U),Qe(I*O))}static hashToCurve(e){e=sc(e,64);let r=RT(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=RT(e.slice(32,64)),a=this.calcElligatorRistrettoMap(i);return new ji(n.add(a))}static fromHex(e){e=sc(e,32);let{a:r,d:n}=Wr,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",a=RT(e);if(!C7e(Dv(a),e)||ac(a))throw new Error(i);let s=Qe(a*a),f=Qe(er+r*s),l=Qe(er-r*s),g=Qe(f*f),m=Qe(l*l),A=Qe(r*n*g-m),{isValid:I,value:T}=JX(Qe(A*m)),O=Qe(T*l),U=Qe(T*O*A),Z=Qe((a+a)*O);ac(Z)&&(Z=Qe(-Z));let Y=Qe(f*U),re=Qe(Z*Y);if(!I||ac(re)||Y===Un)throw new Error(i);return new ji(new Vt(Z,Y,er,re))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,a=Qe(Qe(n+r)*Qe(n-r)),s=Qe(e*r),f=Qe(s*s),{value:l}=JX(Qe(a*f)),g=Qe(l*a),m=Qe(l*s),A=Qe(g*m*i),I;if(ac(i*A)){let O=Qe(r*Lv),U=Qe(e*Lv);e=O,r=U,I=Qe(g*A7e)}else I=m;ac(e*A)&&(r=Qe(-r));let T=Qe((n-r)*I);return ac(T)&&(T=Qe(-T)),Dv(T)}toHex(){return qv(this.toRawBytes())}toString(){return this.toHex()}equals(e){OT(e);let r=this.ep,n=e.ep,i=Qe(r.x*n.y)===Qe(r.y*n.x),a=Qe(r.y*n.y)===Qe(r.x*n.x);return i||a}add(e){return OT(e),new ji(this.ep.add(e.ep))}subtract(e){return OT(e),new ji(this.ep.subtract(e.ep))}multiply(e){return new ji(this.ep.multiply(e))}multiplyUnsafe(e){return new ji(this.ep.multiplyUnsafe(e))}};ji.BASE=new ji(Vt.BASE);ji.ZERO=new ji(Vt.ZERO);var CT=new WeakMap,Vr=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,CT.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=Wr;e=sc(e,32);let a=e.slice();a[31]=e[31]&-129;let s=Uv(a);if(r&&s>=i)throw new Error("Expected 0 < hex < P");if(!r&&s>=YX)throw new Error("Expected 0 < hex < 2**256");let f=Qe(s*s),l=Qe(f-er),g=Qe(n*f+er),{isValid:m,value:A}=PT(l,g);if(!m)throw new Error("Point.fromHex: invalid y coordinate");let I=(A&er)===er;return(e[31]&128)!==0!==I&&(A=Qe(-A)),new Vr(A,s)}static async fromPrivateKey(e){return(await NT(e)).point}toRawBytes(){let e=Dv(this.y);return e[31]|=this.x&er?128:0,e}toHex(){return qv(this.toRawBytes())}toX25519(){let{y:e}=this,r=Qe((er+e)*Y_(er-e));return Dv(r)}isTorsionFree(){return Vt.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Vr(Qe(-this.x),this.y)}add(e){return Vt.fromAffine(this).add(Vt.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Vt.fromAffine(this).multiply(e,this).toAffine()}};Vr.BASE=new Vr(Wr.Gx,Wr.Gy);Vr.ZERO=new Vr(Un,er);var gh=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=sc(e,64),n=Vr.fromHex(r.slice(0,32),!1),i=Uv(r.slice(32,64));return new gh(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof Vr))throw new Error("Expected Point instance");return J_(r,Wr.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Dv(this.s),32),e}toHex(){return qv(this.toRawBytes())}};function ZX(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let a=t[n];r.set(a,i),i+=a.length}return r}var O7e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function qv(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=O7e[t[r]];return e}function BT(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[r]=a}return e}function XX(t){let r=t.toString(16).padStart(64,"0");return BT(r)}function Dv(t){return XX(t).reverse()}function ac(t){return(Qe(t)&er)===er}function Uv(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+qv(Uint8Array.from(t).reverse()))}var I7e=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function RT(t){return Qe(Uv(t)&I7e)}function Qe(t,e=Wr.P){let r=t%e;return r>=Un?r:e+r}function Y_(t,e=Wr.P){if(t===Un||e<=Un)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Qe(t,e),n=e,i=Un,a=er,s=er,f=Un;for(;r!==Un;){let g=n/r,m=n%r,A=i-s*g,I=a-f*g;n=r,r=m,i=s,a=f,s=A,f=I}if(n!==er)throw new Error("invert: does not exist");return Qe(i,e)}function R7e(t,e=Wr.P){let r=new Array(t.length),n=t.reduce((a,s,f)=>s===Un?a:(r[f]=a,Qe(a*s,e)),er),i=Y_(n,e);return t.reduceRight((a,s,f)=>s===Un?a:(r[f]=Qe(a*r[f],e),Qe(a*s,e)),i),r}function Ps(t,e){let{P:r}=Wr,n=t;for(;e-- >Un;)n*=n,n%=r;return n}function k7e(t){let{P:e}=Wr,r=BigInt(5),n=BigInt(10),i=BigInt(20),a=BigInt(40),s=BigInt(80),l=t*t%e*t%e,g=Ps(l,oc)*l%e,m=Ps(g,er)*t%e,A=Ps(m,r)*m%e,I=Ps(A,n)*A%e,T=Ps(I,i)*I%e,O=Ps(T,a)*T%e,U=Ps(O,s)*O%e,Z=Ps(U,s)*O%e,Y=Ps(Z,n)*A%e;return{pow_p_5_8:Ps(Y,oc)*t%e,b2:l}}function PT(t,e){let r=Qe(e*e*e),n=Qe(r*r*e),i=k7e(t*n).pow_p_5_8,a=Qe(t*r*i),s=Qe(e*a*a),f=a,l=Qe(a*Lv),g=s===t,m=s===Qe(-t),A=s===Qe(-t*Lv);return g&&(a=f),(m||A)&&(a=l),ac(a)&&(a=Qe(-a)),{isValid:g||m,value:a}}function JX(t){return PT(er,t)}function Z_(t){return Qe(Uv(t),Wr.l)}function C7e(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function sc(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):BT(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function J_(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(Un<t)return t}else if(Un<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function B7e(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function P7e(t){if(t=typeof t=="bigint"||typeof t=="number"?XX(J_(t,YX)):sc(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function N7e(t){let e=B7e(t.slice(0,32)),r=t.slice(32,64),n=Z_(e),i=Vr.BASE.multiply(n),a=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:a}}var kT;async function NT(t){return N7e(await Yd.sha512(P7e(t)))}async function QX(t,e){t=sc(t);let{prefix:r,scalar:n,pointBytes:i}=await NT(e),a=Z_(await Yd.sha512(r,t)),s=Vr.BASE.multiply(a),f=Z_(await Yd.sha512(s.toRawBytes(),i,t)),l=Qe(a+f*n,Wr.l);return new gh(s,l).toRawBytes()}function L7e(t,e,r){e=sc(e),r instanceof Vr||(r=Vr.fromHex(r,!1));let{r:n,s:i}=t instanceof gh?t.assertValidity():gh.fromHex(t),a=Vt.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:a,pub:r,msg:e}}function D7e(t,e,r,n){let i=Z_(n),a=Vt.fromAffine(t).multiplyUnsafe(i);return Vt.fromAffine(e).add(a).subtract(r).multiplyUnsafe(Wr.h).equals(Vt.ZERO)}async function fc(t,e,r){let{r:n,SB:i,msg:a,pub:s}=L7e(t,e,r),f=await Yd.sha512(n.toRawBytes(),s.toRawBytes(),a);return D7e(s,n,i,f)}Vr.BASE._setWindowSize(8);var ic={node:_7e,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Yd={bytesToHex:qv,hexToBytes:BT,concatBytes:ZX,getExtendedPublicKey:NT,mod:Qe,invert:Y_,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=sc(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return Qe(Uv(t),Wr.l-er)+er},randomBytes:(t=32)=>{if(ic.web)return ic.web.getRandomValues(new Uint8Array(t));if(ic.node){let{randomBytes:e}=ic.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Yd.randomBytes(32),sha512:async(...t)=>{let e=ZX(...t);if(ic.web){let r=await ic.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(ic.node)return Uint8Array.from(ic.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=Vr.BASE){let r=e.equals(Vr.BASE)?e:new Vr(e.x,e.y);return r._setWindowSize(t),r.multiply(oc),r},sha512Sync:void 0};Object.defineProperties(Yd,{sha512Sync:{configurable:!1,get(){return kT},set(t){kT||(kT=t)}}});var ha=class{_key;pk;ownerLength=Rt[2].pubLength;signatureLength=Rt[2].sigLength;_publicKey;get publicKey(){return this._publicKey}signatureType=2;constructor(e,r){this._key=e,this.pk=r}get key(){throw new Error("You must implement `key`")}sign(e){return QX(N.Buffer.from(e),N.Buffer.from(this.key))}static async verify(e,r,n){let i=e;return typeof e=="string"&&(i=eQ.default.toBuffer(e)),fc(N.Buffer.from(n),N.Buffer.from(r),N.Buffer.from(i))}};x();x();x();x();x();var yh={};Ip(yh,{arToWinston:()=>j7e,b64UrlDecode:()=>aQ,b64UrlEncode:()=>iQ,b64UrlToBuffer:()=>gi,b64UrlToString:()=>UT,bufferToString:()=>t6,bufferTob64:()=>nQ,bufferTob64Url:()=>Mi,concatBuffers:()=>pn,stringToB64Url:()=>r6,stringToBuffer:()=>Ct,winstonToAr:()=>F7e});x();var e6=xt(Rp(),1);x();var q7e=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,LT=Math.ceil,Qa=Math.floor,zi="[BigNumber Error] ",tQ=zi+"Number primitive has more than 15 significant digits: ",Fo=1e14,At=14,DT=9007199254740991,qT=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],uc=1e7,Fn=1e9;function rQ(t){var e,r,n,i=re.prototype={constructor:re,toString:null,valueOf:null},a=new re(1),s=20,f=4,l=-7,g=21,m=-1e7,A=1e7,I=!1,T=1,O=0,U={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},Z="0123456789abcdefghijklmnopqrstuvwxyz",Y=!0;function re(G,L){var q,S,B,y,o,u,h,p,v=this;if(!(v instanceof re))return new re(G,L);if(L==null){if(G&&G._isBigNumber===!0){v.s=G.s,!G.c||G.e>A?v.c=v.e=null:G.e<m?v.c=[v.e=0]:(v.e=G.e,v.c=G.c.slice());return}if((u=typeof G=="number")&&G*0==0){if(v.s=1/G<0?(G=-G,-1):1,G===~~G){for(y=0,o=G;o>=10;o/=10,y++);y>A?v.c=v.e=null:(v.e=y,v.c=[G]);return}p=String(G)}else{if(!q7e.test(p=String(G)))return n(v,p,u);v.s=p.charCodeAt(0)==45?(p=p.slice(1),-1):1}(y=p.indexOf("."))>-1&&(p=p.replace(".","")),(o=p.search(/e/i))>0?(y<0&&(y=o),y+=+p.slice(o+1),p=p.substring(0,o)):y<0&&(y=p.length)}else{if(Qr(L,2,Z.length,"Base"),L==10&&Y)return v=new re(G),fe(v,s+v.e+1,f);if(p=String(G),u=typeof G=="number"){if(G*0!=0)return n(v,p,u,L);if(v.s=1/G<0?(p=p.slice(1),-1):1,re.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(tQ+G)}else v.s=p.charCodeAt(0)===45?(p=p.slice(1),-1):1;for(q=Z.slice(0,L),y=o=0,h=p.length;o<h;o++)if(q.indexOf(S=p.charAt(o))<0){if(S=="."){if(o>y){y=h;continue}}else if(!B&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){B=!0,o=-1,y=0;continue}return n(v,String(G),u,L)}u=!1,p=r(p,L,10,v.s),(y=p.indexOf("."))>-1?p=p.replace(".",""):y=p.length}for(o=0;p.charCodeAt(o)===48;o++);for(h=p.length;p.charCodeAt(--h)===48;);if(p=p.slice(o,++h)){if(h-=o,u&&re.DEBUG&&h>15&&(G>DT||G!==Qa(G)))throw Error(tQ+v.s*G);if((y=y-o-1)>A)v.c=v.e=null;else if(y<m)v.c=[v.e=0];else{if(v.e=y,v.c=[],o=(y+1)%At,y<0&&(o+=At),o<h){for(o&&v.c.push(+p.slice(0,o)),h-=At;o<h;)v.c.push(+p.slice(o,o+=At));o=At-(p=p.slice(o)).length}else o-=h;for(;o--;p+="0");v.c.push(+p)}}else v.c=[v.e=0]}re.clone=rQ,re.ROUND_UP=0,re.ROUND_DOWN=1,re.ROUND_CEIL=2,re.ROUND_FLOOR=3,re.ROUND_HALF_UP=4,re.ROUND_HALF_DOWN=5,re.ROUND_HALF_EVEN=6,re.ROUND_HALF_CEIL=7,re.ROUND_HALF_FLOOR=8,re.EUCLID=9,re.config=re.set=function(G){var L,q;if(G!=null)if(typeof G=="object"){if(G.hasOwnProperty(L="DECIMAL_PLACES")&&(q=G[L],Qr(q,0,Fn,L),s=q),G.hasOwnProperty(L="ROUNDING_MODE")&&(q=G[L],Qr(q,0,8,L),f=q),G.hasOwnProperty(L="EXPONENTIAL_AT")&&(q=G[L],q&&q.pop?(Qr(q[0],-Fn,0,L),Qr(q[1],0,Fn,L),l=q[0],g=q[1]):(Qr(q,-Fn,Fn,L),l=-(g=q<0?-q:q))),G.hasOwnProperty(L="RANGE"))if(q=G[L],q&&q.pop)Qr(q[0],-Fn,-1,L),Qr(q[1],1,Fn,L),m=q[0],A=q[1];else if(Qr(q,-Fn,Fn,L),q)m=-(A=q<0?-q:q);else throw Error(zi+L+" cannot be zero: "+q);if(G.hasOwnProperty(L="CRYPTO"))if(q=G[L],q===!!q)if(q)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))I=q;else throw I=!q,Error(zi+"crypto unavailable");else I=q;else throw Error(zi+L+" not true or false: "+q);if(G.hasOwnProperty(L="MODULO_MODE")&&(q=G[L],Qr(q,0,9,L),T=q),G.hasOwnProperty(L="POW_PRECISION")&&(q=G[L],Qr(q,0,Fn,L),O=q),G.hasOwnProperty(L="FORMAT"))if(q=G[L],typeof q=="object")U=q;else throw Error(zi+L+" not an object: "+q);if(G.hasOwnProperty(L="ALPHABET"))if(q=G[L],typeof q=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(q))Y=q.slice(0,10)=="0123456789",Z=q;else throw Error(zi+L+" invalid: "+q)}else throw Error(zi+"Object expected: "+G);return{DECIMAL_PLACES:s,ROUNDING_MODE:f,EXPONENTIAL_AT:[l,g],RANGE:[m,A],CRYPTO:I,MODULO_MODE:T,POW_PRECISION:O,FORMAT:U,ALPHABET:Z}},re.isBigNumber=function(G){if(!G||G._isBigNumber!==!0)return!1;if(!re.DEBUG)return!0;var L,q,S=G.c,B=G.e,y=G.s;e:if({}.toString.call(S)=="[object Array]"){if((y===1||y===-1)&&B>=-Fn&&B<=Fn&&B===Qa(B)){if(S[0]===0){if(B===0&&S.length===1)return!0;break e}if(L=(B+1)%At,L<1&&(L+=At),String(S[0]).length==L){for(L=0;L<S.length;L++)if(q=S[L],q<0||q>=Fo||q!==Qa(q))break e;if(q!==0)return!0}}}else if(S===null&&B===null&&(y===null||y===1||y===-1))return!0;throw Error(zi+"Invalid BigNumber: "+G)},re.maximum=re.max=function(){return he(arguments,-1)},re.minimum=re.min=function(){return he(arguments,1)},re.random=function(){var G=9007199254740992,L=Math.random()*G&2097151?function(){return Qa(Math.random()*G)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(q){var S,B,y,o,u,h=0,p=[],v=new re(a);if(q==null?q=s:Qr(q,0,Fn),o=LT(q/At),I)if(crypto.getRandomValues){for(S=crypto.getRandomValues(new Uint32Array(o*=2));h<o;)u=S[h]*131072+(S[h+1]>>>11),u>=9e15?(B=crypto.getRandomValues(new Uint32Array(2)),S[h]=B[0],S[h+1]=B[1]):(p.push(u%1e14),h+=2);h=o/2}else if(crypto.randomBytes){for(S=crypto.randomBytes(o*=7);h<o;)u=(S[h]&31)*281474976710656+S[h+1]*1099511627776+S[h+2]*4294967296+S[h+3]*16777216+(S[h+4]<<16)+(S[h+5]<<8)+S[h+6],u>=9e15?crypto.randomBytes(7).copy(S,h):(p.push(u%1e14),h+=7);h=o/7}else throw I=!1,Error(zi+"crypto unavailable");if(!I)for(;h<o;)u=L(),u<9e15&&(p[h++]=u%1e14);for(o=p[--h],q%=At,o&&q&&(u=qT[At-q],p[h]=Qa(o/u)*u);p[h]===0;p.pop(),h--);if(h<0)p=[y=0];else{for(y=-1;p[0]===0;p.splice(0,1),y-=At);for(h=1,u=p[0];u>=10;u/=10,h++);h<At&&(y-=At-h)}return v.e=y,v.c=p,v}}(),re.sum=function(){for(var G=1,L=arguments,q=new re(L[0]);G<L.length;)q=q.plus(L[G++]);return q},r=function(){var G="0123456789";function L(q,S,B,y){for(var o,u=[0],h,p=0,v=q.length;p<v;){for(h=u.length;h--;u[h]*=S);for(u[0]+=y.indexOf(q.charAt(p++)),o=0;o<u.length;o++)u[o]>B-1&&(u[o+1]==null&&(u[o+1]=0),u[o+1]+=u[o]/B|0,u[o]%=B)}return u.reverse()}return function(q,S,B,y,o){var u,h,p,v,d,E,w,c,b=q.indexOf("."),ue=s,F=f;for(b>=0&&(v=O,O=0,q=q.replace(".",""),c=new re(S),E=c.pow(q.length-b),O=v,c.c=L(Pf(Xa(E.c),E.e,"0"),10,B,G),c.e=c.c.length),w=L(q,S,B,o?(u=Z,G):(u=G,Z)),p=v=w.length;w[--v]==0;w.pop());if(!w[0])return u.charAt(0);if(b<0?--p:(E.c=w,E.e=p,E.s=y,E=e(E,c,ue,F,B),w=E.c,d=E.r,p=E.e),h=p+ue+1,b=w[h],v=B/2,d=d||h<0||w[h+1]!=null,d=F<4?(b!=null||d)&&(F==0||F==(E.s<0?3:2)):b>v||b==v&&(F==4||d||F==6&&w[h-1]&1||F==(E.s<0?8:7)),h<1||!w[0])q=d?Pf(u.charAt(1),-ue,u.charAt(0)):u.charAt(0);else{if(w.length=h,d)for(--B;++w[--h]>B;)w[h]=0,h||(++p,w=[1].concat(w));for(v=w.length;!w[--v];);for(b=0,q="";b<=v;q+=u.charAt(w[b++]));q=Pf(q,p,u.charAt(0))}return q}}(),e=function(){function G(S,B,y){var o,u,h,p,v=0,d=S.length,E=B%uc,w=B/uc|0;for(S=S.slice();d--;)h=S[d]%uc,p=S[d]/uc|0,o=w*h+p*E,u=E*h+o%uc*uc+v,v=(u/y|0)+(o/uc|0)+w*p,S[d]=u%y;return v&&(S=[v].concat(S)),S}function L(S,B,y,o){var u,h;if(y!=o)h=y>o?1:-1;else for(u=h=0;u<y;u++)if(S[u]!=B[u]){h=S[u]>B[u]?1:-1;break}return h}function q(S,B,y,o){for(var u=0;y--;)S[y]-=u,u=S[y]<B[y]?1:0,S[y]=u*o+S[y]-B[y];for(;!S[0]&&S.length>1;S.splice(0,1));}return function(S,B,y,o,u){var h,p,v,d,E,w,c,b,ue,F,ne,ce,xe,M,k,C,z,H=S.s==B.s?1:-1,j=S.c,J=B.c;if(!j||!j[0]||!J||!J[0])return new re(!S.s||!B.s||(j?J&&j[0]==J[0]:!J)?NaN:j&&j[0]==0||!J?H*0:H/0);for(b=new re(H),ue=b.c=[],p=S.e-B.e,H=y+p+1,u||(u=Fo,p=eo(S.e/At)-eo(B.e/At),H=H/At|0),v=0;J[v]==(j[v]||0);v++);if(J[v]>(j[v]||0)&&p--,H<0)ue.push(1),d=!0;else{for(M=j.length,C=J.length,v=0,H+=2,E=Qa(u/(J[0]+1)),E>1&&(J=G(J,E,u),j=G(j,E,u),C=J.length,M=j.length),xe=C,F=j.slice(0,C),ne=F.length;ne<C;F[ne++]=0);z=J.slice(),z=[0].concat(z),k=J[0],J[1]>=u/2&&k++;do{if(E=0,h=L(J,F,C,ne),h<0){if(ce=F[0],C!=ne&&(ce=ce*u+(F[1]||0)),E=Qa(ce/k),E>1)for(E>=u&&(E=u-1),w=G(J,E,u),c=w.length,ne=F.length;L(w,F,c,ne)==1;)E--,q(w,C<c?z:J,c,u),c=w.length,h=1;else E==0&&(h=E=1),w=J.slice(),c=w.length;if(c<ne&&(w=[0].concat(w)),q(F,w,ne,u),ne=F.length,h==-1)for(;L(J,F,C,ne)<1;)E++,q(F,C<ne?z:J,ne,u),ne=F.length}else h===0&&(E++,F=[0]);ue[v++]=E,F[0]?F[ne++]=j[xe]||0:(F=[j[xe]],ne=1)}while((xe++<M||F[0]!=null)&&H--);d=F[0]!=null,ue[0]||ue.splice(0,1)}if(u==Fo){for(v=1,H=ue[0];H>=10;H/=10,v++);fe(b,y+(b.e=v+p*At-1)+1,o,d)}else b.e=p,b.r=+d;return b}}();function pe(G,L,q,S){var B,y,o,u,h;if(q==null?q=f:Qr(q,0,8),!G.c)return G.toString();if(B=G.c[0],o=G.e,L==null)h=Xa(G.c),h=S==1||S==2&&(o<=l||o>=g)?Q_(h,o):Pf(h,o,"0");else if(G=fe(new re(G),L,q),y=G.e,h=Xa(G.c),u=h.length,S==1||S==2&&(L<=y||y<=l)){for(;u<L;h+="0",u++);h=Q_(h,y)}else if(L-=o,h=Pf(h,y,"0"),y+1>u){if(--L>0)for(h+=".";L--;h+="0");}else if(L+=y-u,L>0)for(y+1==u&&(h+=".");L--;h+="0");return G.s<0&&B?"-"+h:h}function he(G,L){for(var q,S,B=1,y=new re(G[0]);B<G.length;B++)S=new re(G[B]),(!S.s||(q=vh(y,S))===L||q===0&&y.s===L)&&(y=S);return y}function se(G,L,q){for(var S=1,B=L.length;!L[--B];L.pop());for(B=L[0];B>=10;B/=10,S++);return(q=S+q*At-1)>A?G.c=G.e=null:q<m?G.c=[G.e=0]:(G.e=q,G.c=L),G}n=function(){var G=/^(-?)0([xbo])(?=\w[\w.]*$)/i,L=/^([^.]+)\.$/,q=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,B=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(y,o,u,h){var p,v=u?o:o.replace(B,"");if(S.test(v))y.s=isNaN(v)?null:v<0?-1:1;else{if(!u&&(v=v.replace(G,function(d,E,w){return p=(w=w.toLowerCase())=="x"?16:w=="b"?2:8,!h||h==p?E:d}),h&&(p=h,v=v.replace(L,"$1").replace(q,"0.$1")),o!=v))return new re(v,p);if(re.DEBUG)throw Error(zi+"Not a"+(h?" base "+h:"")+" number: "+o);y.s=null}y.c=y.e=null}}();function fe(G,L,q,S){var B,y,o,u,h,p,v,d=G.c,E=qT;if(d){e:{for(B=1,u=d[0];u>=10;u/=10,B++);if(y=L-B,y<0)y+=At,o=L,h=d[p=0],v=Qa(h/E[B-o-1]%10);else if(p=LT((y+1)/At),p>=d.length)if(S){for(;d.length<=p;d.push(0));h=v=0,B=1,y%=At,o=y-At+1}else break e;else{for(h=u=d[p],B=1;u>=10;u/=10,B++);y%=At,o=y-At+B,v=o<0?0:Qa(h/E[B-o-1]%10)}if(S=S||L<0||d[p+1]!=null||(o<0?h:h%E[B-o-1]),S=q<4?(v||S)&&(q==0||q==(G.s<0?3:2)):v>5||v==5&&(q==4||S||q==6&&(y>0?o>0?h/E[B-o]:0:d[p-1])%10&1||q==(G.s<0?8:7)),L<1||!d[0])return d.length=0,S?(L-=G.e+1,d[0]=E[(At-L%At)%At],G.e=-L||0):d[0]=G.e=0,G;if(y==0?(d.length=p,u=1,p--):(d.length=p+1,u=E[At-y],d[p]=o>0?Qa(h/E[B-o]%E[o])*u:0),S)for(;;)if(p==0){for(y=1,o=d[0];o>=10;o/=10,y++);for(o=d[0]+=u,u=1;o>=10;o/=10,u++);y!=u&&(G.e++,d[0]==Fo&&(d[0]=1));break}else{if(d[p]+=u,d[p]!=Fo)break;d[p--]=0,u=1}for(y=d.length;d[--y]===0;d.pop());}G.e>A?G.c=G.e=null:G.e<m&&(G.c=[G.e=0])}return G}function de(G){var L,q=G.e;return q===null?G.toString():(L=Xa(G.c),L=q<=l||q>=g?Q_(L,q):Pf(L,q,"0"),G.s<0?"-"+L:L)}return i.absoluteValue=i.abs=function(){var G=new re(this);return G.s<0&&(G.s=1),G},i.comparedTo=function(G,L){return vh(this,new re(G,L))},i.decimalPlaces=i.dp=function(G,L){var q,S,B,y=this;if(G!=null)return Qr(G,0,Fn),L==null?L=f:Qr(L,0,8),fe(new re(y),G+y.e+1,L);if(!(q=y.c))return null;if(S=((B=q.length-1)-eo(this.e/At))*At,B=q[B])for(;B%10==0;B/=10,S--);return S<0&&(S=0),S},i.dividedBy=i.div=function(G,L){return e(this,new re(G,L),s,f)},i.dividedToIntegerBy=i.idiv=function(G,L){return e(this,new re(G,L),0,1)},i.exponentiatedBy=i.pow=function(G,L){var q,S,B,y,o,u,h,p,v,d=this;if(G=new re(G),G.c&&!G.isInteger())throw Error(zi+"Exponent not an integer: "+de(G));if(L!=null&&(L=new re(L)),u=G.e>14,!d.c||!d.c[0]||d.c[0]==1&&!d.e&&d.c.length==1||!G.c||!G.c[0])return v=new re(Math.pow(+de(d),u?G.s*(2-X_(G)):+de(G))),L?v.mod(L):v;if(h=G.s<0,L){if(L.c?!L.c[0]:!L.s)return new re(NaN);S=!h&&d.isInteger()&&L.isInteger(),S&&(d=d.mod(L))}else{if(G.e>9&&(d.e>0||d.e<-1||(d.e==0?d.c[0]>1||u&&d.c[1]>=24e7:d.c[0]<8e13||u&&d.c[0]<=9999975e7)))return y=d.s<0&&X_(G)?-0:0,d.e>-1&&(y=1/y),new re(h?1/y:y);O&&(y=LT(O/At+2))}for(u?(q=new re(.5),h&&(G.s=1),p=X_(G)):(B=Math.abs(+de(G)),p=B%2),v=new re(a);;){if(p){if(v=v.times(d),!v.c)break;y?v.c.length>y&&(v.c.length=y):S&&(v=v.mod(L))}if(B){if(B=Qa(B/2),B===0)break;p=B%2}else if(G=G.times(q),fe(G,G.e+1,1),G.e>14)p=X_(G);else{if(B=+de(G),B===0)break;p=B%2}d=d.times(d),y?d.c&&d.c.length>y&&(d.c.length=y):S&&(d=d.mod(L))}return S?v:(h&&(v=a.div(v)),L?v.mod(L):y?fe(v,O,f,o):v)},i.integerValue=function(G){var L=new re(this);return G==null?G=f:Qr(G,0,8),fe(L,L.e+1,G)},i.isEqualTo=i.eq=function(G,L){return vh(this,new re(G,L))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(G,L){return vh(this,new re(G,L))>0},i.isGreaterThanOrEqualTo=i.gte=function(G,L){return(L=vh(this,new re(G,L)))===1||L===0},i.isInteger=function(){return!!this.c&&eo(this.e/At)>this.c.length-2},i.isLessThan=i.lt=function(G,L){return vh(this,new re(G,L))<0},i.isLessThanOrEqualTo=i.lte=function(G,L){return(L=vh(this,new re(G,L)))===-1||L===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(G,L){var q,S,B,y,o=this,u=o.s;if(G=new re(G,L),L=G.s,!u||!L)return new re(NaN);if(u!=L)return G.s=-L,o.plus(G);var h=o.e/At,p=G.e/At,v=o.c,d=G.c;if(!h||!p){if(!v||!d)return v?(G.s=-L,G):new re(d?o:NaN);if(!v[0]||!d[0])return d[0]?(G.s=-L,G):new re(v[0]?o:f==3?-0:0)}if(h=eo(h),p=eo(p),v=v.slice(),u=h-p){for((y=u<0)?(u=-u,B=v):(p=h,B=d),B.reverse(),L=u;L--;B.push(0));B.reverse()}else for(S=(y=(u=v.length)<(L=d.length))?u:L,u=L=0;L<S;L++)if(v[L]!=d[L]){y=v[L]<d[L];break}if(y&&(B=v,v=d,d=B,G.s=-G.s),L=(S=d.length)-(q=v.length),L>0)for(;L--;v[q++]=0);for(L=Fo-1;S>u;){if(v[--S]<d[S]){for(q=S;q&&!v[--q];v[q]=L);--v[q],v[S]+=Fo}v[S]-=d[S]}for(;v[0]==0;v.splice(0,1),--p);return v[0]?se(G,v,p):(G.s=f==3?-1:1,G.c=[G.e=0],G)},i.modulo=i.mod=function(G,L){var q,S,B=this;return G=new re(G,L),!B.c||!G.s||G.c&&!G.c[0]?new re(NaN):!G.c||B.c&&!B.c[0]?new re(B):(T==9?(S=G.s,G.s=1,q=e(B,G,0,3),G.s=S,q.s*=S):q=e(B,G,0,T),G=B.minus(q.times(G)),!G.c[0]&&T==1&&(G.s=B.s),G)},i.multipliedBy=i.times=function(G,L){var q,S,B,y,o,u,h,p,v,d,E,w,c,b,ue,F=this,ne=F.c,ce=(G=new re(G,L)).c;if(!ne||!ce||!ne[0]||!ce[0])return!F.s||!G.s||ne&&!ne[0]&&!ce||ce&&!ce[0]&&!ne?G.c=G.e=G.s=null:(G.s*=F.s,!ne||!ce?G.c=G.e=null:(G.c=[0],G.e=0)),G;for(S=eo(F.e/At)+eo(G.e/At),G.s*=F.s,h=ne.length,d=ce.length,h<d&&(c=ne,ne=ce,ce=c,B=h,h=d,d=B),B=h+d,c=[];B--;c.push(0));for(b=Fo,ue=uc,B=d;--B>=0;){for(q=0,E=ce[B]%ue,w=ce[B]/ue|0,o=h,y=B+o;y>B;)p=ne[--o]%ue,v=ne[o]/ue|0,u=w*p+v*E,p=E*p+u%ue*ue+c[y]+q,q=(p/b|0)+(u/ue|0)+w*v,c[y--]=p%b;c[y]=q}return q?++S:c.splice(0,1),se(G,c,S)},i.negated=function(){var G=new re(this);return G.s=-G.s||null,G},i.plus=function(G,L){var q,S=this,B=S.s;if(G=new re(G,L),L=G.s,!B||!L)return new re(NaN);if(B!=L)return G.s=-L,S.minus(G);var y=S.e/At,o=G.e/At,u=S.c,h=G.c;if(!y||!o){if(!u||!h)return new re(B/0);if(!u[0]||!h[0])return h[0]?G:new re(u[0]?S:B*0)}if(y=eo(y),o=eo(o),u=u.slice(),B=y-o){for(B>0?(o=y,q=h):(B=-B,q=u),q.reverse();B--;q.push(0));q.reverse()}for(B=u.length,L=h.length,B-L<0&&(q=h,h=u,u=q,L=B),B=0;L;)B=(u[--L]=u[L]+h[L]+B)/Fo|0,u[L]=Fo===u[L]?0:u[L]%Fo;return B&&(u=[B].concat(u),++o),se(G,u,o)},i.precision=i.sd=function(G,L){var q,S,B,y=this;if(G!=null&&G!==!!G)return Qr(G,1,Fn),L==null?L=f:Qr(L,0,8),fe(new re(y),G,L);if(!(q=y.c))return null;if(B=q.length-1,S=B*At+1,B=q[B]){for(;B%10==0;B/=10,S--);for(B=q[0];B>=10;B/=10,S++);}return G&&y.e+1>S&&(S=y.e+1),S},i.shiftedBy=function(G){return Qr(G,-DT,DT),this.times("1e"+G)},i.squareRoot=i.sqrt=function(){var G,L,q,S,B,y=this,o=y.c,u=y.s,h=y.e,p=s+4,v=new re("0.5");if(u!==1||!o||!o[0])return new re(!u||u<0&&(!o||o[0])?NaN:o?y:1/0);if(u=Math.sqrt(+de(y)),u==0||u==1/0?(L=Xa(o),(L.length+h)%2==0&&(L+="0"),u=Math.sqrt(+L),h=eo((h+1)/2)-(h<0||h%2),u==1/0?L="5e"+h:(L=u.toExponential(),L=L.slice(0,L.indexOf("e")+1)+h),q=new re(L)):q=new re(u+""),q.c[0]){for(h=q.e,u=h+p,u<3&&(u=0);;)if(B=q,q=v.times(B.plus(e(y,B,p,1))),Xa(B.c).slice(0,u)===(L=Xa(q.c)).slice(0,u))if(q.e<h&&--u,L=L.slice(u-3,u+1),L=="9999"||!S&&L=="4999"){if(!S&&(fe(B,B.e+s+2,0),B.times(B).eq(y))){q=B;break}p+=4,u+=4,S=1}else{(!+L||!+L.slice(1)&&L.charAt(0)=="5")&&(fe(q,q.e+s+2,1),G=!q.times(q).eq(y));break}}return fe(q,q.e+s+1,f,G)},i.toExponential=function(G,L){return G!=null&&(Qr(G,0,Fn),G++),pe(this,G,L,1)},i.toFixed=function(G,L){return G!=null&&(Qr(G,0,Fn),G=G+this.e+1),pe(this,G,L)},i.toFormat=function(G,L,q){var S,B=this;if(q==null)G!=null&&L&&typeof L=="object"?(q=L,L=null):G&&typeof G=="object"?(q=G,G=L=null):q=U;else if(typeof q!="object")throw Error(zi+"Argument not an object: "+q);if(S=B.toFixed(G,L),B.c){var y,o=S.split("."),u=+q.groupSize,h=+q.secondaryGroupSize,p=q.groupSeparator||"",v=o[0],d=o[1],E=B.s<0,w=E?v.slice(1):v,c=w.length;if(h&&(y=u,u=h,h=y,c-=y),u>0&&c>0){for(y=c%u||u,v=w.substr(0,y);y<c;y+=u)v+=p+w.substr(y,u);h>0&&(v+=p+w.slice(y)),E&&(v="-"+v)}S=d?v+(q.decimalSeparator||"")+((h=+q.fractionGroupSize)?d.replace(new RegExp("\\d{"+h+"}\\B","g"),"$&"+(q.fractionGroupSeparator||"")):d):v}return(q.prefix||"")+S+(q.suffix||"")},i.toFraction=function(G){var L,q,S,B,y,o,u,h,p,v,d,E,w=this,c=w.c;if(G!=null&&(u=new re(G),!u.isInteger()&&(u.c||u.s!==1)||u.lt(a)))throw Error(zi+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+de(u));if(!c)return new re(w);for(L=new re(a),p=q=new re(a),S=h=new re(a),E=Xa(c),y=L.e=E.length-w.e-1,L.c[0]=qT[(o=y%At)<0?At+o:o],G=!G||u.comparedTo(L)>0?y>0?L:p:u,o=A,A=1/0,u=new re(E),h.c[0]=0;v=e(u,L,0,1),B=q.plus(v.times(S)),B.comparedTo(G)!=1;)q=S,S=B,p=h.plus(v.times(B=p)),h=B,L=u.minus(v.times(B=L)),u=B;return B=e(G.minus(q),S,0,1),h=h.plus(B.times(p)),q=q.plus(B.times(S)),h.s=p.s=w.s,y=y*2,d=e(p,S,y,f).minus(w).abs().comparedTo(e(h,q,y,f).minus(w).abs())<1?[p,S]:[h,q],A=o,d},i.toNumber=function(){return+de(this)},i.toPrecision=function(G,L){return G!=null&&Qr(G,1,Fn),pe(this,G,L,2)},i.toString=function(G){var L,q=this,S=q.s,B=q.e;return B===null?S?(L="Infinity",S<0&&(L="-"+L)):L="NaN":(G==null?L=B<=l||B>=g?Q_(Xa(q.c),B):Pf(Xa(q.c),B,"0"):G===10&&Y?(q=fe(new re(q),s+B+1,f),L=Pf(Xa(q.c),q.e,"0")):(Qr(G,2,Z.length,"Base"),L=r(Pf(Xa(q.c),B,"0"),10,G,S,!0)),S<0&&q.c[0]&&(L="-"+L)),L},i.valueOf=i.toJSON=function(){return de(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&re.set(t),re}function eo(t){var e=t|0;return t>0||t===e?e:e-1}function Xa(t){for(var e,r,n=1,i=t.length,a=t[0]+"";n<i;){for(e=t[n++]+"",r=At-e.length;r--;e="0"+e);a+=e}for(i=a.length;a.charCodeAt(--i)===48;);return a.slice(0,i+1||1)}function vh(t,e){var r,n,i=t.c,a=e.c,s=t.s,f=e.s,l=t.e,g=e.e;if(!s||!f)return null;if(r=i&&!i[0],n=a&&!a[0],r||n)return r?n?0:-f:s;if(s!=f)return s;if(r=s<0,n=l==g,!i||!a)return n?0:!i^r?1:-1;if(!n)return l>g^r?1:-1;for(f=(l=i.length)<(g=a.length)?l:g,s=0;s<f;s++)if(i[s]!=a[s])return i[s]>a[s]^r?1:-1;return l==g?0:l>g^r?1:-1}function Qr(t,e,r,n){if(t<e||t>r||t!==Qa(t))throw Error(zi+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function X_(t){var e=t.c.length-1;return eo(t.e/At)==e&&t.c[e]%2!=0}function Q_(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function Pf(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var U7e=rQ(),Xd=U7e;function pn(t){let e=0;for(let i of t)e+=i.byteLength;let r=new Uint8Array(e),n=0;r.set(new Uint8Array(t[0]),n),n+=t[0].byteLength;for(let i=1;i<t.length;i++)r.set(new Uint8Array(t[i]),n),n+=t[i].byteLength;return r}function UT(t){let e=gi(t);return t6(e)}function t6(t){return new TextDecoder("utf-8",{fatal:!0}).decode(t)}function Ct(t){return new TextEncoder().encode(t)}function r6(t){return Mi(Ct(t))}function gi(t){return new Uint8Array((0,e6.toByteArray)(aQ(t)))}function nQ(t){return(0,e6.fromByteArray)(new Uint8Array(t))}function Mi(t){return iQ(nQ(t))}function iQ(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function aQ(t){t=t.replace(/\-/g,"+").replace(/\_/g,"/");let e;return t.length%4==0?e=0:e=4-t.length%4,t.concat("=".repeat(e))}function F7e(t){return new Xd(t).shiftedBy(-12)}function j7e(t){return new Xd(t).shiftedBy(12)}var Nf=class{keyLength=4096;publicExponent=65537;hashAlgorithm="sha256";driver;constructor(){this.driver=crypto?.subtle}async generateJWK(){let e=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),r=await this.driver.exportKey("jwk",e.privateKey);return{kty:r.kty,e:r.e,n:r.n,d:r.d,p:r.p,q:r.q,dp:r.dp,dq:r.dq,qi:r.qi}}async sign(e,r,{saltLength:n}={saltLength:32}){let i=await this.driver.sign({name:"RSA-PSS",saltLength:n},await this.jwkToCryptoKey(e),r);return new Uint8Array(i)}async hash(e,r="SHA-256"){let n=await this.driver.digest(r,e);return new Uint8Array(n)}async verify(e,r,n){let i={kty:"RSA",e:"AQAB",n:e},a=await this.jwkToPublicCryptoKey(i),s=await this.driver.digest("SHA-256",r),f=await this.driver.verify({name:"RSA-PSS",saltLength:0},a,n,r),l=await this.driver.verify({name:"RSA-PSS",saltLength:32},a,n,r),g=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((a.algorithm.modulusLength-1)/8)-s.byteLength-2},a,n,r);return f||l||g}async jwkToCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}async encrypt(e,r,n){let i=await this.driver.importKey("raw",typeof r=="string"?Ct(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),a=await this.driver.deriveKey({name:"PBKDF2",salt:n?Ct(n):Ct("salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=new Uint8Array(16);crypto.getRandomValues(s);let f=await this.driver.encrypt({name:"AES-CBC",iv:s},a,e);return pn([s,f])}async decrypt(e,r,n){let i=await this.driver.importKey("raw",typeof r=="string"?Ct(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),a=await this.driver.deriveKey({name:"PBKDF2",salt:n?Ct(n):Ct("salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=e.slice(0,16),f=await this.driver.decrypt({name:"AES-CBC",iv:s},a,e.slice(16));return pn([f])}};x();var oQ=xt(Xu(),1);async function cc(t){if(typeof t[Symbol.asyncIterator]=="function"){let i=t,a=(0,oQ.createHash)("sha384"),s=0;for await(let g of i)s+=g.byteLength,a.update(g);let f=pn([Ct("blob"),Ct(s.toString())]),l=pn([await gn().hash(f,"SHA-384"),a.digest()]);return await gn().hash(l,"SHA-384")}else if(Array.isArray(t)){let i=pn([Ct("list"),Ct(t.length.toString())]);return await sQ(t,await gn().hash(i,"SHA-384"))}let e=t,r=pn([Ct("blob"),Ct(e.byteLength.toString())]),n=pn([await gn().hash(r,"SHA-384"),await gn().hash(e,"SHA-384")]);return await gn().hash(n,"SHA-384")}async function sQ(t,e){if(t.length<1)return e;let r=pn([e,await cc(t[0])]),n=await gn().hash(r,"SHA-384");return await sQ(t.slice(1),n)}x();x();x();x();x();var Ns=class extends Error{type;response;constructor(e,r={}){r.message?super(r.message):super(),this.type=e,this.response=r.response}getType(){return this.type}};function mh(t){let e=t.data;if(typeof t.data=="string")try{e=JSON.parse(t.data)}catch{}if(t.data instanceof ArrayBuffer||t.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch{}return e?e.error||e:t.statusText||"unknown"}var Fv=class{api;network;constructor(e,r){this.api=e,this.network=r}async getByHash(e){let r=await this.api.get(`block/hash/${e}`);if(r.status===200)return r.data;throw r.status===404?new Ns("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getByHeight(e){let r=await this.api.get(`block/height/${e}`);if(r.status===200)return r.data;throw r.status===404?new Ns("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getCurrent(){let{current:e}=await this.network.getInfo();return await this.getByHash(e)}};x();x();var Lf=256*1024,z7e=32*1024,jv=32,Qd=32,FT=class{crypto;constructor(e){this.crypto=e.deps.crypto}async chunkData(e){let r=[],n=e,i=0;for(;n.byteLength>=Lf;){let a=Lf,s=n.byteLength-Lf;s>0&&s<z7e&&(a=Math.ceil(n.byteLength/2));let f=n.slice(0,a),l=await this.crypto.hash(f);i+=f.byteLength,r.push({dataHash:l,minByteRange:i-f.byteLength,maxByteRange:i}),n=n.slice(a)}return r.push({dataHash:await this.crypto.hash(n),minByteRange:i,maxByteRange:i+n.byteLength}),r}async generateLeaves(e){return Promise.all(e.map(async({dataHash:r,minByteRange:n,maxByteRange:i})=>({type:"leaf",id:await this.hash(await Promise.all([this.hash(r),this.hash(n6(i))])),dataHash:r,minByteRange:n,maxByteRange:i})))}async computeRootHash(e){return(await this.generateTree(e)).id}async generateTree(e){return await this.buildLayers(await this.generateLeaves(await this.chunkData(e)))}async generateTransactionChunks(e){let r=await this.chunkData(e),n=await this.generateLeaves(r),i=await this.buildLayers(n),a=await this.generateProofs(i),s=r.slice(-1)[0];return s.maxByteRange-s.minByteRange===0&&(r.splice(r.length-1,1),a.splice(a.length-1,1)),{data_root:i.id,chunks:r,proofs:a}}async buildLayers(e,r=0){if(e.length<2)return e[0];let n=[];for(let i=0;i<e.length;i+=2)n.push(await this.hashBranch(e[i],e[i+1]));return this.buildLayers(n,r+1)}generateProofs(e){let r=this.resolveBranchProofs(e);return Array.isArray(r)?cQ(r):[r]}resolveBranchProofs(e,r=new Uint8Array,n=0){if(e.type=="leaf")return{offset:e.maxByteRange-1,proof:pn([r,e.dataHash,n6(e.maxByteRange)])};if(e.type=="branch"){let i=pn([r,e.leftChild.id,e.rightChild.id,n6(e.byteRange)]);return[this.resolveBranchProofs(e.leftChild,i,n+1),this.resolveBranchProofs(e.rightChild,i,n+1)]}throw new Error("Unexpected node type")}async validatePath(e,r,n,i,a){if(i<=0)return!1;if(r>=i)return this.validatePath(e,0,i-1,i,a);if(r<0)return this.validatePath(e,0,0,i,a);if(a.length==Qd+jv){let I=a.slice(0,Qd),T=a.slice(I.length,I.length+jv),O=await this.hash([await this.hash(I),await this.hash(T)]);return uQ(e,O)?{offset:i-1,leftBound:n,rightBound:i,chunkSize:i-n}:!1}let s=a.slice(0,Qd),f=a.slice(s.length,s.length+Qd),l=a.slice(s.length+f.length,s.length+f.length+jv),g=fQ(l),m=a.slice(s.length+f.length+l.length),A=await this.hash([await this.hash(s),await this.hash(f),await this.hash(l)]);return uQ(e,A)?r<g?await this.validatePath(s,r,n,Math.min(i,g),m):await this.validatePath(f,r,Math.max(n,g),i,m):!1}async hashBranch(e,r){return r?{type:"branch",id:await this.hash([await this.hash(e.id),await this.hash(r.id),await this.hash(n6(e.maxByteRange))]),byteRange:e.maxByteRange,maxByteRange:r.maxByteRange,leftChild:e,rightChild:r}:e}async hash(e){return Array.isArray(e)&&(e=i6.utils.concatBuffers(e)),new Uint8Array(await this.crypto.hash(e))}async debug(e,r=""){if(e.byteLength<1)return r;let n=e.slice(0,Qd),i=e.slice(n.length,n.length+Qd),a=e.slice(n.length+i.length,n.length+i.length+jv),s=fQ(a),f=e.slice(n.length+i.length+a.length),l=await this.hash([await this.hash(n),await this.hash(i),await this.hash(a)]),g=`${r}
${JSON.stringify(N.Buffer.from(n))},${JSON.stringify(N.Buffer.from(i))},${s} => ${JSON.stringify(l)}`;return this.debug(f,g)}};function cQ(t){let e=[];return t.forEach(r=>{Array.isArray(r)?e.push(...cQ(r)):e.push(r)}),e}function n6(t){let e=new Uint8Array(jv);for(let r=e.length-1;r>=0;r--){let n=t%256;e[r]=n,t=(t-n)/256}return e}function fQ(t){let e=0;for(let r=0;r<t.length;r++)e*=256,e+=t[r];return e}var uQ=(t,e)=>t.every((r,n)=>e[n]===r),lQ=FT;var zv=class{api;constructor(e){this.api=e}async getTransactionMetadata(e){let r=await this.api.get(`tx/${e}/offset`);if(r.status===200)return r.data;throw new Error(`Unable to get transaction offset: ${mh(r)}`)}async getChunk(e){let r=await this.api.get(`chunk/${e}`);if(r.status===200)return r.data;throw new Error(`Unable to get chunk: ${mh(r)}`)}async getChunkData(e){let r=await this.getChunk(e);return gi(r.chunk)}firstChunkOffset(e){return parseInt(e.offset)-parseInt(e.size)+1}async downloadChunkedData(e,r){let n=await this.getTransactionMetadata(e),i=parseInt(n.size),a=new Uint8Array(i),s=0;for await(let f of this.concurrentChunkDownloader(e,r))a.set(f,s),s+=f.length;return a}async*concurrentChunkDownloader(e,r){let n={concurrency:10,...r},i=await this.getTransactionMetadata(e),a=new Xd(i.offset),s=new Xd(i.size),f=a.minus(s).plus(1),l=0,g=Math.ceil(s.dividedBy(Lf).toNumber()),m=U=>this.getChunkData(U.toString()).then(Z=>(l+=Z.length,Z)),A=[],I=g-2,T=Math.min(I,n.concurrency),O=0;for(let U=0;U<T;U++)A.push(m(f.plus(Lf*O++)));for(;O<I;)A.push(m(f.plus(Lf*O++))),yield A.shift();for(;A.length>0;)yield A.shift();if(yield m(f.plus(Lf*O++)),s.isGreaterThan(l)&&(yield m(f.plus(Lf*O++))),!s.isEqualTo(l))throw new Error(`got ${l}B, expected ${s.toString()}B`)}};x();function hQ(t,e){let r=t;return r.deepHash=new e.deepHash({deps:{utils:{stringToBuffer:Ct,concatBuffers:pn},crypto:t}}),r}x();var a6=class{crypto;utils;constructor({deps:e}){this.crypto=e.crypto,this.utils=e.utils}async deepHash(e){if(Array.isArray(e)){let i=this.utils.concatBuffers([this.utils.stringToBuffer("list"),this.utils.stringToBuffer(e.length.toString())]);return await this.deepHashChunks(e,await this.crypto.hash(i,"SHA-384"))}let r=this.utils.concatBuffers([this.utils.stringToBuffer("blob"),this.utils.stringToBuffer(e.byteLength.toString())]),n=this.utils.concatBuffers([await this.crypto.hash(r,"SHA-384"),await this.crypto.hash(e,"SHA-384")]);return await this.crypto.hash(n,"SHA-384")}async deepHashChunks(e,r){if(e.length<1)return r;let n=this.utils.concatBuffers([r,await this.deepHash(e[0])]),i=await this.crypto.hash(n,"SHA-384");return await this.deepHashChunks(e.slice(1),i)}};x();x();x();x();x();x();function Kv(t,e){return function(){return t.apply(e,arguments)}}var{toString:K7e}=Object.prototype,{getPrototypeOf:KT}=Object,s6=(t=>e=>{let r=K7e.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ls=t=>(t=t.toLowerCase(),e=>s6(e)===t),f6=t=>e=>typeof e===t,{isArray:ep}=Array,Wv=f6("undefined");function W7e(t){return t!==null&&!Wv(t)&&t.constructor!==null&&!Wv(t.constructor)&&to(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var gQ=Ls("ArrayBuffer");function G7e(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&gQ(t.buffer),e}var H7e=f6("string"),to=f6("function"),vQ=f6("number"),u6=t=>t!==null&&typeof t=="object",$7e=t=>t===!0||t===!1,o6=t=>{if(s6(t)!=="object")return!1;let e=KT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},V7e=Ls("Date"),Z7e=Ls("File"),J7e=Ls("Blob"),Y7e=Ls("FileList"),X7e=t=>u6(t)&&to(t.pipe),Q7e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||to(t.append)&&((e=s6(t))==="formdata"||e==="object"&&to(t.toString)&&t.toString()==="[object FormData]"))},e9e=Ls("URLSearchParams"),t9e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gv(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),ep(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{let a=r?Object.getOwnPropertyNames(t):Object.keys(t),s=a.length,f;for(n=0;n<s;n++)f=a[n],e.call(null,t[f],f,t)}}function yQ(t,e){e=e.toLowerCase();let r=Object.keys(t),n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}var mQ=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:D)(),bQ=t=>!Wv(t)&&t!==mQ;function zT(){let{caseless:t}=bQ(this)&&this||{},e={},r=(n,i)=>{let a=t&&yQ(e,i)||i;o6(e[a])&&o6(n)?e[a]=zT(e[a],n):o6(n)?e[a]=zT({},n):ep(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Gv(arguments[n],r);return e}var r9e=(t,e,r,{allOwnKeys:n}={})=>(Gv(e,(i,a)=>{r&&to(i)?t[a]=Kv(i,r):t[a]=i},{allOwnKeys:n}),t),n9e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),i9e=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},a9e=(t,e,r,n)=>{let i,a,s,f={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)s=i[a],(!n||n(s,t,e))&&!f[s]&&(e[s]=t[s],f[s]=!0);t=r!==!1&&KT(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},o9e=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let n=t.indexOf(e,r);return n!==-1&&n===r},s9e=t=>{if(!t)return null;if(ep(t))return t;let e=t.length;if(!vQ(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},f9e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&KT(Uint8Array)),u9e=(t,e)=>{let n=(t&&t[Symbol.iterator]).call(t),i;for(;(i=n.next())&&!i.done;){let a=i.value;e.call(t,a[0],a[1])}},c9e=(t,e)=>{let r,n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},l9e=Ls("HTMLFormElement"),h9e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),dQ=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),d9e=Ls("RegExp"),wQ=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),n={};Gv(r,(i,a)=>{let s;(s=e(i,a,t))!==!1&&(n[a]=s||i)}),Object.defineProperties(t,n)},p9e=t=>{wQ(t,(e,r)=>{if(to(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=t[r];if(!!to(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},g9e=(t,e)=>{let r={},n=i=>{i.forEach(a=>{r[a]=!0})};return ep(t)?n(t):n(String(t).split(e)),r},v9e=()=>{},y9e=(t,e)=>(t=+t,Number.isFinite(t)?t:e),jT="abcdefghijklmnopqrstuvwxyz",pQ="0123456789",xQ={DIGIT:pQ,ALPHA:jT,ALPHA_DIGIT:jT+jT.toUpperCase()+pQ},m9e=(t=16,e=xQ.ALPHA_DIGIT)=>{let r="",{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function b9e(t){return!!(t&&to(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var w9e=t=>{let e=new Array(10),r=(n,i)=>{if(u6(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;let a=ep(n)?[]:{};return Gv(n,(s,f)=>{let l=r(s,i+1);!Wv(l)&&(a[f]=l)}),e[i]=void 0,a}}return n};return r(t,0)},x9e=Ls("AsyncFunction"),_9e=t=>t&&(u6(t)||to(t))&&to(t.then)&&to(t.catch),Fe={isArray:ep,isArrayBuffer:gQ,isBuffer:W7e,isFormData:Q7e,isArrayBufferView:G7e,isString:H7e,isNumber:vQ,isBoolean:$7e,isObject:u6,isPlainObject:o6,isUndefined:Wv,isDate:V7e,isFile:Z7e,isBlob:J7e,isRegExp:d9e,isFunction:to,isStream:X7e,isURLSearchParams:e9e,isTypedArray:f9e,isFileList:Y7e,forEach:Gv,merge:zT,extend:r9e,trim:t9e,stripBOM:n9e,inherits:i9e,toFlatObject:a9e,kindOf:s6,kindOfTest:Ls,endsWith:o9e,toArray:s9e,forEachEntry:u9e,matchAll:c9e,isHTMLForm:l9e,hasOwnProperty:dQ,hasOwnProp:dQ,reduceDescriptors:wQ,freezeMethods:p9e,toObjectSet:g9e,toCamelCase:h9e,noop:v9e,toFiniteNumber:y9e,findKey:yQ,global:mQ,isContextDefined:bQ,ALPHABET:xQ,generateString:m9e,isSpecCompliantForm:b9e,toJSONObject:w9e,isAsyncFn:x9e,isThenable:_9e};x();x();x();x();x();function tp(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Fe.inherits(tp,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Fe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var _Q=tp.prototype,EQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{EQ[t]={value:t}});Object.defineProperties(tp,EQ);Object.defineProperty(_Q,"isAxiosError",{value:!0});tp.from=(t,e,r,n,i,a)=>{let s=Object.create(_Q);return Fe.toFlatObject(t,s,function(l){return l!==Error.prototype},f=>f!=="isAxiosError"),tp.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,a&&Object.assign(s,a),s};var Kt=tp;x();var c6=null;function WT(t){return Fe.isPlainObject(t)||Fe.isArray(t)}function AQ(t){return Fe.endsWith(t,"[]")?t.slice(0,-2):t}function SQ(t,e,r){return t?t.concat(e).map(function(i,a){return i=AQ(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function E9e(t){return Fe.isArray(t)&&!t.some(WT)}var S9e=Fe.toFlatObject(Fe,{},null,function(e){return/^is[A-Z]/.test(e)});function A9e(t,e,r){if(!Fe.isObject(t))throw new TypeError("target must be an object");e=e||new(c6||FormData),r=Fe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,Z){return!Fe.isUndefined(Z[U])});let n=r.metaTokens,i=r.visitor||m,a=r.dots,s=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Fe.isSpecCompliantForm(e);if(!Fe.isFunction(i))throw new TypeError("visitor must be a function");function g(O){if(O===null)return"";if(Fe.isDate(O))return O.toISOString();if(!l&&Fe.isBlob(O))throw new Kt("Blob is not supported. Use a Buffer instead.");return Fe.isArrayBuffer(O)||Fe.isTypedArray(O)?l&&typeof Blob=="function"?new Blob([O]):N.Buffer.from(O):O}function m(O,U,Z){let Y=O;if(O&&!Z&&typeof O=="object"){if(Fe.endsWith(U,"{}"))U=n?U:U.slice(0,-2),O=JSON.stringify(O);else if(Fe.isArray(O)&&E9e(O)||(Fe.isFileList(O)||Fe.endsWith(U,"[]"))&&(Y=Fe.toArray(O)))return U=AQ(U),Y.forEach(function(pe,he){!(Fe.isUndefined(pe)||pe===null)&&e.append(s===!0?SQ([U],he,a):s===null?U:U+"[]",g(pe))}),!1}return WT(O)?!0:(e.append(SQ(Z,U,a),g(O)),!1)}let A=[],I=Object.assign(S9e,{defaultVisitor:m,convertValue:g,isVisitable:WT});function T(O,U){if(!Fe.isUndefined(O)){if(A.indexOf(O)!==-1)throw Error("Circular reference detected in "+U.join("."));A.push(O),Fe.forEach(O,function(Y,re){(!(Fe.isUndefined(Y)||Y===null)&&i.call(e,Y,Fe.isString(re)?re.trim():re,U,I))===!0&&T(Y,U?U.concat(re):[re])}),A.pop()}}if(!Fe.isObject(t))throw new TypeError("data must be an object");return T(t),e}var lc=A9e;function MQ(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function TQ(t,e){this._pairs=[],t&&lc(t,this,e)}var OQ=TQ.prototype;OQ.append=function(e,r){this._pairs.push([e,r])};OQ.toString=function(e){let r=e?function(n){return e.call(this,n,MQ)}:MQ;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var l6=TQ;function M9e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Hv(t,e,r){if(!e)return t;let n=r&&r.encode||M9e,i=r&&r.serialize,a;if(i?a=i(e,r):a=Fe.isURLSearchParams(e)?e.toString():new l6(e,r).toString(n),a){let s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}x();var GT=class{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Fe.forEach(this.handlers,function(n){n!==null&&e(n)})}},HT=GT;x();x();x();x();var h6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};x();x();x();x();var IQ=typeof URLSearchParams<"u"?URLSearchParams:l6;x();var RQ=typeof FormData<"u"?FormData:null;x();var kQ=typeof Blob<"u"?Blob:null;var CQ={isBrowser:!0,classes:{URLSearchParams:IQ,FormData:RQ,Blob:kQ},protocols:["http","https","file","blob","url","data"]};var $T={};Ip($T,{hasBrowserEnv:()=>BQ,hasStandardBrowserEnv:()=>T9e,hasStandardBrowserWebWorkerEnv:()=>O9e});x();var BQ=typeof window<"u"&&typeof document<"u",T9e=(t=>BQ&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),O9e=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")();var Ti={...$T,...CQ};function VT(t,e){return lc(t,new Ti.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return Ti.isNode&&Fe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}x();function I9e(t){return Fe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function R9e(t){let e={},r=Object.keys(t),n,i=r.length,a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function k9e(t){function e(r,n,i,a){let s=r[a++],f=Number.isFinite(+s),l=a>=r.length;return s=!s&&Fe.isArray(i)?i.length:s,l?(Fe.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!f):((!i[s]||!Fe.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],a)&&Fe.isArray(i[s])&&(i[s]=R9e(i[s])),!f)}if(Fe.isFormData(t)&&Fe.isFunction(t.entries)){let r={};return Fe.forEachEntry(t,(n,i)=>{e(I9e(n),i,r,0)}),r}return null}var d6=k9e;function C9e(t,e,r){if(Fe.isString(t))try{return(e||JSON.parse)(t),Fe.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var ZT={transitional:h6,adapter:["xhr","http"],transformRequest:[function(e,r){let n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=Fe.isObject(e);if(a&&Fe.isHTMLForm(e)&&(e=new FormData(e)),Fe.isFormData(e))return i&&i?JSON.stringify(d6(e)):e;if(Fe.isArrayBuffer(e)||Fe.isBuffer(e)||Fe.isStream(e)||Fe.isFile(e)||Fe.isBlob(e))return e;if(Fe.isArrayBufferView(e))return e.buffer;if(Fe.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return VT(e,this.formSerializer).toString();if((f=Fe.isFileList(e))||n.indexOf("multipart/form-data")>-1){let l=this.env&&this.env.FormData;return lc(f?{"files[]":e}:e,l&&new l,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),C9e(e)):e}],transformResponse:[function(e){let r=this.transitional||ZT.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&Fe.isString(e)&&(n&&!this.responseType||i)){let s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(f){if(s)throw f.name==="SyntaxError"?Kt.from(f,Kt.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ti.classes.FormData,Blob:Ti.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Fe.forEach(["delete","get","head","post","put","patch"],t=>{ZT.headers[t]={}});var rp=ZT;x();x();var B9e=Fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PQ=t=>{let e={},r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&B9e[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e};var NQ=Symbol("internals");function $v(t){return t&&String(t).trim().toLowerCase()}function p6(t){return t===!1||t==null?t:Fe.isArray(t)?t.map(p6):String(t)}function P9e(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}var N9e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function JT(t,e,r,n,i){if(Fe.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Fe.isString(e)){if(Fe.isString(n))return e.indexOf(n)!==-1;if(Fe.isRegExp(n))return n.test(e)}}function L9e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function D9e(t,e){let r=Fe.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,s){return this[n].call(this,e,i,a,s)},configurable:!0})})}var np=class{constructor(e){e&&this.set(e)}set(e,r,n){let i=this;function a(f,l,g){let m=$v(l);if(!m)throw new Error("header name must be a non-empty string");let A=Fe.findKey(i,m);(!A||i[A]===void 0||g===!0||g===void 0&&i[A]!==!1)&&(i[A||l]=p6(f))}let s=(f,l)=>Fe.forEach(f,(g,m)=>a(g,m,l));return Fe.isPlainObject(e)||e instanceof this.constructor?s(e,r):Fe.isString(e)&&(e=e.trim())&&!N9e(e)?s(PQ(e),r):e!=null&&a(r,e,n),this}get(e,r){if(e=$v(e),e){let n=Fe.findKey(this,e);if(n){let i=this[n];if(!r)return i;if(r===!0)return P9e(i);if(Fe.isFunction(r))return r.call(this,i,n);if(Fe.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=$v(e),e){let n=Fe.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||JT(this,this[n],n,r)))}return!1}delete(e,r){let n=this,i=!1;function a(s){if(s=$v(s),s){let f=Fe.findKey(n,s);f&&(!r||JT(n,n[f],f,r))&&(delete n[f],i=!0)}}return Fe.isArray(e)?e.forEach(a):a(e),i}clear(e){let r=Object.keys(this),n=r.length,i=!1;for(;n--;){let a=r[n];(!e||JT(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){let r=this,n={};return Fe.forEach(this,(i,a)=>{let s=Fe.findKey(n,a);if(s){r[s]=p6(i),delete r[a];return}let f=e?L9e(a):String(a).trim();f!==a&&delete r[a],r[f]=p6(i),n[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return Fe.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Fe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){let n=(this[NQ]=this[NQ]={accessors:{}}).accessors,i=this.prototype;function a(s){let f=$v(s);n[f]||(D9e(i,s),n[f]=!0)}return Fe.isArray(e)?e.forEach(a):a(e),this}};np.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Fe.reduceDescriptors(np.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Fe.freezeMethods(np);var Oi=np;function Vv(t,e){let r=this||rp,n=e||r,i=Oi.from(n.headers),a=n.data;return Fe.forEach(t,function(f){a=f.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}x();function Zv(t){return!!(t&&t.__CANCEL__)}x();function LQ(t,e,r){Kt.call(this,t??"canceled",Kt.ERR_CANCELED,e,r),this.name="CanceledError"}Fe.inherits(LQ,Kt,{__CANCEL__:!0});var hc=LQ;x();x();x();function YT(t,e,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Kt("Request failed with status code "+r.status,[Kt.ERR_BAD_REQUEST,Kt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}x();var DQ=Ti.hasStandardBrowserEnv?function(){return{write:function(r,n,i,a,s,f){let l=[];l.push(r+"="+encodeURIComponent(n)),Fe.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),Fe.isString(a)&&l.push("path="+a),Fe.isString(s)&&l.push("domain="+s),f===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){let n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();x();x();function XT(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}x();function QT(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Jv(t,e){return t&&!XT(e)?QT(t,e):e}x();var qQ=Ti.hasStandardBrowserEnv?function(){let e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(a){let s=a;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){let f=Fe.isString(s)?i(s):s;return f.protocol===n.protocol&&f.host===n.host}}():function(){return function(){return!0}}();x();function eO(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}x();function q9e(t,e){t=t||10;let r=new Array(t),n=new Array(t),i=0,a=0,s;return e=e!==void 0?e:1e3,function(l){let g=Date.now(),m=n[a];s||(s=g),r[i]=l,n[i]=g;let A=a,I=0;for(;A!==i;)I+=r[A++],A=A%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),g-s<e)return;let T=m&&g-m;return T?Math.round(I*1e3/T):void 0}}var UQ=q9e;function FQ(t,e){let r=0,n=UQ(50,250);return i=>{let a=i.loaded,s=i.lengthComputable?i.total:void 0,f=a-r,l=n(f),g=a<=s;r=a;let m={loaded:a,total:s,progress:s?a/s:void 0,bytes:f,rate:l||void 0,estimated:l&&s&&g?(s-a)/l:void 0,event:i};m[e?"download":"upload"]=!0,t(m)}}var U9e=typeof XMLHttpRequest<"u",jQ=U9e&&function(t){return new Promise(function(r,n){let i=t.data,a=Oi.from(t.headers).normalize(),s=t.responseType,f;function l(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}let g;if(Fe.isFormData(i)){if(Ti.hasStandardBrowserEnv||Ti.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if((g=a.getContentType())!==!1){let[O,...U]=g?g.split(";").map(Z=>Z.trim()).filter(Boolean):[];a.setContentType([O||"multipart/form-data",...U].join("; "))}}let m=new XMLHttpRequest;if(t.auth){let O=t.auth.username||"",U=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.set("Authorization","Basic "+btoa(O+":"+U))}let A=Jv(t.baseURL,t.url);m.open(t.method.toUpperCase(),Hv(A,t.params,t.paramsSerializer),!0),m.timeout=t.timeout;function I(){if(!m)return;let O=Oi.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),Z={data:!s||s==="text"||s==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:O,config:t,request:m};YT(function(re){r(re),l()},function(re){n(re),l()},Z),m=null}if("onloadend"in m?m.onloadend=I:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(I)},m.onabort=function(){!m||(n(new Kt("Request aborted",Kt.ECONNABORTED,t,m)),m=null)},m.onerror=function(){n(new Kt("Network Error",Kt.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let U=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",Z=t.transitional||h6;t.timeoutErrorMessage&&(U=t.timeoutErrorMessage),n(new Kt(U,Z.clarifyTimeoutError?Kt.ETIMEDOUT:Kt.ECONNABORTED,t,m)),m=null},Ti.hasStandardBrowserEnv){let O=qQ(A)&&t.xsrfCookieName&&DQ.read(t.xsrfCookieName);O&&a.set(t.xsrfHeaderName,O)}i===void 0&&a.setContentType(null),"setRequestHeader"in m&&Fe.forEach(a.toJSON(),function(U,Z){m.setRequestHeader(Z,U)}),Fe.isUndefined(t.withCredentials)||(m.withCredentials=!!t.withCredentials),s&&s!=="json"&&(m.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&m.addEventListener("progress",FQ(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",FQ(t.onUploadProgress)),(t.cancelToken||t.signal)&&(f=O=>{!m||(n(!O||O.type?new hc(null,t,m):O),m.abort(),m=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f)));let T=eO(A);if(T&&Ti.protocols.indexOf(T)===-1){n(new Kt("Unsupported protocol "+T+":",Kt.ERR_BAD_REQUEST,t));return}m.send(i||null)})};var tO={http:c6,xhr:jQ};Fe.forEach(tO,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var zQ=t=>`- ${t}`,F9e=t=>Fe.isFunction(t)||t===null||t===!1,g6={getAdapter:t=>{t=Fe.isArray(t)?t:[t];let{length:e}=t,r,n,i={};for(let a=0;a<e;a++){r=t[a];let s;if(n=r,!F9e(r)&&(n=tO[(s=String(r)).toLowerCase()],n===void 0))throw new Kt(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+a]=n}if(!n){let a=Object.entries(i).map(([f,l])=>`adapter ${f} `+(l===!1?"is not supported by the environment":"is not available in the build")),s=e?a.length>1?`since :
`+a.map(zQ).join(`
`):" "+zQ(a[0]):"as no adapter specified";throw new Kt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:tO};function rO(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hc(null,t)}function v6(t){return rO(t),t.headers=Oi.from(t.headers),t.data=Vv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),g6.getAdapter(t.adapter||rp.adapter)(t).then(function(n){return rO(t),n.data=Vv.call(t,t.transformResponse,n),n.headers=Oi.from(n.headers),n},function(n){return Zv(n)||(rO(t),n&&n.response&&(n.response.data=Vv.call(t,t.transformResponse,n.response),n.response.headers=Oi.from(n.response.headers))),Promise.reject(n)})}x();var KQ=t=>t instanceof Oi?t.toJSON():t;function Df(t,e){e=e||{};let r={};function n(g,m,A){return Fe.isPlainObject(g)&&Fe.isPlainObject(m)?Fe.merge.call({caseless:A},g,m):Fe.isPlainObject(m)?Fe.merge({},m):Fe.isArray(m)?m.slice():m}function i(g,m,A){if(Fe.isUndefined(m)){if(!Fe.isUndefined(g))return n(void 0,g,A)}else return n(g,m,A)}function a(g,m){if(!Fe.isUndefined(m))return n(void 0,m)}function s(g,m){if(Fe.isUndefined(m)){if(!Fe.isUndefined(g))return n(void 0,g)}else return n(void 0,m)}function f(g,m,A){if(A in e)return n(g,m);if(A in t)return n(void 0,g)}let l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:f,headers:(g,m)=>i(KQ(g),KQ(m),!0)};return Fe.forEach(Object.keys(Object.assign({},t,e)),function(m){let A=l[m]||i,I=A(t[m],e[m],m);Fe.isUndefined(I)&&A!==f||(r[m]=I)}),r}x();x();var y6="1.6.1";var nO={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{nO[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var WQ={};nO.transitional=function(e,r,n){function i(a,s){return"[Axios v"+y6+"] Transitional option '"+a+"'"+s+(n?". "+n:"")}return(a,s,f)=>{if(e===!1)throw new Kt(i(s," has been removed"+(r?" in "+r:"")),Kt.ERR_DEPRECATED);return r&&!WQ[s]&&(WQ[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,s,f):!0}};function j9e(t,e,r){if(typeof t!="object")throw new Kt("options must be an object",Kt.ERR_BAD_OPTION_VALUE);let n=Object.keys(t),i=n.length;for(;i-- >0;){let a=n[i],s=e[a];if(s){let f=t[a],l=f===void 0||s(f,a,t);if(l!==!0)throw new Kt("option "+a+" must be "+l,Kt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Kt("Unknown option "+a,Kt.ERR_BAD_OPTION)}}var m6={assertOptions:j9e,validators:nO};var dc=m6.validators,ip=class{constructor(e){this.defaults=e,this.interceptors={request:new HT,response:new HT}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Df(this.defaults,r);let{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&m6.assertOptions(n,{silentJSONParsing:dc.transitional(dc.boolean),forcedJSONParsing:dc.transitional(dc.boolean),clarifyTimeoutError:dc.transitional(dc.boolean)},!1),i!=null&&(Fe.isFunction(i)?r.paramsSerializer={serialize:i}:m6.assertOptions(i,{encode:dc.function,serialize:dc.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=a&&Fe.merge(a.common,a[r.method]);a&&Fe.forEach(["delete","get","head","post","put","patch","common"],O=>{delete a[O]}),r.headers=Oi.concat(s,a);let f=[],l=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(r)===!1||(l=l&&U.synchronous,f.unshift(U.fulfilled,U.rejected))});let g=[];this.interceptors.response.forEach(function(U){g.push(U.fulfilled,U.rejected)});let m,A=0,I;if(!l){let O=[v6.bind(this),void 0];for(O.unshift.apply(O,f),O.push.apply(O,g),I=O.length,m=Promise.resolve(r);A<I;)m=m.then(O[A++],O[A++]);return m}I=f.length;let T=r;for(A=0;A<I;){let O=f[A++],U=f[A++];try{T=O(T)}catch(Z){U.call(this,Z);break}}try{m=v6.call(this,T)}catch(O){return Promise.reject(O)}for(A=0,I=g.length;A<I;)m=m.then(g[A++],g[A++]);return m}getUri(e){e=Df(this.defaults,e);let r=Jv(e.baseURL,e.url);return Hv(r,e.params,e.paramsSerializer)}};Fe.forEach(["delete","get","head","options"],function(e){ip.prototype[e]=function(r,n){return this.request(Df(n||{},{method:e,url:r,data:(n||{}).data}))}});Fe.forEach(["post","put","patch"],function(e){function r(n){return function(a,s,f){return this.request(Df(f||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}ip.prototype[e]=r(),ip.prototype[e+"Form"]=r(!0)});var Yv=ip;x();var Xv=class{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});let n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a,s=new Promise(f=>{n.subscribe(f),a=f}).then(i);return s.cancel=function(){n.unsubscribe(a)},s},e(function(a,s,f){n.reason||(n.reason=new hc(a,s,f),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new Xv(function(i){e=i}),cancel:e}}},GQ=Xv;x();function iO(t){return function(r){return t.apply(null,r)}}x();function aO(t){return Fe.isObject(t)&&t.isAxiosError===!0}x();var oO={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oO).forEach(([t,e])=>{oO[e]=t});var HQ=oO;function $Q(t){let e=new Yv(t),r=Kv(Yv.prototype.request,e);return Fe.extend(r,Yv.prototype,e,{allOwnKeys:!0}),Fe.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return $Q(Df(t,i))},r}var xn=$Q(rp);xn.Axios=Yv;xn.CanceledError=hc;xn.CancelToken=GQ;xn.isCancel=Zv;xn.VERSION=y6;xn.toFormData=lc;xn.AxiosError=Kt;xn.Cancel=xn.CanceledError;xn.all=function(e){return Promise.all(e)};xn.spread=iO;xn.isAxiosError=aO;xn.mergeConfig=Df;xn.AxiosHeaders=Oi;xn.formToJSON=t=>d6(Fe.isHTMLForm(t)?new FormData(t):t);xn.getAdapter=g6.getAdapter;xn.HttpStatusCode=HQ;xn.default=xn;var b6=xn;var{Axios:NVe,AxiosError:LVe,CanceledError:DVe,isCancel:qVe,CancelToken:UVe,VERSION:FVe,all:jVe,Cancel:zVe,isAxiosError:KVe,spread:WVe,toFormData:GVe,AxiosHeaders:HVe,HttpStatusCode:$Ve,formToJSON:VVe,getAdapter:ZVe,mergeConfig:JVe}=b6;var tee=xt(eee(),1);var ap=class{_instance;cookieMap=new Map;config;constructor(e){e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){let r=this.cookieMap.get(new URL(e.baseURL??"").host);return r&&(e.headers.cookie=r),e}async responseInterceptor(e){let r=e.headers?.["set-cookie"];return r&&this.cookieMap.set(e.request.host,r),e}mergeDefaults(e){return e.headers??={},e.network&&!Object.keys(e.headers).includes("x-network")&&(e.headers["x-network"]=e.network),{url:e.url,timeout:e.timeout??2e4,logging:e.logging??!1,logger:e.logger??console.log,headers:{...e.headers,"x-irys-arweave-version":i6.VERSION},withCredentials:e.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(e,r){try{return await this.request(e,{...r,method:"GET"})}catch(n){if(n.response?.status)return n.response;throw n}}async post(e,r,n){try{return await this.request(e,{data:r,...n,method:"POST"})}catch(i){if(i.response?.status)return i.response;throw i}}get instance(){if(this._instance)return this._instance;let e=b6.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use(r=>(this.config.logger(`Requesting: ${r.baseURL}/${r.url}`),r)),e.interceptors.response.use(r=>(this.config.logger(`Response: ${r.config.url} - ${r.status}`),r))),this._instance=e}async request(e,r){let n=this.instance,i=r?.url??new URL(e,this.config.url).toString();return(0,tee.default)(a=>n({...r,url:i}),{...this.config.retry,...r?.retry})}};var ree=t=>typeof t!="string"&&"url"in t,G9e={maxAttempts:15,randomlySelect:!0},sO=class{minerInstances=[];globalConfig;gatewayInstances=[];constructor({gateways:e,miners:r,opts:n}){this.globalConfig=n?.globalConfig??{},r&&this.addMiners(r),e&&this.addGateways(e)}async addPeersFrom(e,r){let n=(await this.get("",{url:new URL("/peers",e).toString()})).data;this.addMiners(n.slice(0,r?.limit).map(i=>`http://${i}`))}addMiners(e){e.forEach(r=>this.minerInstances.push(new ap(ree(r)?r:{url:new URL(r),...this.globalConfig})))}addGateways(e){e.forEach(r=>this.gatewayInstances.push(new ap(ree(r)?r:{url:new URL(r),...this.globalConfig})))}async get(e,r){return this.request(e,{...r,method:"GET"})}async post(e,r,n){return this.request(e,{data:r,...n,method:"POST"})}async request(e,r){let n={...G9e,...r?.fallback},i=0,a=[],s=r?.gatewayOnly?this.gatewayInstances:this.gatewayInstances.concat(this.minerInstances),f=Math.min(Math.max(n?.maxAttempts,1),s.length),l=n?.onFallback;if(s.length===0)throw new Error("Unable to run request due to 0 configured gateways/miners.");for(;i++<f;){let g=s.at(n?.randomlySelect?Math.floor(Math.random()*s.length):i-1);if(!!g)try{return await g.request(e,{...r})}catch(m){if(l?.(m,g),a.push(m),i>=f)throw m}}throw new Error("unreachable")}},nee=sO;x();var w6=class{get(e,r){if(!Object.getOwnPropertyNames(this).includes(e))throw new Error(`Field "${e}" is not a property of the Arweave Transaction class.`);if(this[e]instanceof Uint8Array)return r&&r.decode&&r.string?t6(this[e]):r&&r.decode&&!r.string?this[e]:Mi(this[e]);if(this[e]instanceof Array){if(r?.decode!==void 0||r?.string!==void 0)throw e==="tags"&&console.warn(`Did you mean to use 'transaction["tags"]' ?`),new Error("Cannot decode or stringify an array.");return this[e]}return r&&r.decode==!0?r&&r.string?UT(this[e]):gi(this[e]):this[e]}},x6=class extends w6{name;value;constructor(e,r){super(),this.name=e,this.value=r}},jn=class extends w6{format=2;id="";last_tx="";owner="";tags=[];target="";quantity="0";data_size="0";data=new Uint8Array;data_root="";reward="0";signature="";merkle;deepHash;chunks;constructor({attributes:e,deps:r}){super(),this.merkle=r.merkle,this.deepHash=r.deepHash,Object.assign(this,e),typeof this.data=="string"&&(this.data=gi(this.data)),e.tags&&(this.tags=e.tags)}addTag(e,r){this.tags.push({name:r6(e),value:r6(r)})}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:Mi(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(e){this.owner=e}setSignature({id:e,owner:r,reward:n,tags:i,signature:a}){this.id=e,this.owner=r,n&&(this.reward=n),i&&(this.tags=i),this.signature=a}async prepareChunks(e){!this.chunks&&e.byteLength>0&&(this.chunks=await this.merkle.generateTransactionChunks(e),this.data_root=Mi(this.chunks.data_root)),!this.chunks&&e.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(e,r){if(!this.chunks)throw new Error("Chunks have not been prepared");let n=this.chunks.proofs[e],i=this.chunks.chunks[e];return{data_root:this.data_root,data_size:this.data_size,data_path:Mi(n.proof),offset:n.offset.toString(),chunk:Mi(r.slice(i.minByteRange,i.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let e=this.tags.reduce((n,i)=>pn([n,gi(i.name),gi(i.value)]),new Uint8Array);return pn([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),Ct(this.quantity),Ct(this.reward),this.get("last_tx",{decode:!0,string:!1}),e]);case 2:this.data_root||await this.prepareChunks(this.data);let r=this.tags.map(n=>[gi(n.name),gi(n.value)]);return await this.deepHash.deepHash([Ct(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),Ct(this.quantity),Ct(this.reward),this.get("last_tx",{decode:!0,string:!1}),r,Ct(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}};x();var Qv=class{api;constructor(e){this.api=e}getInfo(){return this.api.get("info").then(e=>e.data)}getPeers(){return this.api.get("peers").then(e=>e.data)}};x();x();var iee=1,H9e=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],aee=1e3*40,pc=class{chunkIndex=0;txPosted=!1;transaction;lastRequestTimeEnd=0;totalErrors=0;data;lastResponseStatus=0;lastResponseError="";get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}crypto;api;merkle;deepHash;constructor({deps:e,transaction:r}){if(!r.id)throw new Error("Transaction is not signed");if(!r.chunks)throw new Error("Transaction chunks not prepared");this.api=e.api,this.crypto=e.crypto,this.merkle=e.merkle,this.deepHash=e.deepHash,this.data=r.data,this.transaction=new jn({attributes:Object.assign({},r,{data:new Uint8Array(0)}),deps:{merkle:e.merkle,deepHash:e.deepHash}})}async uploadChunk(e){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let r=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+aee-Date.now(),aee);if(r>0&&(r=r-r*Math.random()*.3,await new Promise(s=>setTimeout(s,r))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}e&&(this.chunkIndex=e);let n=this.transaction.getChunk(e||this.chunkIndex,this.data);if(!await this.merkle.validatePath(this.transaction.chunks.data_root,parseInt(n.offset),0,parseInt(n.data_size),gi(n.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);let a=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(s=>(console.error(s.message),{status:-1,data:{error:s.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=a.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=mh(a),H9e.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized({serialized:e,data:r,deps:n}){if(!e||typeof e.chunkIndex!="number"||typeof e.transaction!="object")throw new Error("Serialized object does not match expected format.");let i=new jn(e.transaction);i.chunks||await i.prepareChunks(r);let a=new pc({deps:n,transaction:i});if(a.chunkIndex=e.chunkIndex,a.lastRequestTimeEnd=e.lastRequestTimeEnd,a.lastResponseError=e.lastResponseError,a.lastResponseStatus=e.lastResponseStatus,a.txPosted=e.txPosted,a.data=r,a.transaction.data_root!==e.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return a}static async fromTransactionId(e,r){let n=await e.get(`tx/${r}`);if(n.status!==200)throw new Error(`Tx ${r} not found: ${n.status}`);let i=n.data;return i.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:i}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=iee){this.transaction.data=this.data;let n=await this.api.post("tx",this.transaction).catch(i=>(console.error(i),{status:-1,data:{error:i.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=n.status,this.transaction.data=new Uint8Array(0),n.status>=200&&n.status<300){this.txPosted=!0,this.chunkIndex=iee;return}throw this.lastResponseError=mh(n),new Error(`Unable to upload transaction: ${n.status}, ${this.lastResponseError}`)}let r=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=r.status,!(r.status>=200&&r.status<300))throw this.lastResponseError=mh(r),new Error(`Unable to upload transaction: ${r.status}, ${this.lastResponseError}`);this.txPosted=!0}};var ey=class{api;crypto;chunks;merkle;deepHash;constructor({deps:e}){this.api=e.api,this.crypto=e.crypto,this.chunks=e.chunks,this.merkle=e.merkle,this.deepHash=e.deepHash}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then(e=>e.data)}getPrice(e,r){let n=r?`price/${e}/${r}`:`price/${e}`;return this.api.get(n,{transformResponse:[function(i){return i}]}).then(i=>i.data)}async get(e){let r=await this.api.get(`tx/${e}`);if(r.status==200){let n=parseInt(r.data.data_size);if(r.data.format>=2&&n>0&&n<=1024*1024*12){let i=await this.getData(e);return new jn({attributes:{...r.data,data:i},deps:{merkle:this.merkle,deepHash:this.deepHash}})}return new jn({attributes:{...r.data,format:r.data.format||1},deps:{merkle:this.merkle,deepHash:this.deepHash}})}throw r.status===404?new Ns("TX_NOT_FOUND"):r.status===410?new Ns("TX_FAILED"):new Ns("TX_INVALID")}fromRaw(e){return new jn({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})}getStatus(e){return this.api.get(`tx/${e}/status`).then(r=>r.status===200?{status:200,confirmed:r.data}:{status:r.status,confirmed:null})}async getData(e){let r;try{r=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data}catch(n){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(n)}if(!r){console.warn(`Falling back to chunks for ${e}`);try{r=await this.chunks.downloadChunkedData(e)}catch(n){console.error(`Error while trying to download chunked data for ${e}`),console.error(n)}}if(!r)throw new Error(`${e} data was not found!`);return r}async getDataStream(e){let r;try{let n=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data;r=async function*(){yield n}()}catch(n){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(n)}if(!r){console.warn(`Falling back to chunks for ${e}`);try{r=this.chunks.concurrentChunkDownloader(e)}catch(n){console.error(`Error while trying to download chunked data for ${e}`),console.error(n)}}if(!r)throw new Error(`${e} data was not found!`);return r}async sign(e,r,n){let a=typeof r=="object"&&(f=>{let l=!0;return["n","e","d","p","q","dp","dq","qi"].map(g=>!(g in f)&&(l=!1)),l})(r),s=typeof arweaveWallet=="object";if(!a&&!s)throw new Error("No valid JWK or external wallet found to sign transaction.");if(s){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}e.tags=e.tags.map(l=>new x6(l.name,l.value));let f=await arweaveWallet.sign(e,n);e.setSignature({id:f.id,owner:f.owner,reward:f.reward,tags:f.tags,signature:f.signature})}else if(a){e.setOwner(r.n);let f=await e.getSignatureData(),l=await this.crypto.sign(r,f,n),g=await this.crypto.hash(l);e.setSignature({id:Mi(g),owner:r.n,signature:Mi(l)})}else throw new Error("An error occurred while signing. Check wallet is valid")}async verify(e){let r=await e.getSignatureData(),n=e.get("signature",{decode:!0,string:!1}),i=Mi(await this.crypto.hash(n));if(e.id!==i)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(e.owner,r,n)}async post(e){if(typeof e=="string"?e=new jn({attributes:JSON.parse(e),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof e.readInt32BE=="function"?e=new jn({attributes:JSON.parse(e.toString()),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof e=="object"&&!(e instanceof jn)&&(e=new jn({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})),!(e instanceof jn))throw new Error("Must be Transaction object");e.chunks||await e.prepareChunks(e.data);let r=await this.getUploader(e,e.data);try{for(;!r.isComplete;)await r.uploadChunk()}catch(n){if(r.lastResponseStatus>0)return{status:r.lastResponseStatus,statusText:r.lastResponseError,data:{error:r.lastResponseError}};throw n}return{status:200,statusText:"OK",data:{}}}async getUploader(e,r){let n;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),e instanceof jn){if(r||(r=e.data),!(r instanceof Uint8Array))throw new Error("Data format is invalid");e.chunks||await e.prepareChunks(r),n=new pc({transaction:e,deps:{api:this.api,crypto:this.crypto,merkle:this.merkle,deepHash:this.deepHash}}),(!n.data||n.data.length===0)&&(n.data=r)}else{if(typeof e=="string"&&(e=await pc.fromTransactionId(this.api,e)),!r||!(r instanceof Uint8Array))throw new Error("Must provide data when resuming upload");n=await pc.fromSerialized({deps:{api:this.api,merkle:this.merkle,crypto:this.crypto,deepHash:this.deepHash},serialized:e,data:r})}return n}async*upload(e,r){let n=await this.getUploader(e,r);for(;!n.isComplete;)await n.uploadChunk(),yield n;return n}};x();var ty=class{api;crypto;constructor(e,r){this.api=e,this.crypto=r}getBalance(e){return this.api.get(`wallet/${e}/balance`,{transformResponse:[function(r){return r}]}).then(r=>r.data)}getLastTransactionID(e){return this.api.get(`wallet/${e}/last_tx`).then(r=>r.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(e){return!e||e==="use_wallet"?this.getAddress():this.getAddress(e)}async getAddress(e){if(!e||e==="use_wallet"){try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}else return this.ownerToAddress(e.n)}async ownerToAddress(e){return Mi(await this.crypto.hash(gi(e)))}};var fO=class{config;api;wallets;transactions;network;blocks;chunks;crypto;deepHash;merkle;constructor(e){if(this.config=e,!e.crypto)throw new Error("config.crypto is required");this.crypto=hQ(e.crypto,{deepHash:a6}),this.deepHash=this.crypto.deepHash;let r=e.gateways?Array.isArray(e.gateways)?e.gateways:[e.gateways]:void 0;this.api=new nee({gateways:r,miners:e.miners}),this.wallets=new ty(this.api,this.crypto),this.chunks=new zv(this.api),this.network=new Qv(this.api),this.blocks=new Fv(this.api,this.network),this.merkle=new lQ({deps:{crypto:this.crypto}}),this.transactions=new ey({deps:{api:this.api,crypto:e.crypto,chunks:this.chunks,merkle:this.merkle,deepHash:this.deepHash}})}get utils(){return fO.utils}getConfig(){return this.config}async createTransaction(e,r){let n={};if(Object.assign(n,e),!e.data&&!(e.target&&e.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(e.owner==null&&r&&r!=="use_wallet"&&(n.owner=r.n),e.last_tx==null&&(n.last_tx=await this.transactions.getTransactionAnchor()),typeof e.data=="string"&&(e.data=Ct(e.data)),e.data instanceof ArrayBuffer&&(e.data=new Uint8Array(e.data)),e.data&&!(e.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(e.reward==null){let a=e.data?e.data.byteLength:0;n.reward=await this.transactions.getPrice(a,n.target)}n.data_root="",n.data_size=e.data?e.data.byteLength.toString():"0",n.data=e.data||new Uint8Array(0);let i=new jn({attributes:n,deps:{merkle:this.merkle,deepHash:this.deepHash}});return await i.getSignatureData(),i}},qf=fO;Hn(qf,"init"),Hn(qf,"utils",yh),Hn(qf,"VERSION","0.0.1");var i6=qf;var op=class extends qf{constructor(e,r){super({crypto:r?.crypto??new Nf,...r,gateways:e??"https://arweave.net"})}static init(e){return new op(e)}};var $9e=Nf.default?Nf.default:Nf,_6=class extends $9e{getPublicKey(e){throw new Error("Unimplemented")}},V9e;function gn(){return V9e??=new _6}var oee=xt(sa(),1);var E6=xt(Xu(),1),wh=class{_key;pk;signatureType=1;ownerLength=Rt[1].pubLength;signatureLength=Rt[1].sigLength;_publicKey;get publicKey(){return this._publicKey}constructor(e,r){this._key=e,this.pk=r,r||(this.pk=gn().getPublicKey(JSON.parse(e)))}sign(e){return(0,E6.createSign)("sha256").update(e).sign({key:this._key,padding:E6.constants.RSA_PKCS1_PSS_PADDING})}static async verify(e,r,n){return await gn().verify(N.Buffer.isBuffer(e)?oee.default.encode(e):e,r,n)}};x();var see=xt(dT(),1),uO=xt(Yr(),1),xh=see.default.define;var Z9e=xh("RSAPublicKey",function(){this.seq().obj(this.key("n").int(),this.key("e").int())}),fee=xh("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}),fJe=xh("PublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(fee),this.key("publicKey").bitstr())}),uee=xh("Version",function(){this.int({0:"two-prime",1:"multi"})}),J9e=xh("OtherPrimeInfos",function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())}),Y9e=xh("RSAPrivateKey",function(){this.seq().obj(this.key("version").use(uee),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(J9e))}),uJe=xh("PrivateKeyInfo",function(){this.seq().obj(this.key("version").use(uee),this.key("algorithm").use(fee),this.key("privateKey").bitstr())});function X9e(t){return{n:gc(t.n),e:gc(t.e),d:t.d&&gc(t.d),p:t.p&&gc(t.p),q:t.q&&gc(t.q),dp:t.dp&&gc(t.dp),dq:t.dq&&gc(t.dq),qi:t.qi&&gc(t.qi)}}function Q9e(t){return new uO.default(N.Buffer.from(t,"base64"))}function gc(t){return/^[0-9]+$/.test(t)?new uO.default(t,10):Q9e(t)}function cee(t){let e=X9e(t),r=!!e.d,n=r?"PRIVATE":"PUBLIC",i="-----BEGIN RSA "+n+` KEY-----
`,a=`
-----END RSA `+n+` KEY-----
`,s=N.Buffer.alloc(0);r?(e.version="two-prime",s=Y9e.encode(e,"der")):s=Z9e.encode(e,"der");let f=s.toString("base64").match(/.{1,64}/g).join(`
`);return i+f+a}var lee=xt(sa(),1);var vc=class extends wh{jwk;constructor(e){super(cee(e),e.n),this.jwk=e}get publicKey(){if(!this.pk)throw new Error("ArweaveSigner - pk is undefined");return lee.default.toBuffer(this.pk)}sign(e){return gn().sign(this.jwk,e)}static async verify(e,r,n){return await gn().verify(e,r,n)}};x();var hee=xt(sa(),1);var _h=class{_publicKey;ownerLength=Rt[2].pubLength;signatureLength=Rt[2].sigLength;signatureType=2;pem;provider;constructor(e){if(this.provider=e,!this.provider.publicKey)throw new Error("InjectedSolanaSigner - provider.publicKey is undefined");this._publicKey=this.provider.publicKey.toBuffer()}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");return await this.provider.signMessage(e)}static async verify(e,r,n){let i=e;return typeof e=="string"&&(i=hee.default.toBuffer(e)),fc(N.Buffer.from(n),N.Buffer.from(r),N.Buffer.from(i))}};x();x();x();x();var Eee=xt(dee());x();x();x();var pee="logger/5.7.0";var gee=!1,vee=!1,A6={debug:1,default:2,info:2,warning:3,error:4,off:5},yee=A6.default,cO=null;function eAe(){try{let t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}var mee=eAe(),lO;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(lO||(lO={}));var jo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(jo||(jo={}));var bee="0123456789abcdef",it=class{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){let n=e.toLowerCase();A6[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(yee>A6[n])&&console.log.apply(console,r)}debug(...e){this._log(it.levels.DEBUG,e)}info(...e){this._log(it.levels.INFO,e)}warn(...e){this._log(it.levels.WARNING,e)}makeError(e,r,n){if(vee)return this.makeError("censored error",r,{});r||(r=it.errors.UNKNOWN_ERROR),n||(n={});let i=[];Object.keys(n).forEach(l=>{let g=n[l];try{if(g instanceof Uint8Array){let m="";for(let A=0;A<g.length;A++)m+=bee[g[A]>>4],m+=bee[g[A]&15];i.push(l+"=Uint8Array(0x"+m+")")}else i.push(l+"="+JSON.stringify(g))}catch{i.push(l+"="+JSON.stringify(n[l].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);let a=e,s="";switch(r){case jo.NUMERIC_FAULT:{s="NUMERIC_FAULT";let l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case jo.CALL_EXCEPTION:case jo.INSUFFICIENT_FUNDS:case jo.MISSING_NEW:case jo.NONCE_EXPIRED:case jo.REPLACEMENT_UNDERPRICED:case jo.TRANSACTION_REPLACED:case jo.UNPREDICTABLE_GAS_LIMIT:s=r;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");let f=new Error(e);return f.reason=a,f.code=r,Object.keys(n).forEach(function(l){f[l]=n[l]}),f}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,it.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),mee&&this.throwError("platform missing String.prototype.normalize",it.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:mee})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,it.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,it.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,it.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,it.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",it.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",it.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",it.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return cO||(cO=new it(pee)),cO}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",it.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),gee){if(!e)return;this.globalLogger().throwError("error censorship permanent",it.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}vee=!!e,gee=!!r}static setLogLevel(e){let r=A6[e.toLowerCase()];if(r==null){it.globalLogger().warn("invalid log level - "+e);return}yee=r}static from(e){return new it(e)}};it.errors=jo;it.levels=lO;x();var wee="bytes/5.7.0";var vn=new it(wee);function _ee(t){return!!t.toHexString}function sp(t){return t.slice||(t.slice=function(){let e=Array.prototype.slice.call(arguments);return sp(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function ry(t){return Mn(t)&&!(t.length%2)||ny(t)}function xee(t){return typeof t=="number"&&t==t&&t%1===0}function ny(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!xee(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){let r=t[e];if(!xee(r)||r<0||r>=256)return!1}return!0}function rt(t,e){if(e||(e={}),typeof t=="number"){vn.checkSafeUint53(t,"invalid arrayify value");let r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),sp(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),_ee(t)&&(t=t.toHexString()),Mn(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":vn.throwArgumentError("hex data is odd-length","value",t));let n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return sp(new Uint8Array(n))}return ny(t)?sp(new Uint8Array(t)):vn.throwArgumentError("invalid arrayify value","value",t)}function da(t){let e=t.map(i=>rt(i)),r=e.reduce((i,a)=>i+a.length,0),n=new Uint8Array(r);return e.reduce((i,a)=>(n.set(a,i),i+a.length),0),sp(n)}function Ds(t){let e=rt(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function tAe(t,e){t=rt(t),t.length>e&&vn.throwArgumentError("value out of range","value",arguments[0]);let r=new Uint8Array(e);return r.set(t,e-t.length),sp(r)}function Mn(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}var hO="0123456789abcdef";function dt(t,e){if(e||(e={}),typeof t=="number"){vn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=hO[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),_ee(t))return t.toHexString();if(Mn(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":vn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ny(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=hO[(i&240)>>4]+hO[i&15]}return r}return vn.throwArgumentError("invalid hexlify value","value",t)}function iy(t){if(typeof t!="string")t=dt(t);else if(!Mn(t)||t.length%2)return null;return(t.length-2)/2}function Uf(t,e,r){return typeof t!="string"?t=dt(t):(!Mn(t)||t.length%2)&&vn.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function yc(t){let e="0x";return t.forEach(r=>{e+=dt(r).substring(2)}),e}function vi(t,e){for(typeof t!="string"?t=dt(t):Mn(t)||vn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&vn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function mc(t){let e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(ry(t)){let r=rt(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=dt(r.slice(0,32)),e.s=dt(r.slice(32,64))):r.length===65?(e.r=dt(r.slice(0,32)),e.s=dt(r.slice(32,64)),e.v=r[64]):vn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:vn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=dt(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){let i=tAe(rt(e._vs),32);e._vs=dt(i);let a=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=a:e.recoveryParam!==a&&vn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;let s=dt(i);e.s==null?e.s=s:e.s!==s&&vn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?vn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{let i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&vn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Mn(e.r)?vn.throwArgumentError("signature missing or invalid r","signature",t):e.r=vi(e.r,32),e.s==null||!Mn(e.s)?vn.throwArgumentError("signature missing or invalid s","signature",t):e.s=vi(e.s,32);let r=rt(e.s);r[0]>=128&&vn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);let n=dt(r);e._vs&&(Mn(e._vs)||vn.throwArgumentError("signature invalid _vs","signature",t),e._vs=vi(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&vn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function dO(t){return t=mc(t),dt(da([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}function en(t){return"0x"+Eee.default.keccak_256(rt(t))}x();x();x();var Iee=xt(Aee());x();var Mee="bignumber/5.7.0";var M6=Iee.default.BN,Ff=new it(Mee),gO={},Tee=9007199254740991;var Oee=!1,tr=class{constructor(e,r){e!==gO&&Ff.throwError("cannot call constructor directly; use BigNumber.from",it.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Ki(Gt(this).fromTwos(e))}toTwos(e){return Ki(Gt(this).toTwos(e))}abs(){return this._hex[0]==="-"?tr.from(this._hex.substring(1)):this}add(e){return Ki(Gt(this).add(Gt(e)))}sub(e){return Ki(Gt(this).sub(Gt(e)))}div(e){return tr.from(e).isZero()&&no("division-by-zero","div"),Ki(Gt(this).div(Gt(e)))}mul(e){return Ki(Gt(this).mul(Gt(e)))}mod(e){let r=Gt(e);return r.isNeg()&&no("division-by-zero","mod"),Ki(Gt(this).umod(r))}pow(e){let r=Gt(e);return r.isNeg()&&no("negative-power","pow"),Ki(Gt(this).pow(r))}and(e){let r=Gt(e);return(this.isNegative()||r.isNeg())&&no("unbound-bitwise-result","and"),Ki(Gt(this).and(r))}or(e){let r=Gt(e);return(this.isNegative()||r.isNeg())&&no("unbound-bitwise-result","or"),Ki(Gt(this).or(r))}xor(e){let r=Gt(e);return(this.isNegative()||r.isNeg())&&no("unbound-bitwise-result","xor"),Ki(Gt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&no("negative-width","mask"),Ki(Gt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&no("negative-width","shl"),Ki(Gt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&no("negative-width","shr"),Ki(Gt(this).shrn(e))}eq(e){return Gt(this).eq(Gt(e))}lt(e){return Gt(this).lt(Gt(e))}lte(e){return Gt(this).lte(Gt(e))}gt(e){return Gt(this).gt(Gt(e))}gte(e){return Gt(this).gte(Gt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Gt(this).isZero()}toNumber(){try{return Gt(this).toNumber()}catch{no("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ff.throwError("this platform does not support BigInt",it.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Oee||(Oee=!0,Ff.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ff.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",it.errors.UNEXPECTED_ARGUMENT,{}):Ff.throwError("BigNumber.toString does not accept parameters",it.errors.UNEXPECTED_ARGUMENT,{})),Gt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof tr)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new tr(gO,ay(e)):e.match(/^-?[0-9]+$/)?new tr(gO,ay(new M6(e))):Ff.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&no("underflow","BigNumber.from",e),(e>=Tee||e<=-Tee)&&no("overflow","BigNumber.from",e),tr.from(String(e));let r=e;if(typeof r=="bigint")return tr.from(r.toString());if(ny(r))return tr.from(dt(r));if(r)if(r.toHexString){let n=r.toHexString();if(typeof n=="string")return tr.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Mn(n)||n[0]==="-"&&Mn(n.substring(1))))return tr.from(n)}return Ff.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function ay(t){if(typeof t!="string")return ay(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ff.throwArgumentError("invalid hex","value",t),t=ay(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Ki(t){return tr.from(ay(t))}function Gt(t){let e=tr.from(t).toHexString();return e[0]==="-"?new M6("-"+e.substring(3),16):new M6(e.substring(2),16)}function no(t,e,r){let n={fault:t,operation:e};return r!=null&&(n.value=r),Ff.throwError(t,it.errors.NUMERIC_FAULT,n)}function vO(t){return new M6(t,36).toString(16)}x();x();var Ree="strings/5.7.0";var kee=new it(Ree),qs;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(qs||(qs={}));var Eh;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Eh||(Eh={}));function nAe(t,e,r,n,i){return kee.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Cee(t,e,r,n,i){if(t===Eh.BAD_PREFIX||t===Eh.UNEXPECTED_CONTINUE){let a=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)a++;return a}return t===Eh.OVERRUN?r.length-e-1:0}function iAe(t,e,r,n,i){return t===Eh.OVERLONG?(n.push(i),0):(n.push(65533),Cee(t,e,r,n,i))}var aAe=Object.freeze({error:nAe,ignore:Cee,replace:iAe});function Ii(t,e=qs.current){e!=qs.current&&(kee.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let a=t.charCodeAt(n);if(n>=t.length||(a&64512)!==56320)throw new Error("invalid utf-8 string");let s=65536+((i&1023)<<10)+(a&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return rt(r)}function fp(t){return en(Ii(t))}x();var Bee="hash/5.7.0";x();var Pee=`Ethereum Signed Message:
`;function bc(t){return typeof t=="string"&&(t=Ii(t)),en(da([Ii(Pee),Ii(String(t.length)),t]))}x();x();x();x();var Nee="rlp/5.7.0";var oAe=new it(Nee);function Lee(t){let e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Dee(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(a){n=n.concat(Dee(a))}),n.length<=55)return n.unshift(192+n.length),n;let i=Lee(n.length);return i.unshift(247+i.length),i.concat(n)}ry(t)||oAe.throwArgumentError("RLP object must be BytesLike","object",t);let e=Array.prototype.slice.call(rt(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let r=Lee(e.length);return r.unshift(183+r.length),r.concat(e)}function oy(t){return dt(Dee(t))}x();var qee="address/5.7.0";var sy=new it(qee);function Uee(t){Mn(t,20)||sy.throwArgumentError("invalid address","address",t),t=t.toLowerCase();let e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);let n=rt(en(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}var fAe=9007199254740991;function uAe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}var yO={};for(let t=0;t<10;t++)yO[String(t)]=String(t);for(let t=0;t<26;t++)yO[String.fromCharCode(65+t)]=String(10+t);var Fee=Math.floor(uAe(fAe));function cAe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>yO[n]).join("");for(;e.length>=Fee;){let n=e.substring(0,Fee);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function yi(t){let e=null;if(typeof t!="string"&&sy.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=Uee(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&sy.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==cAe(t)&&sy.throwArgumentError("bad icap checksum","address",t),e=vO(t.substring(4));e.length<40;)e="0"+e;e=Uee("0x"+e)}else sy.throwArgumentError("invalid address","address",t);return e}x();x();var jee="properties/5.7.0";var lAe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function f(m){try{g(n.next(m))}catch(A){s(A)}}function l(m){try{g(n.throw(m))}catch(A){s(A)}}function g(m){m.done?a(m.value):i(m.value).then(f,l)}g((n=n.apply(t,e||[])).next())})},T6=new it(jee);function bt(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function jf(t){return lAe(this,void 0,void 0,function*(){let e=Object.keys(t).map(n=>{let i=t[n];return Promise.resolve(i).then(a=>({key:n,value:a}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function zee(t,e){(!t||typeof t!="object")&&T6.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||T6.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function uy(t){let e={};for(let r in t)e[r]=t[r];return e}var hAe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Kee(t){if(t==null||hAe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!Kee(n))return!1}return!0}return T6.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function dAe(t){if(Kee(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>fy(e)));if(typeof t=="object"){let e={};for(let r in t){let n=t[r];n!==void 0&&bt(e,r,fy(n))}return e}return T6.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function fy(t){return dAe(t)}var Sh=class{constructor(e){for(let r in e)this[r]=fy(e[r])}};var pAe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function f(m){try{g(n.next(m))}catch(A){s(A)}}function l(m){try{g(n.throw(m))}catch(A){s(A)}}function g(m){m.done?a(m.value):i(m.value).then(f,l)}g((n=n.apply(t,e||[])).next())})},tn=new it(Bee),$ee=new Uint8Array(32);$ee.fill(0);var gAe=tr.from(-1),Vee=tr.from(0),Zee=tr.from(1),vAe=tr.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function yAe(t){let e=rt(t),r=e.length%32;return r?yc([e,$ee.slice(r)]):dt(e)}var mAe=vi(Zee.toHexString(),32),bAe=vi(Vee.toHexString(),32),Wee={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},mO=["name","version","chainId","verifyingContract","salt"];function Gee(t){return function(e){return typeof e!="string"&&tn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}var wAe={name:Gee("name"),version:Gee("version"),chainId:function(t){try{return tr.from(t).toString()}catch{}return tn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return yi(t).toLowerCase()}catch{}return tn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{let e=rt(t);if(e.length!==32)throw new Error("bad length");return dt(e)}catch{}return tn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function bO(t){{let e=t.match(/^(u?)int(\d*)$/);if(e){let r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&tn.throwArgumentError("invalid numeric width","type",t);let i=vAe.mask(r?n-1:n),a=r?i.add(Zee).mul(gAe):Vee;return function(s){let f=tr.from(s);return(f.lt(a)||f.gt(i))&&tn.throwArgumentError(`value out-of-bounds for ${t}`,"value",s),vi(f.toTwos(256).toHexString(),32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&tn.throwArgumentError("invalid bytes width","type",t),function(n){return rt(n).length!==r&&tn.throwArgumentError(`invalid length for ${t}`,"value",n),yAe(n)}}}switch(t){case"address":return function(e){return vi(yi(e),32)};case"bool":return function(e){return e?mAe:bAe};case"bytes":return function(e){return en(e)};case"string":return function(e){return fp(e)}}return null}function Hee(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}var zn=class{constructor(e){bt(this,"types",Object.freeze(fy(e))),bt(this,"_encoderCache",{}),bt(this,"_types",{});let r={},n={},i={};Object.keys(e).forEach(f=>{r[f]={},n[f]=[],i[f]={}});for(let f in e){let l={};e[f].forEach(g=>{l[g.name]&&tn.throwArgumentError(`duplicate variable name ${JSON.stringify(g.name)} in ${JSON.stringify(f)}`,"types",e),l[g.name]=!0;let m=g.type.match(/^([^\x5b]*)(\x5b|$)/)[1];m===f&&tn.throwArgumentError(`circular type reference to ${JSON.stringify(m)}`,"types",e),!bO(m)&&(n[m]||tn.throwArgumentError(`unknown type ${JSON.stringify(m)}`,"types",e),n[m].push(f),r[f][m]=!0)})}let a=Object.keys(n).filter(f=>n[f].length===0);a.length===0?tn.throwArgumentError("missing primary type","types",e):a.length>1&&tn.throwArgumentError(`ambiguous primary types or unused types: ${a.map(f=>JSON.stringify(f)).join(", ")}`,"types",e),bt(this,"primaryType",a[0]);function s(f,l){l[f]&&tn.throwArgumentError(`circular type reference to ${JSON.stringify(f)}`,"types",e),l[f]=!0,Object.keys(r[f]).forEach(g=>{!n[g]||(s(g,l),Object.keys(l).forEach(m=>{i[m][g]=!0}))}),delete l[f]}s(this.primaryType,{});for(let f in i){let l=Object.keys(i[f]);l.sort(),this._types[f]=Hee(f,e[f])+l.map(g=>Hee(g,e[g])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{let i=bO(e);if(i)return i}let r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){let i=r[1],a=this.getEncoder(i),s=parseInt(r[3]);return f=>{s>=0&&f.length!==s&&tn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",f);let l=f.map(a);return this._types[i]&&(l=l.map(en)),en(yc(l))}}let n=this.types[e];if(n){let i=fp(this._types[e]);return a=>{let s=n.map(({name:f,type:l})=>{let g=this.getEncoder(l)(a[f]);return this._types[l]?en(g):g});return s.unshift(i),yc(s)}}return tn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let r=this._types[e];return r||tn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return en(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(bO(e))return n(e,r);let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let s=i[1],f=parseInt(i[3]);return f>=0&&r.length!==f&&tn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(s,l,n))}let a=this.types[e];return a?a.reduce((s,{name:f,type:l})=>(s[f]=this._visit(l,r[f],n),s),{}):tn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new zn(e)}static getPrimaryType(e){return zn.from(e).primaryType}static hashStruct(e,r,n){return zn.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){let i=Wee[n];i||tn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>mO.indexOf(n.name)-mO.indexOf(i.name)),zn.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return yc(["0x1901",zn.hashDomain(e),zn.from(r).hash(n)])}static hash(e,r,n){return en(zn.encode(e,r,n))}static resolveNames(e,r,n,i){return pAe(this,void 0,void 0,function*(){e=uy(e);let a={};e.verifyingContract&&!Mn(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");let s=zn.from(r);s.visit(n,(f,l)=>(f==="address"&&!Mn(l,20)&&(a[l]="0x"),l));for(let f in a)a[f]=yield i(f);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),n=s.visit(n,(f,l)=>f==="address"&&a[l]?a[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){zn.hashDomain(e);let i={},a=[];mO.forEach(l=>{let g=e[l];g!=null&&(i[l]=wAe[l](g),a.push({name:l,type:Wee[l]}))});let s=zn.from(r),f=uy(r);return f.EIP712Domain?tn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):f.EIP712Domain=a,s.encode(n),{types:f,domain:i,primaryType:s.primaryType,message:s.visit(n,(l,g)=>{if(l.match(/^bytes(\d*)/))return dt(rt(g));if(l.match(/^u?int/))return tr.from(g).toString();switch(l){case"address":return g.toLowerCase();case"bool":return!!g;case"string":return typeof g!="string"&&tn.throwArgumentError("invalid string","value",g),g}return tn.throwArgumentError("unsupported type","type",l)})}}};x();x();var Mt=xt(Yee()),Us=xt(Fd());function up(t,e,r){return r={path:e,exports:{},require:function(n,i){return xAe(n,i??r.path)}},t(r,r.exports),r.exports}function xAe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var SO=Qee;function Qee(t,e){if(!t)throw new Error(e||"Assertion failed")}Qee.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var zo=up(function(t,e){"use strict";var r=e;function n(s,f){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var g=0;g<s.length;g++)l[g]=s[g]|0;return l}if(f==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var g=0;g<s.length;g+=2)l.push(parseInt(s[g]+s[g+1],16))}else for(var g=0;g<s.length;g++){var m=s.charCodeAt(g),A=m>>8,I=m&255;A?l.push(A,I):l.push(I)}return l}r.toArray=n;function i(s){return s.length===1?"0"+s:s}r.zero2=i;function a(s){for(var f="",l=0;l<s.length;l++)f+=i(s[l].toString(16));return f}r.toHex=a,r.encode=function(f,l){return l==="hex"?a(f):f}}),pa=up(function(t,e){"use strict";var r=e;r.assert=SO,r.toArray=zo.toArray,r.zero2=zo.zero2,r.toHex=zo.toHex,r.encode=zo.encode;function n(l,g,m){var A=new Array(Math.max(l.bitLength(),m)+1);A.fill(0);for(var I=1<<g+1,T=l.clone(),O=0;O<A.length;O++){var U,Z=T.andln(I-1);T.isOdd()?(Z>(I>>1)-1?U=(I>>1)-Z:U=Z,T.isubn(U)):U=0,A[O]=U,T.iushrn(1)}return A}r.getNAF=n;function i(l,g){var m=[[],[]];l=l.clone(),g=g.clone();for(var A=0,I=0,T;l.cmpn(-A)>0||g.cmpn(-I)>0;){var O=l.andln(3)+A&3,U=g.andln(3)+I&3;O===3&&(O=-1),U===3&&(U=-1);var Z;(O&1)===0?Z=0:(T=l.andln(7)+A&7,(T===3||T===5)&&U===2?Z=-O:Z=O),m[0].push(Z);var Y;(U&1)===0?Y=0:(T=g.andln(7)+I&7,(T===3||T===5)&&O===2?Y=-U:Y=U),m[1].push(Y),2*A===Z+1&&(A=1-A),2*I===Y+1&&(I=1-I),l.iushrn(1),g.iushrn(1)}return m}r.getJSF=i;function a(l,g,m){var A="_"+g;l.prototype[g]=function(){return this[A]!==void 0?this[A]:this[A]=m.call(this)}}r.cachedProperty=a;function s(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=s;function f(l){return new Mt.default(l,"hex","le")}r.intFromLE=f}),R6=pa.getNAF,_Ae=pa.getJSF,k6=pa.assert;function xc(t,e){this.type=t,this.p=new Mt.default(e.p,16),this.red=e.prime?Mt.default.red(e.prime):Mt.default.mont(this.p),this.zero=new Mt.default(0).toRed(this.red),this.one=new Mt.default(1).toRed(this.red),this.two=new Mt.default(2).toRed(this.red),this.n=e.n&&new Mt.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ah=xc;xc.prototype.point=function(){throw new Error("Not implemented")};xc.prototype.validate=function(){throw new Error("Not implemented")};xc.prototype._fixedNafMul=function(e,r){k6(e.precomputed);var n=e._getDoubles(),i=R6(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],f,l;for(f=0;f<i.length;f+=n.step){l=0;for(var g=f+n.step-1;g>=f;g--)l=(l<<1)+i[g];s.push(l)}for(var m=this.jpoint(null,null,null),A=this.jpoint(null,null,null),I=a;I>0;I--){for(f=0;f<s.length;f++)l=s[f],l===I?A=A.mixedAdd(n.points[f]):l===-I&&(A=A.mixedAdd(n.points[f].neg()));m=m.add(A)}return m.toP()};xc.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=R6(r,n,this._bitLength),f=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var g=0;l>=0&&s[l]===0;l--)g++;if(l>=0&&g++,f=f.dblp(g),l<0)break;var m=s[l];k6(m!==0),e.type==="affine"?m>0?f=f.mixedAdd(a[m-1>>1]):f=f.mixedAdd(a[-m-1>>1].neg()):m>0?f=f.add(a[m-1>>1]):f=f.add(a[-m-1>>1].neg())}return e.type==="affine"?f.toP():f};xc.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,f=this._wnafT2,l=this._wnafT3,g=0,m,A,I;for(m=0;m<i;m++){I=r[m];var T=I._getNAFPoints(e);s[m]=T.wnd,f[m]=T.points}for(m=i-1;m>=1;m-=2){var O=m-1,U=m;if(s[O]!==1||s[U]!==1){l[O]=R6(n[O],s[O],this._bitLength),l[U]=R6(n[U],s[U],this._bitLength),g=Math.max(l[O].length,g),g=Math.max(l[U].length,g);continue}var Z=[r[O],null,null,r[U]];r[O].y.cmp(r[U].y)===0?(Z[1]=r[O].add(r[U]),Z[2]=r[O].toJ().mixedAdd(r[U].neg())):r[O].y.cmp(r[U].y.redNeg())===0?(Z[1]=r[O].toJ().mixedAdd(r[U]),Z[2]=r[O].add(r[U].neg())):(Z[1]=r[O].toJ().mixedAdd(r[U]),Z[2]=r[O].toJ().mixedAdd(r[U].neg()));var Y=[-3,-1,-5,-7,0,7,5,1,3],re=_Ae(n[O],n[U]);for(g=Math.max(re[0].length,g),l[O]=new Array(g),l[U]=new Array(g),A=0;A<g;A++){var pe=re[0][A]|0,he=re[1][A]|0;l[O][A]=Y[(pe+1)*3+(he+1)],l[U][A]=0,f[O]=Z}}var se=this.jpoint(null,null,null),fe=this._wnafT4;for(m=g;m>=0;m--){for(var de=0;m>=0;){var G=!0;for(A=0;A<i;A++)fe[A]=l[A][m]|0,fe[A]!==0&&(G=!1);if(!G)break;de++,m--}if(m>=0&&de++,se=se.dblp(de),m<0)break;for(A=0;A<i;A++){var L=fe[A];L!==0&&(L>0?I=f[A][L-1>>1]:L<0&&(I=f[A][-L-1>>1].neg()),I.type==="affine"?se=se.mixedAdd(I):se=se.add(I))}}for(m=0;m<i;m++)f[m]=null;return a?se:se.toP()};function ao(t,e){this.curve=t,this.type=e,this.precomputed=null}xc.BasePoint=ao;ao.prototype.eq=function(){throw new Error("Not implemented")};ao.prototype.validate=function(){return this.curve.validate(this)};xc.prototype.decodePoint=function(e,r){e=pa.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?k6(e[e.length-1]%2===0):e[0]===7&&k6(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};ao.prototype.encodeCompressed=function(e){return this.encode(e,!0)};ao.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};ao.prototype.encode=function(e,r){return pa.encode(this._encode(r),e)};ao.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};ao.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};ao.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};ao.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};ao.prototype._getBeta=function(){return null};ao.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var AO=up(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),EAe=pa.assert;function oo(t){Ah.call(this,"short",t),this.a=new Mt.default(t.a,16).toRed(this.red),this.b=new Mt.default(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}AO(oo,Ah);var SAe=oo;oo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Mt.default(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Mt.default(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],EAe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(f){return{a:new Mt.default(f.a,16),b:new Mt.default(f.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};oo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Mt.default.mont(e),n=new Mt.default(2).toRed(r).redInvm(),i=n.redNeg(),a=new Mt.default(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),f=i.redSub(a).fromRed();return[s,f]};oo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new Mt.default(1),s=new Mt.default(0),f=new Mt.default(0),l=new Mt.default(1),g,m,A,I,T,O,U,Z=0,Y,re;n.cmpn(0)!==0;){var pe=i.div(n);Y=i.sub(pe.mul(n)),re=f.sub(pe.mul(a));var he=l.sub(pe.mul(s));if(!A&&Y.cmp(r)<0)g=U.neg(),m=a,A=Y.neg(),I=re;else if(A&&++Z===2)break;U=Y,i=n,n=Y,f=a,a=re,l=s,s=he}T=Y.neg(),O=re;var se=A.sqr().add(I.sqr()),fe=T.sqr().add(O.sqr());return fe.cmp(se)>=0&&(T=g,O=m),A.negative&&(A=A.neg(),I=I.neg()),T.negative&&(T=T.neg(),O=O.neg()),[{a:A,b:I},{a:T,b:O}]};oo.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),f=a.mul(n.a),l=s.mul(i.a),g=a.mul(n.b),m=s.mul(i.b),A=e.sub(f).sub(l),I=g.add(m).neg();return{k1:A,k2:I}};oo.prototype.pointFromX=function(e,r){e=new Mt.default(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};oo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};oo.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var f=this._endoSplit(r[s]),l=e[s],g=l._getBeta();f.k1.negative&&(f.k1.ineg(),l=l.neg(!0)),f.k2.negative&&(f.k2.ineg(),g=g.neg(!0)),i[s*2]=l,i[s*2+1]=g,a[s*2]=f.k1,a[s*2+1]=f.k2}for(var m=this._wnafMulAdd(1,i,a,s*2,n),A=0;A<s*2;A++)i[A]=null,a[A]=null;return m};function Kn(t,e,r,n){Ah.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Mt.default(e,16),this.y=new Mt.default(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}AO(Kn,Ah.BasePoint);oo.prototype.point=function(e,r,n){return new Kn(this,e,r,n)};oo.prototype.pointFromJSON=function(e,r){return Kn.fromJSON(this,e,r)};Kn.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Kn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Kn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(f){return e.point(f[0],f[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};Kn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Kn.prototype.isInfinity=function(){return this.inf};Kn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Kn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),f=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,f)};Kn.prototype.getX=function(){return this.x.fromRed()};Kn.prototype.getY=function(){return this.y.fromRed()};Kn.prototype.mul=function(e){return e=new Mt.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Kn.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Kn.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Kn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Kn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Kn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ni(t,e,r,n){Ah.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Mt.default(0)):(this.x=new Mt.default(e,16),this.y=new Mt.default(r,16),this.z=new Mt.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}AO(ni,Ah.BasePoint);oo.prototype.jpoint=function(e,r,n){return new ni(this,e,r,n)};ni.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};ni.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ni.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),f=e.y.redMul(n.redMul(this.z)),l=i.redSub(a),g=s.redSub(f);if(l.cmpn(0)===0)return g.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=l.redSqr(),A=m.redMul(l),I=i.redMul(m),T=g.redSqr().redIAdd(A).redISub(I).redISub(I),O=g.redMul(I.redISub(T)).redISub(s.redMul(A)),U=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(T,O,U)};ni.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),f=n.redSub(i),l=a.redSub(s);if(f.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=f.redSqr(),m=g.redMul(f),A=n.redMul(g),I=l.redSqr().redIAdd(m).redISub(A).redISub(A),T=l.redMul(A.redISub(I)).redISub(a.redMul(m)),O=this.z.redMul(f);return this.curve.jpoint(I,T,O)};ni.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,f=this.y,l=this.z,g=l.redSqr().redSqr(),m=f.redAdd(f);for(r=0;r<e;r++){var A=s.redSqr(),I=m.redSqr(),T=I.redSqr(),O=A.redAdd(A).redIAdd(A).redIAdd(i.redMul(g)),U=s.redMul(I),Z=O.redSqr().redISub(U.redAdd(U)),Y=U.redISub(Z),re=O.redMul(Y);re=re.redIAdd(re).redISub(T);var pe=m.redMul(l);r+1<e&&(g=g.redMul(T)),s=Z,l=pe,m=re}return this.curve.jpoint(s,m.redMul(a),l)};ni.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ni.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),f=this.x.redAdd(a).redSqr().redISub(i).redISub(s);f=f.redIAdd(f);var l=i.redAdd(i).redIAdd(i),g=l.redSqr().redISub(f).redISub(f),m=s.redIAdd(s);m=m.redIAdd(m),m=m.redIAdd(m),e=g,r=l.redMul(f.redISub(g)).redISub(m),n=this.y.redAdd(this.y)}else{var A=this.x.redSqr(),I=this.y.redSqr(),T=I.redSqr(),O=this.x.redAdd(I).redSqr().redISub(A).redISub(T);O=O.redIAdd(O);var U=A.redAdd(A).redIAdd(A),Z=U.redSqr(),Y=T.redIAdd(T);Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),e=Z.redISub(O).redISub(O),r=U.redMul(O.redISub(e)).redISub(Y),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};ni.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),f=this.x.redAdd(a).redSqr().redISub(i).redISub(s);f=f.redIAdd(f);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),g=l.redSqr().redISub(f).redISub(f);e=g;var m=s.redIAdd(s);m=m.redIAdd(m),m=m.redIAdd(m),r=l.redMul(f.redISub(g)).redISub(m),n=this.y.redAdd(this.y)}else{var A=this.z.redSqr(),I=this.y.redSqr(),T=this.x.redMul(I),O=this.x.redSub(A).redMul(this.x.redAdd(A));O=O.redAdd(O).redIAdd(O);var U=T.redIAdd(T);U=U.redIAdd(U);var Z=U.redAdd(U);e=O.redSqr().redISub(Z),n=this.y.redAdd(this.z).redSqr().redISub(I).redISub(A);var Y=I.redSqr();Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),r=O.redMul(U.redISub(e)).redISub(Y)}return this.curve.jpoint(e,r,n)};ni.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),f=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),g=r.redAdd(r);g=g.redIAdd(g);var m=g.redMul(f),A=l.redSqr().redISub(m.redAdd(m)),I=m.redISub(A),T=f.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=l.redMul(I).redISub(T),U=n.redAdd(n).redMul(i);return this.curve.jpoint(A,O,U)};ni.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),f=this.x.redAdd(r).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(s);var l=f.redSqr(),g=i.redIAdd(i);g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=a.redIAdd(f).redSqr().redISub(s).redISub(l).redISub(g),A=r.redMul(m);A=A.redIAdd(A),A=A.redIAdd(A);var I=this.x.redMul(l).redISub(A);I=I.redIAdd(I),I=I.redIAdd(I);var T=this.y.redMul(m.redMul(g.redISub(m)).redISub(f.redMul(l)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=this.z.redAdd(f).redSqr().redISub(n).redISub(l);return this.curve.jpoint(I,T,O)};ni.prototype.mul=function(e,r){return e=new Mt.default(e,r),this.curve._wnafMul(this,e)};ni.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};ni.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};ni.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ni.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var O6=up(function(t,e){"use strict";var r=e;r.base=Ah,r.short=SAe,r.mont=null,r.edwards=null}),I6=up(function(t,e){"use strict";var r=e,n=pa.assert;function i(f){f.type==="short"?this.curve=new O6.short(f):f.type==="edwards"?this.curve=new O6.edwards(f):this.curve=new O6.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function a(f,l){Object.defineProperty(r,f,{configurable:!0,enumerable:!0,get:function(){var g=new i(l);return Object.defineProperty(r,f,{configurable:!0,enumerable:!0,value:g}),g}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Us.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Us.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Us.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Us.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Us.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Us.default.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Us.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Us.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function wc(t){if(!(this instanceof wc))return new wc(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=zo.toArray(t.entropy,t.entropyEnc||"hex"),r=zo.toArray(t.nonce,t.nonceEnc||"hex"),n=zo.toArray(t.pers,t.persEnc||"hex");SO(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var ete=wc;wc.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};wc.prototype._hmac=function(){return new Us.default.hmac(this.hash,this.K)};wc.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};wc.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=zo.toArray(e,r),n=zo.toArray(n,i),SO(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};wc.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=zo.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(n),this._reseed++,zo.encode(s,r)};var EO=pa.assert;function mi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var MO=mi;mi.fromPublic=function(e,r,n){return r instanceof mi?r:new mi(e,{pub:r,pubEnc:n})};mi.fromPrivate=function(e,r,n){return r instanceof mi?r:new mi(e,{priv:r,privEnc:n})};mi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};mi.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};mi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};mi.prototype._importPrivate=function(e,r){this.priv=new Mt.default(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};mi.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?EO(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&EO(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};mi.prototype.derive=function(e){return e.validate()||EO(e.validate(),"public point not validated"),e.mul(this.priv).getX()};mi.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};mi.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};mi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var AAe=pa.assert;function C6(t,e){if(t instanceof C6)return t;this._importDER(t,e)||(AAe(t.r&&t.s,"Signature without r or s"),this.r=new Mt.default(t.r,16),this.s=new Mt.default(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var B6=C6;function MAe(){this.place=0}function xO(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function Xee(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}C6.prototype._importDER=function(e,r){e=pa.toArray(e,r);var n=new MAe;if(e[n.place++]!==48)return!1;var i=xO(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=xO(e,n);if(a===!1)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var f=xO(e,n);if(f===!1||e.length!==f+n.place)return!1;var l=e.slice(n.place,f+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new Mt.default(s),this.s=new Mt.default(l),this.recoveryParam=null,!0};function _O(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}C6.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Xee(r),n=Xee(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];_O(i,r.length),i=i.concat(r),i.push(2),_O(i,n.length);var a=i.concat(n),s=[48];return _O(s,a.length),s=s.concat(a),pa.encode(s,e)};var TAe=function(){throw new Error("unsupported")},tte=pa.assert;function io(t){if(!(this instanceof io))return new io(t);typeof t=="string"&&(tte(Object.prototype.hasOwnProperty.call(I6,t),"Unknown curve "+t),t=I6[t]),t instanceof I6.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var OAe=io;io.prototype.keyPair=function(e){return new MO(this,e)};io.prototype.keyFromPrivate=function(e,r){return MO.fromPrivate(this,e,r)};io.prototype.keyFromPublic=function(e,r){return MO.fromPublic(this,e,r)};io.prototype.genKeyPair=function(e){e||(e={});for(var r=new ete({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||TAe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Mt.default(2));;){var a=new Mt.default(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};io.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};io.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Mt.default(e,16));for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),f=e.toArray("be",a),l=new ete({hash:this.hash,entropy:s,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),g=this.n.sub(new Mt.default(1)),m=0;;m++){var A=i.k?i.k(m):new Mt.default(l.generate(this.n.byteLength()));if(A=this._truncateToN(A,!0),!(A.cmpn(1)<=0||A.cmp(g)>=0)){var I=this.g.mul(A);if(!I.isInfinity()){var T=I.getX(),O=T.umod(this.n);if(O.cmpn(0)!==0){var U=A.invm(this.n).mul(O.mul(r.getPrivate()).iadd(e));if(U=U.umod(this.n),U.cmpn(0)!==0){var Z=(I.getY().isOdd()?1:0)|(T.cmp(O)!==0?2:0);return i.canonical&&U.cmp(this.nh)>0&&(U=this.n.sub(U),Z^=1),new B6({r:O,s:U,recoveryParam:Z})}}}}}};io.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Mt.default(e,16)),n=this.keyFromPublic(n,i),r=new B6(r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var f=s.invm(this.n),l=f.mul(e).umod(this.n),g=f.mul(a).umod(this.n),m;return this.curve._maxwellTrick?(m=this.g.jmulAdd(l,n.getPublic(),g),m.isInfinity()?!1:m.eqXToP(a)):(m=this.g.mulAdd(l,n.getPublic(),g),m.isInfinity()?!1:m.getX().umod(this.n).cmp(a)===0)};io.prototype.recoverPubKey=function(t,e,r,n){tte((3&r)===r,"The recovery param is more than two bits"),e=new B6(e,n);var i=this.n,a=new Mt.default(t),s=e.r,f=e.s,l=r&1,g=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&g)throw new Error("Unable to find sencond key candinate");g?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var m=e.r.invm(i),A=i.sub(a).mul(m).umod(i),I=f.mul(m).umod(i);return this.g.mulAdd(A,s,I)};io.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new B6(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var IAe=up(function(t,e){"use strict";var r=e;r.version="6.5.4",r.utils=pa,r.rand=function(){throw new Error("unsupported")},r.curve=O6,r.curves=I6,r.ec=OAe,r.eddsa=null}),rte=IAe.ec;x();var nte="signing-key/5.7.0";var OO=new it(nte),TO=null;function Fs(){return TO||(TO=new rte("secp256k1")),TO}var js=class{constructor(e){bt(this,"curve","secp256k1"),bt(this,"privateKey",dt(e)),iy(this.privateKey)!==32&&OO.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let r=Fs().keyFromPrivate(rt(this.privateKey));bt(this,"publicKey","0x"+r.getPublic(!1,"hex")),bt(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),bt(this,"_isSigningKey",!0)}_addPoint(e){let r=Fs().keyFromPublic(rt(this.publicKey)),n=Fs().keyFromPublic(rt(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let r=Fs().keyFromPrivate(rt(this.privateKey)),n=rt(e);n.length!==32&&OO.throwArgumentError("bad digest length","digest",e);let i=r.sign(n,{canonical:!0});return mc({recoveryParam:i.recoveryParam,r:vi("0x"+i.r.toString(16),32),s:vi("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let r=Fs().keyFromPrivate(rt(this.privateKey)),n=Fs().keyFromPublic(rt(IO(e)));return vi("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function P6(t,e){let r=mc(e),n={r:rt(r.r),s:rt(r.s)};return"0x"+Fs().recoverPubKey(rt(t),n,r.recoveryParam).encode("hex",!1)}function IO(t,e){let r=rt(t);if(r.length===32){let n=new js(r);return e?"0x"+Fs().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?dt(r):"0x"+Fs().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Fs().keyFromPublic(r).getPublic(!0,"hex"):dt(r)}return OO.throwArgumentError("invalid public or private key","key","[REDACTED]")}x();x();var ite="transactions/5.7.0";var Ko=new it(ite),ate;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(ate||(ate={}));var RAe=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],kAe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function so(t){let e=IO(t);return yi(Uf(en(Uf(e,1)),12))}function kO(t,e){return so(P6(rt(t),e))}function ga(t,e){let r=Ds(tr.from(t).toHexString());return r.length>32&&Ko.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function RO(t,e){return{address:yi(t),storageKeys:(e||[]).map((r,n)=>(iy(r)!==32&&Ko.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function CAe(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Ko.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),RO(r[0],r[1])):RO(r.address,r.storageKeys));let e=Object.keys(t).map(r=>{let n=t[r].reduce((i,a)=>(i[a]=!0,i),{});return RO(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function ote(t){return CAe(t).map(e=>[e.address,e.storageKeys])}function BAe(t,e){if(t.gasPrice!=null){let n=tr.from(t.gasPrice),i=tr.from(t.maxFeePerGas||0);n.eq(i)||Ko.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}let r=[ga(t.chainId||0,"chainId"),ga(t.nonce||0,"nonce"),ga(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ga(t.maxFeePerGas||0,"maxFeePerGas"),ga(t.gasLimit||0,"gasLimit"),t.to!=null?yi(t.to):"0x",ga(t.value||0,"value"),t.data||"0x",ote(t.accessList||[])];if(e){let n=mc(e);r.push(ga(n.recoveryParam,"recoveryParam")),r.push(Ds(n.r)),r.push(Ds(n.s))}return yc(["0x02",oy(r)])}function PAe(t,e){let r=[ga(t.chainId||0,"chainId"),ga(t.nonce||0,"nonce"),ga(t.gasPrice||0,"gasPrice"),ga(t.gasLimit||0,"gasLimit"),t.to!=null?yi(t.to):"0x",ga(t.value||0,"value"),t.data||"0x",ote(t.accessList||[])];if(e){let n=mc(e);r.push(ga(n.recoveryParam,"recoveryParam")),r.push(Ds(n.r)),r.push(Ds(n.s))}return yc(["0x01",oy(r)])}function NAe(t,e){zee(t,kAe);let r=[];RAe.forEach(function(s){let f=t[s.name]||[],l={};s.numeric&&(l.hexPad="left"),f=rt(dt(f,l)),s.length&&f.length!==s.length&&f.length>0&&Ko.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,f),s.maxLength&&(f=Ds(f),f.length>s.maxLength&&Ko.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,f)),r.push(dt(f))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&Ko.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!ry(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(dt(n)),r.push("0x"),r.push("0x")),!e)return oy(r);let i=mc(e),a=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),a+=n*2+8,i.v>28&&i.v!==a&&Ko.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==a&&Ko.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(dt(a)),r.push(Ds(rt(i.r))),r.push(Ds(rt(i.s))),oy(r)}function CO(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Ko.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),NAe(t,e);switch(t.type){case 1:return PAe(t,e);case 2:return BAe(t,e);default:break}return Ko.throwError(`unsupported transaction type: ${t.type}`,it.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}x();x();x();var ste="abstract-provider/5.7.0";var LAe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function f(m){try{g(n.next(m))}catch(A){s(A)}}function l(m){try{g(n.throw(m))}catch(A){s(A)}}function g(m){m.done?a(m.value):i(m.value).then(f,l)}g((n=n.apply(t,e||[])).next())})},DAe=new it(ste);var cp=class{constructor(){DAe.checkAbstract(new.target,cp),bt(this,"_isProvider",!0)}getFeeData(){return LAe(this,void 0,void 0,function*(){let{block:e,gasPrice:r}=yield jf({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)}),n=null,i=null,a=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,a=tr.from("1500000000"),i=e.baseFeePerGas.mul(2).add(a)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:a,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}};x();x();var fte="abstract-signer/5.7.0";var Wo=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function f(m){try{g(n.next(m))}catch(A){s(A)}}function l(m){try{g(n.throw(m))}catch(A){s(A)}}function g(m){m.done?a(m.value):i(m.value).then(f,l)}g((n=n.apply(t,e||[])).next())})},Go=new it(fte),qAe=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],UAe=[it.errors.INSUFFICIENT_FUNDS,it.errors.NONCE_EXPIRED,it.errors.REPLACEMENT_UNDERPRICED],lp=class{constructor(){Go.checkAbstract(new.target,lp),bt(this,"_isSigner",!0)}getBalance(e){return Wo(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Wo(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Wo(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let r=yield jf(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Wo(this,void 0,void 0,function*(){this._checkProvider("call");let n=yield jf(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Wo(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Wo(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Wo(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Wo(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Wo(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let n in e)qAe.indexOf(n)===-1&&Go.throwArgumentError("invalid transaction key: "+n,"transaction",e);let r=uy(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Go.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Wo(this,void 0,void 0,function*(){let r=yield jf(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Wo(this,void 0,void 0,function*(){if(i==null)return null;let a=yield this.resolveName(i);return a==null&&Go.throwArgumentError("provided ENS name resolves to null","tx.to",i),a})),r.to.catch(i=>{}));let n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Go.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Go.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{let i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){let a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Go.throwError("network does not support EIP-1559",it.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Go.throwError("failed to get consistent fee data",it.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(UAe.indexOf(i.code)>=0)throw i;return Go.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",it.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Go.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield jf(r)})}_checkProvider(e){this.provider||Go.throwError("missing provider",it.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}};x();x();var N6=class{constructor(e){bt(this,"alphabet",e),bt(this,"base",e.length),bt(this,"_alphabetMap",{}),bt(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=rt(e);if(r.length===0)return"";let n=[0];for(let a=0;a<r.length;++a){let s=r[a];for(let f=0;f<n.length;++f)s+=n[f]<<8,n[f]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let a=0;r[a]===0&&a<r.length-1;++a)i+=this._leader;for(let a=n.length-1;a>=0;--a)i+=this.alphabet[n[a]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let a=i;for(let s=0;s<r.length;++s)a+=r[s]*this.base,r[s]=a&255,a>>=8;for(;a>0;)r.push(a&255),a>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return rt(new Uint8Array(r.reverse()))}},KXe=new N6("abcdefghijklmnopqrstuvwxyz234567"),BO=new N6("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");x();x();x();x();var cy=xt(Fd());x();var _c;(function(t){t.sha256="sha256",t.sha512="sha512"})(_c||(_c={}));x();var ute="sha2/5.7.0";var FAe=new it(ute);function PO(t){return"0x"+cy.default.ripemd160().update(rt(t)).digest("hex")}function Mh(t){return"0x"+cy.default.sha256().update(rt(t)).digest("hex")}function Th(t,e,r){return _c[t]||FAe.throwError("unsupported algorithm "+t,it.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+cy.default.hmac(cy.default[t],rt(e)).update(rt(r)).digest("hex")}function Oh(t,e,r,n,i){t=rt(t),e=rt(e);let a,s=1,f=new Uint8Array(n),l=new Uint8Array(e.length+4);l.set(e);let g,m;for(let A=1;A<=s;A++){l[e.length]=A>>24&255,l[e.length+1]=A>>16&255,l[e.length+2]=A>>8&255,l[e.length+3]=A&255;let I=rt(Th(i,t,l));a||(a=I.length,m=new Uint8Array(a),s=Math.ceil(n/a),g=n-(s-1)*a),m.set(I);for(let U=1;U<r;U++){I=rt(Th(i,t,I));for(let Z=0;Z<a;Z++)m[Z]^=I[Z]}let T=(A-1)*a,O=A===s?g:a;f.set(rt(m).slice(0,O),T)}return dt(f)}x();x();x();var cte="wordlists/5.7.0";var jAe=!1,zAe=new it(cte),Ec=class{constructor(e){zAe.checkAbstract(new.target,Ec),bt(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let r=[];for(let n=0;n<2048;n++){let i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return fp(r.join(`
`)+`
`)}static register(e,r){if(r||(r=e.locale),jAe)try{let n=window;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||bt(n._ethers.wordlists,r,e))}catch{}}};x();x();var KAe="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",ly=null;function lte(t){if(ly==null&&(ly=KAe.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Ec.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw ly=null,new Error("BIP39 Wordlist for en (English) FAILED")}var NO=class extends Ec{constructor(){super("en")}getWord(e){return lte(this),ly[e]}getWordIndex(e){return lte(this),ly.indexOf(e)}},LO=new NO;Ec.register(LO);var L6={en:LO};x();var hte="hdnode/5.7.0";var q6=new it(hte),WAe=tr.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),GAe=Ii("Bitcoin seed"),hy=2147483648;function pte(t){return(1<<t)-1<<8-t}function HAe(t){return(1<<t)-1}function D6(t){return vi(dt(t),32)}function dte(t){return BO.encode(da([t,Uf(Mh(Mh(t)),0,4)]))}function DO(t){if(t==null)return L6.en;if(typeof t=="string"){let e=L6[t];return e==null&&q6.throwArgumentError("unknown locale","wordlist",t),e}return t}var hp={},Ih="m/44'/60'/0'/0/0",bi=class{constructor(e,r,n,i,a,s,f,l){if(e!==hp)throw new Error("HDNode constructor cannot be called directly");if(r){let g=new js(r);bt(this,"privateKey",g.privateKey),bt(this,"publicKey",g.compressedPublicKey)}else bt(this,"privateKey",null),bt(this,"publicKey",dt(n));bt(this,"parentFingerprint",i),bt(this,"fingerprint",Uf(PO(Mh(this.publicKey)),0,4)),bt(this,"address",so(this.publicKey)),bt(this,"chainCode",a),bt(this,"index",s),bt(this,"depth",f),l==null?(bt(this,"mnemonic",null),bt(this,"path",null)):typeof l=="string"?(bt(this,"mnemonic",null),bt(this,"path",l)):(bt(this,"mnemonic",l),bt(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return dte(da([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",dt(this.depth),this.parentFingerprint,vi(dt(this.index),4),this.chainCode,this.privateKey!=null?da(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new bi(hp,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~hy));let n=new Uint8Array(37);if(e&hy){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(rt(this.privateKey),1),r&&(r+="'")}else n.set(rt(this.publicKey));for(let A=24;A>=0;A-=8)n[33+(A>>3)]=e>>24-A&255;let i=rt(Th(_c.sha512,this.chainCode,n)),a=i.slice(0,32),s=i.slice(32),f=null,l=null;this.privateKey?f=D6(tr.from(a).add(this.privateKey).mod(WAe)):l=new js(dt(a))._addPoint(this.publicKey);let g=r,m=this.mnemonic;return m&&(g=Object.freeze({phrase:m.phrase,path:r,locale:m.locale||"en"})),new bi(hp,f,l,this.fingerprint,D6(s),e,this.depth+1,g)}derivePath(e){let r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){let a=r[i];if(a.match(/^[0-9]+'$/)){let s=parseInt(a.substring(0,a.length-1));if(s>=hy)throw new Error("invalid path index - "+a);n=n._derive(hy+s)}else if(a.match(/^[0-9]+$/)){let s=parseInt(a);if(s>=hy)throw new Error("invalid path index - "+a);n=n._derive(s)}else throw new Error("invalid path component - "+a)}return n}static _fromSeed(e,r){let n=rt(e);if(n.length<16||n.length>64)throw new Error("invalid seed");let i=rt(Th(_c.sha512,GAe,n));return new bi(hp,D6(i.slice(0,32)),null,"0x00000000",D6(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=DO(n),e=dy(qO(e,n),n),bi._fromSeed($Ae(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return bi._fromSeed(e,null)}static fromExtendedKey(e){let r=BO.decode(e);(r.length!==82||dte(r.slice(0,78))!==e)&&q6.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let n=r[4],i=dt(r.slice(5,9)),a=parseInt(dt(r.slice(9,13)).substring(2),16),s=dt(r.slice(13,45)),f=r.slice(45,78);switch(dt(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new bi(hp,null,dt(f),i,s,a,n,null);case"0x0488ade4":case"0x04358394 ":if(f[0]!==0)break;return new bi(hp,dt(f.slice(1)),null,i,s,a,n,null)}return q6.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function $Ae(t,e){e||(e="");let r=Ii("mnemonic"+e,qs.NFKD);return Oh(Ii(t,qs.NFKD),r,2048,64,"sha512")}function qO(t,e){e=DO(e),q6.checkNormalize();let r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");let n=rt(new Uint8Array(Math.ceil(11*r.length/8))),i=0;for(let g=0;g<r.length;g++){let m=e.getWordIndex(r[g].normalize("NFKD"));if(m===-1)throw new Error("invalid mnemonic");for(let A=0;A<11;A++)m&1<<10-A&&(n[i>>3]|=1<<7-i%8),i++}let a=32*r.length/3,s=r.length/3,f=pte(s);if((rt(Mh(n.slice(0,a/8)))[0]&f)!==(n[n.length-1]&f))throw new Error("invalid checksum");return dt(n.slice(0,a/8))}function dy(t,e){if(e=DO(e),t=rt(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");let r=[0],n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&HAe(8-n)),n+=3);let i=t.length/4,a=rt(Mh(t))[0]&pte(i);return r[r.length-1]<<=i,r[r.length-1]|=a>>8-i,e.join(r.map(s=>e.getWord(s)))}x();x();x();var gte="random/5.7.0";var UO=new it(gte);function VAe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof D<"u")return D;throw new Error("unable to locate global object")}var vte=VAe(),U6=vte.crypto||vte.msCrypto;(!U6||!U6.getRandomValues)&&(UO.warn("WARNING: Missing strong random number source"),U6={getRandomValues:function(t){return UO.throwError("no secure random source avaialble",it.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Sc(t){(t<=0||t>1024||t%1||t!=t)&&UO.throwArgumentError("invalid length","length",t);let e=new Uint8Array(t);return U6.getRandomValues(e),rt(e)}x();x();var zO=xt(jO());x();var F6="json-wallets/5.7.0";x();function zf(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),rt(t)}function dp(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function py(t){return typeof t=="string"?Ii(t,qs.NFKC):rt(t)}function rn(t,e){let r=t,n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let a=null;for(let s in r)if(s.toLowerCase()===n[i]){a=r[s];break}if(a===null)return null;r=a}return r}function mte(t){let e=rt(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=dt(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var ZAe=new it(F6),KO=class extends Sh{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function WO(t,e){let r=JSON.parse(t);e=py(e);let n=yi(rn(r,"ethaddr")),i=zf(rn(r,"encseed"));(!i||i.length%16!==0)&&ZAe.throwArgumentError("invalid encseed","json",t);let a=rt(Oh(e,e,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),f=i.slice(16),l=new zO.default.ModeOfOperation.cbc(a,s),g=zO.default.padding.pkcs7.strip(rt(l.decrypt(f))),m="";for(let T=0;T<g.length;T++)m+=String.fromCharCode(g[T]);let A=Ii(m),I=en(A);return new KO({_isCrowdsaleAccount:!0,address:n,privateKey:I})}x();function GO(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function HO(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}x();var Kf=xt(jO()),j6=xt(wte());var JAe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function f(m){try{g(n.next(m))}catch(A){s(A)}}function l(m){try{g(n.throw(m))}catch(A){s(A)}}function g(m){m.done?a(m.value):i(m.value).then(f,l)}g((n=n.apply(t,e||[])).next())})},VO=new it(F6);function xte(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}var ZO=class extends Sh{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function YAe(t,e,r){if(rn(t,"crypto/cipher")==="aes-128-ctr"){let i=zf(rn(t,"crypto/cipherparams/iv")),a=new Kf.default.Counter(i),s=new Kf.default.ModeOfOperation.ctr(e,a);return rt(s.decrypt(r))}return null}function _te(t,e){let r=zf(rn(t,"crypto/ciphertext"));if(dt(en(da([e.slice(16,32),r]))).substring(2)!==rn(t,"crypto/mac").toLowerCase())throw new Error("invalid password");let i=YAe(t,e.slice(0,16),r);i||VO.throwError("unsupported cipher",it.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let a=e.slice(32,64),s=so(i);if(t.address){let l=t.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),yi(l)!==s)throw new Error("address mismatch")}let f={_isKeystoreAccount:!0,address:s,privateKey:dt(i)};if(rn(t,"x-ethers/version")==="0.1"){let l=zf(rn(t,"x-ethers/mnemonicCiphertext")),g=zf(rn(t,"x-ethers/mnemonicCounter")),m=new Kf.default.Counter(g),A=new Kf.default.ModeOfOperation.ctr(a,m),I=rn(t,"x-ethers/path")||Ih,T=rn(t,"x-ethers/locale")||"en",O=rt(A.decrypt(l));try{let U=dy(O,T),Z=bi.fromMnemonic(U,null,T).derivePath(I);if(Z.privateKey!=f.privateKey)throw new Error("mnemonic mismatch");f.mnemonic=Z.mnemonic}catch(U){if(U.code!==it.errors.INVALID_ARGUMENT||U.argument!=="wordlist")throw U}}return new ZO(f)}function Ete(t,e,r,n,i){return rt(Oh(t,e,r,n,i))}function XAe(t,e,r,n,i){return Promise.resolve(Ete(t,e,r,n,i))}function Ste(t,e,r,n,i){let a=py(e),s=rn(t,"crypto/kdf");if(s&&typeof s=="string"){let f=function(l,g){return VO.throwArgumentError("invalid key-derivation function parameters",l,g)};if(s.toLowerCase()==="scrypt"){let l=zf(rn(t,"crypto/kdfparams/salt")),g=parseInt(rn(t,"crypto/kdfparams/n")),m=parseInt(rn(t,"crypto/kdfparams/r")),A=parseInt(rn(t,"crypto/kdfparams/p"));(!g||!m||!A)&&f("kdf",s),(g&g-1)!==0&&f("N",g);let I=parseInt(rn(t,"crypto/kdfparams/dklen"));return I!==32&&f("dklen",I),n(a,l,g,m,A,64,i)}else if(s.toLowerCase()==="pbkdf2"){let l=zf(rn(t,"crypto/kdfparams/salt")),g=null,m=rn(t,"crypto/kdfparams/prf");m==="hmac-sha256"?g="sha256":m==="hmac-sha512"?g="sha512":f("prf",m);let A=parseInt(rn(t,"crypto/kdfparams/c")),I=parseInt(rn(t,"crypto/kdfparams/dklen"));return I!==32&&f("dklen",I),r(a,l,A,I,g)}}return VO.throwArgumentError("unsupported key-derivation function","kdf",s)}function Ate(t,e){let r=JSON.parse(t),n=Ste(r,e,Ete,j6.default.syncScrypt);return _te(r,n)}function Mte(t,e,r){return JAe(this,void 0,void 0,function*(){let n=JSON.parse(t),i=yield Ste(n,e,XAe,j6.default.scrypt,r);return _te(n,i)})}function JO(t,e,r,n){try{if(yi(t.address)!==so(t.privateKey))throw new Error("address/privateKey mismatch");if(xte(t)){let Z=t.mnemonic;if(bi.fromMnemonic(Z.phrase,null,Z.locale).derivePath(Z.path||Ih).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(Z){return Promise.reject(Z)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});let i=rt(t.privateKey),a=py(e),s=null,f=null,l=null;if(xte(t)){let Z=t.mnemonic;s=rt(qO(Z.phrase,Z.locale||"en")),f=Z.path||Ih,l=Z.locale||"en"}let g=r.client;g||(g="ethers.js");let m=null;r.salt?m=rt(r.salt):m=Sc(32);let A=null;if(r.iv){if(A=rt(r.iv),A.length!==16)throw new Error("invalid iv")}else A=Sc(16);let I=null;if(r.uuid){if(I=rt(r.uuid),I.length!==16)throw new Error("invalid uuid")}else I=Sc(16);let T=1<<17,O=8,U=1;return r.scrypt&&(r.scrypt.N&&(T=r.scrypt.N),r.scrypt.r&&(O=r.scrypt.r),r.scrypt.p&&(U=r.scrypt.p)),j6.default.scrypt(a,m,T,O,U,64,n).then(Z=>{Z=rt(Z);let Y=Z.slice(0,16),re=Z.slice(16,32),pe=Z.slice(32,64),he=new Kf.default.Counter(A),se=new Kf.default.ModeOfOperation.ctr(Y,he),fe=rt(se.encrypt(i)),de=en(da([re,fe])),G={address:t.address.substring(2).toLowerCase(),id:mte(I),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:dt(A).substring(2)},ciphertext:dt(fe).substring(2),kdf:"scrypt",kdfparams:{salt:dt(m).substring(2),n:T,dklen:32,p:U,r:O},mac:de.substring(2)}};if(s){let L=Sc(16),q=new Kf.default.Counter(L),S=new Kf.default.ModeOfOperation.ctr(pe,q),B=rt(S.encrypt(s)),y=new Date,o=y.getUTCFullYear()+"-"+dp(y.getUTCMonth()+1,2)+"-"+dp(y.getUTCDate(),2)+"T"+dp(y.getUTCHours(),2)+"-"+dp(y.getUTCMinutes(),2)+"-"+dp(y.getUTCSeconds(),2)+".0Z";G["x-ethers"]={client:g,gethFilename:"UTC--"+o+"--"+G.address,mnemonicCounter:dt(L).substring(2),mnemonicCiphertext:dt(B).substring(2),path:f,locale:l,version:"0.1"}}return JSON.stringify(G)})}function Tte(t,e,r){if(GO(t)){r&&r(0);let n=WO(t,e);return r&&r(1),Promise.resolve(n)}return HO(t)?Mte(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function Ote(t,e){if(GO(t))return WO(t,e);if(HO(t))return Ate(t,e);throw new Error("invalid JSON wallet")}x();var Ite="wallet/5.7.0";var Rte=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function f(m){try{g(n.next(m))}catch(A){s(A)}}function l(m){try{g(n.throw(m))}catch(A){s(A)}}function g(m){m.done?a(m.value):i(m.value).then(f,l)}g((n=n.apply(t,e||[])).next())})},pp=new it(Ite);function QAe(t){return t!=null&&Mn(t.privateKey,32)&&t.address!=null}function eMe(t){let e=t.mnemonic;return e&&e.phrase}var fo=class extends lp{constructor(e,r){if(super(),QAe(e)){let n=new js(e.privateKey);if(bt(this,"_signingKey",()=>n),bt(this,"address",so(this.publicKey)),this.address!==yi(e.address)&&pp.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),eMe(e)){let i=e.mnemonic;bt(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Ih,locale:i.locale||"en"}));let a=this.mnemonic,s=bi.fromMnemonic(a.phrase,null,a.locale).derivePath(a.path);so(s.privateKey)!==this.address&&pp.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else bt(this,"_mnemonic",()=>null)}else{if(js.isSigningKey(e))e.curve!=="secp256k1"&&pp.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),bt(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);let n=new js(e);bt(this,"_signingKey",()=>n)}bt(this,"_mnemonic",()=>null),bt(this,"address",so(this.publicKey))}r&&!cp.isProvider(r)&&pp.throwArgumentError("invalid provider","provider",r),bt(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new fo(this,e)}signTransaction(e){return jf(e).then(r=>{r.from!=null&&(yi(r.from)!==this.address&&pp.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);let n=this._signingKey().signDigest(en(CO(r)));return CO(r,n)})}signMessage(e){return Rte(this,void 0,void 0,function*(){return dO(this._signingKey().signDigest(bc(e)))})}_signTypedData(e,r,n){return Rte(this,void 0,void 0,function*(){let i=yield zn.resolveNames(e,r,n,a=>(this.provider==null&&pp.throwError("cannot resolve ENS names without a provider",it.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:a}),this.provider.resolveName(a)));return dO(this._signingKey().signDigest(zn.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),JO(this,e,r,n)}static createRandom(e){let r=Sc(16);e||(e={}),e.extraEntropy&&(r=rt(Uf(en(da([r,e.extraEntropy])),0,16)));let n=dy(r,e.locale);return fo.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return Tte(e,r,n).then(i=>new fo(i))}static fromEncryptedJsonSync(e,r){return new fo(Ote(e,r))}static fromMnemonic(e,r,n){return r||(r=Ih),new fo(bi.fromMnemonic(e,null,n).derivePath(r))}};function kte(t,e){return kO(bc(t),e)}function z6(t,e,r,n){return kO(zn.hash(t,e,r),n)}var K6=class{signer;publicKey;ownerLength=Rt[_t.ETHEREUM].pubLength;signatureLength=Rt[_t.ETHEREUM].sigLength;signatureType=_t.ETHEREUM;constructor(e){this.signer=e.getSigner()}async setPublicKey(){let e="sign this message to connect to Bundlr.Network",r=await this.signer.signMessage(e),n=await bc(e),i=P6(rt(n),r);this.publicKey=N.Buffer.from(rt(i))}async sign(e){this.publicKey||await this.setPublicKey();let r=await this.signer.signMessage(e);return N.Buffer.from(r.slice(2),"hex")}static verify(e,r,n){let i=so(e);return kte(r,n)===i}};x();var gp=xt(Nte(),1),Wf=class extends ha{get publicKey(){return gp.default.decode(this.pk)}get key(){return gp.default.decode(this._key)}constructor(e){let r=gp.default.decode(e);super(gp.default.encode(r.subarray(0,32)),gp.default.encode(r.subarray(32,64)))}};x();x();x();var cre=xt(sa(),1),eI=xt(YO(),1);x();var rre=xt(Yr(),1),Gf=xt(Sr(),1),nre=xt(tre(),1);function XO(t){return t=ire(t),(0,nre.default)("keccak256").update(t).digest()}function ire(t){if(!Gf.Buffer.isBuffer(t))if(Array.isArray(t))t=Gf.Buffer.from(t);else if(typeof t=="string")are(t)?t=Gf.Buffer.from(QO(ore(t)),"hex"):t=Gf.Buffer.from(t);else if(typeof t=="number")t=fre(t);else if(t==null)t=Gf.Buffer.allocUnsafe(0);else if(rre.default.isBN(t))t=t.toArrayLike(Gf.Buffer);else if(t.toArray)t=Gf.Buffer.from(t.toArray());else throw new Error("invalid type");return t}function are(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function QO(t){if(typeof t!="string")throw new Error(`while padding to even, value must be string, is currently ${typeof t}, while padToEven.`);return t.length%2&&(t=`0${t}`),t}function ore(t){return typeof t!="string"?t:sre(t)?t.slice(2):t}function sre(t){if(typeof t!="string")throw new Error("value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return t.startsWith("0x")}function fre(t){let e=ure(t);return Gf.Buffer.from(QO(e.slice(2)),"hex")}function ure(t){return`0x${t.toString(16)}`}typeof window<"u"&&(window.keccak256=XO);var gy=XO,lMe={intToBuffer:fre,intToHex:ure,isHexPrefixed:sre,stripHexPrefix:ore,padToEven:QO,isHexString:are,toBuffer:ire};var Ch=class{_key;ownerLength=Rt[_t.ETHEREUM].pubLength;signatureLength=Rt[_t.ETHEREUM].sigLength;signatureType=_t.ETHEREUM;pk;constructor(e,r){this._key=e,this.pk=r.toString("hex")}get publicKey(){throw new Error("You must implement `publicKey`")}get key(){return N.Buffer.from(this._key,"hex")}static async verify(e,r,n){let i=e;typeof e=="string"&&(i=cre.default.toBuffer(e));let a=!1;try{a=eI.default.ecdsaVerify(n,gy(N.Buffer.from(r)),i)}catch{}return a}async sign(e){return eI.default.ecdsaSign(gy(N.Buffer.from(e)),N.Buffer.from(this.key)).signature}};var tI=xt(YO(),1),lre=xt(sa(),1);var $o=class extends Ch{get publicKey(){return N.Buffer.from(this.pk,"hex")}constructor(e){e.startsWith("0x")&&(e=e.slice(2));let r=N.Buffer.from(e,"hex"),n=tI.default.publicKeyCreate(r,!1);super(e,N.Buffer.from(n))}async sign(e){return new fo(this._key).signMessage(e).then(n=>N.Buffer.from(n.slice(2),"hex"))}static async verify(e,r,n){return tI.default.ecdsaVerify(n.length===65?n.slice(0,-1):n,rt(bc(r)),typeof e=="string"?lre.default.toBuffer(e):e)}};var vy=class extends $o{};x();var yy=class extends Wf{constructor(e){super(e.replace("ed25519:",""))}};x();var my=class extends ha{get publicKey(){return N.Buffer.from(this.pk)}get key(){return N.Buffer.from(this._key)}constructor(e,r){super(e.subarray(0,32),r)}};x();var Bh=class extends _h{signatureType=4;constructor(e){super(e)}async sign(e){return super.sign(N.Buffer.from(N.Buffer.from(e).toString("hex")))}static async verify(e,r,n){return super.verify(e,N.Buffer.from(N.Buffer.from(r).toString("hex")),n)}};x();var by=class extends Wf{signatureType=4;constructor(e){super(e)}async sign(e){return super.sign(N.Buffer.from(N.Buffer.from(e).toString("hex")))}static async verify(e,r,n){return super.verify(e,N.Buffer.from(N.Buffer.from(r).toString("hex")),n)}};x();var wy=class extends ha{constructor(e,r){super(e,r)}get publicKey(){return N.Buffer.from(this.pk.slice(2),"hex")}get key(){return N.Buffer.from(this._key.slice(2),"hex")}};x();var Ph=class{_publicKey;ownerLength=Rt[_t.INJECTEDAPTOS].pubLength;signatureLength=Rt[_t.INJECTEDAPTOS].sigLength;signatureType=_t.INJECTEDAPTOS;pem;provider;constructor(e,r){this.provider=e,this._publicKey=r}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");let r=await this.provider.signMessage({message:N.Buffer.from(e).toString("hex"),nonce:"bundlr"});return N.Buffer.from(r.signature,"hex")}static async verify(e,r,n){let i=e;return fc(N.Buffer.from(n),N.Buffer.from(`APTOS
message: ${N.Buffer.from(r).toString("hex")}
nonce: bundlr`),N.Buffer.from(i))}};x();var Nh=class{_publicKey;ownerLength=Rt[_t.MULTIAPTOS].pubLength;signatureLength=Rt[_t.MULTIAPTOS].sigLength;signatureType=_t.MULTIAPTOS;collectSignatures;provider;constructor(e,r){this._publicKey=e,this.collectSignatures=r}get publicKey(){return this._publicKey}async sign(e){let{signatures:r,bitmap:n}=await this.collectSignatures(e),i=128,a=new Uint8Array([0,0,0,0]),s=new Set;n.forEach(g=>{if(g>=32)throw new Error(`Invalid bit value ${g}.`);if(s.has(g))throw new Error("Duplicated bits detected.");s.add(g);let m=Math.floor(g/8),A=a[m];A|=i>>g%8,a[m]=A});let f=N.Buffer.alloc(this.signatureLength),l=0;for(let g=0;g<32;g++)a.includes(g)&&f.set(r[l++],g*64);return f.set(a,this.signatureLength-4),f}static async verify(e,r,n){let a=Rt[_t.MULTIAPTOS].sigLength-4,s=n.slice(0,a),f=n.slice(a),l=!1;for(let g=0;g<32;g++){let m=Math.floor(g/8),A=g-m*8;if((f[m]&128>>A)!==0){let T=s.slice(g*64,(g+1)*64),O=e.slice(g*32,(g+1)*32);await fc(N.Buffer.from(T),N.Buffer.from(r),N.Buffer.from(O))||(l=!0)}}return!l}};x();var Lh=class extends $o{ownerLength=Rt[_t.TYPEDETHEREUM].pubLength;signatureLength=Rt[_t.TYPEDETHEREUM].sigLength;signatureType=_t.TYPEDETHEREUM;address;signer;constructor(e){super(e),this.address="0x"+gy(super.publicKey.slice(1)).slice(-20).toString("hex"),this.signer=new fo(e)}get publicKey(){return N.Buffer.from(this.address)}async sign(e){let r=await this.signer._signTypedData(xy,_y,{address:this.address,"Transaction hash":e});return N.Buffer.from(r.slice(2),"hex")}static async verify(e,r,n){let i=e.toString(),a=z6(xy,_y,{address:i,"Transaction hash":r},n);return i.toLowerCase()===a.toLowerCase()}},xy={name:"Bundlr",version:"1"},_y={Bundlr:[{name:"Transaction hash",type:"bytes"},{name:"address",type:"address"}]};x();var rI=class{ownerLength=Rt[_t.TYPEDETHEREUM].pubLength;signatureLength=Rt[_t.TYPEDETHEREUM].sigLength;signatureType=_t.TYPEDETHEREUM;address;signer;publicKey;constructor(e){this.signer=e.getSigner()}async ready(){this.address=(await this.signer.getAddress()).toString().toLowerCase(),this.publicKey=N.Buffer.from(this.address)}async sign(e){let r=await this.signer._signTypedData(xy,_y,{address:this.address,"Transaction hash":e});return N.Buffer.from(r.slice(2),"hex")}static verify(e,r,n){let i=e.toString(),a=z6(xy,_y,{address:i,"Transaction hash":r},n);return i.toLowerCase()===a.toLowerCase()}};x();var hre=xt(sa(),1);var Ey=class{signer;publicKey;ownerLength=Rt[_t.ARWEAVE].pubLength;signatureLength=Rt[_t.ARWEAVE].sigLength;signatureType=_t.ARWEAVE;arweave;constructor(e,r){this.signer=e,this.arweave=r}async setPublicKey(){let e=await this.signer.getActivePublicKey();this.publicKey=hre.default.toBuffer(e)}async sign(e){this.publicKey||await this.setPublicKey();let r={name:"RSA-PSS",saltLength:32},n=await this.signer.signature(e,r);return new Uint8Array(Object.values(n).map(a=>+a))}static async verify(e,r,n){return await gn().verify(e,r,n)}};var Sy={1:vc,2:ha,3:$o,4:Bh,5:Ph,6:Nh,7:Lh};x();x();async function hMe(t){return cc([Ct("dataitem"),Ct("1"),Ct(t.signatureType.toString()),t.rawOwner,t.rawTarget,t.rawAnchor,t.rawTags,t.rawData])}var Ay=hMe;x();x();function My(t,e){let r=new Uint8Array(t);if(e<0)throw new Error("Array is unsigned, cannot represent -ve numbers");if(e>2**(t*8)-1)throw new Error(`Number ${e} is too large for an array of ${t} bytes`);for(let n=0;n<r.length;n++){let i=e&255;r[n]=i,e=(e-i)/256}return r}function H6(t){return My(8,t)}function nI(t){return My(2,t)}function dMe(t){return My(16,t)}function $6(t){return My(32,t)}function ln(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r];return e}x();var Oy=xt(sa(),1);x();var Vo=xt(sa(),1),bp=xt(Sr(),1);x();var Ty=class{buf;pos;constructor(e=N.Buffer.alloc(V6),r=0){this.buf=e,this.pos=r}writeTags(e){if(!Array.isArray(e))throw new Error("input must be array");let r=e.length,n;if(r)for(this.writeLong(r),n=0;n<r;n++){let i=e[n];if(typeof i?.name!="string"||typeof i?.value!="string")throw new Error(`Invalid tag format for ${i}, expected {name:string, value: string}`);this.writeString(i.name),this.writeString(i.value)}this.writeLong(0)}toBuffer(){let e=N.Buffer.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(e,0,0,this.pos),e}writeLong(e){let r=this.buf,n,i;if(e>=-1073741824&&e<1073741824){i=e>=0?e<<1:~e<<1|1;do r[this.pos]=i&127,i>>=7;while(i&&(r[this.pos++]|=128))}else{n=e>=0?e*2:-e*2-1;do r[this.pos]=n&127,n/=128;while(n>=1&&(r[this.pos++]|=128))}this.pos++,this.buf=r}writeString(e){let r=N.Buffer.byteLength(e),n=this.buf;this.writeLong(r);let i=this.pos;if(this.pos+=r,!(this.pos>n.length)){if(r>64)this.buf.write(e,this.pos-r,r,"utf8");else{let a,s,f,l;for(a=0,s=r;a<s;a++)f=e.charCodeAt(a),f<128?n[i++]=f:f<2048?(n[i++]=f>>6|192,n[i++]=f&63|128):(f&64512)===55296&&((l=e.charCodeAt(a+1))&64512)===56320?(f=65536+((f&1023)<<10)+(l&1023),a++,n[i++]=f>>18|240,n[i++]=f>>12&63|128,n[i++]=f>>6&63|128,n[i++]=f&63|128):(n[i++]=f>>12|224,n[i++]=f>>6&63|128,n[i++]=f&63|128)}this.buf=n}}readLong(){let e=0,r=0,n=this.buf,i,a,s,f;do i=n[this.pos++],a=i&128,e|=(i&127)<<r,r+=7;while(a&&r<28);if(a){s=e,f=268435456;do i=n[this.pos++],s+=(i&127)*f,f*=128;while(i&128);return(s%2?-(s+1):s)/2}return e>>1^-(e&1)}skipLong(){let e=this.buf;for(;e[this.pos++]&128;);}readTags(){let e=[],r;for(;r=this.readLong();)for(r<0&&(r=-r,this.skipLong());r--;){let n=this.readString(),i=this.readString();e.push({name:n,value:i})}return e}readString(){let e=this.readLong(),r=this.pos,n=this.buf;if(this.pos+=e,this.pos>n.length)throw new Error("TAP Position out of range");return this.buf.slice(r,r+e).toString()}};function iI(t){if(t?.length===0)return N.Buffer.allocUnsafe(0);let e=new Ty;return e.writeTags(t),e.toBuffer()}function mp(t){return new Ty(t).readTags()}var dre=xt(Xu(),1),Z6=80,V6=4096,Hf=class{binary;_id;constructor(e){this.binary=e}static isDataItem(e){return e.binary!==void 0}get signatureType(){let e=ln(this.binary.subarray(0,2));if(_t?.[e]!==void 0)return e;throw new Error("Unknown signature type: "+e)}async isValid(){return Hf.verify(this.binary)}get id(){return Vo.default.encode(this.rawId)}set id(e){this._id=Vo.default.toBuffer(e)}get rawId(){return(0,dre.createHash)("sha256").update(this.rawSignature).digest()}set rawId(e){this._id=e}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return Vo.default.encode(this.rawSignature)}set rawOwner(e){if(e.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${e.byteLength} bytes.`);this.binary.set(e,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return Rt[this.signatureType].sigLength}get owner(){return Vo.default.encode(this.rawOwner)}get ownerLength(){return Rt[this.signatureType].pubLength}get rawTarget(){let e=this.getTargetStart();return this.binary[e]==1?this.binary.subarray(e+1,e+33):bp.Buffer.alloc(0)}get target(){return Vo.default.encode(this.rawTarget)}get rawAnchor(){let e=this.getAnchorStart();return this.binary[e]==1?this.binary.subarray(e+1,e+33):bp.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){let e=this.getTagsStart(),r=ln(this.binary.subarray(e+8,e+16));return this.binary.subarray(e+16,e+16+r)}get tags(){let e=this.getTagsStart();if(ln(this.binary.subarray(e,e+8))==0)return[];let n=ln(this.binary.subarray(e+8,e+16));return mp(bp.Buffer.from(this.binary.subarray(e+16,e+16+n)))}get tagsB64Url(){return this.tags.map(r=>({name:Vo.default.encode(r.name),value:Vo.default.encode(r.value)}))}getStartOfData(){let e=this.getTagsStart(),r=this.binary.subarray(e+8,e+16),n=ln(r);return e+16+n}get rawData(){let e=this.getTagsStart(),r=this.binary.subarray(e+8,e+16),n=ln(r),i=e+16+n;return this.binary.subarray(i,this.binary.length)}get data(){return Vo.default.encode(this.rawData)}getRaw(){return this.binary}async sign(e){return this._id=await J6(this,e),this.rawId}async setSignature(e){this.binary.set(e,2),this._id=bp.Buffer.from(await gn().hash(e))}isSigned(){return(this._id?.length??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map(e=>({name:Vo.default.encode(e.name),value:Vo.default.encode(e.value)})),data:this.data}}static async verify(e){if(e.byteLength<Z6)return!1;let r=new Hf(e),n=r.signatureType,i=r.getTagsStart(),a=ln(e.subarray(i,i+8)),s=e.subarray(i+8,i+16),f=ln(s);if(f>V6)return!1;if(a>0)try{if(mp(bp.Buffer.from(e.subarray(i+16,i+16+f))).length!==a)return!1}catch{return!1}let l=Sy[n],g=await Ay(r);return await l.verify(r.rawOwner,g,r.rawSignature)}async getSignatureData(){return Ay(this)}getTagsStart(){let e=this.getTargetStart(),r=this.binary[e]==1,n=e+(r?33:1),i=this.binary[n]==1;return n+=i?33:1,n}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let e=this.getTargetStart()+1,r=this.binary[this.getTargetStart()]==1;return e+=r?32:0,e}},wp=Hf;var pre=xt(Xu(),1),Ks=32,Y6=class{length;items;binary;constructor(e){this.binary=e,this.length=this.getDataItemCount(),this.items=this.getItems()}getRaw(){return this.binary}get(e){if(typeof e=="number"){if(e>=this.length)throw new RangeError("Index out of range");return this.getByIndex(e)}else return this.getById(e)}getSizes(){let e=[];for(let r=Ks;r<Ks+64*this.length;r+=64)e.push(ln(this.binary.subarray(r,r+32)));return e}getIds(){let e=[];for(let r=Ks;r<Ks+64*this.length;r+=64){let n=this.binary.subarray(r+32,r+64);if(n.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");e.push(Oy.default.encode(n))}return e}getIdBy(e){if(e>this.length-1)throw new RangeError("Index of bundle out of range");let r=64+64*e;return Oy.default.encode(this.binary.subarray(r,r+32))}async toTransaction(e,r,n){let i=await r.createTransaction({data:this.binary,...e},n);return i.addTag("Bundle-Format","binary"),i.addTag("Bundle-Version","2.0.0"),i}async verify(){for(let e of this.items){let r=await e.isValid(),n=(0,Oy.default)((0,pre.createHash)("sha256").update(e.rawSignature).digest());if(!(r&&e.id===n))return!1}return!0}getOffset(e){let r=0;for(let n=Ks;n<Ks+64*this.length;n+=64){let i=ln(this.binary.subarray(n,n+32));r+=i;let a=this.binary.subarray(n+32,n+64);if(N.Buffer.compare(a,e)===0)return{startOffset:r,size:i}}return{startOffset:-1,size:-1}}getByIndex(e){let r=0,n=this.getBundleStart(),i=0,a,s;for(let m=Ks;m<Ks+64*this.length;m+=64){if(a=ln(this.binary.subarray(m,m+32)),i++===e){s=this.binary.subarray(m+32,m+64);break}r+=a}let f=n+r,l=this.binary.subarray(f,f+a),g=new wp(l);return g.rawId=s,g}getById(e){let r=Oy.default.toBuffer(e),n=this.getOffset(r);if(n.startOffset===-1)throw new Error("Transaction not found");let a=this.getBundleStart()+n.startOffset;return new wp(this.binary.subarray(a,a+n.size))}getDataItemCount(){return ln(this.binary.subarray(0,32))}getBundleStart(){return 32+64*this.length}getItems(){let e=new Array(this.length),r=0,n=this.getBundleStart(),i=0;for(let a=Ks;a<Ks+64*this.length;a+=64){let s=ln(this.binary.subarray(a,a+32)),f=this.binary.subarray(a+32,a+64);if(f.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");let l=n+r,g=this.binary.subarray(l,l+s);r+=s;let m=new wp(g);m.rawId=f,e[i]=m,i++}return e}},aI=Y6;function pMe(t){return new aI(t)}async function gMe(t,e){let r=new Uint8Array(64*t.length),n=await Promise.all(t.map(async(a,s)=>{let f=a.isSigned()?a.rawId:await J6(a,e),l=new Uint8Array(64);return l.set($6(a.getRaw().byteLength),0),l.set(f,32),r.set(l,64*s),a.getRaw()})).then(a=>N.Buffer.concat(a)),i=N.Buffer.concat([N.Buffer.from($6(t.length)),N.Buffer.from(r),n]);return new aI(i)}async function gre(t,e){let r=await Ay(t),n=await e.sign(r),i=await gn().hash(n);return{signature:N.Buffer.from(n),id:N.Buffer.from(i)}}async function J6(t,e){let{signature:r,id:n}=await gre(t,e);return t.getRaw().set(r,2),n}x();var vre=xt(sa(),1);function oI(t,e,r){let n=e.publicKey,i=r?.target?vre.default.toBuffer(r.target):null,a=1+(i?.byteLength??0),s=r?.anchor?N.Buffer.from(r.anchor):null,f=1+(s?.byteLength??0),l=(r?.tags?.length??0)>0?iI(r?.tags):null,g=16+(l?l.byteLength:0),m=typeof t=="string"?N.Buffer.from(t):N.Buffer.from(t),A=m.byteLength,I=2+e.signatureLength+e.ownerLength+a+f+g+A,T=N.Buffer.alloc(I);if(T.set(nI(e.signatureType),0),T.set(new Uint8Array(e.signatureLength).fill(0),2),n.byteLength!==e.ownerLength)throw new Error(`Owner must be ${e.ownerLength} bytes, but was incorrectly ${n.byteLength}`);T.set(n,2+e.signatureLength);let O=2+e.signatureLength+e.ownerLength;if(T[O]=i?1:0,i){if(i.byteLength!==32)throw new Error(`Target must be 32 bytes but was incorrectly ${i.byteLength}`);T.set(i,O+1)}let U=O+a,Z=U+1;if(T[U]=s?1:0,s){if(Z+=s.byteLength,s.byteLength!==32)throw new Error("Anchor must be 32 bytes");T.set(s,U+1)}T.set(H6(r?.tags?.length??0),Z);let Y=H6(l?.byteLength??0);T.set(Y,Z+8),l&&T.set(l,Z+16);let re=Z+g;return T.set(m,re),new wp(T)}x();x();var sI=class{signatureType;rawSignature;signature;signatureLength;rawOwner;owner;ownerLength;rawTarget;target;rawAnchor;anchor;rawTags;tags;rawData;data;static async verify(...e){throw new Error("You must implement `verify`")}};x();x();var uI={};Ip(uI,{default:()=>yMe,processStream:()=>mre,streamExportForTesting:()=>mMe,streamSigner:()=>vMe});x();var X6=xt(ps(),1);var Dh=xt(sa(),1);var yre=xt(Xu(),1);async function mre(t){let e=bre(t),r=(await e.next()).value;r=await Ri(e,r,32);let n=ln(r.subarray(0,32));r=r.subarray(32);let i=64*n;r=await Ri(e,r,i);let a=new Array(n);for(let l=0;l<i;l+=64)a[l/64]=[ln(r.subarray(l,l+32)),(0,Dh.default)(N.Buffer.from(r.subarray(l+32,l+64)))];r=r.subarray(i);let s=32+i,f=[];for(let[l,g]of a){r=await Ri(e,r,Z6),r=await Ri(e,r,2);let m=ln(r.subarray(0,2));r=r.subarray(2);let{sigLength:A,pubLength:I,sigName:T}=Rt[m];r=await Ri(e,r,A);let O=r.subarray(0,A);r=r.subarray(A),r=await Ri(e,r,I);let U=r.subarray(0,I);r=r.subarray(I),r=await Ri(e,r,1);let Z=r[0]===1;Z&&(r=await Ri(e,r,33));let Y=Z?r.subarray(1,33):N.Buffer.allocUnsafe(0);r=r.subarray(Z?33:1),r=await Ri(e,r,1);let re=r[0]===1;re&&(r=await Ri(e,r,33));let pe=re?r.subarray(1,33):N.Buffer.allocUnsafe(0);r=r.subarray(re?33:1),r=await Ri(e,r,8);let he=ln(r.subarray(0,8));r=r.subarray(8),r=await Ri(e,r,8);let se=ln(r.subarray(0,8));r=r.subarray(8),r=await Ri(e,r,se);let fe=r.subarray(0,se),de=he!==0&&se!==0?mp(N.Buffer.from(fe)):[];if(de.length!==he)throw new Error("Tags lengths don't match");r=r.subarray(se);let G=new X6.Transform;G._transform=function(y,o,u){this.push(y),u()};let L=cc([Ct("dataitem"),Ct("1"),Ct(m.toString()),U,Y,pe,fe,G]),q=2+A+I+(Z?33:1)+(re?33:1)+16+se,S=l-q;if(r.byteLength>S)G.write(r.subarray(0,S)),r=r.subarray(S);else{let y=r.byteLength;for(G.write(r);S>y;){if(r=(await e.next()).value,!r)throw new Error(`Not enough data bytes  expected: ${S} received: ${y}`);y+=r.byteLength,y>S?G.write(r.subarray(0,r.byteLength-(y-S))):G.write(r)}r=r.subarray(r.byteLength-(y-S))}if(G.end(),g!==(0,Dh.default)((0,yre.createHash)("sha256").update(O).digest()))throw new Error("ID doesn't match signature");if(!await Sy[m].verify(U,await L,O))throw new Error("Invalid signature");f.push({id:g,sigName:T,signature:(0,Dh.default)(N.Buffer.from(O)),target:(0,Dh.default)(N.Buffer.from(Y)),anchor:(0,Dh.default)(N.Buffer.from(pe)),owner:(0,Dh.default)(N.Buffer.from(U)),tags:de,dataOffset:s+q,dataSize:S}),s+=q+S}return f}async function vMe(t,e,r,n){let i=oI("",r,n),a=new X6.PassThrough,s=[Ct("dataitem"),Ct("1"),Ct(i.signatureType.toString()),i.rawOwner,i.rawTarget,i.rawAnchor,i.rawTags,t],f=await cc(s),l=N.Buffer.from(await r.sign(f));return i.setSignature(l),a.write(i.getRaw()),e.pipe(a)}async function Ri(t,e,r){if(e.byteLength>=r)return e;let{done:n,value:i}=await t.next();if(n&&!i)throw new Error("Invalid buffer");return Ri(t,N.Buffer.concat([N.Buffer.from(e),N.Buffer.from(i)]),r)}async function*bre(t){for await(let e of t)yield e}var yMe=mre,mMe={readBytes:Ri,getReader:bre};var wre={...fI,stream:uI};globalThis.arbundles??=wre;var bMe=wre;var ane=xt(nne()),one=xt(sa());var ine=class{signer;publicKey;ownerLength=Rt[_t.ARWEAVE].pubLength;signatureLength=Rt[_t.ARWEAVE].sigLength;signatureType=_t.ARWEAVE;constructor(e){this.signer=e}async setPublicKey(){let e;this.signer.getPublicKey?e=await this.signer.getPublicKey():e=await this.signer.getActivePublicKey(),this.publicKey=one.default.toBuffer(e)}async sign(e){this.publicKey||await this.setPublicKey();let r={name:"RSA-PSS",saltLength:0},n=await this.signer.signature(e,r);return new Uint8Array(Object.values(n))}async signDataItem(e,r){return this.publicKey||await this.setPublicKey(),new Hf(N.Buffer.from(await this.signer.signDataItem({data:e,tags:r})))}static async verify(e,r,n){return await ane.default.crypto.verify(e,r,n)}};x();x();x();export{vc as ArweaveSigner,F2 as CreateContractImpl,p$ as DeployPlugin,bMe as EthereumSigner,ine as InjectedArweaveSigner,K6 as InjectedEthereumSigner,U2 as SourceImpl,nE as isDataItem,gu as isSigner};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/
/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
/**
 * Archiver Vending
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
/**
 * JSON Format Plugin
 *
 * @module plugins/json
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
/**
 * TAR Format Plugin
 *
 * @module plugins/tar
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
/**
 * ZIP Format Plugin
 *
 * @module plugins/zip
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
/**
 * ZipStream
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-zip-stream/blob/master/LICENSE}
 * @copyright (c) 2014 Chris Talkington, contributors.
 */
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */
